{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/standalone/browser/standaloneThemeService.ts"],"names":[],"mappings":"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","file":"standaloneThemeService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { addMatchMediaChangeListener } from 'vs/base/browser/browser';\nimport { Color } from 'vs/base/common/color';\nimport { Emitter } from 'vs/base/common/event';\nimport { TokenizationRegistry } from 'vs/editor/common/languages';\nimport { FontStyle, TokenMetadata } from 'vs/editor/common/encodedTokenAttributes';\nimport { ITokenThemeRule, TokenTheme, generateTokensCSSForColorMap } from 'vs/editor/common/languages/supports/tokenization';\nimport { BuiltinTheme, IStandaloneTheme, IStandaloneThemeData, IStandaloneThemeService } from 'vs/editor/standalone/common/standaloneTheme';\nimport { hc_black, hc_light, vs, vs_dark } from 'vs/editor/standalone/common/themes';\nimport { IEnvironmentService } from 'vs/platform/environment/common/environment';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { asCssVariableName, ColorIdentifier, Extensions, IColorRegistry } from 'vs/platform/theme/common/colorRegistry';\nimport { Extensions as ThemingExtensions, ICssStyleCollector, IFileIconTheme, IProductIconTheme, IThemingRegistry, ITokenStyle } from 'vs/platform/theme/common/themeService';\nimport { IDisposable, Disposable } from 'vs/base/common/lifecycle';\nimport { ColorScheme, isDark, isHighContrast } from 'vs/platform/theme/common/theme';\nimport { getIconsStyleSheet, UnthemedProductIconTheme } from 'vs/platform/theme/browser/iconsStyleSheet';\n\nexport const VS_LIGHT_THEME_NAME = 'vs';\nexport const VS_DARK_THEME_NAME = 'vs-dark';\nexport const HC_BLACK_THEME_NAME = 'hc-black';\nexport const HC_LIGHT_THEME_NAME = 'hc-light';\n\nconst colorRegistry = Registry.as<IColorRegistry>(Extensions.ColorContribution);\nconst themingRegistry = Registry.as<IThemingRegistry>(ThemingExtensions.ThemingContribution);\n\nclass StandaloneTheme implements IStandaloneTheme {\n\n\tpublic readonly id: string;\n\tpublic readonly themeName: string;\n\n\tprivate readonly themeData: IStandaloneThemeData;\n\tprivate colors: Map<string, Color> | null;\n\tprivate readonly defaultColors: { [colorId: string]: Color | undefined };\n\tprivate _tokenTheme: TokenTheme | null;\n\n\tconstructor(name: string, standaloneThemeData: IStandaloneThemeData) {\n\t\tthis.themeData = standaloneThemeData;\n\t\tconst base = standaloneThemeData.base;\n\t\tif (name.length > 0) {\n\t\t\tif (isBuiltinTheme(name)) {\n\t\t\t\tthis.id = name;\n\t\t\t} else {\n\t\t\t\tthis.id = base + ' ' + name;\n\t\t\t}\n\t\t\tthis.themeName = name;\n\t\t} else {\n\t\t\tthis.id = base;\n\t\t\tthis.themeName = base;\n\t\t}\n\t\tthis.colors = null;\n\t\tthis.defaultColors = Object.create(null);\n\t\tthis._tokenTheme = null;\n\t}\n\n\tpublic get label(): string {\n\t\treturn this.themeName;\n\t}\n\n\tpublic get base(): string {\n\t\treturn this.themeData.base;\n\t}\n\n\tpublic notifyBaseUpdated() {\n\t\tif (this.themeData.inherit) {\n\t\t\tthis.colors = null;\n\t\t\tthis._tokenTheme = null;\n\t\t}\n\t}\n\n\tprivate getColors(): Map<string, Color> {\n\t\tif (!this.colors) {\n\t\t\tconst colors = new Map<string, Color>();\n\t\t\tfor (const id in this.themeData.colors) {\n\t\t\t\tcolors.set(id, Color.fromHex(this.themeData.colors[id]));\n\t\t\t}\n\t\t\tif (this.themeData.inherit) {\n\t\t\t\tconst baseData = getBuiltinRules(this.themeData.base);\n\t\t\t\tfor (const id in baseData.colors) {\n\t\t\t\t\tif (!colors.has(id)) {\n\t\t\t\t\t\tcolors.set(id, Color.fromHex(baseData.colors[id]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.colors = colors;\n\t\t}\n\t\treturn this.colors;\n\t}\n\n\tpublic getColor(colorId: ColorIdentifier, useDefault?: boolean): Color | undefined {\n\t\tconst color = this.getColors().get(colorId);\n\t\tif (color) {\n\t\t\treturn color;\n\t\t}\n\t\tif (useDefault !== false) {\n\t\t\treturn this.getDefault(colorId);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate getDefault(colorId: ColorIdentifier): Color | undefined {\n\t\tlet color = this.defaultColors[colorId];\n\t\tif (color) {\n\t\t\treturn color;\n\t\t}\n\t\tcolor = colorRegistry.resolveDefaultColor(colorId, this);\n\t\tthis.defaultColors[colorId] = color;\n\t\treturn color;\n\t}\n\n\tpublic defines(colorId: ColorIdentifier): boolean {\n\t\treturn this.getColors().has(colorId);\n\t}\n\n\tpublic get type(): ColorScheme {\n\t\tswitch (this.base) {\n\t\t\tcase VS_LIGHT_THEME_NAME: return ColorScheme.LIGHT;\n\t\t\tcase HC_BLACK_THEME_NAME: return ColorScheme.HIGH_CONTRAST_DARK;\n\t\t\tcase HC_LIGHT_THEME_NAME: return ColorScheme.HIGH_CONTRAST_LIGHT;\n\t\t\tdefault: return ColorScheme.DARK;\n\t\t}\n\t}\n\n\tpublic get tokenTheme(): TokenTheme {\n\t\tif (!this._tokenTheme) {\n\t\t\tlet rules: ITokenThemeRule[] = [];\n\t\t\tlet encodedTokensColors: string[] = [];\n\t\t\tif (this.themeData.inherit) {\n\t\t\t\tconst baseData = getBuiltinRules(this.themeData.base);\n\t\t\t\trules = baseData.rules;\n\t\t\t\tif (baseData.encodedTokensColors) {\n\t\t\t\t\tencodedTokensColors = baseData.encodedTokensColors;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Pick up default colors from `editor.foreground` and `editor.background` if available\n\t\t\tconst editorForeground = this.themeData.colors['editor.foreground'];\n\t\t\tconst editorBackground = this.themeData.colors['editor.background'];\n\t\t\tif (editorForeground || editorBackground) {\n\t\t\t\tconst rule: ITokenThemeRule = { token: '' };\n\t\t\t\tif (editorForeground) {\n\t\t\t\t\trule.foreground = editorForeground;\n\t\t\t\t}\n\t\t\t\tif (editorBackground) {\n\t\t\t\t\trule.background = editorBackground;\n\t\t\t\t}\n\t\t\t\trules.push(rule);\n\t\t\t}\n\t\t\trules = rules.concat(this.themeData.rules);\n\t\t\tif (this.themeData.encodedTokensColors) {\n\t\t\t\tencodedTokensColors = this.themeData.encodedTokensColors;\n\t\t\t}\n\t\t\tthis._tokenTheme = TokenTheme.createFromRawTokenTheme(rules, encodedTokensColors);\n\t\t}\n\t\treturn this._tokenTheme;\n\t}\n\n\tpublic getTokenStyleMetadata(type: string, modifiers: string[], modelLanguage: string): ITokenStyle | undefined {\n\t\t// use theme rules match\n\t\tconst style = this.tokenTheme._match([type].concat(modifiers).join('.'));\n\t\tconst metadata = style.metadata;\n\t\tconst foreground = TokenMetadata.getForeground(metadata);\n\t\tconst fontStyle = TokenMetadata.getFontStyle(metadata);\n\t\treturn {\n\t\t\tforeground: foreground,\n\t\t\titalic: Boolean(fontStyle & FontStyle.Italic),\n\t\t\tbold: Boolean(fontStyle & FontStyle.Bold),\n\t\t\tunderline: Boolean(fontStyle & FontStyle.Underline),\n\t\t\tstrikethrough: Boolean(fontStyle & FontStyle.Strikethrough)\n\t\t};\n\t}\n\n\tpublic get tokenColorMap(): string[] {\n\t\treturn [];\n\t}\n\n\tpublic readonly semanticHighlighting = false;\n}\n\nfunction isBuiltinTheme(themeName: string): themeName is BuiltinTheme {\n\treturn (\n\t\tthemeName === VS_LIGHT_THEME_NAME\n\t\t|| themeName === VS_DARK_THEME_NAME\n\t\t|| themeName === HC_BLACK_THEME_NAME\n\t\t|| themeName === HC_LIGHT_THEME_NAME\n\t);\n}\n\nfunction getBuiltinRules(builtinTheme: BuiltinTheme): IStandaloneThemeData {\n\tswitch (builtinTheme) {\n\t\tcase VS_LIGHT_THEME_NAME:\n\t\t\treturn vs;\n\t\tcase VS_DARK_THEME_NAME:\n\t\t\treturn vs_dark;\n\t\tcase HC_BLACK_THEME_NAME:\n\t\t\treturn hc_black;\n\t\tcase HC_LIGHT_THEME_NAME:\n\t\t\treturn hc_light;\n\t}\n}\n\nfunction newBuiltInTheme(builtinTheme: BuiltinTheme): StandaloneTheme {\n\tconst themeData = getBuiltinRules(builtinTheme);\n\treturn new StandaloneTheme(builtinTheme, themeData);\n}\n\nexport class StandaloneThemeService extends Disposable implements IStandaloneThemeService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _onColorThemeChange = this._register(new Emitter<IStandaloneTheme>());\n\tpublic readonly onDidColorThemeChange = this._onColorThemeChange.event;\n\n\tprivate readonly _onFileIconThemeChange = this._register(new Emitter<IFileIconTheme>());\n\tpublic readonly onDidFileIconThemeChange = this._onFileIconThemeChange.event;\n\n\tprivate readonly _onProductIconThemeChange = this._register(new Emitter<IProductIconTheme>());\n\tpublic readonly onDidProductIconThemeChange = this._onProductIconThemeChange.event;\n\n\tprivate readonly _environment: IEnvironmentService = Object.create(null);\n\tprivate readonly _knownThemes: Map<string, StandaloneTheme>;\n\tprivate _autoDetectHighContrast: boolean;\n\tprivate _codiconCSS: string;\n\tprivate _themeCSS: string;\n\tprivate _allCSS: string;\n\tprivate _globalStyleElement: HTMLStyleElement | null;\n\tprivate _styleElements: HTMLStyleElement[];\n\tprivate _colorMapOverride: Color[] | null;\n\tprivate _theme!: IStandaloneTheme;\n\n\tprivate _builtInProductIconTheme = new UnthemedProductIconTheme();\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._autoDetectHighContrast = true;\n\n\t\tthis._knownThemes = new Map<string, StandaloneTheme>();\n\t\tthis._knownThemes.set(VS_LIGHT_THEME_NAME, newBuiltInTheme(VS_LIGHT_THEME_NAME));\n\t\tthis._knownThemes.set(VS_DARK_THEME_NAME, newBuiltInTheme(VS_DARK_THEME_NAME));\n\t\tthis._knownThemes.set(HC_BLACK_THEME_NAME, newBuiltInTheme(HC_BLACK_THEME_NAME));\n\t\tthis._knownThemes.set(HC_LIGHT_THEME_NAME, newBuiltInTheme(HC_LIGHT_THEME_NAME));\n\n\t\tconst iconsStyleSheet = this._register(getIconsStyleSheet(this));\n\n\t\tthis._codiconCSS = iconsStyleSheet.getCSS();\n\t\tthis._themeCSS = '';\n\t\tthis._allCSS = `${this._codiconCSS}\\n${this._themeCSS}`;\n\t\tthis._globalStyleElement = null;\n\t\tthis._styleElements = [];\n\t\tthis._colorMapOverride = null;\n\t\tthis.setTheme(VS_LIGHT_THEME_NAME);\n\t\tthis._onOSSchemeChanged();\n\n\t\tthis._register(iconsStyleSheet.onDidChange(() => {\n\t\t\tthis._codiconCSS = iconsStyleSheet.getCSS();\n\t\t\tthis._updateCSS();\n\t\t}));\n\n\t\taddMatchMediaChangeListener('(forced-colors: active)', () => {\n\t\t\tthis._onOSSchemeChanged();\n\t\t});\n\t}\n\n\tpublic registerEditorContainer(domNode: HTMLElement): IDisposable {\n\t\tif (dom.isInShadowDOM(domNode)) {\n\t\t\treturn this._registerShadowDomContainer(domNode);\n\t\t}\n\t\treturn this._registerRegularEditorContainer();\n\t}\n\n\tprivate _registerRegularEditorContainer(): IDisposable {\n\t\tif (!this._globalStyleElement) {\n\t\t\tthis._globalStyleElement = dom.createStyleSheet(undefined, style => {\n\t\t\t\tstyle.className = 'monaco-colors';\n\t\t\t\tstyle.textContent = this._allCSS;\n\t\t\t});\n\t\t\tthis._styleElements.push(this._globalStyleElement);\n\t\t}\n\t\treturn Disposable.None;\n\t}\n\n\tprivate _registerShadowDomContainer(domNode: HTMLElement): IDisposable {\n\t\tconst styleElement = dom.createStyleSheet(domNode, style => {\n\t\t\tstyle.className = 'monaco-colors';\n\t\t\tstyle.textContent = this._allCSS;\n\t\t});\n\t\tthis._styleElements.push(styleElement);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tfor (let i = 0; i < this._styleElements.length; i++) {\n\t\t\t\t\tif (this._styleElements[i] === styleElement) {\n\t\t\t\t\t\tthis._styleElements.splice(i, 1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic defineTheme(themeName: string, themeData: IStandaloneThemeData): void {\n\t\tif (!/^[a-z0-9\\-]+$/i.test(themeName)) {\n\t\t\tthrow new Error('Illegal theme name!');\n\t\t}\n\t\tif (!isBuiltinTheme(themeData.base) && !isBuiltinTheme(themeName)) {\n\t\t\tthrow new Error('Illegal theme base!');\n\t\t}\n\t\t// set or replace theme\n\t\tthis._knownThemes.set(themeName, new StandaloneTheme(themeName, themeData));\n\n\t\tif (isBuiltinTheme(themeName)) {\n\t\t\tthis._knownThemes.forEach(theme => {\n\t\t\t\tif (theme.base === themeName) {\n\t\t\t\t\ttheme.notifyBaseUpdated();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (this._theme.themeName === themeName) {\n\t\t\tthis.setTheme(themeName); // refresh theme\n\t\t}\n\t}\n\n\tpublic getColorTheme(): IStandaloneTheme {\n\t\treturn this._theme;\n\t}\n\n\tpublic setColorMapOverride(colorMapOverride: Color[] | null): void {\n\t\tthis._colorMapOverride = colorMapOverride;\n\t\tthis._updateThemeOrColorMap();\n\t}\n\n\tpublic setTheme(themeName: string): void {\n\t\tlet theme: StandaloneTheme | undefined;\n\t\tif (this._knownThemes.has(themeName)) {\n\t\t\ttheme = this._knownThemes.get(themeName);\n\t\t} else {\n\t\t\ttheme = this._knownThemes.get(VS_LIGHT_THEME_NAME);\n\t\t}\n\t\tthis._updateActualTheme(theme);\n\t}\n\n\tprivate _updateActualTheme(desiredTheme: IStandaloneTheme | undefined): void {\n\t\tif (!desiredTheme || this._theme === desiredTheme) {\n\t\t\t// Nothing to do\n\t\t\treturn;\n\t\t}\n\t\tthis._theme = desiredTheme;\n\t\tthis._updateThemeOrColorMap();\n\t}\n\n\tprivate _onOSSchemeChanged() {\n\t\tif (this._autoDetectHighContrast) {\n\t\t\tconst wantsHighContrast = window.matchMedia(`(forced-colors: active)`).matches;\n\t\t\tif (wantsHighContrast !== isHighContrast(this._theme.type)) {\n\t\t\t\t// switch to high contrast or non-high contrast but stick to dark or light\n\t\t\t\tlet newThemeName;\n\t\t\t\tif (isDark(this._theme.type)) {\n\t\t\t\t\tnewThemeName = wantsHighContrast ? HC_BLACK_THEME_NAME : VS_DARK_THEME_NAME;\n\t\t\t\t} else {\n\t\t\t\t\tnewThemeName = wantsHighContrast ? HC_LIGHT_THEME_NAME : VS_LIGHT_THEME_NAME;\n\t\t\t\t}\n\t\t\t\tthis._updateActualTheme(this._knownThemes.get(newThemeName));\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic setAutoDetectHighContrast(autoDetectHighContrast: boolean): void {\n\t\tthis._autoDetectHighContrast = autoDetectHighContrast;\n\t\tthis._onOSSchemeChanged();\n\t}\n\n\tprivate _updateThemeOrColorMap(): void {\n\t\tconst cssRules: string[] = [];\n\t\tconst hasRule: { [rule: string]: boolean } = {};\n\t\tconst ruleCollector: ICssStyleCollector = {\n\t\t\taddRule: (rule: string) => {\n\t\t\t\tif (!hasRule[rule]) {\n\t\t\t\t\tcssRules.push(rule);\n\t\t\t\t\thasRule[rule] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthemingRegistry.getThemingParticipants().forEach(p => p(this._theme, ruleCollector, this._environment));\n\n\t\tconst colorVariables: string[] = [];\n\t\tfor (const item of colorRegistry.getColors()) {\n\t\t\tconst color = this._theme.getColor(item.id, true);\n\t\t\tif (color) {\n\t\t\t\tcolorVariables.push(`${asCssVariableName(item.id)}: ${color.toString()};`);\n\t\t\t}\n\t\t}\n\t\truleCollector.addRule(`.monaco-editor, .monaco-diff-editor { ${colorVariables.join('\\n')} }`);\n\n\t\tconst colorMap = this._colorMapOverride || this._theme.tokenTheme.getColorMap();\n\t\truleCollector.addRule(generateTokensCSSForColorMap(colorMap));\n\n\t\tthis._themeCSS = cssRules.join('\\n');\n\t\tthis._updateCSS();\n\n\t\tTokenizationRegistry.setColorMap(colorMap);\n\t\tthis._onColorThemeChange.fire(this._theme);\n\t}\n\n\tprivate _updateCSS(): void {\n\t\tthis._allCSS = `${this._codiconCSS}\\n${this._themeCSS}`;\n\t\tthis._styleElements.forEach(styleElement => styleElement.textContent = this._allCSS);\n\t}\n\n\tpublic getFileIconTheme(): IFileIconTheme {\n\t\treturn {\n\t\t\thasFileIcons: false,\n\t\t\thasFolderIcons: false,\n\t\t\thidesExplorerArrows: false\n\t\t};\n\t}\n\n\tpublic getProductIconTheme(): IProductIconTheme {\n\t\treturn this._builtInProductIconTheme;\n\t}\n\n}\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/standalone/browser/standaloneServices.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IA4FhG,MAAM,WAAW;QAKhB,YAAY,KAAiB;YAyBrB,MAAC,GAAU,KAAK,CAAC;YAxBxB,IAAI,CAAC,CAAC,GAAO,KAAK,CAAC;YACnB,IAAI,CAAC,CAAC,GAAgB,IAAI,WAAG,EAAY,CAAC;QAC3C,CAAC;QAED,IAAW,aAAa;YACvB,OAAO,IAAI,CAAC,CAAC,CAAc,KAAK,CAAC;QAClC,CAAC;QAEM,OAAO;YACb,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAED,IAAW,eAAe;YACzB,OAAO,IAAI,CAAC,CAAC,CAAK;QACnB,CAAC;QAEM,cAAc;YACpB,OAAO,IAAI,CAAC,CAAC,CAAK,cAAc,EAAE,CAAC;QACpC,CAAC;QAEM,UAAU;YAChB,OAAO,KAAK,CAAC;QACd,CAAC;QAGM,OAAO;YACb,IAAI,CAAC,CAAC,GAAU,IAAI,CAAC;YAErB,IAAI,CAAC,CAAC,CAAc,IAAI,EAAE,CAAC;QAC5B,CAAC;QAEM,UAAU;YAChB,OAAO,IAAI,CAAC,CAAC,CAAQ;QACtB,CAAC;QAEM,UAAU;YAChB,OAAO,IAAI,CAAC;QACb,CAAC;QAEM,aAAa;YACnB,OAAO,IAAI,CAAC,CAAC,CAAK,aAAa,EAAE,CAAC;QACnC,CAAC;KACD;IAED,IAAM,0BAA0B,GAAhC,MAAM,0BAA0B;QAG/B,YACiC,CAAiB;YAAjB,MAAC,GAAD,CAAC,CAAgB;QAC9C,CAAC;QAEE,oBAAoB,CAAC,QAAa;YACxC,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAY,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAEnD,IAAI,CAAC,KAAK,EAAE;gBACX,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC;aACpD;YAED,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,eAAG,CAAe,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvE,CAAC;QAEM,gCAAgC,CAAC,MAAc,EAAE,QAAmC;YAC1F,OAAO;gBACN,OAAO,EAAE,cAA0B,CAAC;aACpC,CAAC;QACH,CAAC;QAEM,iBAAiB,CAAC,QAAa;YACrC,OAAO,KAAK,CAAC;QACd,CAAC;KACD,CAAA;IA1BK,0BAA0B;QAI7B,WAAA,WAAG,CAAA;OAJA,0BAA0B,CA0B/B;IAED,MAAM,+BAA+B;iBAGrB,MAAC,GAAuC;YACtD,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC;YACf,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC;YAChB,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC;SACjB,CAAC;QAIF,IAAI;YACH,OAAO,+BAA+B,CAAC,CAAC,CAAoB;QAC7D,CAAC;QAED,KAAK,CAAC,SAAS,CAAC,OAAqB,EAAE,KAAc;YACpD,MAAM,OAAO,CAAC;QACf,CAAC;;IAGF,MAAM,yBAAyB;QAI9B,YAAY,CAAI,QAAuI,EAAE,IAAwD,EAAE,WAAiE;YACnR,OAAO,IAAI,CAAC;gBACX,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC;aACjB,CAAC,CAAC;QACJ,CAAC;KACD;IAED,MAAM,4BAA4B;QAAlC;YAIU,kBAAa,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;YAChF,wBAAmB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,qBAAqB,EAAE,CAAC,CAAC;YAC5F,2BAAsB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,wBAAwB,EAAE,CAAC,CAAC;YAClG,iBAAY,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,cAAc,EAAE,CAAC,CAAC;YAC9E,2BAAsB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,wBAAwB,EAAE,CAAC,CAAC;YAClG,yBAAoB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,sBAAsB,EAAE,CAAC,CAAC;YAC9F,qBAAgB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;YACtF,cAAS,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;YACxE,qBAAgB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,kBAAkB,EAAE,CAAC,CAAC;YACtF,SAAI,GAA6B,SAAS,CAAC;YAC3C,eAAU,GAAwB,SAAS,CAAC;YAC5C,kBAAa,GAAwB,SAAS,CAAC;YAC/C,uBAAkB,GAA8B,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;YAC7E,2BAAsB,GAAY,KAAK,CAAC;YACxC,sBAAiB,GAAuB,KAAK,CAAC;YAC9C,qBAAgB,GAAmC,SAAS,CAAC;YAC7D,oCAA+B,GAAuB,SAAS,CAAC;YAChE,6BAAwB,GAAiC,SAAS,CAAC;YACnE,8BAAyB,GAAqB,SAAS,CAAC;YACxD,aAAQ,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;YACtE,aAAQ,GAAwB,SAAS,CAAC;YAC1C,sBAAiB,GAAoC,SAAS,CAAC;YAC/D,YAAO,GAAY,KAAK,CAAC;YACzB,YAAO,GAAY,KAAK,CAAC;YACzB,qBAAgB,GAAY,KAAK,CAAC;YAClC,6BAAwB,GAAQ,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,0BAA0B,EAAE,CAAC,CAAC;YACtG,eAAU,GAAqB,SAAS,CAAC;QACnD,CAAC;KAAA;IAED,MAAM,uBAAuB;QAA7B;YAIU,qBAAgB,GAAG,aAAK,CAAC,IAAI,CAAC;YAC9B,oBAAe,GAAG,aAAK,CAAC,IAAI,CAAC;QAyDvC,CAAC;QAvDA,KAAK,CAAC,OAAO,CAAC,YAA2B;YACxC,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAS,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;YAE5E,OAAO;gBACN,SAAS;gBACT,eAAe,EAAE,KAAK,CAAC,cAAc;aACd,CAAC;QAC1B,CAAC;QAEO,CAAC,CAAS,OAAe,EAAE,MAAe;YACjD,IAAI,WAAW,GAAG,OAAO,CAAC;YAC1B,IAAI,MAAM,EAAE;gBACX,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,MAAM,CAAC;aAC5C;YAED,OAAO,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACpC,CAAC;QAKD,KAAK,CAAC,MAAM,CAAI,MAA+C;YAC9D,IAAI,MAAM,GAAkB,SAAS,CAAC;YACtC,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAS,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;YAChE,IAAI,SAAS,EAAE;gBACd,MAAM,aAAa,GAA2B,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC1E,IAAI,MAAM,CAAC,YAAY,IAAI,OAAO,MAAM,CAAC,YAAY,KAAK,QAAQ,IAAI,OAAO,MAAM,CAAC,YAAY,KAAK,SAAS,EAAE;oBAC/G,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;iBACxC;gBAED,MAAM,GAAG,MAAM,aAAa,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,CAAC;aACjE;YAED,OAAO,EAAE,MAAM,EAAE,CAAC;QACnB,CAAC;QAED,KAAK,CAAC,IAAI,CAAC,OAAe,EAAE,MAAe;YAC1C,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QAC7D,CAAC;QAED,KAAK,CAAC,IAAI,CAAC,OAAe,EAAE,MAAe;YAC1C,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QAChE,CAAC;QAED,KAAK,CAAC,KAAK,CAAC,OAAe,EAAE,MAAe;YAC3C,MAAM,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QAC9D,CAAC;QAED,KAAK;YACJ,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,cAAc;QAC7D,CAAC;QAED,KAAK;YACJ,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;KACD;IAED,MAAa,IAAI;QAAjB;YAEU,yBAAoB,GAAyB,aAAK,CAAC,IAAI,CAAC;YAExD,4BAAuB,GAAyB,aAAK,CAAC,IAAI,CAAC;YAE3D,gCAA2B,GAAgB,aAAK,CAAC,IAAI,CAAC;YAIxD,qBAAgB,GAAY,KAAK,CAAC;QAuC1C,CAAC;iBArCwB,MAAC,GAA4B,IAAI,kBAAG,EAAnC,AAAkD,CAAC;QAErE,IAAI,CAAC,OAAe;YAC1B,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,kBAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QAC1D,CAAC;QAEM,IAAI,CAAC,OAAe;YAC1B,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,kBAAQ,CAAC,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QAC7D,CAAC;QAEM,KAAK,CAAC,KAAqB;YACjC,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,kBAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAClE,CAAC;QAEM,MAAM,CAAC,YAA2B;YACxC,QAAQ,YAAY,CAAC,QAAQ,EAAE;gBAC9B,KAAK,kBAAQ,CAAC,KAAK;oBAClB,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBACpC,MAAM;gBACP,KAAK,kBAAQ,CAAC,OAAO;oBACpB,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBACnC,MAAM;gBACP;oBACC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBAClC,MAAM;aACP;YAED,OAAO,IAAI,CAA0B,CAAC,CAAK;QAC5C,CAAC;QAEM,MAAM,CAAC,QAAkB,EAAE,OAAe,EAAE,OAAwB,EAAE,OAAwB;YACpG,OAAO,IAAI,CAA0B,CAAC,CAAK;QAC5C,CAAC;QAEM,MAAM,CAAC,OAAuB,EAAE,OAA+B;YACrE,OAAO,eAAG,CAAQ,IAAI,CAAC;QACxB,CAAC;;IAhDF,oBAiDC;IAEM,IAAM,IAAI,GAAV,MAAM,IAAI;QAUhB,YACwB,oBAAyB;YANhC,MAAC,GAAuB,IAAI,WAAG,EAAqB,CAAC;YACrD,MAAC,GAAsB,IAAI,WAAG,EAAqB,CAAC;YACrD,yBAAoB,GAAyB,IAAI,CAAC,CAAC,CAAqB,KAAK,CAAC;YAC9E,wBAAmB,GAAyB,IAAI,CAAC,CAAC,CAAoB,KAAK,CAAC;YAK3F,IAAI,CAAC,CAAC,GAAuB,oBAAoB,CAAC;QACnD,CAAC;QAEM,cAAc,CAAI,EAAU,EAAE,GAAG,IAAW;YAClD,MAAM,OAAO,GAAG,cAAG,CAAc,UAAU,CAAC,EAAE,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,EAAE;gBACb,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC,CAAC;aAC9D;YAED,IAAI;gBACH,IAAI,CAAC,CAAC,CAAqB,IAAI,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;gBACzD,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAqB,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAsB,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAM,CAAC;gBAE5H,IAAI,CAAC,CAAC,CAAoB,IAAI,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;gBACxD,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;aAC/B;YAAC,OAAO,GAAG,EAAE;gBACb,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aAC3B;QACF,CAAC;KACD,CAAA;IAhCY,oBAAI;mBAAJ,IAAI;QAWd,WAAA,mBAAG,CAAA;OAXO,IAAI,CAgChB;IASM,IAAM,IAAI,GAAV,MAAM,IAA4B,SAAQ,gCAAI;QAKpD,YACqB,iBAAsB,EACzB,cAAmB,EACjB,gBAAqB,EAClB,mBAAwB,EACjC,UAAe,EACR,iBAAsB;YAE1C,KAAK,CAAC,iBAAiB,EAAE,cAAc,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,UAAU,CAAC,CAAC;YAE5F,IAAI,CAAC,CAAC,GAAiB,IAAI,CAAC;YAC5B,IAAI,CAAC,CAAC,GAAqB,EAAE,CAAC;YAC9B,IAAI,CAAC,CAAC,GAAmB,EAAE,CAAC;YAE5B,MAAM,YAAY,GAAG,CAAC,OAAoB,EAAE,EAAE;gBAC7C,MAAM,WAAW,GAAG,IAAI,eAAG,EAAc,CAAC;gBAE1C,2BAA2B;gBAC3B,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAmB,OAAO,EAAE,GAAG,CAAC,GAAG,CAAO,QAAQ,EAAE,CAAC,CAAgB,EAAE,EAAE;oBAC/F,MAAM,QAAQ,GAAG,IAAI,mBAAG,CAAmB,CAAC,CAAC,CAAC;oBAC9C,MAAM,oBAAoB,GAAG,IAAI,CAAC,CAAC,CAAS,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;oBACvE,IAAI,oBAAoB,EAAE;wBACzB,QAAQ,CAAC,cAAc,EAAE,CAAC;wBAC1B,QAAQ,CAAC,eAAe,EAAE,CAAC;qBAC3B;gBACF,CAAC,CAAC,CAAC,CAAC;gBAEJ,2DAA2D;gBAC3D,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAmB,OAAO,EAAE,GAAG,CAAC,GAAG,CAAO,MAAM,EAAE,CAAC,CAAgB,EAAE,EAAE;oBAC7F,MAAM,QAAQ,GAAG,IAAI,mBAAG,CAAmB,CAAC,CAAC,CAAC;oBAC9C,MAAM,oBAAoB,GAAG,IAAI,CAAC,CAAC,CAAuB,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;oBACrF,IAAI,oBAAoB,EAAE;wBACzB,QAAQ,CAAC,cAAc,EAAE,CAAC;qBAC1B;gBACF,CAAC,CAAC,CAAC,CAAC;gBAEJ,IAAI,CAAC,CAAC,CAAiB,IAAI,CAAC,IAAI,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC;YACzE,CAAC,CAAC;YACF,MAAM,eAAe,GAAG,CAAC,OAAoB,EAAE,EAAE;gBAChD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAiB,MAAM,EAAE,CAAC,EAAE,EAAE;oBACvD,MAAM,gBAAgB,GAAG,IAAI,CAAC,CAAC,CAAiB,CAAC,CAAC,CAAC;oBACnD,IAAI,gBAAgB,CAAC,OAAO,KAAK,OAAO,EAAE;wBACzC,IAAI,CAAC,CAAC,CAAiB,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACpC,gBAAgB,CAAC,OAAO,EAAE,CAAC;qBAC3B;iBACD;YACF,CAAC,CAAC;YAEF,MAAM,aAAa,GAAG,CAAC,UAAuB,EAAE,EAAE;gBACjD,IAAI,UAAU,CAAC,SAAS,oCAA2B,EAAE;oBACpD,OAAO;iBACP;gBACD,YAAY,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAC;YAChD,CAAC,CAAC;YACF,MAAM,gBAAgB,GAAG,CAAC,UAAuB,EAAE,EAAE;gBACpD,IAAI,UAAU,CAAC,SAAS,oCAA2B,EAAE;oBACpD,OAAO;iBACP;gBACD,eAAe,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAC;YACnD,CAAC,CAAC;YACF,IAAI,CAAC,CAAC,CAAS,iBAAiB,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,CAAC,CAAS,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACvE,iBAAiB,CAAC,eAAe,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAE3D,MAAM,aAAa,GAAG,CAAC,UAAuB,EAAE,EAAE;gBACjD,YAAY,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAC;YAChD,CAAC,CAAC;YACF,MAAM,gBAAgB,GAAG,CAAC,UAAuB,EAAE,EAAE;gBACpD,eAAe,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAC;YACnD,CAAC,CAAC;YACF,IAAI,CAAC,CAAC,CAAS,iBAAiB,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,CAAC,CAAS,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACvE,iBAAiB,CAAC,eAAe,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAC5D,CAAC;QAEM,oBAAoB,CAAC,OAAe,EAAE,UAAkB,EAAE,OAAwB,EAAE,IAAsC;YAChI,OAAO,IAAA,eAAG,EACT,cAAG,CAAc,eAAe,CAAC,OAAO,EAAE,OAAO,CAAC,EAClD,IAAI,CAAC,qBAAqB,CAAC,CAAC;oBAC3B,UAAU;oBACV,OAAO;oBACP,IAAI;iBACJ,CAAC,CAAC,CACH,CAAC;QACH,CAAC;QAEM,qBAAqB,CAAC,KAAwB;YACpD,MAAM,OAAO,GAAsB,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACrD,MAAM,UAAU,GAAG,IAAA,iBAAG,EAAc,IAAI,CAAC,UAAU,EAAE,aAAE,CAAC,CAAC;gBACzD,OAAO;oBACN,UAAU;oBACV,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,IAAI;oBAC7B,WAAW,EAAE,IAAI,CAAC,WAAW;oBAC7B,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,OAAO,EAAE,IAAI;oBACb,OAAO,EAAE,CAAC;oBACV,WAAW,EAAE,IAAI;oBACjB,kBAAkB,EAAE,KAAK;iBACzB,CAAC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,CAAC,GAAqB,IAAI,CAAC,CAAC,CAAmB,MAAM,CAAC,OAAO,CAAC,CAAC;YAEpE,IAAI,CAAC,CAAC,EAAe,CAAC;YAEtB,OAAO,IAAA,eAAG,EAAU,GAAG,EAAE;gBACxB,2EAA2E;gBAC3E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAmB,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzD,IAAI,IAAI,CAAC,CAAC,CAAmB,CAAC,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC,EAAE;wBAC/C,IAAI,CAAC,CAAC,CAAmB,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;wBACnD,IAAI,CAAC,CAAC,EAAe,CAAC;wBACtB,OAAO;qBACP;iBACD;YACF,CAAC,CAAC,CAAC;QACJ,CAAC;QAEO,CAAC;YACR,IAAI,CAAC,CAAC,GAAiB,IAAI,CAAC;YAC5B,IAAI,CAAC,CAAC,CAAuB,IAAI,EAAE,CAAC;QACrC,CAAC;QAES,CAAC;YACV,IAAI,CAAC,IAAI,CAAC,CAAC,EAAgB;gBAC1B,MAAM,QAAQ,GAAG,IAAI,CAAC,CAAC,CAA4B,yBAAG,CAAiB,qBAAqB,EAAE,EAAE,IAAI,CAAC,CAAC;gBACtG,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAA4B,IAAI,CAAC,CAAC,EAAoB,KAAK,CAAC,CAAC;gBACrF,IAAI,CAAC,CAAC,GAAiB,IAAI,wBAAG,CAAgB,QAAQ,EAAE,SAAS,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAI,GAAG,CAAC,CAAC,CAAC;aAC5F;YACD,OAAO,IAAI,CAAC,CAAC,CAAe;QAC7B,CAAC;QAES,CAAC;YACV,OAAO,QAAQ,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC;QAEO,CAAC,CAA4B,KAAwB,EAAE,SAAkB;YAChF,MAAM,MAAM,GAA6B,EAAE,CAAC;YAC5C,IAAI,SAAS,GAAG,CAAC,CAAC;YAClB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;gBACzB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC;gBACpC,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAEnC,IAAI,CAAC,UAAU,EAAE;oBAChB,wEAAwE;oBACxE,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,IAAI,4BAAG,CAAoB,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;iBAC1H;qBAAM;oBACN,MAAM,mBAAmB,GAAG,iCAAI,CAAuB,iBAAiB,CAAC,UAAU,EAAE,aAAE,CAAC,CAAC;oBACzF,KAAK,MAAM,kBAAkB,IAAI,mBAAmB,EAAE;wBACrD,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,IAAI,4BAAG,CAAoB,kBAAkB,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;qBACnI;iBACD;aACD;YAED,OAAO,MAAM,CAAC;QACf,CAAC;QAEM,iBAAiB,CAAC,UAAe;YACvC,OAAO,iCAAI,CAAuB,iBAAiB,CAAC,UAAU,EAAE,aAAE,CAAC,CAAC;QACrE,CAAC;QAEM,oBAAoB,CAAC,aAA6B;YACxD,MAAM,KAAK,GAAG,IAAI,iBAAG,CACpB,aAAa,CAAC,OAAO,EACrB,aAAa,CAAC,QAAQ,EACtB,aAAa,CAAC,MAAM,EACpB,aAAa,CAAC,OAAO,EACrB,aAAa,CAAC,OAAO,CACrB,CAAC;YACF,OAAO,IAAI,iCAAI,CAAuB,CAAC,KAAK,CAAC,EAAE,aAAE,CAAC,CAAC;QACpD,CAAC;QAEM,kBAAkB,CAAC,WAAmB;YAC5C,OAAO,EAAE,CAAC;QACX,CAAC;QAEM,cAAc;YACpB,OAAO,EAAE,CAAC;QACX,CAAC;QAEM,kBAAkB;YACxB,OAAO,EAAE,CAAC;QACX,CAAC;QAEM,0BAA0B,CAAC,YAA2C;YAC5E,OAAO;QACR,CAAC;KACD,CAAA;IA9LY,oBAAI;mBAAJ,IAAI;QAMd,WAAA,gBAAG,CAAA;QACH,WAAA,cAAG,CAAA;QACH,WAAA,eAAG,CAAA;QACH,WAAA,kBAAG,CAAA;QACH,WAAA,SAAG,CAAA;QACH,WAAA,uBAAG,CAAA;OAXO,IAAI,CA8LhB;IAED,MAAM,gBAAiB,SAAQ,eAAG;QACjC,YACiB,OAAoB,EACpC,WAAgB;YAEhB,KAAK,EAAE,CAAC;YAHQ,YAAO,GAAP,OAAO,CAAa;YAIpC,IAAI,CAAC,CAAC,CAAS,WAAW,CAAC,CAAC;QAC7B,CAAC;KACD;IAED,SAAS,wBAAwB,CAAC,KAAU;QAC3C,OAAO,KAAK;eACR,OAAO,KAAK,KAAK,QAAQ;eACzB,CAAC,CAAC,KAAK,CAAC,kBAAkB,IAAI,OAAO,KAAK,CAAC,kBAAkB,KAAK,QAAQ,CAAC;eAC3E,CAAC,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,YAAY,SAAG,CAAC,CAAC;IACxD,CAAC;IAED,MAAa,IAAI;QAShB;YALiB,MAAC,GAA2B,IAAI,WAAG,EAAiC,CAAC;YACtE,6BAAwB,GAAqC,IAAI,CAAC,CAAC,CAAyB,KAAK,CAAC;YAKjH,MAAM,oBAAoB,GAAG,IAAI,oBAAG,EAAmB,CAAC;YACxD,IAAI,CAAC,CAAC,GAAgB,IAAI,yBAAG,CAAW,oBAAoB,CAAC,MAAM,EAAE,EAAE,IAAI,yBAAG,EAAiB,EAAE,IAAI,yBAAG,EAAiB,EAAE,IAAI,yBAAG,EAAiB,CAAC,CAAC;YACrJ,oBAAoB,CAAC,OAAO,EAAE,CAAC;QAChC,CAAC;QAMD,QAAQ,CAAC,IAAU,EAAE,IAAU;YAC9B,MAAM,OAAO,GAAG,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;YAC5D,MAAM,SAAS,GAAG,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YACrG,OAAO,IAAI,CAAC,CAAC,CAAc,QAAQ,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QACpE,CAAC;QAEM,YAAY,CAAC,MAAuB;YAC1C,MAAM,QAAQ,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAc,MAAM,EAAE,EAAE,CAAC;YAExD,MAAM,WAAW,GAAa,EAAE,CAAC;YAEjC,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE;gBAC3B,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC;gBAC3B,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,KAAK,EAAE;oBACjC,SAAS;iBACT;gBACD,IAAI,CAAC,CAAC,CAAc,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBAC5C,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACtB;YAED,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,MAAM,wBAAwB,GAAG,IAAI,yBAAG,CAAsB,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAc,CAAC;gBACnI,wBAAwB,CAAC,MAAM,qCAA6B,CAAC;gBAC7D,wBAAwB,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC7C,IAAI,CAAC,CAAC,CAAyB,IAAI,CAAC,wBAAwB,CAAC,CAAC;aAC9D;YAED,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAEM,WAAW,CAAC,GAAW,EAAE,KAAU,EAAE,IAAU,EAAE,IAAU;YACjE,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;QAC1C,CAAC;QAEM,OAAO,CAAI,GAAW,EAAE,UAAmC,EAAE;YACnE,OAAO,IAAI,CAAC,CAAC,CAAc,OAAO,CAAI,GAAG,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;QAChE,CAAC;QAEM,IAAI;YACV,OAAO,IAAI,CAAC,CAAC,CAAc,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,CAAC;QAEM,mBAAmB;YACzB,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAEM,oBAAoB;YAC1B,MAAM,UAAU,GAAwB;gBACvC,QAAQ,EAAE,EAAE;gBACZ,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,EAAE;aACb,CAAC;YACF,OAAO;gBACN,QAAQ,EAAE,UAAU;gBACpB,MAAM,EAAE,UAAU;gBAClB,WAAW,EAAE,UAAU;gBACvB,IAAI,EAAE,UAAU;gBAChB,SAAS,EAAE,UAAU;gBACrB,OAAO,EAAE,EAAE;aACX,CAAC;QACH,CAAC;KACD;IAhFD,oBAgFC;IAED,IAAM,sCAAsC,GAA5C,MAAM,sCAAsC;QAO3C,YACwB,CAA2C,EACnD,CAAkC,EAC/B,CAAqC;YAFf,MAAC,GAAD,CAAC,CAAyB;YAClC,MAAC,GAAD,CAAC,CAAgB;YACd,MAAC,GAAD,CAAC,CAAmB;YANvC,MAAC,GAA2B,IAAI,WAAG,EAA6C,CAAC;YAClF,6BAAwB,GAAG,IAAI,CAAC,CAAC,CAAyB,KAAK,CAAC;YAO/E,IAAI,CAAC,CAAC,CAAoB,wBAAwB,CAAC,CAAC,CAAC,EAAE,EAAE;gBACxD,IAAI,CAAC,CAAC,CAAyB,IAAI,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,CAAC,QAAa,EAAE,aAAqB,EAAE,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAC9K,CAAC,CAAC,CAAC;QACJ,CAAC;QAID,QAAQ,CAAI,QAAyB,EAAE,IAAU,EAAE,IAAU;YAC5D,MAAM,QAAQ,GAAqB,cAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;YACvE,MAAM,OAAO,GAAuB,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAC7I,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAW,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC7E,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;gBACnC,OAAO,IAAI,CAAC,CAAC,CAAoB,QAAQ,CAAI;oBAC5C,QAAQ;oBACR,kBAAkB,EAAE,QAAQ;iBAC5B,CAAC,CAAC;aACH;YACD,OAAO,IAAI,CAAC,CAAC,CAAoB,QAAQ,CAAI,OAAO,EAAE;gBACrD,QAAQ;gBACR,kBAAkB,EAAE,QAAQ;aAC5B,CAAC,CAAC;QACJ,CAAC;QAED,OAAO,CAAI,QAAyB,EAAE,QAA0B,EAAE,OAAe;YAChF,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAW,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC7E,OAAO,IAAI,CAAC,CAAC,CAAoB,OAAO,CAAI,OAAO,EAAE,EAAE,QAAQ,EAAE,kBAAkB,EAAE,QAAQ,EAAE,CAAC,CAAC;QAClG,CAAC;QAEO,CAAC,CAAW,QAAa,EAAE,QAA0B;YAC5D,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAY,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACnD,IAAI,KAAK,EAAE;gBACV,OAAO,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,uBAAuB,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;aAC9G;YACD,OAAO,IAAI,CAAC,CAAC,CAAe,oCAAoC,CAAC,QAAQ,CAAC,CAAC;QAC5E,CAAC;QAED,WAAW,CAAC,QAAa,EAAE,GAAW,EAAE,KAAU,EAAE,mBAAyC;YAC5F,OAAO,IAAI,CAAC,CAAC,CAAoB,WAAW,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,mBAAmB,CAAC,CAAC;QAC7F,CAAC;KACD,CAAA;IAnDK,sCAAsC;QAQzC,WAAA,mBAAG,CAAA;QACH,WAAA,WAAG,CAAA;QACH,WAAA,cAAG,CAAA;OAVA,sCAAsC,CAmD3C;IAED,IAAM,mCAAmC,GAAzC,MAAM,mCAAmC;QAIxC,YACyC,CAAyB;YAAzB,MAAC,GAAD,CAAC,CAAwB;QAElE,CAAC;QAED,MAAM,CAAC,QAAa,EAAE,QAAiB;YACtC,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAoB,QAAQ,CAAC,WAAW,EAAE,EAAE,kBAAkB,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;YACxG,IAAI,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,MAAM,EAAE;gBACrD,OAAO,GAAG,CAAC;aACX;YACD,OAAO,CAAC,aAAE,IAAS,aAAE,CAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;QACjD,CAAC;KACD,CAAA;IAhBK,mCAAmC;QAKtC,WAAA,mBAAG,CAAA;OALA,mCAAmC,CAgBxC;IAED,MAAM,0BAA0B;QAAhC;YAEU,mBAAc,+BAAuB;YACrC,cAAS,GAAG,qBAAqB,CAAC;YAClC,cAAS,GAAG,qBAAqB,CAAC;YAClC,qBAAgB,GAAG,4BAA4B,CAAC;YAChD,uBAAkB,GAAG,KAAK,CAAC;QAOrC,CAAC;QANA,UAAU,KAAW,CAAC;QACtB,qBAAqB,KAAW,CAAC;QACjC,SAAS,KAAK,CAAC;QACf,UAAU,KAAK,CAAC;QAChB,cAAc,KAAK,CAAC;QACpB,eAAe,KAAK,CAAC;KACrB;IAED,MAAM,iCAAiC;iBAId,MAAC,GAAQ,UAAR,AAAkB,CAAC;QAgB5C;YAdiB,MAAC,GAA2B,IAAI,WAAG,EAAY,CAAC;YACjD,6BAAwB,GAAgB,IAAI,CAAC,CAAC,CAAyB,KAAK,CAAC;YAE5E,MAAC,GAA+B,IAAI,WAAG,EAAwC,CAAC;YACjF,iCAA4B,GAA4C,IAAI,CAAC,CAAC,CAA6B,KAAK,CAAC;YAEhH,MAAC,GAA8B,IAAI,WAAG,EAAoC,CAAC;YAC5E,gCAA2B,GAAwC,IAAI,CAAC,CAAC,CAA4B,KAAK,CAAC;YAE1G,MAAC,GAA4B,IAAI,WAAG,EAAsB,CAAC;YAC5D,8BAAyB,GAA0B,IAAI,CAAC,CAAC,CAA0B,KAAK,CAAC;YAKxG,MAAM,QAAQ,GAAG,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,iCAAiC,CAAC,CAAC,EAAO,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;YAC/G,IAAI,CAAC,CAAC,GAAW,EAAE,EAAE,EAAE,eAAG,EAA6B,OAAO,EAAE,CAAC,IAAI,eAAG,CAAa,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;QAChI,CAAC;QAED,oBAAoB;YACnB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAC7C,CAAC;QAEM,YAAY;YAClB,OAAO,IAAI,CAAC,CAAC,CAAS;QACvB,CAAC;QAEM,iBAAiB;YACvB,IAAI,IAAI,CAAC,CAAC,EAAU;gBACnB,IAAI,IAAI,CAAC,CAAC,CAAS,aAAa,EAAE;oBACjC,wCAAgC;iBAChC;gBACD,qCAA6B;aAC7B;YACD,oCAA4B;QAC7B,CAAC;QAEM,kBAAkB,CAAC,QAAa;YACtC,OAAO,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAS,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACpH,CAAC;QAEM,iBAAiB,CAAC,QAAa;YACrC,OAAO,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,iCAAiC,CAAC,CAAC,CAAM;QACjF,CAAC;QAEM,kBAAkB,CAAC,mBAAkF;YAC3G,OAAO,IAAI,CAAC;QACb,CAAC;;IAGF,SAAgB,IAAI,CAAuB,oBAAyB,EAAoB,MAAW,EAAE,YAAqB;QACzH,IAAI,CAAC,MAAM,EAAE;YACZ,OAAO;SACP;QACD,IAAI,CAAC,CAAC,oBAAoB,YAAY,IAAI,CAA2B,EAAE;YACtE,OAAO;SACP;QACD,MAAM,QAAQ,GAAoB,EAAE,CAAC;QACrC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACnC,IAAI,IAAA,+BAAG,EAAsB,GAAG,CAAC,EAAE;gBAClC,QAAQ,CAAC,IAAI,CAAC,CAAC,UAAU,GAAG,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aAC9C;YACD,IAAI,YAAY,IAAI,IAAA,+BAAG,EAA0B,GAAG,CAAC,EAAE;gBACtD,QAAQ,CAAC,IAAI,CAAC,CAAC,cAAc,GAAG,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aAClD;QACF,CAAC,CAAC,CAAC;QACH,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,oBAAoB,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SAC5C;IACF,CAAC;IAnBD,oBAmBC;IAED,IAAM,yBAAyB,GAA/B,MAAM,yBAAyB;QAG9B,YACiC,CAAkB;YAAlB,MAAC,GAAD,CAAC,CAAiB;YAElD,EAAE;QACH,CAAC;QAED,iBAAiB;YAChB,OAAO,KAAK,CAAC;QACd,CAAC;QAED,iBAAiB;YAChB,OAAO,eAAG,CAAQ,IAAI,CAAC;QACxB,CAAC;QAED,KAAK,CAAC,KAAK,CAAC,OAAuC,EAAE,QAA2B;YAC/E,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,qBAAG,CAAU,OAAO,CAAC,OAAO,CAAC,CAAC;YAC/E,MAAM,SAAS,GAAG,IAAI,GAAG,EAAsC,CAAC;YAEhE,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;gBACzB,IAAI,CAAC,CAAC,IAAI,YAAY,qBAAG,CAAc,EAAE;oBACxC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;iBAC5D;gBACD,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAa,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACzD,IAAI,CAAC,KAAK,EAAE;oBACX,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;iBAC9C;gBACD,IAAI,OAAO,IAAI,CAAC,SAAS,KAAK,QAAQ,IAAI,KAAK,CAAC,YAAY,EAAE,KAAK,IAAI,CAAC,SAAS,EAAE;oBAClF,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;iBAC7D;gBACD,IAAI,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACjC,IAAI,CAAC,KAAK,EAAE;oBACX,KAAK,GAAG,EAAE,CAAC;oBACX,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;iBAC5B;gBACD,KAAK,CAAC,IAAI,CAAC,mBAAG,CAAW,WAAW,CAAC,WAAG,CAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;aAC3F;YAGD,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,KAAK,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,SAAS,EAAE;gBACvC,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBACzB,KAAK,CAAC,kBAAkB,CAAC,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC9C,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBACzB,UAAU,IAAI,CAAC,CAAC;gBAChB,UAAU,IAAI,KAAK,CAAC,MAAM,CAAC;aAC3B;YAED,OAAO;gBACN,WAAW,EAAE,OAAO,CAAC,GAAG,CAAI,yCAAqB,CAAC,sBAAsB,EAAE,UAAU,EAAE,UAAU,CAAC;gBACjG,SAAS,EAAE,UAAU,GAAG,CAAC;aACzB,CAAC;QACH,CAAC;KACD,CAAA;IAxDK,yBAAyB;QAI5B,WAAA,WAAG,CAAA;OAJA,yBAAyB,CAwD9B;IAED,MAAM,yBAAyB;QAA/B;YAIiB,0BAAqB,GAAiC,aAAK,CAAC,IAAI,CAAC;QAoClF,CAAC;QAlCO,WAAW,CAAC,QAAa,EAAE,OAA0D;YAC3F,IAAI,QAAQ,CAAC,MAAM,KAAK,MAAM,EAAE;gBAC/B,OAAO,QAAQ,CAAC,MAAM,CAAC;aACvB;YACD,OAAO,QAAQ,CAAC,IAAI,CAAC;QACtB,CAAC;QAED,mBAAmB,CAAC,QAAa;YAChC,OAAO,IAAA,eAAG,EAAM,QAAQ,CAAC,CAAC;QAC3B,CAAC;QAEM,iBAAiB,CAAC,SAAqF,EAAE,OAAgC;YAC/I,OAAO,EAAE,CAAC;QACX,CAAC;QAEM,YAAY,CAAC,MAAc,EAAE,SAAkB;YACrD,OAAO,GAAG,CAAC;QACZ,CAAC;QAEM,iBAAiB,CAAC,SAAiC;YACzD,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;QACpC,CAAC;QAEM,uBAAuB,CAAC,SAAiC;YAC/D,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC;QAEM,YAAY;YAClB,OAAO,EAAE,CAAC;QACX,CAAC;QAEM,cAAc;YACpB,OAAO,SAAS,CAAC;QAClB,CAAC;KACD;IAGD,IAAM,4BAA4B,GAAlC,MAAM,4BAA6B,SAAQ,yBAAI;QAE9C,YACiB,aAAkB,EACG,CAAuB;YAE5D,KAAK,CAAC,aAAa,CAAC,CAAC;YAFgB,MAAC,GAAD,CAAC,CAAsB;QAG7D,CAAC;QAEQ,eAAe,CAAC,QAA8B,EAAE,SAAuB,EAAE,UAAoB;YACrG,IAAI,CAAC,SAAS,EAAE;gBACf,MAAM,UAAU,GAAG,IAAI,CAAC,CAAC,CAAkB,oBAAoB,EAAE,IAAI,IAAI,CAAC,CAAC,CAAkB,mBAAmB,EAAE,CAAC;gBACnH,IAAI,UAAU,EAAE;oBACf,SAAS,GAAG,UAAU,CAAC,mBAAmB,EAAE,CAAC;iBAC7C;aACD;YACD,OAAO,KAAK,CAAC,eAAe,CAAC,QAAQ,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;QAC/D,CAAC;KACD,CAAA;IAlBK,4BAA4B;QAG/B,WAAA,mBAAG,CAAA;QACH,WAAA,uBAAG,CAAA;OAJA,4BAA4B,CAkBjC;IAED,MAAM,yCAAyC;QAA/C;YAGS,MAAC,GAAe,IAAI,WAAG,EAAa,CAAC;YAC7B,qBAAgB,GAAmB,IAAI,CAAC,CAAC,CAAa,KAAK,CAAC;YAC5E,8BAAyB,GAAgB,IAAI,CAAC,CAAC,CAAa,KAAK,CAAC;YAClD,sBAAiB,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;YACtC,8BAAyB,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;YAC9C,+BAA0B,GAAG,IAAI,CAAC;QAmCnD,CAAC;QAjCA,kBAAkB;YACjB,OAAO,IAAI,CAAC;QACb,CAAC;QACD,sBAAsB;YACrB,OAAO,KAAK,CAAC;QACd,CAAC;QACD,uBAAuB;YACtB,OAAO,KAAK,CAAC;QACd,CAAC;QACD,KAAK,CAAC,oBAAoB,CAAC,OAAgB;YAC1C,OAAO;QACR,CAAC;QACD,oBAAoB;YACnB,OAAO,KAAK,CAAC;QACd,CAAC;QACD,KAAK,CAAC,iBAAiB,CAAC,OAAgB;YACvC,OAAO;QACR,CAAC;QACD,eAAe,CAAC,GAAQ;YACvB,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;QAC1C,CAAC;QACD,KAAK,CAAC,YAAY,CAAC,GAAU,EAAE,OAAgB;YAC9C,OAAO;QACR,CAAC;QACD,cAAc;YACb,OAAO,EAAE,CAAC;QACX,CAAC;QACD,KAAK,CAAC,cAAc,CAAC,IAAW;YAC/B,OAAO;QACR,CAAC;QACD,sCAAsC,CAAC,WAAiD;YACvF,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;QAC1C,CAAC;KACD;IAED,MAAM,yBAA0B,SAAQ,sBAAI;QAC3C;YACC,KAAK,EAAE,CAAC;QACT,CAAC;KACD;IAED,MAAM,oBAAqB,SAAQ,gBAAG;QACrC;YACC,KAAK,CAAC,IAAI,SAAG,EAAY,CAAC,CAAC;QAC5B,CAAC;KACD;IAED,IAAM,4BAA4B,GAAlC,MAAM,4BAA6B,SAAQ,yBAAI;QAC9C,YACoB,gBAAqB,EAClB,mBAAwB,EACzB,kBAAuB,EACxB,iBAAsB,EAC5B,WAAgB,EACV,iBAAsB;YAE1C,KAAK,CAAC,gBAAgB,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,WAAW,EAAE,iBAAiB,CAAC,CAAC;YACpH,IAAI,CAAC,SAAS,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,+CAA+C;QACvF,CAAC;KACD,CAAA;IAZK,4BAA4B;QAE/B,WAAA,eAAG,CAAA;QACH,WAAA,kBAAG,CAAA;QACH,WAAA,iBAAG,CAAA;QACH,WAAA,gBAAG,CAAA;QACH,WAAA,aAAG,CAAA;QACH,WAAA,gBAAG,CAAA;OAPA,4BAA4B,CAYjC;IAED,MAAM,sBAAsB;QAE3B,KAAK,CAAC,YAAY,CAAC,GAAQ,EAAO,OAAW;QAC7C,CAAC;QAED,KAAK,CAAC,aAAa,CAAC,IAAgB;QACpC,CAAC;QAED,SAAS,CAAC,GAAQ;YACjB,OAAO,KAAK,CAAC;QACd,CAAC;QAED,gBAAgB,CAAC,GAAQ;YACxB,OAAO,aAAK,CAAC,IAAI,CAAC;QACnB,CAAC;QAED,KAAK,CAAC,SAAS,CAAC,GAAQ,EAAI,mBAAyC;QACrE,CAAC;QACD,gBAAgB,CAAC,GAAQ;YACxB,OAAO,IAAA,eAAG,EAAU,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QAChC,CAAC;KACD;IAMD,IAAA,gBAAG,EAAe,mBAAG,EAAoB,IAAI,kCAAoD,CAAC;IAClG,IAAA,gBAAG,EAAe,+BAAG,EAAgC,sCAAsC,kCAA0B,CAAC;IACtH,IAAA,gBAAG,EAAe,+BAAG,EAA6B,mCAAmC,kCAA0B,CAAC;IAChH,IAAA,gBAAG,EAAe,eAAG,EAAuB,iCAAiC,kCAA0B,CAAC;IACxG,IAAA,gBAAG,EAAe,WAAG,EAAY,yBAAyB,kCAA0B,CAAC;IACrF,IAAA,gBAAG,EAAe,eAAG,EAAgB,0BAA0B,kCAA0B,CAAC;IAC1F,IAAA,gBAAG,EAAe,aAAG,EAAa,uBAAuB,kCAA0B,CAAC;IACpF,IAAA,gBAAG,EAAe,iBAAG,EAAkB,4BAA4B,kCAA0B,CAAC;IAC9F,IAAA,gBAAG,EAAe,kBAAG,EAAmB,IAAI,kCAAmD,CAAC;IAChG,IAAA,gBAAG,EAAe,aAAG,EAAa,oBAAI,kCAAmC,CAAC;IAC1E,IAAA,gBAAG,EAAe,cAAG,EAAe,yBAAyB,kCAA0B,CAAC;IACxF,IAAA,gBAAG,EAAe,sBAAI,EAAqB,6BAAI,kCAA4C,CAAC;IAC5F,IAAA,gBAAG,EAAe,SAAG,EAAU,oBAAoB,kCAA0B,CAAC;IAC9E,IAAA,gBAAG,EAAe,WAAG,EAAY,mBAAI,kCAAkC,CAAC;IACxE,IAAA,gBAAG,EAAe,uBAAG,EAAwB,+BAAI,kCAA8C,CAAC;IAChG,IAAA,gBAAG,EAAe,gBAAG,EAAiB,wBAAI,kCAAuC,CAAC;IAClF,IAAA,gBAAG,EAAe,cAAG,EAAe,yBAAyB,kCAA0B,CAAC;IACxF,IAAA,gBAAG,EAAe,cAAG,EAAqB,+BAA+B,kCAA0B,CAAC;IACpG,IAAA,gBAAG,EAAe,aAAG,EAAc,aAAG,kCAA6C,CAAC;IACpF,IAAA,gBAAG,EAAe,kBAAG,EAAmB,yBAAG,kCAA0C,CAAC;IACtF,IAAA,gBAAG,EAAe,qBAAG,EAAe,yBAAyB,kCAA0B,CAAC;IACxF,IAAA,gBAAG,EAAe,oBAAG,EAA+B,yCAAyC,kCAA0B,CAAC;IACxH,IAAA,gBAAG,EAAe,qBAAG,EAAgB,0BAA0B,kCAA0B,CAAC;IAC1F,IAAA,gBAAG,EAAe,mBAAG,EAAoB,2BAAI,kCAA0C,CAAC;IACxF,IAAA,gBAAG,EAAe,iBAAG,EAAW,iBAAG,kCAAkC,CAAC;IACtE,IAAA,gBAAG,EAAe,cAAG,EAAc,IAAI,kCAA8C,CAAC;IACtF,IAAA,gBAAG,EAAe,gBAAG,EAAiB,IAAI,kCAAiD,CAAC;IAC5F,IAAA,gBAAG,EAAe,gBAAG,EAAiB,kCAAI,kCAAiD,CAAC;IAC5F,IAAA,gBAAG,EAAe,iBAAG,EAAkB,4BAA4B,kCAA0B,CAAC;IAC9F,IAAA,gBAAG,EAAe,YAAG,EAAa,oBAAI,kCAAmC,CAAC;IAC1E,IAAA,gBAAG,EAAe,sBAAG,EAAgB,uBAAI,kCAA6C,CAAC;IACvF,IAAA,gBAAG,EAAe,iBAAG,EAAkB,4BAA4B,kCAA0B,CAAC;IAC9F,IAAA,gBAAG,EAAe,aAAG,EAAW,kBAAI,kCAAiC,CAAC;IACtE,IAAA,gBAAG,EAAe,qBAAG,EAAe,sBAAsB,kCAA0B,CAAC;IAErF;;;OAGG;IACH,IAAc,kBAAkB,CAqF/B;IArFD,WAAc,kBAAkB;QAE/B,MAAM,iBAAiB,GAAG,IAAI,uBAAG,EAAgB,CAAC;QAClD,KAAK,MAAM,CAAC,EAAE,EAAE,UAAU,CAAC,IAAI,IAAA,gBAAG,GAA6B,EAAE;YAChE,iBAAiB,CAAC,GAAG,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;SACtC;QAED,MAAM,oBAAoB,GAAG,IAAI,0BAAG,CAAkB,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAC/E,iBAAiB,CAAC,GAAG,CAAC,mBAAG,EAAoB,oBAAoB,CAAC,CAAC;QAEnE,SAAgB,GAAG,CAAI,SAA+B;YACrD,IAAI,CAAC,WAAW,EAAE;gBACjB,UAAU,CAAC,EAAE,CAAC,CAAC;aACf;YACD,MAAM,CAAC,GAAG,iBAAiB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,CAAC,CAAC,EAAE;gBACP,MAAM,IAAI,KAAK,CAAC,kBAAkB,GAAG,SAAS,CAAC,CAAC;aAChD;YACD,IAAI,CAAC,YAAY,iBAAG,EAAa;gBAChC,OAAO,oBAAoB,CAAC,cAAc,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;aAClF;iBAAM;gBACN,OAAO,CAAC,CAAC;aACT;QACF,CAAC;QAbe,sBAAG,MAalB,CAAA;QAED,IAAI,WAAW,GAAG,KAAK,CAAC;QACxB,MAAM,eAAe,GAAG,IAAI,WAAG,EAAY,CAAC;QAC5C,SAAgB,UAAU,CAAC,SAAkC;YAC5D,IAAI,WAAW,EAAE;gBAChB,OAAO,oBAAoB,CAAC;aAC5B;YACD,WAAW,GAAG,IAAI,CAAC;YAEnB,+DAA+D;YAC/D,KAAK,MAAM,CAAC,EAAE,EAAE,UAAU,CAAC,IAAI,IAAA,gBAAG,GAA6B,EAAE;gBAChE,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;oBAC/B,iBAAiB,CAAC,GAAG,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;iBACtC;aACD;YAED,wEAAwE;YACxE,gDAAgD;YAChD,KAAK,MAAM,SAAS,IAAI,SAAS,EAAE;gBAClC,IAAI,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;oBACxC,MAAM,iBAAiB,GAAG,IAAA,mBAAG,EAAa,SAAS,CAAC,CAAC;oBACrD,MAAM,CAAC,GAAG,iBAAiB,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;oBACnD,IAAI,CAAC,YAAY,iBAAG,EAAa;wBAChC,iBAAiB,CAAC,GAAG,CAAC,iBAAiB,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;qBAC/D;iBACD;aACD;YAED,kCAAkC;YAClC,MAAM,cAAc,GAAG,IAAA,oBAAG,GAAgB,CAAC;YAC3C,KAAK,MAAM,OAAO,IAAI,cAAc,EAAE;gBACrC,IAAI;oBACH,oBAAoB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;iBAC7C;gBAAC,OAAO,GAAG,EAAE;oBACb,IAAA,WAAE,EAAgB,GAAG,CAAC,CAAC;iBACvB;aACD;YAED,eAAe,CAAC,IAAI,EAAE,CAAC;YAEvB,OAAO,oBAAoB,CAAC;QAC7B,CAAC;QAtCe,6BAAU,aAsCzB,CAAA;QAED;;WAEG;QACH,SAAgB,YAAY,CAAC,QAA2B;YACvD,IAAI,WAAW,EAAE;gBAChB,OAAO,QAAQ,EAAE,CAAC;aAClB;YAED,MAAM,UAAU,GAAG,IAAI,eAAG,EAAc,CAAC;YAEzC,MAAM,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,EAAE;gBAC1D,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACnB,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC,CAAC;YAEJ,OAAO,UAAU,CAAC;QACnB,CAAC;QAbe,+BAAY,eAa3B,CAAA;IAEF,CAAC,EArFa,kBAAkB,kCAAlB,kBAAkB,QAqF/B","file":"standaloneServices.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/editor/common/languages/languageConfigurationRegistry';\nimport 'vs/editor/standalone/browser/standaloneCodeEditorService';\nimport 'vs/editor/standalone/browser/standaloneLayoutService';\nimport 'vs/platform/undoRedo/common/undoRedoService';\nimport 'vs/editor/common/services/languageFeatureDebounce';\nimport 'vs/editor/common/services/semanticTokensStylingService';\nimport 'vs/editor/common/services/languageFeaturesService';\n\nimport * as strings from 'vs/base/common/strings';\nimport * as dom from 'vs/base/browser/dom';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { ResolvedKeybinding, KeyCodeChord, Keybinding, decodeKeybinding } from 'vs/base/common/keybindings';\nimport { IDisposable, IReference, ImmortalReference, toDisposable, DisposableStore, Disposable, combinedDisposable } from 'vs/base/common/lifecycle';\nimport { OS, isLinux, isMacintosh } from 'vs/base/common/platform';\nimport Severity from 'vs/base/common/severity';\nimport { URI } from 'vs/base/common/uri';\nimport { IBulkEditOptions, IBulkEditResult, IBulkEditService, ResourceEdit, ResourceTextEdit } from 'vs/editor/browser/services/bulkEditService';\nimport { isDiffEditorConfigurationKey, isEditorConfigurationKey } from 'vs/editor/common/config/editorConfigurationSchema';\nimport { EditOperation, ISingleEditOperation } from 'vs/editor/common/core/editOperation';\nimport { IPosition, Position as Pos } from 'vs/editor/common/core/position';\nimport { Range } from 'vs/editor/common/core/range';\nimport { ITextModel, ITextSnapshot } from 'vs/editor/common/model';\nimport { IModelService } from 'vs/editor/common/services/model';\nimport { IResolvedTextEditorModel, ITextModelContentProvider, ITextModelService } from 'vs/editor/common/services/resolverService';\nimport { ITextResourceConfigurationService, ITextResourcePropertiesService, ITextResourceConfigurationChangeEvent } from 'vs/editor/common/services/textResourceConfiguration';\nimport { CommandsRegistry, ICommandEvent, ICommandHandler, ICommandService } from 'vs/platform/commands/common/commands';\nimport { IConfigurationChangeEvent, IConfigurationData, IConfigurationOverrides, IConfigurationService, IConfigurationModel, IConfigurationValue, ConfigurationTarget } from 'vs/platform/configuration/common/configuration';\nimport { Configuration, ConfigurationModel, ConfigurationChangeEvent } from 'vs/platform/configuration/common/configurationModels';\nimport { IContextKeyService, ContextKeyExpression } from 'vs/platform/contextkey/common/contextkey';\nimport { IConfirmation, IConfirmationResult, IDialogService, IInputResult, IPrompt, IPromptResult, IPromptWithCustomCancel, IPromptResultWithCancel, IPromptWithDefaultCancel, IPromptBaseButton } from 'vs/platform/dialogs/common/dialogs';\nimport { createDecorator, IInstantiationService, ServiceIdentifier } from 'vs/platform/instantiation/common/instantiation';\nimport { AbstractKeybindingService } from 'vs/platform/keybinding/common/abstractKeybindingService';\nimport { IKeybindingService, IKeyboardEvent, KeybindingsSchemaContribution } from 'vs/platform/keybinding/common/keybinding';\nimport { KeybindingResolver } from 'vs/platform/keybinding/common/keybindingResolver';\nimport { IKeybindingItem, KeybindingsRegistry } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { ResolvedKeybindingItem } from 'vs/platform/keybinding/common/resolvedKeybindingItem';\nimport { USLayoutResolvedKeybinding } from 'vs/platform/keybinding/common/usLayoutResolvedKeybinding';\nimport { ILabelService, ResourceLabelFormatter, IFormatterChangeEvent, Verbosity } from 'vs/platform/label/common/label';\nimport { INotification, INotificationHandle, INotificationService, IPromptChoice, IPromptOptions, NoOpNotification, IStatusMessageOptions } from 'vs/platform/notification/common/notification';\nimport { IProgressRunner, IEditorProgressService, IProgressService, IProgress, IProgressCompositeOptions, IProgressDialogOptions, IProgressNotificationOptions, IProgressOptions, IProgressStep, IProgressWindowOptions } from 'vs/platform/progress/common/progress';\nimport { ITelemetryService, TelemetryLevel } from 'vs/platform/telemetry/common/telemetry';\nimport { ISingleFolderWorkspaceIdentifier, IWorkspaceIdentifier, IWorkspace, IWorkspaceContextService, IWorkspaceFolder, IWorkspaceFoldersChangeEvent, IWorkspaceFoldersWillChangeEvent, WorkbenchState, WorkspaceFolder, STANDALONE_EDITOR_WORKSPACE_ID } from 'vs/platform/workspace/common/workspace';\nimport { ILayoutService } from 'vs/platform/layout/browser/layoutService';\nimport { StandaloneServicesNLS } from 'vs/editor/common/standaloneStrings';\nimport { basename } from 'vs/base/common/resources';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\nimport { ConsoleLogger, ILogService } from 'vs/platform/log/common/log';\nimport { IWorkspaceTrustManagementService, IWorkspaceTrustTransitionParticipant, IWorkspaceTrustUriInfo } from 'vs/platform/workspace/common/workspaceTrust';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { ICodeEditor, IDiffEditor } from 'vs/editor/browser/editorBrowser';\nimport { IContextMenuService, IContextViewDelegate, IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { ContextViewService } from 'vs/platform/contextview/browser/contextViewService';\nimport { LanguageService } from 'vs/editor/common/services/languageService';\nimport { ContextMenuService } from 'vs/platform/contextview/browser/contextMenuService';\nimport { getSingletonServiceDescriptors, InstantiationType, registerSingleton } from 'vs/platform/instantiation/common/extensions';\nimport { OpenerService } from 'vs/editor/browser/services/openerService';\nimport { IEditorWorkerService } from 'vs/editor/common/services/editorWorker';\nimport { EditorWorkerService } from 'vs/editor/browser/services/editorWorkerService';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { MarkerDecorationsService } from 'vs/editor/common/services/markerDecorationsService';\nimport { IMarkerDecorationsService } from 'vs/editor/common/services/markerDecorations';\nimport { ModelService } from 'vs/editor/common/services/modelService';\nimport { StandaloneQuickInputService } from 'vs/editor/standalone/browser/quickInput/standaloneQuickInputService';\nimport { StandaloneThemeService } from 'vs/editor/standalone/browser/standaloneThemeService';\nimport { IStandaloneThemeService } from 'vs/editor/standalone/common/standaloneTheme';\nimport { AccessibilityService } from 'vs/platform/accessibility/browser/accessibilityService';\nimport { IAccessibilityService } from 'vs/platform/accessibility/common/accessibility';\nimport { IMenuService } from 'vs/platform/actions/common/actions';\nimport { MenuService } from 'vs/platform/actions/common/menuService';\nimport { BrowserClipboardService } from 'vs/platform/clipboard/browser/clipboardService';\nimport { IClipboardService } from 'vs/platform/clipboard/common/clipboardService';\nimport { ContextKeyService } from 'vs/platform/contextkey/browser/contextKeyService';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { InstantiationService } from 'vs/platform/instantiation/common/instantiationService';\nimport { ServiceCollection } from 'vs/platform/instantiation/common/serviceCollection';\nimport { IListService, ListService } from 'vs/platform/list/browser/listService';\nimport { IMarkerService } from 'vs/platform/markers/common/markers';\nimport { MarkerService } from 'vs/platform/markers/common/markerService';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { IStorageService, InMemoryStorageService } from 'vs/platform/storage/common/storage';\nimport { DefaultConfiguration } from 'vs/platform/configuration/common/configurations';\nimport { WorkspaceEdit } from 'vs/editor/common/languages';\nimport { AudioCue, IAudioCueService, Sound } from 'vs/platform/audioCues/browser/audioCueService';\nimport { LogService } from 'vs/platform/log/common/logService';\nimport { getEditorFeatures } from 'vs/editor/common/editorFeatures';\nimport { onUnexpectedError } from 'vs/base/common/errors';\nimport { ExtensionKind, IEnvironmentService, IExtensionHostDebugParams } from 'vs/platform/environment/common/environment';\n\nclass SimpleModel implements IResolvedTextEditorModel {\n\n\tprivate readonly model: ITextModel;\n\tprivate readonly _onWillDispose: Emitter<void>;\n\n\tconstructor(model: ITextModel) {\n\t\tthis.model = model;\n\t\tthis._onWillDispose = new Emitter<void>();\n\t}\n\n\tpublic get onWillDispose(): Event<void> {\n\t\treturn this._onWillDispose.event;\n\t}\n\n\tpublic resolve(): Promise<void> {\n\t\treturn Promise.resolve();\n\t}\n\n\tpublic get textEditorModel(): ITextModel {\n\t\treturn this.model;\n\t}\n\n\tpublic createSnapshot(): ITextSnapshot {\n\t\treturn this.model.createSnapshot();\n\t}\n\n\tpublic isReadonly(): boolean {\n\t\treturn false;\n\t}\n\n\tprivate disposed = false;\n\tpublic dispose(): void {\n\t\tthis.disposed = true;\n\n\t\tthis._onWillDispose.fire();\n\t}\n\n\tpublic isDisposed(): boolean {\n\t\treturn this.disposed;\n\t}\n\n\tpublic isResolved(): boolean {\n\t\treturn true;\n\t}\n\n\tpublic getLanguageId(): string | undefined {\n\t\treturn this.model.getLanguageId();\n\t}\n}\n\nclass StandaloneTextModelService implements ITextModelService {\n\tpublic _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IModelService private readonly modelService: IModelService\n\t) { }\n\n\tpublic createModelReference(resource: URI): Promise<IReference<IResolvedTextEditorModel>> {\n\t\tconst model = this.modelService.getModel(resource);\n\n\t\tif (!model) {\n\t\t\treturn Promise.reject(new Error(`Model not found`));\n\t\t}\n\n\t\treturn Promise.resolve(new ImmortalReference(new SimpleModel(model)));\n\t}\n\n\tpublic registerTextModelContentProvider(scheme: string, provider: ITextModelContentProvider): IDisposable {\n\t\treturn {\n\t\t\tdispose: function () { /* no op */ }\n\t\t};\n\t}\n\n\tpublic canHandleResource(resource: URI): boolean {\n\t\treturn false;\n\t}\n}\n\nclass StandaloneEditorProgressService implements IEditorProgressService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate static NULL_PROGRESS_RUNNER: IProgressRunner = {\n\t\tdone: () => { },\n\t\ttotal: () => { },\n\t\tworked: () => { }\n\t};\n\n\tshow(infinite: true, delay?: number): IProgressRunner;\n\tshow(total: number, delay?: number): IProgressRunner;\n\tshow(): IProgressRunner {\n\t\treturn StandaloneEditorProgressService.NULL_PROGRESS_RUNNER;\n\t}\n\n\tasync showWhile(promise: Promise<any>, delay?: number): Promise<void> {\n\t\tawait promise;\n\t}\n}\n\nclass StandaloneProgressService implements IProgressService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\twithProgress<R>(_options: IProgressOptions | IProgressDialogOptions | IProgressNotificationOptions | IProgressWindowOptions | IProgressCompositeOptions, task: (progress: IProgress<IProgressStep>) => Promise<R>, onDidCancel?: ((choice?: number | undefined) => void) | undefined): Promise<R> {\n\t\treturn task({\n\t\t\treport: () => { },\n\t\t});\n\t}\n}\n\nclass StandaloneEnvironmentService implements IEnvironmentService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\treadonly stateResource: URI = URI.from({ scheme: 'monaco', authority: 'stateResource' });\n\treadonly userRoamingDataHome: URI = URI.from({ scheme: 'monaco', authority: 'userRoamingDataHome' });\n\treadonly keyboardLayoutResource: URI = URI.from({ scheme: 'monaco', authority: 'keyboardLayoutResource' });\n\treadonly argvResource: URI = URI.from({ scheme: 'monaco', authority: 'argvResource' });\n\treadonly untitledWorkspacesHome: URI = URI.from({ scheme: 'monaco', authority: 'untitledWorkspacesHome' });\n\treadonly workspaceStorageHome: URI = URI.from({ scheme: 'monaco', authority: 'workspaceStorageHome' });\n\treadonly localHistoryHome: URI = URI.from({ scheme: 'monaco', authority: 'localHistoryHome' });\n\treadonly cacheHome: URI = URI.from({ scheme: 'monaco', authority: 'cacheHome' });\n\treadonly userDataSyncHome: URI = URI.from({ scheme: 'monaco', authority: 'userDataSyncHome' });\n\treadonly sync: 'on' | 'off' | undefined = undefined;\n\treadonly continueOn?: string | undefined = undefined;\n\treadonly editSessionId?: string | undefined = undefined;\n\treadonly debugExtensionHost: IExtensionHostDebugParams = { port: null, break: false };\n\treadonly isExtensionDevelopment: boolean = false;\n\treadonly disableExtensions: boolean | string[] = false;\n\treadonly enableExtensions?: readonly string[] | undefined = undefined;\n\treadonly extensionDevelopmentLocationURI?: URI[] | undefined = undefined;\n\treadonly extensionDevelopmentKind?: ExtensionKind[] | undefined = undefined;\n\treadonly extensionTestsLocationURI?: URI | undefined = undefined;\n\treadonly logsHome: URI = URI.from({ scheme: 'monaco', authority: 'logsHome' });\n\treadonly logLevel?: string | undefined = undefined;\n\treadonly extensionLogLevel?: [string, string][] | undefined = undefined;\n\treadonly verbose: boolean = false;\n\treadonly isBuilt: boolean = false;\n\treadonly disableTelemetry: boolean = false;\n\treadonly serviceMachineIdResource: URI = URI.from({ scheme: 'monaco', authority: 'serviceMachineIdResource' });\n\treadonly policyFile?: URI | undefined = undefined;\n}\n\nclass StandaloneDialogService implements IDialogService {\n\n\t_serviceBrand: undefined;\n\n\treadonly onWillShowDialog = Event.None;\n\treadonly onDidShowDialog = Event.None;\n\n\tasync confirm(confirmation: IConfirmation): Promise<IConfirmationResult> {\n\t\tconst confirmed = this.doConfirm(confirmation.message, confirmation.detail);\n\n\t\treturn {\n\t\t\tconfirmed,\n\t\t\tcheckboxChecked: false // unsupported\n\t\t} as IConfirmationResult;\n\t}\n\n\tprivate doConfirm(message: string, detail?: string): boolean {\n\t\tlet messageText = message;\n\t\tif (detail) {\n\t\t\tmessageText = messageText + '\\n\\n' + detail;\n\t\t}\n\n\t\treturn window.confirm(messageText);\n\t}\n\n\tprompt<T>(prompt: IPromptWithCustomCancel<T>): Promise<IPromptResultWithCancel<T>>;\n\tprompt<T>(prompt: IPrompt<T>): Promise<IPromptResult<T>>;\n\tprompt<T>(prompt: IPromptWithDefaultCancel<T>): Promise<IPromptResult<T>>;\n\tasync prompt<T>(prompt: IPrompt<T> | IPromptWithCustomCancel<T>): Promise<IPromptResult<T> | IPromptResultWithCancel<T>> {\n\t\tlet result: T | undefined = undefined;\n\t\tconst confirmed = this.doConfirm(prompt.message, prompt.detail);\n\t\tif (confirmed) {\n\t\t\tconst promptButtons: IPromptBaseButton<T>[] = [...(prompt.buttons ?? [])];\n\t\t\tif (prompt.cancelButton && typeof prompt.cancelButton !== 'string' && typeof prompt.cancelButton !== 'boolean') {\n\t\t\t\tpromptButtons.push(prompt.cancelButton);\n\t\t\t}\n\n\t\t\tresult = await promptButtons[0]?.run({ checkboxChecked: false });\n\t\t}\n\n\t\treturn { result };\n\t}\n\n\tasync info(message: string, detail?: string): Promise<void> {\n\t\tawait this.prompt({ type: Severity.Info, message, detail });\n\t}\n\n\tasync warn(message: string, detail?: string): Promise<void> {\n\t\tawait this.prompt({ type: Severity.Warning, message, detail });\n\t}\n\n\tasync error(message: string, detail?: string): Promise<void> {\n\t\tawait this.prompt({ type: Severity.Error, message, detail });\n\t}\n\n\tinput(): Promise<IInputResult> {\n\t\treturn Promise.resolve({ confirmed: false }); // unsupported\n\t}\n\n\tabout(): Promise<void> {\n\t\treturn Promise.resolve(undefined);\n\t}\n}\n\nexport class StandaloneNotificationService implements INotificationService {\n\n\treadonly onDidAddNotification: Event<INotification> = Event.None;\n\n\treadonly onDidRemoveNotification: Event<INotification> = Event.None;\n\n\treadonly onDidChangeDoNotDisturbMode: Event<void> = Event.None;\n\n\tpublic _serviceBrand: undefined;\n\n\tpublic doNotDisturbMode: boolean = false;\n\n\tprivate static readonly NO_OP: INotificationHandle = new NoOpNotification();\n\n\tpublic info(message: string): INotificationHandle {\n\t\treturn this.notify({ severity: Severity.Info, message });\n\t}\n\n\tpublic warn(message: string): INotificationHandle {\n\t\treturn this.notify({ severity: Severity.Warning, message });\n\t}\n\n\tpublic error(error: string | Error): INotificationHandle {\n\t\treturn this.notify({ severity: Severity.Error, message: error });\n\t}\n\n\tpublic notify(notification: INotification): INotificationHandle {\n\t\tswitch (notification.severity) {\n\t\t\tcase Severity.Error:\n\t\t\t\tconsole.error(notification.message);\n\t\t\t\tbreak;\n\t\t\tcase Severity.Warning:\n\t\t\t\tconsole.warn(notification.message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log(notification.message);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn StandaloneNotificationService.NO_OP;\n\t}\n\n\tpublic prompt(severity: Severity, message: string, choices: IPromptChoice[], options?: IPromptOptions): INotificationHandle {\n\t\treturn StandaloneNotificationService.NO_OP;\n\t}\n\n\tpublic status(message: string | Error, options?: IStatusMessageOptions): IDisposable {\n\t\treturn Disposable.None;\n\t}\n}\n\nexport class StandaloneCommandService implements ICommandService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _instantiationService: IInstantiationService;\n\n\tprivate readonly _onWillExecuteCommand = new Emitter<ICommandEvent>();\n\tprivate readonly _onDidExecuteCommand = new Emitter<ICommandEvent>();\n\tpublic readonly onWillExecuteCommand: Event<ICommandEvent> = this._onWillExecuteCommand.event;\n\tpublic readonly onDidExecuteCommand: Event<ICommandEvent> = this._onDidExecuteCommand.event;\n\n\tconstructor(\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tthis._instantiationService = instantiationService;\n\t}\n\n\tpublic executeCommand<T>(id: string, ...args: any[]): Promise<T> {\n\t\tconst command = CommandsRegistry.getCommand(id);\n\t\tif (!command) {\n\t\t\treturn Promise.reject(new Error(`command '${id}' not found`));\n\t\t}\n\n\t\ttry {\n\t\t\tthis._onWillExecuteCommand.fire({ commandId: id, args });\n\t\t\tconst result = this._instantiationService.invokeFunction.apply(this._instantiationService, [command.handler, ...args]) as T;\n\n\t\t\tthis._onDidExecuteCommand.fire({ commandId: id, args });\n\t\t\treturn Promise.resolve(result);\n\t\t} catch (err) {\n\t\t\treturn Promise.reject(err);\n\t\t}\n\t}\n}\n\nexport interface IKeybindingRule {\n\tkeybinding: number;\n\tcommand?: string | null;\n\tcommandArgs?: any;\n\twhen?: ContextKeyExpression | null;\n}\n\nexport class StandaloneKeybindingService extends AbstractKeybindingService {\n\tprivate _cachedResolver: KeybindingResolver | null;\n\tprivate _dynamicKeybindings: IKeybindingItem[];\n\tprivate readonly _domNodeListeners: DomNodeListeners[];\n\n\tconstructor(\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@ILogService logService: ILogService,\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService\n\t) {\n\t\tsuper(contextKeyService, commandService, telemetryService, notificationService, logService);\n\n\t\tthis._cachedResolver = null;\n\t\tthis._dynamicKeybindings = [];\n\t\tthis._domNodeListeners = [];\n\n\t\tconst addContainer = (domNode: HTMLElement) => {\n\t\t\tconst disposables = new DisposableStore();\n\n\t\t\t// for standard keybindings\n\t\t\tdisposables.add(dom.addDisposableListener(domNode, dom.EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\t\tconst keyEvent = new StandardKeyboardEvent(e);\n\t\t\t\tconst shouldPreventDefault = this._dispatch(keyEvent, keyEvent.target);\n\t\t\t\tif (shouldPreventDefault) {\n\t\t\t\t\tkeyEvent.preventDefault();\n\t\t\t\t\tkeyEvent.stopPropagation();\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// for single modifier chord keybindings (e.g. shift shift)\n\t\t\tdisposables.add(dom.addDisposableListener(domNode, dom.EventType.KEY_UP, (e: KeyboardEvent) => {\n\t\t\t\tconst keyEvent = new StandardKeyboardEvent(e);\n\t\t\t\tconst shouldPreventDefault = this._singleModifierDispatch(keyEvent, keyEvent.target);\n\t\t\t\tif (shouldPreventDefault) {\n\t\t\t\t\tkeyEvent.preventDefault();\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis._domNodeListeners.push(new DomNodeListeners(domNode, disposables));\n\t\t};\n\t\tconst removeContainer = (domNode: HTMLElement) => {\n\t\t\tfor (let i = 0; i < this._domNodeListeners.length; i++) {\n\t\t\t\tconst domNodeListeners = this._domNodeListeners[i];\n\t\t\t\tif (domNodeListeners.domNode === domNode) {\n\t\t\t\t\tthis._domNodeListeners.splice(i, 1);\n\t\t\t\t\tdomNodeListeners.dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst addCodeEditor = (codeEditor: ICodeEditor) => {\n\t\t\tif (codeEditor.getOption(EditorOption.inDiffEditor)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taddContainer(codeEditor.getContainerDomNode());\n\t\t};\n\t\tconst removeCodeEditor = (codeEditor: ICodeEditor) => {\n\t\t\tif (codeEditor.getOption(EditorOption.inDiffEditor)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tremoveContainer(codeEditor.getContainerDomNode());\n\t\t};\n\t\tthis._register(codeEditorService.onCodeEditorAdd(addCodeEditor));\n\t\tthis._register(codeEditorService.onCodeEditorRemove(removeCodeEditor));\n\t\tcodeEditorService.listCodeEditors().forEach(addCodeEditor);\n\n\t\tconst addDiffEditor = (diffEditor: IDiffEditor) => {\n\t\t\taddContainer(diffEditor.getContainerDomNode());\n\t\t};\n\t\tconst removeDiffEditor = (diffEditor: IDiffEditor) => {\n\t\t\tremoveContainer(diffEditor.getContainerDomNode());\n\t\t};\n\t\tthis._register(codeEditorService.onDiffEditorAdd(addDiffEditor));\n\t\tthis._register(codeEditorService.onDiffEditorRemove(removeDiffEditor));\n\t\tcodeEditorService.listDiffEditors().forEach(addDiffEditor);\n\t}\n\n\tpublic addDynamicKeybinding(command: string, keybinding: number, handler: ICommandHandler, when: ContextKeyExpression | undefined): IDisposable {\n\t\treturn combinedDisposable(\n\t\t\tCommandsRegistry.registerCommand(command, handler),\n\t\t\tthis.addDynamicKeybindings([{\n\t\t\t\tkeybinding,\n\t\t\t\tcommand,\n\t\t\t\twhen\n\t\t\t}])\n\t\t);\n\t}\n\n\tpublic addDynamicKeybindings(rules: IKeybindingRule[]): IDisposable {\n\t\tconst entries: IKeybindingItem[] = rules.map((rule) => {\n\t\t\tconst keybinding = decodeKeybinding(rule.keybinding, OS);\n\t\t\treturn {\n\t\t\t\tkeybinding,\n\t\t\t\tcommand: rule.command ?? null,\n\t\t\t\tcommandArgs: rule.commandArgs,\n\t\t\t\twhen: rule.when,\n\t\t\t\tweight1: 1000,\n\t\t\t\tweight2: 0,\n\t\t\t\textensionId: null,\n\t\t\t\tisBuiltinExtension: false\n\t\t\t};\n\t\t});\n\t\tthis._dynamicKeybindings = this._dynamicKeybindings.concat(entries);\n\n\t\tthis.updateResolver();\n\n\t\treturn toDisposable(() => {\n\t\t\t// Search the first entry and remove them all since they will be contiguous\n\t\t\tfor (let i = 0; i < this._dynamicKeybindings.length; i++) {\n\t\t\t\tif (this._dynamicKeybindings[i] === entries[0]) {\n\t\t\t\t\tthis._dynamicKeybindings.splice(i, entries.length);\n\t\t\t\t\tthis.updateResolver();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate updateResolver(): void {\n\t\tthis._cachedResolver = null;\n\t\tthis._onDidUpdateKeybindings.fire();\n\t}\n\n\tprotected _getResolver(): KeybindingResolver {\n\t\tif (!this._cachedResolver) {\n\t\t\tconst defaults = this._toNormalizedKeybindingItems(KeybindingsRegistry.getDefaultKeybindings(), true);\n\t\t\tconst overrides = this._toNormalizedKeybindingItems(this._dynamicKeybindings, false);\n\t\t\tthis._cachedResolver = new KeybindingResolver(defaults, overrides, (str) => this._log(str));\n\t\t}\n\t\treturn this._cachedResolver;\n\t}\n\n\tprotected _documentHasFocus(): boolean {\n\t\treturn document.hasFocus();\n\t}\n\n\tprivate _toNormalizedKeybindingItems(items: IKeybindingItem[], isDefault: boolean): ResolvedKeybindingItem[] {\n\t\tconst result: ResolvedKeybindingItem[] = [];\n\t\tlet resultLen = 0;\n\t\tfor (const item of items) {\n\t\t\tconst when = item.when || undefined;\n\t\t\tconst keybinding = item.keybinding;\n\n\t\t\tif (!keybinding) {\n\t\t\t\t// This might be a removal keybinding item in user settings => accept it\n\t\t\t\tresult[resultLen++] = new ResolvedKeybindingItem(undefined, item.command, item.commandArgs, when, isDefault, null, false);\n\t\t\t} else {\n\t\t\t\tconst resolvedKeybindings = USLayoutResolvedKeybinding.resolveKeybinding(keybinding, OS);\n\t\t\t\tfor (const resolvedKeybinding of resolvedKeybindings) {\n\t\t\t\t\tresult[resultLen++] = new ResolvedKeybindingItem(resolvedKeybinding, item.command, item.commandArgs, when, isDefault, null, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic resolveKeybinding(keybinding: Keybinding): ResolvedKeybinding[] {\n\t\treturn USLayoutResolvedKeybinding.resolveKeybinding(keybinding, OS);\n\t}\n\n\tpublic resolveKeyboardEvent(keyboardEvent: IKeyboardEvent): ResolvedKeybinding {\n\t\tconst chord = new KeyCodeChord(\n\t\t\tkeyboardEvent.ctrlKey,\n\t\t\tkeyboardEvent.shiftKey,\n\t\t\tkeyboardEvent.altKey,\n\t\t\tkeyboardEvent.metaKey,\n\t\t\tkeyboardEvent.keyCode\n\t\t);\n\t\treturn new USLayoutResolvedKeybinding([chord], OS);\n\t}\n\n\tpublic resolveUserBinding(userBinding: string): ResolvedKeybinding[] {\n\t\treturn [];\n\t}\n\n\tpublic _dumpDebugInfo(): string {\n\t\treturn '';\n\t}\n\n\tpublic _dumpDebugInfoJSON(): string {\n\t\treturn '';\n\t}\n\n\tpublic registerSchemaContribution(contribution: KeybindingsSchemaContribution): void {\n\t\t// noop\n\t}\n}\n\nclass DomNodeListeners extends Disposable {\n\tconstructor(\n\t\tpublic readonly domNode: HTMLElement,\n\t\tdisposables: DisposableStore\n\t) {\n\t\tsuper();\n\t\tthis._register(disposables);\n\t}\n}\n\nfunction isConfigurationOverrides(thing: any): thing is IConfigurationOverrides {\n\treturn thing\n\t\t&& typeof thing === 'object'\n\t\t&& (!thing.overrideIdentifier || typeof thing.overrideIdentifier === 'string')\n\t\t&& (!thing.resource || thing.resource instanceof URI);\n}\n\nexport class StandaloneConfigurationService implements IConfigurationService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidChangeConfiguration = new Emitter<IConfigurationChangeEvent>();\n\tpublic readonly onDidChangeConfiguration: Event<IConfigurationChangeEvent> = this._onDidChangeConfiguration.event;\n\n\tprivate readonly _configuration: Configuration;\n\n\tconstructor() {\n\t\tconst defaultConfiguration = new DefaultConfiguration();\n\t\tthis._configuration = new Configuration(defaultConfiguration.reload(), new ConfigurationModel(), new ConfigurationModel(), new ConfigurationModel());\n\t\tdefaultConfiguration.dispose();\n\t}\n\n\tgetValue<T>(): T;\n\tgetValue<T>(section: string): T;\n\tgetValue<T>(overrides: IConfigurationOverrides): T;\n\tgetValue<T>(section: string, overrides: IConfigurationOverrides): T;\n\tgetValue(arg1?: any, arg2?: any): any {\n\t\tconst section = typeof arg1 === 'string' ? arg1 : undefined;\n\t\tconst overrides = isConfigurationOverrides(arg1) ? arg1 : isConfigurationOverrides(arg2) ? arg2 : {};\n\t\treturn this._configuration.getValue(section, overrides, undefined);\n\t}\n\n\tpublic updateValues(values: [string, any][]): Promise<void> {\n\t\tconst previous = { data: this._configuration.toData() };\n\n\t\tconst changedKeys: string[] = [];\n\n\t\tfor (const entry of values) {\n\t\t\tconst [key, value] = entry;\n\t\t\tif (this.getValue(key) === value) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._configuration.updateValue(key, value);\n\t\t\tchangedKeys.push(key);\n\t\t}\n\n\t\tif (changedKeys.length > 0) {\n\t\t\tconst configurationChangeEvent = new ConfigurationChangeEvent({ keys: changedKeys, overrides: [] }, previous, this._configuration);\n\t\t\tconfigurationChangeEvent.source = ConfigurationTarget.MEMORY;\n\t\t\tconfigurationChangeEvent.sourceConfig = null;\n\t\t\tthis._onDidChangeConfiguration.fire(configurationChangeEvent);\n\t\t}\n\n\t\treturn Promise.resolve();\n\t}\n\n\tpublic updateValue(key: string, value: any, arg3?: any, arg4?: any): Promise<void> {\n\t\treturn this.updateValues([[key, value]]);\n\t}\n\n\tpublic inspect<C>(key: string, options: IConfigurationOverrides = {}): IConfigurationValue<C> {\n\t\treturn this._configuration.inspect<C>(key, options, undefined);\n\t}\n\n\tpublic keys() {\n\t\treturn this._configuration.keys(undefined);\n\t}\n\n\tpublic reloadConfiguration(): Promise<void> {\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic getConfigurationData(): IConfigurationData | null {\n\t\tconst emptyModel: IConfigurationModel = {\n\t\t\tcontents: {},\n\t\t\tkeys: [],\n\t\t\toverrides: []\n\t\t};\n\t\treturn {\n\t\t\tdefaults: emptyModel,\n\t\t\tpolicy: emptyModel,\n\t\t\tapplication: emptyModel,\n\t\t\tuser: emptyModel,\n\t\t\tworkspace: emptyModel,\n\t\t\tfolders: []\n\t\t};\n\t}\n}\n\nclass StandaloneResourceConfigurationService implements ITextResourceConfigurationService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidChangeConfiguration = new Emitter<ITextResourceConfigurationChangeEvent>();\n\tpublic readonly onDidChangeConfiguration = this._onDidChangeConfiguration.event;\n\n\tconstructor(\n\t\t@IConfigurationService private readonly configurationService: StandaloneConfigurationService,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@ILanguageService private readonly languageService: ILanguageService\n\t) {\n\t\tthis.configurationService.onDidChangeConfiguration((e) => {\n\t\t\tthis._onDidChangeConfiguration.fire({ affectedKeys: e.affectedKeys, affectsConfiguration: (resource: URI, configuration: string) => e.affectsConfiguration(configuration) });\n\t\t});\n\t}\n\n\tgetValue<T>(resource: URI, section?: string): T;\n\tgetValue<T>(resource: URI, position?: IPosition, section?: string): T;\n\tgetValue<T>(resource: URI | undefined, arg2?: any, arg3?: any) {\n\t\tconst position: IPosition | null = Pos.isIPosition(arg2) ? arg2 : null;\n\t\tconst section: string | undefined = position ? (typeof arg3 === 'string' ? arg3 : undefined) : (typeof arg2 === 'string' ? arg2 : undefined);\n\t\tconst language = resource ? this.getLanguage(resource, position) : undefined;\n\t\tif (typeof section === 'undefined') {\n\t\t\treturn this.configurationService.getValue<T>({\n\t\t\t\tresource,\n\t\t\t\toverrideIdentifier: language\n\t\t\t});\n\t\t}\n\t\treturn this.configurationService.getValue<T>(section, {\n\t\t\tresource,\n\t\t\toverrideIdentifier: language\n\t\t});\n\t}\n\n\tinspect<T>(resource: URI | undefined, position: IPosition | null, section: string): IConfigurationValue<Readonly<T>> {\n\t\tconst language = resource ? this.getLanguage(resource, position) : undefined;\n\t\treturn this.configurationService.inspect<T>(section, { resource, overrideIdentifier: language });\n\t}\n\n\tprivate getLanguage(resource: URI, position: IPosition | null): string | null {\n\t\tconst model = this.modelService.getModel(resource);\n\t\tif (model) {\n\t\t\treturn position ? model.getLanguageIdAtPosition(position.lineNumber, position.column) : model.getLanguageId();\n\t\t}\n\t\treturn this.languageService.guessLanguageIdByFilepathOrFirstLine(resource);\n\t}\n\n\tupdateValue(resource: URI, key: string, value: any, configurationTarget?: ConfigurationTarget): Promise<void> {\n\t\treturn this.configurationService.updateValue(key, value, { resource }, configurationTarget);\n\t}\n}\n\nclass StandaloneResourcePropertiesService implements ITextResourcePropertiesService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t) {\n\t}\n\n\tgetEOL(resource: URI, language?: string): string {\n\t\tconst eol = this.configurationService.getValue('files.eol', { overrideIdentifier: language, resource });\n\t\tif (eol && typeof eol === 'string' && eol !== 'auto') {\n\t\t\treturn eol;\n\t\t}\n\t\treturn (isLinux || isMacintosh) ? '\\n' : '\\r\\n';\n\t}\n}\n\nclass StandaloneTelemetryService implements ITelemetryService {\n\tdeclare readonly _serviceBrand: undefined;\n\treadonly telemetryLevel = TelemetryLevel.NONE;\n\treadonly sessionId = 'someValue.sessionId';\n\treadonly machineId = 'someValue.machineId';\n\treadonly firstSessionDate = 'someValue.firstSessionDate';\n\treadonly sendErrorTelemetry = false;\n\tsetEnabled(): void { }\n\tsetExperimentProperty(): void { }\n\tpublicLog() { }\n\tpublicLog2() { }\n\tpublicLogError() { }\n\tpublicLogError2() { }\n}\n\nclass StandaloneWorkspaceContextService implements IWorkspaceContextService {\n\n\tpublic _serviceBrand: undefined;\n\n\tprivate static readonly SCHEME = 'inmemory';\n\n\tprivate readonly _onDidChangeWorkspaceName = new Emitter<void>();\n\tpublic readonly onDidChangeWorkspaceName: Event<void> = this._onDidChangeWorkspaceName.event;\n\n\tprivate readonly _onWillChangeWorkspaceFolders = new Emitter<IWorkspaceFoldersWillChangeEvent>();\n\tpublic readonly onWillChangeWorkspaceFolders: Event<IWorkspaceFoldersWillChangeEvent> = this._onWillChangeWorkspaceFolders.event;\n\n\tprivate readonly _onDidChangeWorkspaceFolders = new Emitter<IWorkspaceFoldersChangeEvent>();\n\tpublic readonly onDidChangeWorkspaceFolders: Event<IWorkspaceFoldersChangeEvent> = this._onDidChangeWorkspaceFolders.event;\n\n\tprivate readonly _onDidChangeWorkbenchState = new Emitter<WorkbenchState>();\n\tpublic readonly onDidChangeWorkbenchState: Event<WorkbenchState> = this._onDidChangeWorkbenchState.event;\n\n\tprivate readonly workspace: IWorkspace;\n\n\tconstructor() {\n\t\tconst resource = URI.from({ scheme: StandaloneWorkspaceContextService.SCHEME, authority: 'model', path: '/' });\n\t\tthis.workspace = { id: STANDALONE_EDITOR_WORKSPACE_ID, folders: [new WorkspaceFolder({ uri: resource, name: '', index: 0 })] };\n\t}\n\n\tgetCompleteWorkspace(): Promise<IWorkspace> {\n\t\treturn Promise.resolve(this.getWorkspace());\n\t}\n\n\tpublic getWorkspace(): IWorkspace {\n\t\treturn this.workspace;\n\t}\n\n\tpublic getWorkbenchState(): WorkbenchState {\n\t\tif (this.workspace) {\n\t\t\tif (this.workspace.configuration) {\n\t\t\t\treturn WorkbenchState.WORKSPACE;\n\t\t\t}\n\t\t\treturn WorkbenchState.FOLDER;\n\t\t}\n\t\treturn WorkbenchState.EMPTY;\n\t}\n\n\tpublic getWorkspaceFolder(resource: URI): IWorkspaceFolder | null {\n\t\treturn resource && resource.scheme === StandaloneWorkspaceContextService.SCHEME ? this.workspace.folders[0] : null;\n\t}\n\n\tpublic isInsideWorkspace(resource: URI): boolean {\n\t\treturn resource && resource.scheme === StandaloneWorkspaceContextService.SCHEME;\n\t}\n\n\tpublic isCurrentWorkspace(workspaceIdOrFolder: IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier | URI): boolean {\n\t\treturn true;\n\t}\n}\n\nexport function updateConfigurationService(configurationService: IConfigurationService, source: any, isDiffEditor: boolean): void {\n\tif (!source) {\n\t\treturn;\n\t}\n\tif (!(configurationService instanceof StandaloneConfigurationService)) {\n\t\treturn;\n\t}\n\tconst toUpdate: [string, any][] = [];\n\tObject.keys(source).forEach((key) => {\n\t\tif (isEditorConfigurationKey(key)) {\n\t\t\ttoUpdate.push([`editor.${key}`, source[key]]);\n\t\t}\n\t\tif (isDiffEditor && isDiffEditorConfigurationKey(key)) {\n\t\t\ttoUpdate.push([`diffEditor.${key}`, source[key]]);\n\t\t}\n\t});\n\tif (toUpdate.length > 0) {\n\t\tconfigurationService.updateValues(toUpdate);\n\t}\n}\n\nclass StandaloneBulkEditService implements IBulkEditService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IModelService private readonly _modelService: IModelService\n\t) {\n\t\t//\n\t}\n\n\thasPreviewHandler(): false {\n\t\treturn false;\n\t}\n\n\tsetPreviewHandler(): IDisposable {\n\t\treturn Disposable.None;\n\t}\n\n\tasync apply(editsIn: ResourceEdit[] | WorkspaceEdit, _options?: IBulkEditOptions): Promise<IBulkEditResult> {\n\t\tconst edits = Array.isArray(editsIn) ? editsIn : ResourceEdit.convert(editsIn);\n\t\tconst textEdits = new Map<ITextModel, ISingleEditOperation[]>();\n\n\t\tfor (const edit of edits) {\n\t\t\tif (!(edit instanceof ResourceTextEdit)) {\n\t\t\t\tthrow new Error('bad edit - only text edits are supported');\n\t\t\t}\n\t\t\tconst model = this._modelService.getModel(edit.resource);\n\t\t\tif (!model) {\n\t\t\t\tthrow new Error('bad edit - model not found');\n\t\t\t}\n\t\t\tif (typeof edit.versionId === 'number' && model.getVersionId() !== edit.versionId) {\n\t\t\t\tthrow new Error('bad state - model changed in the meantime');\n\t\t\t}\n\t\t\tlet array = textEdits.get(model);\n\t\t\tif (!array) {\n\t\t\t\tarray = [];\n\t\t\t\ttextEdits.set(model, array);\n\t\t\t}\n\t\t\tarray.push(EditOperation.replaceMove(Range.lift(edit.textEdit.range), edit.textEdit.text));\n\t\t}\n\n\n\t\tlet totalEdits = 0;\n\t\tlet totalFiles = 0;\n\t\tfor (const [model, edits] of textEdits) {\n\t\t\tmodel.pushStackElement();\n\t\t\tmodel.pushEditOperations([], edits, () => []);\n\t\t\tmodel.pushStackElement();\n\t\t\ttotalFiles += 1;\n\t\t\ttotalEdits += edits.length;\n\t\t}\n\n\t\treturn {\n\t\t\tariaSummary: strings.format(StandaloneServicesNLS.bulkEditServiceSummary, totalEdits, totalFiles),\n\t\t\tisApplied: totalEdits > 0\n\t\t};\n\t}\n}\n\nclass StandaloneUriLabelService implements ILabelService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tpublic readonly onDidChangeFormatters: Event<IFormatterChangeEvent> = Event.None;\n\n\tpublic getUriLabel(resource: URI, options?: { relative?: boolean; forceNoTildify?: boolean }): string {\n\t\tif (resource.scheme === 'file') {\n\t\t\treturn resource.fsPath;\n\t\t}\n\t\treturn resource.path;\n\t}\n\n\tgetUriBasenameLabel(resource: URI): string {\n\t\treturn basename(resource);\n\t}\n\n\tpublic getWorkspaceLabel(workspace: IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier | URI | IWorkspace, options?: { verbose: Verbosity }): string {\n\t\treturn '';\n\t}\n\n\tpublic getSeparator(scheme: string, authority?: string): '/' | '\\\\' {\n\t\treturn '/';\n\t}\n\n\tpublic registerFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tthrow new Error('Not implemented');\n\t}\n\n\tpublic registerCachedFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\treturn this.registerFormatter(formatter);\n\t}\n\n\tpublic getHostLabel(): string {\n\t\treturn '';\n\t}\n\n\tpublic getHostTooltip(): string | undefined {\n\t\treturn undefined;\n\t}\n}\n\n\nclass StandaloneContextViewService extends ContextViewService {\n\n\tconstructor(\n\t\t@ILayoutService layoutService: ILayoutService,\n\t\t@ICodeEditorService private readonly _codeEditorService: ICodeEditorService,\n\t) {\n\t\tsuper(layoutService);\n\t}\n\n\toverride showContextView(delegate: IContextViewDelegate, container?: HTMLElement, shadowRoot?: boolean): IDisposable {\n\t\tif (!container) {\n\t\t\tconst codeEditor = this._codeEditorService.getFocusedCodeEditor() || this._codeEditorService.getActiveCodeEditor();\n\t\t\tif (codeEditor) {\n\t\t\t\tcontainer = codeEditor.getContainerDomNode();\n\t\t\t}\n\t\t}\n\t\treturn super.showContextView(delegate, container, shadowRoot);\n\t}\n}\n\nclass StandaloneWorkspaceTrustManagementService implements IWorkspaceTrustManagementService {\n\t_serviceBrand: undefined;\n\n\tprivate _neverEmitter = new Emitter<never>();\n\tpublic readonly onDidChangeTrust: Event<boolean> = this._neverEmitter.event;\n\tonDidChangeTrustedFolders: Event<void> = this._neverEmitter.event;\n\tpublic readonly workspaceResolved = Promise.resolve();\n\tpublic readonly workspaceTrustInitialized = Promise.resolve();\n\tpublic readonly acceptsOutOfWorkspaceFiles = true;\n\n\tisWorkspaceTrusted(): boolean {\n\t\treturn true;\n\t}\n\tisWorkspaceTrustForced(): boolean {\n\t\treturn false;\n\t}\n\tcanSetParentFolderTrust(): boolean {\n\t\treturn false;\n\t}\n\tasync setParentFolderTrust(trusted: boolean): Promise<void> {\n\t\t// noop\n\t}\n\tcanSetWorkspaceTrust(): boolean {\n\t\treturn false;\n\t}\n\tasync setWorkspaceTrust(trusted: boolean): Promise<void> {\n\t\t// noop\n\t}\n\tgetUriTrustInfo(uri: URI): Promise<IWorkspaceTrustUriInfo> {\n\t\tthrow new Error('Method not supported.');\n\t}\n\tasync setUrisTrust(uri: URI[], trusted: boolean): Promise<void> {\n\t\t// noop\n\t}\n\tgetTrustedUris(): URI[] {\n\t\treturn [];\n\t}\n\tasync setTrustedUris(uris: URI[]): Promise<void> {\n\t\t// noop\n\t}\n\taddWorkspaceTrustTransitionParticipant(participant: IWorkspaceTrustTransitionParticipant): IDisposable {\n\t\tthrow new Error('Method not supported.');\n\t}\n}\n\nclass StandaloneLanguageService extends LanguageService {\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\nclass StandaloneLogService extends LogService {\n\tconstructor() {\n\t\tsuper(new ConsoleLogger());\n\t}\n}\n\nclass StandaloneContextMenuService extends ContextMenuService {\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper(telemetryService, notificationService, contextViewService, keybindingService, menuService, contextKeyService);\n\t\tthis.configure({ blockMouse: false }); // we do not want that in the standalone editor\n\t}\n}\n\nclass StandaloneAudioService implements IAudioCueService {\n\t_serviceBrand: undefined;\n\tasync playAudioCue(cue: AudioCue, options: {}): Promise<void> {\n\t}\n\n\tasync playAudioCues(cues: AudioCue[]): Promise<void> {\n\t}\n\n\tisEnabled(cue: AudioCue): boolean {\n\t\treturn false;\n\t}\n\n\tonEnabledChanged(cue: AudioCue): Event<void> {\n\t\treturn Event.None;\n\t}\n\n\tasync playSound(cue: Sound, allowManyInParallel?: boolean | undefined): Promise<void> {\n\t}\n\tplayAudioCueLoop(cue: AudioCue): IDisposable {\n\t\treturn toDisposable(() => { });\n\t}\n}\n\nexport interface IEditorOverrideServices {\n\t[index: string]: any;\n}\n\nregisterSingleton(IConfigurationService, StandaloneConfigurationService, InstantiationType.Eager);\nregisterSingleton(ITextResourceConfigurationService, StandaloneResourceConfigurationService, InstantiationType.Eager);\nregisterSingleton(ITextResourcePropertiesService, StandaloneResourcePropertiesService, InstantiationType.Eager);\nregisterSingleton(IWorkspaceContextService, StandaloneWorkspaceContextService, InstantiationType.Eager);\nregisterSingleton(ILabelService, StandaloneUriLabelService, InstantiationType.Eager);\nregisterSingleton(ITelemetryService, StandaloneTelemetryService, InstantiationType.Eager);\nregisterSingleton(IDialogService, StandaloneDialogService, InstantiationType.Eager);\nregisterSingleton(IEnvironmentService, StandaloneEnvironmentService, InstantiationType.Eager);\nregisterSingleton(INotificationService, StandaloneNotificationService, InstantiationType.Eager);\nregisterSingleton(IMarkerService, MarkerService, InstantiationType.Eager);\nregisterSingleton(ILanguageService, StandaloneLanguageService, InstantiationType.Eager);\nregisterSingleton(IStandaloneThemeService, StandaloneThemeService, InstantiationType.Eager);\nregisterSingleton(ILogService, StandaloneLogService, InstantiationType.Eager);\nregisterSingleton(IModelService, ModelService, InstantiationType.Eager);\nregisterSingleton(IMarkerDecorationsService, MarkerDecorationsService, InstantiationType.Eager);\nregisterSingleton(IContextKeyService, ContextKeyService, InstantiationType.Eager);\nregisterSingleton(IProgressService, StandaloneProgressService, InstantiationType.Eager);\nregisterSingleton(IEditorProgressService, StandaloneEditorProgressService, InstantiationType.Eager);\nregisterSingleton(IStorageService, InMemoryStorageService, InstantiationType.Eager);\nregisterSingleton(IEditorWorkerService, EditorWorkerService, InstantiationType.Eager);\nregisterSingleton(IBulkEditService, StandaloneBulkEditService, InstantiationType.Eager);\nregisterSingleton(IWorkspaceTrustManagementService, StandaloneWorkspaceTrustManagementService, InstantiationType.Eager);\nregisterSingleton(ITextModelService, StandaloneTextModelService, InstantiationType.Eager);\nregisterSingleton(IAccessibilityService, AccessibilityService, InstantiationType.Eager);\nregisterSingleton(IListService, ListService, InstantiationType.Eager);\nregisterSingleton(ICommandService, StandaloneCommandService, InstantiationType.Eager);\nregisterSingleton(IKeybindingService, StandaloneKeybindingService, InstantiationType.Eager);\nregisterSingleton(IQuickInputService, StandaloneQuickInputService, InstantiationType.Eager);\nregisterSingleton(IContextViewService, StandaloneContextViewService, InstantiationType.Eager);\nregisterSingleton(IOpenerService, OpenerService, InstantiationType.Eager);\nregisterSingleton(IClipboardService, BrowserClipboardService, InstantiationType.Eager);\nregisterSingleton(IContextMenuService, StandaloneContextMenuService, InstantiationType.Eager);\nregisterSingleton(IMenuService, MenuService, InstantiationType.Eager);\nregisterSingleton(IAudioCueService, StandaloneAudioService, InstantiationType.Eager);\n\n/**\n * We don't want to eagerly instantiate services because embedders get a one time chance\n * to override services when they create the first editor.\n */\nexport module StandaloneServices {\n\n\tconst serviceCollection = new ServiceCollection();\n\tfor (const [id, descriptor] of getSingletonServiceDescriptors()) {\n\t\tserviceCollection.set(id, descriptor);\n\t}\n\n\tconst instantiationService = new InstantiationService(serviceCollection, true);\n\tserviceCollection.set(IInstantiationService, instantiationService);\n\n\texport function get<T>(serviceId: ServiceIdentifier<T>): T {\n\t\tif (!initialized) {\n\t\t\tinitialize({});\n\t\t}\n\t\tconst r = serviceCollection.get(serviceId);\n\t\tif (!r) {\n\t\t\tthrow new Error('Missing service ' + serviceId);\n\t\t}\n\t\tif (r instanceof SyncDescriptor) {\n\t\t\treturn instantiationService.invokeFunction((accessor) => accessor.get(serviceId));\n\t\t} else {\n\t\t\treturn r;\n\t\t}\n\t}\n\n\tlet initialized = false;\n\tconst onDidInitialize = new Emitter<void>();\n\texport function initialize(overrides: IEditorOverrideServices): IInstantiationService {\n\t\tif (initialized) {\n\t\t\treturn instantiationService;\n\t\t}\n\t\tinitialized = true;\n\n\t\t// Add singletons that were registered after this module loaded\n\t\tfor (const [id, descriptor] of getSingletonServiceDescriptors()) {\n\t\t\tif (!serviceCollection.get(id)) {\n\t\t\t\tserviceCollection.set(id, descriptor);\n\t\t\t}\n\t\t}\n\n\t\t// Initialize the service collection with the overrides, but only if the\n\t\t// service was not instantiated in the meantime.\n\t\tfor (const serviceId in overrides) {\n\t\t\tif (overrides.hasOwnProperty(serviceId)) {\n\t\t\t\tconst serviceIdentifier = createDecorator(serviceId);\n\t\t\t\tconst r = serviceCollection.get(serviceIdentifier);\n\t\t\t\tif (r instanceof SyncDescriptor) {\n\t\t\t\t\tserviceCollection.set(serviceIdentifier, overrides[serviceId]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Instantiate all editor features\n\t\tconst editorFeatures = getEditorFeatures();\n\t\tfor (const feature of editorFeatures) {\n\t\t\ttry {\n\t\t\t\tinstantiationService.createInstance(feature);\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\n\t\tonDidInitialize.fire();\n\n\t\treturn instantiationService;\n\t}\n\n\t/**\n\t * Executes callback once services are initialized.\n\t */\n\texport function withServices(callback: () => IDisposable): IDisposable {\n\t\tif (initialized) {\n\t\t\treturn callback();\n\t\t}\n\n\t\tconst disposable = new DisposableStore();\n\n\t\tconst listener = disposable.add(onDidInitialize.event(() => {\n\t\t\tlistener.dispose();\n\t\t\tdisposable.add(callback());\n\t\t}));\n\n\t\treturn disposable;\n\t}\n\n}\n"]}
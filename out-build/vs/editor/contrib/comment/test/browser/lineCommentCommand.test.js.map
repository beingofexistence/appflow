{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/contrib/comment/test/browser/lineCommentCommand.test.ts"],"names":[],"mappings":"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","file":"lineCommentCommand.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { Selection } from 'vs/editor/common/core/selection';\nimport { ICommand } from 'vs/editor/common/editorCommon';\nimport { ColorId, MetadataConsts } from 'vs/editor/common/encodedTokenAttributes';\nimport { EncodedTokenizationResult, IState, TokenizationRegistry } from 'vs/editor/common/languages';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { CommentRule } from 'vs/editor/common/languages/languageConfiguration';\nimport { ILanguageConfigurationService } from 'vs/editor/common/languages/languageConfigurationRegistry';\nimport { NullState } from 'vs/editor/common/languages/nullTokenize';\nimport { ILinePreflightData, IPreflightData, ISimpleModel, LineCommentCommand, Type } from 'vs/editor/contrib/comment/browser/lineCommentCommand';\nimport { testCommand } from 'vs/editor/test/browser/testCommand';\nimport { TestLanguageConfigurationService } from 'vs/editor/test/common/modes/testLanguageConfigurationService';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\n\nfunction createTestCommandHelper(commentsConfig: CommentRule, commandFactory: (accessor: ServicesAccessor, selection: Selection) => ICommand): (lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection) => void {\n\treturn (lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection) => {\n\t\tconst languageId = 'commentMode';\n\t\tconst prepare = (accessor: ServicesAccessor, disposables: DisposableStore) => {\n\t\t\tconst languageConfigurationService = accessor.get(ILanguageConfigurationService);\n\t\t\tconst languageService = accessor.get(ILanguageService);\n\t\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\t\tcomments: commentsConfig\n\t\t\t}));\n\t\t};\n\t\ttestCommand(lines, languageId, selection, commandFactory, expectedLines, expectedSelection, false, prepare);\n\t};\n}\n\nsuite('Editor Contrib - Line Comment Command', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t{ lineComment: '!@#', blockComment: ['<!@#', '#@!>'] },\n\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, true, true)\n\t);\n\n\tconst testAddLineCommentCommand = createTestCommandHelper(\n\t\t{ lineComment: '!@#', blockComment: ['<!@#', '#@!>'] },\n\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.ForceAdd, true, true)\n\t);\n\n\ttest('comment single line', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# some text',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 5)\n\t\t);\n\t});\n\n\ttest('case insensitive', function () {\n\t\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t\t{ lineComment: 'rem' },\n\t\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, true, true)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'REM some text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'some text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1)\n\t\t);\n\t});\n\n\tfunction createSimpleModel(lines: string[]): ISimpleModel {\n\t\treturn {\n\t\t\tgetLineContent: (lineNumber: number) => {\n\t\t\t\treturn lines[lineNumber - 1];\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction createBasicLinePreflightData(commentTokens: string[]): ILinePreflightData[] {\n\t\treturn commentTokens.map((commentString) => {\n\t\t\tconst r: ILinePreflightData = {\n\t\t\t\tignore: false,\n\t\t\t\tcommentStr: commentString,\n\t\t\t\tcommentStrOffset: 0,\n\t\t\t\tcommentStrLength: commentString.length\n\t\t\t};\n\t\t\treturn r;\n\t\t});\n\t}\n\n\ttest('_analyzeLines', () => {\n\t\tconst disposable = new DisposableStore();\n\t\tlet r: IPreflightData;\n\n\t\tr = LineCommentCommand._analyzeLines(Type.Toggle, true, createSimpleModel([\n\t\t\t'\\t\\t',\n\t\t\t'    ',\n\t\t\t'    c',\n\t\t\t'\\t\\td'\n\t\t]), createBasicLinePreflightData(['//', 'rem', '!@#', '!@#']), 1, true, false, disposable.add(new TestLanguageConfigurationService()));\n\t\tif (!r.supported) {\n\t\t\tthrow new Error(`unexpected`);\n\t\t}\n\n\t\tassert.strictEqual(r.shouldRemoveComments, false);\n\n\t\t// Does not change `commentStr`\n\t\tassert.strictEqual(r.lines[0].commentStr, '//');\n\t\tassert.strictEqual(r.lines[1].commentStr, 'rem');\n\t\tassert.strictEqual(r.lines[2].commentStr, '!@#');\n\t\tassert.strictEqual(r.lines[3].commentStr, '!@#');\n\n\t\t// Fills in `isWhitespace`\n\t\tassert.strictEqual(r.lines[0].ignore, true);\n\t\tassert.strictEqual(r.lines[1].ignore, true);\n\t\tassert.strictEqual(r.lines[2].ignore, false);\n\t\tassert.strictEqual(r.lines[3].ignore, false);\n\n\t\t// Fills in `commentStrOffset`\n\t\tassert.strictEqual(r.lines[0].commentStrOffset, 2);\n\t\tassert.strictEqual(r.lines[1].commentStrOffset, 4);\n\t\tassert.strictEqual(r.lines[2].commentStrOffset, 4);\n\t\tassert.strictEqual(r.lines[3].commentStrOffset, 2);\n\n\n\t\tr = LineCommentCommand._analyzeLines(Type.Toggle, true, createSimpleModel([\n\t\t\t'\\t\\t',\n\t\t\t'    rem ',\n\t\t\t'    !@# c',\n\t\t\t'\\t\\t!@#d'\n\t\t]), createBasicLinePreflightData(['//', 'rem', '!@#', '!@#']), 1, true, false, disposable.add(new TestLanguageConfigurationService()));\n\t\tif (!r.supported) {\n\t\t\tthrow new Error(`unexpected`);\n\t\t}\n\n\t\tassert.strictEqual(r.shouldRemoveComments, true);\n\n\t\t// Does not change `commentStr`\n\t\tassert.strictEqual(r.lines[0].commentStr, '//');\n\t\tassert.strictEqual(r.lines[1].commentStr, 'rem');\n\t\tassert.strictEqual(r.lines[2].commentStr, '!@#');\n\t\tassert.strictEqual(r.lines[3].commentStr, '!@#');\n\n\t\t// Fills in `isWhitespace`\n\t\tassert.strictEqual(r.lines[0].ignore, true);\n\t\tassert.strictEqual(r.lines[1].ignore, false);\n\t\tassert.strictEqual(r.lines[2].ignore, false);\n\t\tassert.strictEqual(r.lines[3].ignore, false);\n\n\t\t// Fills in `commentStrOffset`\n\t\tassert.strictEqual(r.lines[0].commentStrOffset, 2);\n\t\tassert.strictEqual(r.lines[1].commentStrOffset, 4);\n\t\tassert.strictEqual(r.lines[2].commentStrOffset, 4);\n\t\tassert.strictEqual(r.lines[3].commentStrOffset, 2);\n\n\t\t// Fills in `commentStrLength`\n\t\tassert.strictEqual(r.lines[0].commentStrLength, 2);\n\t\tassert.strictEqual(r.lines[1].commentStrLength, 4);\n\t\tassert.strictEqual(r.lines[2].commentStrLength, 4);\n\t\tassert.strictEqual(r.lines[3].commentStrLength, 3);\n\n\t\tdisposable.dispose();\n\t});\n\n\ttest('_normalizeInsertionPoint', () => {\n\n\t\tconst runTest = (mixedArr: any[], tabSize: number, expected: number[], testName: string) => {\n\t\t\tconst model = createSimpleModel(mixedArr.filter((item, idx) => idx % 2 === 0));\n\t\t\tconst offsets = mixedArr.filter((item, idx) => idx % 2 === 1).map(offset => {\n\t\t\t\treturn {\n\t\t\t\t\tcommentStrOffset: offset,\n\t\t\t\t\tignore: false\n\t\t\t\t};\n\t\t\t});\n\t\t\tLineCommentCommand._normalizeInsertionPoint(model, offsets, 1, tabSize);\n\t\t\tconst actual = offsets.map(item => item.commentStrOffset);\n\t\t\tassert.deepStrictEqual(actual, expected, testName);\n\t\t};\n\n\t\t// Bug 16696:[comment] comments not aligned in this case\n\t\trunTest([\n\t\t\t'  XX', 2,\n\t\t\t'    YY', 4\n\t\t], 4, [0, 0], 'Bug 16696');\n\n\t\trunTest([\n\t\t\t'\\t\\t\\tXX', 3,\n\t\t\t'    \\tYY', 5,\n\t\t\t'        ZZ', 8,\n\t\t\t'\\t\\tTT', 2\n\t\t], 4, [2, 5, 8, 2], 'Test1');\n\n\t\trunTest([\n\t\t\t'\\t\\t\\t   XX', 6,\n\t\t\t'    \\t\\t\\t\\tYY', 8,\n\t\t\t'        ZZ', 8,\n\t\t\t'\\t\\t    TT', 6\n\t\t], 4, [2, 5, 8, 2], 'Test2');\n\n\t\trunTest([\n\t\t\t'\\t\\t', 2,\n\t\t\t'\\t\\t\\t', 3,\n\t\t\t'\\t\\t\\t\\t', 4,\n\t\t\t'\\t\\t\\t', 3\n\t\t], 4, [2, 2, 2, 2], 'Test3');\n\n\t\trunTest([\n\t\t\t'\\t\\t', 2,\n\t\t\t'\\t\\t\\t', 3,\n\t\t\t'\\t\\t\\t\\t', 4,\n\t\t\t'\\t\\t\\t', 3,\n\t\t\t'    ', 4\n\t\t], 2, [2, 2, 2, 2, 4], 'Test4');\n\n\t\trunTest([\n\t\t\t'\\t\\t', 2,\n\t\t\t'\\t\\t\\t', 3,\n\t\t\t'\\t\\t\\t\\t', 4,\n\t\t\t'\\t\\t\\t', 3,\n\t\t\t'    ', 4\n\t\t], 4, [1, 1, 1, 1, 4], 'Test5');\n\n\t\trunTest([\n\t\t\t' \\t', 2,\n\t\t\t'  \\t', 3,\n\t\t\t'   \\t', 4,\n\t\t\t'    ', 4,\n\t\t\t'\\t', 1\n\t\t], 4, [2, 3, 4, 4, 1], 'Test6');\n\n\t\trunTest([\n\t\t\t' \\t\\t', 3,\n\t\t\t'  \\t\\t', 4,\n\t\t\t'   \\t\\t', 5,\n\t\t\t'    \\t', 5,\n\t\t\t'\\t', 1\n\t\t], 4, [2, 3, 4, 4, 1], 'Test7');\n\n\t\trunTest([\n\t\t\t'\\t', 1,\n\t\t\t'    ', 4\n\t\t], 4, [1, 4], 'Test8:4');\n\t\trunTest([\n\t\t\t'\\t', 1,\n\t\t\t'   ', 3\n\t\t], 4, [0, 0], 'Test8:3');\n\t\trunTest([\n\t\t\t'\\t', 1,\n\t\t\t'  ', 2\n\t\t], 4, [0, 0], 'Test8:2');\n\t\trunTest([\n\t\t\t'\\t', 1,\n\t\t\t' ', 1\n\t\t], 4, [0, 0], 'Test8:1');\n\t\trunTest([\n\t\t\t'\\t', 1,\n\t\t\t'', 0\n\t\t], 4, [0, 0], 'Test8:0');\n\t});\n\n\ttest('detects indentation', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t!@# some text',\n\t\t\t\t'\\t!@# some more text'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 1)\n\t\t);\n\t});\n\n\ttest('detects mixed indentation', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'    some more text'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t!@# some text',\n\t\t\t\t'    !@# some more text'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 1)\n\t\t);\n\t});\n\n\ttest('ignores whitespace lines', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(4, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t!@# some text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'',\n\t\t\t\t'\\t!@# some more text'\n\t\t\t],\n\t\t\tnew Selection(4, 2, 1, 1)\n\t\t);\n\t});\n\n\ttest('removes its own', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t!@# some text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'\\t\\t!@# some more text'\n\t\t\t],\n\t\t\tnew Selection(3, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'\\t\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(3, 2, 1, 1)\n\t\t);\n\t});\n\n\ttest('works in only whitespace', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t    ',\n\t\t\t\t'\\t',\n\t\t\t\t'\\t\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(3, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t!@#     ',\n\t\t\t\t'\\t!@# ',\n\t\t\t\t'\\t\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(3, 1, 1, 1)\n\t\t);\n\t});\n\n\ttest('bug 9697 - whitespace before comment token', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t !@#first',\n\t\t\t\t'\\tsecond line'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t first',\n\t\t\t\t'\\tsecond line'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1)\n\t\t);\n\t});\n\n\ttest('bug 10162 - line comment before caret', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first!@#',\n\t\t\t\t'\\tsecond line'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# first!@#',\n\t\t\t\t'\\tsecond line'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 5)\n\t\t);\n\t});\n\n\ttest('comment single line - leading whitespace', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first!@#',\n\t\t\t\t'\\tsecond line'\n\t\t\t],\n\t\t\tnew Selection(2, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'first!@#',\n\t\t\t\t'\\t!@# second line'\n\t\t\t],\n\t\t\tnew Selection(2, 7, 2, 1)\n\t\t);\n\t});\n\n\ttest('ignores invisible selection', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 5)\n\t\t);\n\t});\n\n\ttest('multiple lines', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 4, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'!@# \\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 8, 1, 5)\n\t\t);\n\t});\n\n\ttest('multiple modes on multiple lines', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(4, 4, 3, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'!@# third line',\n\t\t\t\t'!@# fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(4, 8, 3, 5)\n\t\t);\n\t});\n\n\ttest('toggle single line', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 5)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 4, 1, 4),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1)\n\t\t);\n\t});\n\n\ttest('toggle multiple lines', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 4, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'!@# \\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 8, 1, 5)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'!@# \\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 7, 1, 4),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 3, 1, 1)\n\t\t);\n\t});\n\n\ttest('issue #5964: Ctrl+/ to create comment when cursor is at the beginning of the line puts the cursor in a strange position', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 5)\n\t\t);\n\t});\n\n\ttest('issue #35673: Comment hotkeys throws the cursor before the comment', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'!@# ',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 5, 2, 5)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\t',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\t!@# ',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 6, 2, 6)\n\t\t);\n\t});\n\n\ttest('issue #2837 \"Add Line Comment\" fault when blank lines involved', function () {\n\t\ttestAddLineCommentCommand(\n\t\t\t[\n\t\t\t\t'    if displayName == \"\":',\n\t\t\t\t'        displayName = groupName',\n\t\t\t\t'    description = getAttr(attributes, \"description\")',\n\t\t\t\t'    mailAddress = getAttr(attributes, \"mail\")',\n\t\t\t\t'',\n\t\t\t\t'    print \"||Group name|%s|\" % displayName',\n\t\t\t\t'    print \"||Description|%s|\" % description',\n\t\t\t\t'    print \"||Email address|[mailto:%s]|\" % mailAddress`',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 8, 56),\n\t\t\t[\n\t\t\t\t'    !@# if displayName == \"\":',\n\t\t\t\t'    !@#     displayName = groupName',\n\t\t\t\t'    !@# description = getAttr(attributes, \"description\")',\n\t\t\t\t'    !@# mailAddress = getAttr(attributes, \"mail\")',\n\t\t\t\t'',\n\t\t\t\t'    !@# print \"||Group name|%s|\" % displayName',\n\t\t\t\t'    !@# print \"||Description|%s|\" % description',\n\t\t\t\t'    !@# print \"||Email address|[mailto:%s]|\" % mailAddress`',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 8, 60)\n\t\t);\n\t});\n\n\ttest('issue #47004: Toggle comments shouldn\\'t move cursor', () => {\n\t\ttestAddLineCommentCommand(\n\t\t\t[\n\t\t\t\t'    A line',\n\t\t\t\t'    Another line'\n\t\t\t],\n\t\t\tnew Selection(2, 7, 1, 1),\n\t\t\t[\n\t\t\t\t'    !@# A line',\n\t\t\t\t'    !@# Another line'\n\t\t\t],\n\t\t\tnew Selection(2, 11, 1, 1)\n\t\t);\n\t});\n\n\ttest('insertSpace false', () => {\n\t\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t\t{ lineComment: '!@#' },\n\t\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, false, true)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'some text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@#some text'\n\t\t\t],\n\t\t\tnew Selection(1, 4, 1, 4)\n\t\t);\n\t});\n\n\ttest('insertSpace false does not remove space', () => {\n\t\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t\t{ lineComment: '!@#' },\n\t\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, false, true)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'!@#    some text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'    some text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1)\n\t\t);\n\t});\n});\n\nsuite('ignoreEmptyLines false', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t{ lineComment: '!@#', blockComment: ['<!@#', '#@!>'] },\n\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, true, false)\n\t);\n\n\ttest('does not ignore whitespace lines', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(4, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# \\tsome text',\n\t\t\t\t'!@# \\t   ',\n\t\t\t\t'!@# ',\n\t\t\t\t'!@# \\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(4, 6, 1, 5)\n\t\t);\n\t});\n\n\ttest('removes its own', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t!@# some text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'\\t\\t!@# some more text'\n\t\t\t],\n\t\t\tnew Selection(3, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'\\t   ',\n\t\t\t\t'\\t\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(3, 2, 1, 1)\n\t\t);\n\t});\n\n\ttest('works in only whitespace', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t    ',\n\t\t\t\t'\\t',\n\t\t\t\t'\\t\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(3, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t!@#     ',\n\t\t\t\t'\\t!@# ',\n\t\t\t\t'\\t\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(3, 1, 1, 1)\n\t\t);\n\t});\n\n\ttest('comments single line', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'!@# some text',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 5)\n\t\t);\n\t});\n\n\ttest('detects indentation', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\tsome text',\n\t\t\t\t'\\tsome more text'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t!@# some text',\n\t\t\t\t'\\t!@# some more text'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 1)\n\t\t);\n\t});\n});\n\nsuite('Editor Contrib - Line Comment As Block Comment', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t{ lineComment: '', blockComment: ['(', ')'] },\n\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, true, true)\n\t);\n\n\ttest('fall back to block comment command', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'( first )',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 3)\n\t\t);\n\t});\n\n\ttest('fall back to block comment command - toggle', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'(first)',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 7, 1, 2),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 6, 1, 1)\n\t\t);\n\t});\n\n\ttest('bug 9513 - expand single line to uncomment auto block', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'( first )',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 3)\n\t\t);\n\t});\n\n\ttest('bug 9691 - always expand selection to line boundaries', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 2, 1, 3),\n\t\t\t[\n\t\t\t\t'( first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line )',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 2, 1, 5)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'(first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line)',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 11, 1, 2),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 11, 1, 1)\n\t\t);\n\t});\n});\n\nsuite('Editor Contrib - Line Comment As Block Comment 2', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst testLineCommentCommand = createTestCommandHelper(\n\t\t{ lineComment: null, blockComment: ['<!@#', '#@!>'] },\n\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, true, true)\n\t);\n\n\ttest('no selection => uses indentation', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t\\t<!@# first\\t     #@!>',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\t<!@#first\\t    #@!>',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t   ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 1)\n\t\t);\n\t});\n\n\ttest('can remove', function () {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 1, 5, 1),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 1, 5, 1)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 3),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 3)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 4, 5, 4),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 3)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 16, 5, 3),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 8, 5, 3)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 12, 5, 7),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 8, 5, 3)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 18, 5, 18),\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t],\n\t\t\tnew Selection(5, 10, 5, 10)\n\t\t);\n\t});\n\n\ttest('issue #993: Remove comment does not work consistently in HTML', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'     asd qwe',\n\t\t\t\t'     asd qwe',\n\t\t\t\t''\n\t\t\t],\n\t\t\tnew Selection(1, 1, 3, 1),\n\t\t\t[\n\t\t\t\t'     <!@# asd qwe',\n\t\t\t\t'     asd qwe #@!>',\n\t\t\t\t''\n\t\t\t],\n\t\t\tnew Selection(1, 1, 3, 1)\n\t\t);\n\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'     <!@#asd qwe',\n\t\t\t\t'     asd qwe#@!>',\n\t\t\t\t''\n\t\t\t],\n\t\t\tnew Selection(1, 1, 3, 1),\n\t\t\t[\n\t\t\t\t'     asd qwe',\n\t\t\t\t'     asd qwe',\n\t\t\t\t''\n\t\t\t],\n\t\t\tnew Selection(1, 1, 3, 1)\n\t\t);\n\t});\n});\n\nsuite('Editor Contrib - Line Comment in mixed modes', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst OUTER_LANGUAGE_ID = 'outerMode';\n\tconst INNER_LANGUAGE_ID = 'innerMode';\n\n\tclass OuterMode extends Disposable {\n\t\tprivate readonly languageId = OUTER_LANGUAGE_ID;\n\t\tconstructor(\n\t\t\tcommentsConfig: CommentRule,\n\t\t\t@ILanguageService languageService: ILanguageService,\n\t\t\t@ILanguageConfigurationService languageConfigurationService: ILanguageConfigurationService\n\t\t) {\n\t\t\tsuper();\n\t\t\tthis._register(languageService.registerLanguage({ id: this.languageId }));\n\t\t\tthis._register(languageConfigurationService.register(this.languageId, {\n\t\t\t\tcomments: commentsConfig\n\t\t\t}));\n\n\t\t\tthis._register(TokenizationRegistry.register(this.languageId, {\n\t\t\t\tgetInitialState: (): IState => NullState,\n\t\t\t\ttokenize: () => {\n\t\t\t\t\tthrow new Error('not implemented');\n\t\t\t\t},\n\t\t\t\ttokenizeEncoded: (line: string, hasEOL: boolean, state: IState): EncodedTokenizationResult => {\n\t\t\t\t\tconst languageId = (/^  /.test(line) ? INNER_LANGUAGE_ID : OUTER_LANGUAGE_ID);\n\t\t\t\t\tconst encodedLanguageId = languageService.languageIdCodec.encodeLanguageId(languageId);\n\n\t\t\t\t\tconst tokens = new Uint32Array(1 << 1);\n\t\t\t\t\ttokens[(0 << 1)] = 0;\n\t\t\t\t\ttokens[(0 << 1) + 1] = (\n\t\t\t\t\t\t(ColorId.DefaultForeground << MetadataConsts.FOREGROUND_OFFSET)\n\t\t\t\t\t\t| (encodedLanguageId << MetadataConsts.LANGUAGEID_OFFSET)\n\t\t\t\t\t);\n\t\t\t\t\treturn new EncodedTokenizationResult(tokens, state);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tclass InnerMode extends Disposable {\n\t\tprivate readonly languageId = INNER_LANGUAGE_ID;\n\t\tconstructor(\n\t\t\tcommentsConfig: CommentRule,\n\t\t\t@ILanguageService languageService: ILanguageService,\n\t\t\t@ILanguageConfigurationService languageConfigurationService: ILanguageConfigurationService\n\t\t) {\n\t\t\tsuper();\n\t\t\tthis._register(languageService.registerLanguage({ id: this.languageId }));\n\t\t\tthis._register(languageConfigurationService.register(this.languageId, {\n\t\t\t\tcomments: commentsConfig\n\t\t\t}));\n\t\t}\n\t}\n\n\tfunction testLineCommentCommand(lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection): void {\n\n\t\tconst setup = (accessor: ServicesAccessor, disposables: DisposableStore) => {\n\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\t\tdisposables.add(instantiationService.createInstance(OuterMode, { lineComment: '//', blockComment: ['/*', '*/'] }));\n\t\t\tdisposables.add(instantiationService.createInstance(InnerMode, { lineComment: null, blockComment: ['{/*', '*/}'] }));\n\t\t};\n\n\t\ttestCommand(\n\t\t\tlines,\n\t\t\tOUTER_LANGUAGE_ID,\n\t\t\tselection,\n\t\t\t(accessor, sel) => new LineCommentCommand(accessor.get(ILanguageConfigurationService), sel, 4, Type.Toggle, true, true),\n\t\t\texpectedLines,\n\t\t\texpectedSelection,\n\t\t\ttrue,\n\t\t\tsetup\n\t\t);\n\t}\n\n\ttest('issue #24047 (part 1): Commenting code in JSX files', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'import React from \\'react\\';',\n\t\t\t\t'const Loader = () => (',\n\t\t\t\t'  <div>',\n\t\t\t\t'    Loading...',\n\t\t\t\t'  </div>',\n\t\t\t\t');',\n\t\t\t\t'export default Loader;'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 7, 22),\n\t\t\t[\n\t\t\t\t'// import React from \\'react\\';',\n\t\t\t\t'// const Loader = () => (',\n\t\t\t\t'//   <div>',\n\t\t\t\t'//     Loading...',\n\t\t\t\t'//   </div>',\n\t\t\t\t'// );',\n\t\t\t\t'// export default Loader;'\n\t\t\t],\n\t\t\tnew Selection(1, 4, 7, 25),\n\t\t);\n\t});\n\n\ttest('issue #24047 (part 2): Commenting code in JSX files', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'import React from \\'react\\';',\n\t\t\t\t'const Loader = () => (',\n\t\t\t\t'  <div>',\n\t\t\t\t'    Loading...',\n\t\t\t\t'  </div>',\n\t\t\t\t');',\n\t\t\t\t'export default Loader;'\n\t\t\t],\n\t\t\tnew Selection(3, 4, 3, 4),\n\t\t\t[\n\t\t\t\t'import React from \\'react\\';',\n\t\t\t\t'const Loader = () => (',\n\t\t\t\t'  {/* <div> */}',\n\t\t\t\t'    Loading...',\n\t\t\t\t'  </div>',\n\t\t\t\t');',\n\t\t\t\t'export default Loader;'\n\t\t\t],\n\t\t\tnew Selection(3, 8, 3, 8),\n\t\t);\n\t});\n\n\ttest('issue #36173: Commenting code in JSX tag body', () => {\n\t\ttestLineCommentCommand(\n\t\t\t[\n\t\t\t\t'<div>',\n\t\t\t\t'  {123}',\n\t\t\t\t'</div>',\n\t\t\t],\n\t\t\tnew Selection(2, 4, 2, 4),\n\t\t\t[\n\t\t\t\t'<div>',\n\t\t\t\t'  {/* {123} */}',\n\t\t\t\t'</div>',\n\t\t\t],\n\t\t\tnew Selection(2, 8, 2, 8),\n\t\t);\n\t});\n});\n"]}
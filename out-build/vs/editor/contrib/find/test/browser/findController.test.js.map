{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/contrib/find/test/browser/findController.test.ts"],"names":[],"mappings":"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","file":"findController.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { Delayer } from 'vs/base/common/async';\nimport * as platform from 'vs/base/common/platform';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { EditorAction } from 'vs/editor/browser/editorExtensions';\nimport { EditOperation } from 'vs/editor/common/core/editOperation';\nimport { Position } from 'vs/editor/common/core/position';\nimport { Range } from 'vs/editor/common/core/range';\nimport { Selection } from 'vs/editor/common/core/selection';\nimport { CommonFindController, FindStartFocusAction, IFindStartOptions, NextMatchFindAction, NextSelectionMatchFindAction, StartFindAction, StartFindReplaceAction, StartFindWithSelectionAction } from 'vs/editor/contrib/find/browser/findController';\nimport { CONTEXT_FIND_INPUT_FOCUSED } from 'vs/editor/contrib/find/browser/findModel';\nimport { withAsyncTestCodeEditor } from 'vs/editor/test/browser/testCodeEditor';\nimport { IClipboardService } from 'vs/platform/clipboard/common/clipboardService';\nimport { IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ServiceCollection } from 'vs/platform/instantiation/common/serviceCollection';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IStorageService, InMemoryStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\n\nclass TestFindController extends CommonFindController {\n\n\tpublic hasFocus: boolean;\n\tpublic delayUpdateHistory: boolean = false;\n\n\tprivate _findInputFocused: IContextKey<boolean>;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IClipboardService clipboardService: IClipboardService,\n\t\t@INotificationService notificationService: INotificationService\n\t) {\n\t\tsuper(editor, contextKeyService, storageService, clipboardService, notificationService);\n\t\tthis._findInputFocused = CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);\n\t\tthis._updateHistoryDelayer = new Delayer<void>(50);\n\t\tthis.hasFocus = false;\n\t}\n\n\tprotected override async _start(opts: IFindStartOptions): Promise<void> {\n\t\tawait super._start(opts);\n\n\t\tif (opts.shouldFocus !== FindStartFocusAction.NoFocusChange) {\n\t\t\tthis.hasFocus = true;\n\t\t}\n\n\t\tconst inputFocused = opts.shouldFocus === FindStartFocusAction.FocusFindInput;\n\t\tthis._findInputFocused.set(inputFocused);\n\t}\n}\n\nfunction fromSelection(slc: Selection): number[] {\n\treturn [slc.startLineNumber, slc.startColumn, slc.endLineNumber, slc.endColumn];\n}\n\nfunction executeAction(instantiationService: IInstantiationService, editor: ICodeEditor, action: EditorAction, args?: any): Promise<void> {\n\treturn instantiationService.invokeFunction((accessor) => {\n\t\treturn Promise.resolve(action.runEditorCommand(accessor, editor, args));\n\t});\n}\n\nsuite('FindController', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet clipboardState = '';\n\tconst serviceCollection = new ServiceCollection();\n\tserviceCollection.set(IStorageService, new InMemoryStorageService());\n\n\tif (platform.isMacintosh) {\n\t\tserviceCollection.set(IClipboardService, <any>{\n\t\t\treadFindText: () => clipboardState,\n\t\t\twriteFindText: (value: any) => { clipboardState = value; }\n\t\t});\n\t}\n\n\t/* test('stores to the global clipboard buffer on start find action', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = '';\n\t\t\tif (!platform.isMacintosh) {\n\t\t\t\tassert.ok(true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tlet startFindAction = new StartFindAction();\n\t\t\t// I select ABC on the first line\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 4));\n\t\t\t// I hit Ctrl+F to show the Find dialog\n\t\t\tstartFindAction.run(null, editor);\n\n\t\t\tassert.deepStrictEqual(findController.getGlobalBufferTerm(), findController.getState().searchString);\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('reads from the global clipboard buffer on next find action if buffer exists', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = 'ABC';\n\n\t\t\tif (!platform.isMacintosh) {\n\t\t\t\tassert.ok(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tlet findState = findController.getState();\n\t\t\tlet nextMatchFindAction = new NextMatchFindAction();\n\n\t\t\tnextMatchFindAction.run(null, editor);\n\t\t\tassert.strictEqual(findState.searchString, 'ABC');\n\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 1, 1, 4]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('writes to the global clipboard buffer when text changes', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = '';\n\t\t\tif (!platform.isMacintosh) {\n\t\t\t\tassert.ok(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tlet findState = findController.getState();\n\n\t\t\tfindState.change({ searchString: 'ABC' }, true);\n\n\t\t\tassert.deepStrictEqual(findController.getGlobalBufferTerm(), 'ABC');\n\n\t\t\tfindController.dispose();\n\t\t});\n\t}); */\n\n\ttest('issue #1857: F3, Find Next, acts like \"Find Under Cursor\"', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tclipboardState = '';\n\t\t\t// The cursor is at the very top, of the file, at the first ABC\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst findState = findController.getState();\n\t\t\tconst nextMatchFindAction = new NextMatchFindAction();\n\n\t\t\t// I hit Ctrl+F to show the Find dialog\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\t// I type ABC.\n\t\t\tfindState.change({ searchString: 'A' }, true);\n\t\t\tfindState.change({ searchString: 'AB' }, true);\n\t\t\tfindState.change({ searchString: 'ABC' }, true);\n\n\t\t\t// The first ABC is highlighted.\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 1, 1, 4]);\n\n\t\t\t// I hit Esc to exit the Find dialog.\n\t\t\tfindController.closeFindWidget();\n\t\t\tfindController.hasFocus = false;\n\n\t\t\t// The cursor is now at end of the first line, with ABC on that line highlighted.\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 1, 1, 4]);\n\n\t\t\t// I hit delete to remove it and change the text to XYZ.\n\t\t\teditor.pushUndoStop();\n\t\t\teditor.executeEdits('test', [EditOperation.delete(new Range(1, 1, 1, 4))]);\n\t\t\teditor.executeEdits('test', [EditOperation.insert(new Position(1, 1), 'XYZ')]);\n\t\t\teditor.pushUndoStop();\n\n\t\t\t// At this point the text editor looks like this:\n\t\t\t//   XYZ\n\t\t\t//   ABC\n\t\t\t//   XYZ\n\t\t\t//   ABC\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(1), 'XYZ');\n\n\t\t\t// The cursor is at end of the first line.\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 4, 1, 4]);\n\n\t\t\t// I hit F3 to \"Find Next\" to find the next occurrence of ABC, but instead it searches for XYZ.\n\t\t\tawait nextMatchFindAction.run(null, editor);\n\n\t\t\tassert.strictEqual(findState.searchString, 'ABC');\n\t\t\tassert.strictEqual(findController.hasFocus, false);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #3090: F3 does not loop with two matches on a single line', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'import nls = require(\\'vs/nls\\');'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst nextMatchFindAction = new NextMatchFindAction();\n\n\t\t\teditor.setPosition({\n\t\t\t\tlineNumber: 1,\n\t\t\t\tcolumn: 9\n\t\t\t});\n\n\t\t\tawait nextMatchFindAction.run(null, editor);\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 26, 1, 29]);\n\n\t\t\tawait nextMatchFindAction.run(null, editor);\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 8, 1, 11]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #6149: Auto-escape highlighted text for search and replace regex mode', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3  * 5)',\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst nextMatchFindAction = new NextMatchFindAction();\n\n\t\t\teditor.setSelection(new Selection(1, 9, 1, 13));\n\n\t\t\tfindController.toggleRegex();\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\tawait nextMatchFindAction.run(null, editor);\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [2, 9, 2, 13]);\n\n\t\t\tawait nextMatchFindAction.run(null, editor);\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [1, 9, 1, 13]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #41027: Don\\'t replace find input value on replace action if find input is active', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'test',\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tconst testRegexString = 'tes.';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst nextMatchFindAction = new NextMatchFindAction();\n\n\t\t\tfindController.toggleRegex();\n\t\t\tfindController.setSearchString(testRegexString);\n\t\t\tawait findController.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\tseedSearchStringFromNonEmptySelection: false,\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.FocusFindInput,\n\t\t\t\tshouldAnimate: false,\n\t\t\t\tupdateSearchScope: false,\n\t\t\t\tloop: true\n\t\t\t});\n\t\t\tawait nextMatchFindAction.run(null, editor);\n\t\t\tawait executeAction(instantiationService, editor, StartFindReplaceAction);\n\n\t\t\tassert.strictEqual(findController.getState().searchString, testRegexString);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #9043: Clear search scope when find widget is hidden', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tawait findController.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\tseedSearchStringFromNonEmptySelection: false,\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: false,\n\t\t\t\tupdateSearchScope: false,\n\t\t\t\tloop: true\n\t\t\t});\n\n\t\t\tassert.strictEqual(findController.getState().searchScope, null);\n\n\t\t\tfindController.getState().change({\n\t\t\t\tsearchScope: [new Range(1, 1, 1, 5)]\n\t\t\t}, false);\n\n\t\t\tassert.deepStrictEqual(findController.getState().searchScope, [new Range(1, 1, 1, 5)]);\n\n\t\t\tfindController.closeFindWidget();\n\t\t\tassert.strictEqual(findController.getState().searchScope, null);\n\t\t});\n\t});\n\n\ttest('issue #18111: Regex replace with single space replaces with no space', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'HRESULT OnAmbientPropertyChange(DISPID   dispid);'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\tfindController.getState().change({ searchString: '\\\\b\\\\s{3}\\\\b', replaceString: ' ', isRegex: true }, false);\n\t\t\tfindController.moveToNextMatch();\n\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromSelection), [\n\t\t\t\t[1, 39, 1, 42]\n\t\t\t]);\n\n\t\t\tfindController.replace();\n\n\t\t\tassert.deepStrictEqual(editor.getValue(), 'HRESULT OnAmbientPropertyChange(DISPID dispid);');\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #24714: Regular expression with ^ in search & replace', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'',\n\t\t\t'line2',\n\t\t\t'line3'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\tfindController.getState().change({ searchString: '^', replaceString: 'x', isRegex: true }, false);\n\t\t\tfindController.moveToNextMatch();\n\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromSelection), [\n\t\t\t\t[2, 1, 2, 1]\n\t\t\t]);\n\n\t\t\tfindController.replace();\n\n\t\t\tassert.deepStrictEqual(editor.getValue(), '\\nxline2\\nline3');\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #38232: Find Next Selection, regex enabled', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'([funny]',\n\t\t\t'',\n\t\t\t'([funny]'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst nextSelectionMatchFindAction = new NextSelectionMatchFindAction();\n\n\t\t\t// toggle regex\n\t\t\tfindController.getState().change({ isRegex: true }, false);\n\n\t\t\t// change selection\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 9));\n\n\t\t\t// cmd+f3\n\t\t\tawait nextSelectionMatchFindAction.run(null, editor);\n\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromSelection), [\n\t\t\t\t[3, 1, 3, 9]\n\t\t\t]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #38232: Find Next Selection, regex enabled, find widget open', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'([funny]',\n\t\t\t'',\n\t\t\t'([funny]'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst nextSelectionMatchFindAction = new NextSelectionMatchFindAction();\n\n\t\t\t// cmd+f - open find widget\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\t// toggle regex\n\t\t\tfindController.getState().change({ isRegex: true }, false);\n\n\t\t\t// change selection\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 9));\n\n\t\t\t// cmd+f3\n\t\t\tawait nextSelectionMatchFindAction.run(null, editor);\n\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromSelection), [\n\t\t\t\t[3, 1, 3, 9]\n\t\t\t]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #47400, CMD+E supports feeding multiple line of text into the find widget', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\n\t\t\t// change selection\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 1));\n\n\t\t\t// cmd+f - open find widget\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\teditor.setSelection(new Selection(1, 1, 2, 4));\n\t\t\tconst startFindWithSelectionAction = new StartFindWithSelectionAction();\n\t\t\tawait startFindWithSelectionAction.run(null, editor);\n\t\t\tconst findState = findController.getState();\n\n\t\t\tassert.deepStrictEqual(findState.searchString.split(/\\r\\n|\\r|\\n/g), ['ABC', 'ABC']);\n\n\t\t\teditor.setSelection(new Selection(3, 1, 3, 1));\n\t\t\tawait startFindWithSelectionAction.run(null, editor);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #109756, CMD+E with empty cursor should always work', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\tclipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\teditor.setSelection(new Selection(1, 2, 1, 2));\n\n\t\t\tconst startFindWithSelectionAction = new StartFindWithSelectionAction();\n\t\t\tstartFindWithSelectionAction.run(null, editor);\n\n\t\t\tconst findState = findController.getState();\n\t\t\tassert.deepStrictEqual(findState.searchString, 'ABC');\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n});\n\nsuite('FindController query options persistence', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst serviceCollection = new ServiceCollection();\n\tconst storageService = new InMemoryStorageService();\n\tstorageService.store('editor.isRegex', false, StorageScope.WORKSPACE, StorageTarget.USER);\n\tstorageService.store('editor.matchCase', false, StorageScope.WORKSPACE, StorageTarget.USER);\n\tstorageService.store('editor.wholeWord', false, StorageScope.WORKSPACE, StorageTarget.USER);\n\tserviceCollection.set(IStorageService, storageService);\n\n\ttest('matchCase', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'abc',\n\t\t\t'ABC',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\tstorageService.store('editor.matchCase', true, StorageScope.WORKSPACE, StorageTarget.USER);\n\t\t\t// The cursor is at the very top, of the file, at the first ABC\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst findState = findController.getState();\n\n\t\t\t// I hit Ctrl+F to show the Find dialog\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\t// I type ABC.\n\t\t\tfindState.change({ searchString: 'ABC' }, true);\n\t\t\t// The second ABC is highlighted as matchCase is true.\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [2, 1, 2, 4]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\tstorageService.store('editor.matchCase', false, StorageScope.WORKSPACE, StorageTarget.USER);\n\tstorageService.store('editor.wholeWord', true, StorageScope.WORKSPACE, StorageTarget.USER);\n\n\ttest('wholeWord', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'AB',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor, _, instantiationService) => {\n\t\t\t// The cursor is at the very top, of the file, at the first ABC\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst findState = findController.getState();\n\n\t\t\t// I hit Ctrl+F to show the Find dialog\n\t\t\tawait executeAction(instantiationService, editor, StartFindAction);\n\n\t\t\t// I type AB.\n\t\t\tfindState.change({ searchString: 'AB' }, true);\n\t\t\t// The second AB is highlighted as wholeWord is true.\n\t\t\tassert.deepStrictEqual(fromSelection(editor.getSelection()!), [2, 1, 2, 3]);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('toggling options is saved', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'ABC',\n\t\t\t'AB',\n\t\t\t'XYZ',\n\t\t\t'ABC'\n\t\t], { serviceCollection: serviceCollection }, async (editor) => {\n\t\t\t// The cursor is at the very top, of the file, at the first ABC\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tfindController.toggleRegex();\n\t\t\tassert.strictEqual(storageService.getBoolean('editor.isRegex', StorageScope.WORKSPACE), true);\n\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #27083: Update search scope once find widget becomes visible', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection, find: { autoFindInSelection: 'always', globalFindClipboard: false } }, async (editor) => {\n\t\t\t// clipboardState = '';\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\t\t\tconst findConfig: IFindStartOptions = {\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\tseedSearchStringFromNonEmptySelection: false,\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: false,\n\t\t\t\tupdateSearchScope: true,\n\t\t\t\tloop: true\n\t\t\t};\n\n\t\t\teditor.setSelection(new Range(1, 1, 2, 1));\n\t\t\tfindController.start(findConfig);\n\t\t\tassert.deepStrictEqual(findController.getState().searchScope, [new Selection(1, 1, 2, 1)]);\n\n\t\t\tfindController.closeFindWidget();\n\n\t\t\teditor.setSelections([new Selection(1, 1, 2, 1), new Selection(2, 1, 2, 5)]);\n\t\t\tfindController.start(findConfig);\n\t\t\tassert.deepStrictEqual(findController.getState().searchScope, [new Selection(1, 1, 2, 1), new Selection(2, 1, 2, 5)]);\n\t\t});\n\t});\n\n\ttest('issue #58604: Do not update searchScope if it is empty', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection, find: { autoFindInSelection: 'always', globalFindClipboard: false } }, async (editor) => {\n\t\t\t// clipboardState = '';\n\t\t\teditor.setSelection(new Range(1, 2, 1, 2));\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\n\t\t\tawait findController.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\tseedSearchStringFromNonEmptySelection: false,\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: false,\n\t\t\t\tupdateSearchScope: true,\n\t\t\t\tloop: true\n\t\t\t});\n\n\t\t\tassert.deepStrictEqual(findController.getState().searchScope, null);\n\t\t});\n\t});\n\n\ttest('issue #58604: Update searchScope if it is not empty', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection, find: { autoFindInSelection: 'always', globalFindClipboard: false } }, async (editor) => {\n\t\t\t// clipboardState = '';\n\t\t\teditor.setSelection(new Range(1, 2, 1, 3));\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\n\t\t\tawait findController.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\tseedSearchStringFromNonEmptySelection: false,\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: false,\n\t\t\t\tupdateSearchScope: true,\n\t\t\t\tloop: true\n\t\t\t});\n\n\t\t\tassert.deepStrictEqual(findController.getState().searchScope, [new Selection(1, 2, 1, 3)]);\n\t\t});\n\t});\n\n\n\ttest('issue #27083: Find in selection when multiple lines are selected', async () => {\n\t\tawait withAsyncTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection, find: { autoFindInSelection: 'multiline', globalFindClipboard: false } }, async (editor) => {\n\t\t\t// clipboardState = '';\n\t\t\teditor.setSelection(new Range(1, 6, 2, 1));\n\t\t\tconst findController = editor.registerAndInstantiateContribution(TestFindController.ID, TestFindController);\n\n\t\t\tawait findController.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\tseedSearchStringFromNonEmptySelection: false,\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: false,\n\t\t\t\tupdateSearchScope: true,\n\t\t\t\tloop: true\n\t\t\t});\n\n\t\t\tassert.deepStrictEqual(findController.getState().searchScope, [new Selection(1, 6, 2, 1)]);\n\t\t});\n\t});\n});\n"]}
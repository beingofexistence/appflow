{"version":3,"sources":["vs/editor/contrib/colorPicker/browser/colorPickerWidget.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAmBhG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IAEhB,MAAa,GAAkB,SAAQ,eAAG;QASzC,YAAY,SAAsB,EAAmB,CAAU,EAAe,YAAiB,EAAoB,IAAwC,KAAK;YAC/J,KAAK,EAAE,CAAC;YAD4C,MAAC,GAAD,CAAC,CAAS;YAAoD,MAAC,GAAD,CAAC,CAA4C;YAH/I,MAAC,GAAkC,IAAI,CAAC;YAMxD,IAAI,CAAC,CAAC,GAAU,CAAC,CAAC,qBAAqB,CAAC,CAAC;YACzC,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,IAAI,CAAC,CAAC,CAAQ,CAAC;YAErC,IAAI,CAAC,CAAC,GAAkB,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAS,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;YACtE,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAiB,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;YACxE,IAAI,CAAC,CAAC,GAA0B,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAiB,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;YAClG,IAAI,CAAC,CAAC,CAAwB,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YAEzE,MAAM,OAAO,GAAG,IAAA,cAAQ,EAAC,CAA2B,EAAE,IAA6C,CAAC,CAAC;YACrG,IAAI,CAAC,CAAC,CAAgB,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAErD,IAAI,CAAC,CAAC,GAAoB,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAS,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,CAAC,CAAkB,KAAK,CAAC,eAAe,GAAG,WAAG,CAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAK,aAAa,CAAC,IAAI,EAAE,CAAC;YAExG,IAAI,CAAC,CAAC,GAAiB,YAAY,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC,mBAAG,CAAmB,IAAI,WAAG,CAAG,KAAK,CAAC;YACnG,IAAI,CAAC,CAAC,CAAS,YAAY,CAAC,qBAAqB,CAAC,KAAK,CAAC,EAAE;gBACzD,IAAI,CAAC,CAAC,GAAiB,KAAK,CAAC,QAAQ,CAAC,mBAAG,CAAmB,IAAI,WAAG,CAAG,KAAK,CAAC;YAC7E,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,CAAC,CAAS,GAAG,CAAC,GAAG,CAAmB,IAAI,CAAC,CAAC,EAAiB,GAAG,CAAC,GAAG,CAAO,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAK,2BAA2B,EAAE,CAAC,CAAC,CAAC;YACtI,IAAI,CAAC,CAAC,CAAS,GAAG,CAAC,GAAG,CAAmB,IAAI,CAAC,CAAC,EAAmB,GAAG,CAAC,GAAG,CAAO,KAAK,EAAE,GAAG,EAAE;gBAC3F,IAAI,CAAC,CAAC,CAAK,KAAK,GAAG,IAAI,CAAC,CAAC,CAAK,aAAa,CAAC;gBAC5C,IAAI,CAAC,CAAC,CAAK,UAAU,EAAE,CAAC;YACzB,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,CAAC,CAAS,CAAC,CAAK,gBAAgB,CAAC,IAAI,CAAC,CAAC,EAAiB,IAAI,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,CAAC,CAAS,CAAC,CAAK,uBAAuB,CAAC,IAAI,CAAC,CAAC,EAAwB,IAAI,CAAC,CAAC,CAAC;YAClF,IAAI,CAAC,CAAC,CAAgB,KAAK,CAAC,eAAe,GAAG,WAAG,CAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAK,KAAK,CAAC,IAAI,EAAE,CAAC;YACzF,IAAI,CAAC,CAAC,CAAgB,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAK,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAe,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAK,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;YAEvI,IAAI,CAAC,CAAC,CAAgB,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,CAAC;YAExC,4FAA4F;YAC5F,IAAI,IAAI,CAAC,CAAC,EAA6B;gBACtC,IAAI,CAAC,CAAC,CAAQ,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;gBACtD,IAAI,CAAC,CAAC,GAAc,IAAI,CAAC,CAAC,CAAS,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,CAAQ,CAAC,CAAC;aACnE;QACF,CAAC;QAED,IAAW,OAAO;YACjB,OAAO,IAAI,CAAC,CAAC,CAAQ;QACtB,CAAC;QAED,IAAW,WAAW;YACrB,OAAO,IAAI,CAAC,CAAC,CAAY;QAC1B,CAAC;QAED,IAAW,eAAe;YACzB,OAAO,IAAI,CAAC,CAAC,CAAgB;QAC9B,CAAC;QAED,IAAW,iBAAiB;YAC3B,OAAO,IAAI,CAAC,CAAC,CAAkB;QAChC,CAAC;QAEO,CAAC,CAAgB,KAAU;YAClC,IAAI,CAAC,CAAC,CAAgB,KAAK,CAAC,eAAe,GAAG,WAAG,CAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACnF,IAAI,CAAC,CAAC,CAAgB,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAe,SAAS,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;YAC3H,IAAI,CAAC,CAAC,EAAwB,CAAC;QAChC,CAAC;QAEO,CAAC;YACR,IAAI,CAAC,CAAC,CAAwB,WAAW,GAAG,IAAI,CAAC,CAAC,CAAK,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAK,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1G,CAAC;KACD;IA3ED,kBA2EC;IAED,MAAM,WAAY,SAAQ,eAAG;QAM5B,YAAY,SAAsB;YACjC,KAAK,EAAE,CAAC;YAJQ,MAAC,GAAY,IAAI,CAAC,CAAC,CAAS,IAAI,WAAG,EAAY,CAAC,CAAC;YAClD,cAAS,GAAG,IAAI,CAAC,CAAC,CAAU,KAAK,CAAC;YAIjD,IAAI,CAAC,CAAC,GAAS,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,CAAC,CAAO,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAC3C,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,IAAI,CAAC,CAAC,CAAO,CAAC;YAEpC,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC/C,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACjD,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAQ,QAAQ,CAAC,CAAC;YAEnC,MAAM,WAAW,GAAG,GAAG,CAAC,GAAG,CAAI,QAAQ,EAAE,CAAC,CAAC,SAAS,GAAG,qBAAS,CAAC,aAAa,CAAC,IAAA,kBAAG,EAAU,oBAAoB,EAAE,cAAG,CAAK,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAW,EAAE,IAAgC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7L,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YACxC,IAAI,CAAC,CAAC,CAAO,OAAO,GAAG,GAAG,EAAE;gBAC3B,IAAI,CAAC,CAAC,CAAU,IAAI,EAAE,CAAC;YACxB,CAAC,CAAC;QACH,CAAC;KACD;IAED,MAAa,GAAgB,SAAQ,eAAG;QAQvC,YAAY,SAAsB,EAAmB,CAAU,EAAuB,CAAkB,EAAE,0BAAmC,KAAK;YACjJ,KAAK,EAAE,CAAC;YAD4C,MAAC,GAAD,CAAC,CAAS;YAAuB,MAAC,GAAD,CAAC,CAAiB;YAFvF,MAAC,GAAoC,IAAI,CAAC;YAK1D,IAAI,CAAC,CAAC,GAAU,CAAC,CAAC,mBAAmB,CAAC,CAAC;YACvC,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,IAAI,CAAC,CAAC,CAAQ,CAAC;YAErC,IAAI,CAAC,CAAC,GAAgB,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC,EAAS,IAAI,CAAC,CAAC,EAAM,IAAI,CAAC,CAAC,CAAU,CAAC;YACpF,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAc,CAAC;YACpC,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAc,WAAW,CAAC,IAAI,CAAC,CAAC,EAA2B,IAAI,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAc,cAAc,CAAC,IAAI,CAAC,CAAC,EAAW,IAAI,CAAC,CAAC,CAAC;YAE1E,IAAI,CAAC,CAAC,GAAe,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,EAAS,IAAI,CAAC,CAAC,EAAM,uBAAuB,CAAC,CAAC;YAC1F,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAa,CAAC;YACnC,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAa,WAAW,CAAC,IAAI,CAAC,CAAC,EAAmB,IAAI,CAAC,CAAC,CAAC;YAC9E,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAa,cAAc,CAAC,IAAI,CAAC,CAAC,EAAW,IAAI,CAAC,CAAC,CAAC;YAEzE,IAAI,CAAC,CAAC,GAAW,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAS,IAAI,CAAC,CAAC,EAAM,uBAAuB,CAAC,CAAC;YAClF,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAS,CAAC;YAC/B,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAS,WAAW,CAAC,IAAI,CAAC,CAAC,EAAe,IAAI,CAAC,CAAC,CAAC;YACtE,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAS,cAAc,CAAC,IAAI,CAAC,CAAC,EAAW,IAAI,CAAC,CAAC,CAAC;YAErE,IAAI,uBAAuB,EAAE;gBAC5B,IAAI,CAAC,CAAC,GAAe,IAAI,CAAC,CAAC,CAAS,IAAI,GAAG,CAAU,IAAI,CAAC,CAAC,CAAQ,CAAC,CAAC;gBACrE,IAAI,CAAC,CAAC,CAAQ,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;aACtD;QACF,CAAC;QAEO,CAAC;YACR,IAAI,CAAC,CAAC,CAAK,UAAU,EAAE,CAAC;QACzB,CAAC;QAEO,CAAC,CAA0B,EAAE,CAAC,EAAE,CAAC,EAA4B;YACpE,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,IAAI,CAAC;YACnC,IAAI,CAAC,CAAC,CAAK,KAAK,GAAG,IAAI,WAAG,CAAG,IAAI,WAAG,CAAE,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,CAAC;QAEO,CAAC,CAAkB,CAAS;YACnC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,IAAI,CAAC;YACnC,IAAI,CAAC,CAAC,CAAK,KAAK,GAAG,IAAI,WAAG,CAAG,IAAI,WAAG,CAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC;QAEO,CAAC,CAAc,KAAa;YACnC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,IAAI,CAAC;YACnC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC;YAE5B,IAAI,CAAC,CAAC,CAAK,KAAK,GAAG,IAAI,WAAG,CAAG,IAAI,WAAG,CAAE,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACnF,CAAC;QAED,IAAI,OAAO;YACV,OAAO,IAAI,CAAC,CAAC,CAAQ;QACtB,CAAC;QAED,IAAI,aAAa;YAChB,OAAO,IAAI,CAAC,CAAC,CAAc;QAC5B,CAAC;QAED,IAAI,YAAY;YACf,OAAO,IAAI,CAAC,CAAC,CAAa;QAC3B,CAAC;QAED,IAAI,QAAQ;YACX,OAAO,IAAI,CAAC,CAAC,CAAS;QACvB,CAAC;QAED,IAAI,WAAW;YACd,OAAO,IAAI,CAAC,CAAC,CAAa;QAC3B,CAAC;QAED,MAAM;YACL,IAAI,CAAC,CAAC,CAAc,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,CAAC,CAAa,MAAM,EAAE,CAAC;YAC5B,IAAI,CAAC,CAAC,CAAS,MAAM,EAAE,CAAC;QACzB,CAAC;KACD;IAjFD,kBAiFC;IAED,MAAM,aAAc,SAAQ,eAAG;QAe9B,YAAY,SAAsB,EAAmB,CAAU,EAAuB,CAAkB;YACvG,KAAK,EAAE,CAAC;YAD4C,MAAC,GAAD,CAAC,CAAS;YAAuB,MAAC,GAAD,CAAC,CAAiB;YANvF,MAAC,GAAc,IAAI,WAAG,EAAgC,CAAC;YAC/D,gBAAW,GAAoC,IAAI,CAAC,CAAC,CAAY,KAAK,CAAC;YAE/D,MAAC,GAAiB,IAAI,WAAG,EAAY,CAAC;YAC9C,mBAAc,GAAgB,IAAI,CAAC,CAAC,CAAe,KAAK,CAAC;YAKjE,IAAI,CAAC,CAAC,GAAU,CAAC,CAAC,kBAAkB,CAAC,CAAC;YACtC,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,IAAI,CAAC,CAAC,CAAQ,CAAC;YAErC,qCAAqC;YACrC,IAAI,CAAC,CAAC,GAAS,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,CAAC,CAAC,CAAO,SAAS,GAAG,gBAAgB,CAAC;YAC1C,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAS,IAAI,CAAC,CAAC,CAAO,CAAC;YAExC,uBAAuB;YACvB,IAAI,CAAC,CAAC,GAAW,CAAC,CAAC,uBAAuB,CAAC,CAAC;YAC5C,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAS,IAAI,CAAC,CAAC,CAAS,CAAC;YAE1C,IAAI,CAAC,MAAM,EAAE,CAAC;YAEd,IAAI,CAAC,CAAC,CAAS,GAAG,CAAC,GAAG,CAAmB,IAAI,CAAC,CAAC,EAAS,GAAG,CAAC,GAAG,CAAO,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YACjH,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAK,gBAAgB,CAAC,IAAI,CAAC,CAAC,EAAiB,IAAI,CAAC,CAAC,CAAC;YACzE,IAAI,CAAC,CAAC,GAAS,IAAI,CAAC;QACrB,CAAC;QAED,IAAW,OAAO;YACjB,OAAO,IAAI,CAAC,CAAC,CAAQ;QACtB,CAAC;QAED,IAAW,MAAM;YAChB,OAAO,IAAI,CAAC,CAAC,CAAO;QACrB,CAAC;QAEO,CAAC,CAAa,CAAe;YACpC,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,YAAY,OAAO,CAAC,EAAE;gBAChD,OAAO;aACP;YACD,IAAI,CAAC,CAAC,GAAS,IAAI,CAAC,CAAC,CAAS,IAAI,8BAAG,EAAuB,CAAC,CAAC;YAC9D,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAoB,IAAI,CAAC,CAAC,CAAQ,CAAC;YAEzD,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,EAAU;gBAChC,IAAI,CAAC,CAAC,CAAmB,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;aAC/C;YAED,IAAI,CAAC,CAAC,CAAO,eAAe,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAmB,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;YAEnK,MAAM,iBAAiB,GAAG,GAAG,CAAC,GAAG,CAAmB,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,CAAC,GAAG,CAAO,UAAU,EAAE,GAAG,EAAE;gBAC1G,IAAI,CAAC,CAAC,CAAe,IAAI,EAAE,CAAC;gBAC5B,iBAAiB,CAAC,OAAO,EAAE,CAAC;gBAC5B,IAAI,IAAI,CAAC,CAAC,EAAQ;oBACjB,IAAI,CAAC,CAAC,CAAO,cAAc,CAAC,IAAI,CAAC,CAAC;oBAClC,IAAI,CAAC,CAAC,GAAS,IAAI,CAAC;iBACpB;YACF,CAAC,EAAE,IAAI,CAAC,CAAC;QACV,CAAC;QAEO,CAAC,CAAmB,IAAY,EAAE,GAAW;YACpD,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC,CAAC,CAAK,CAAC,CAAC;YACtD,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAM,CAAC,CAAC,CAAC;YAE5D,IAAI,CAAC,CAAC,CAAc,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,CAAC,CAAY,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC;QAED,MAAM;YACL,IAAI,CAAC,CAAC,GAAO,IAAI,CAAC,CAAC,CAAQ,WAAW,CAAC;YACvC,IAAI,CAAC,CAAC,GAAQ,IAAI,CAAC,CAAC,CAAQ,YAAY,CAAC;YACzC,IAAI,CAAC,CAAC,CAAO,KAAK,GAAG,IAAI,CAAC,CAAC,GAAO,IAAI,CAAC,CAAC,CAAU;YAClD,IAAI,CAAC,CAAC,CAAO,MAAM,GAAG,IAAI,CAAC,CAAC,GAAQ,IAAI,CAAC,CAAC,CAAU;YACpD,IAAI,CAAC,CAAC,EAAM,CAAC;YAEb,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,IAAI,CAAC;YACnC,IAAI,CAAC,CAAC,CAAc,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC;QAEO,CAAC;YACR,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,IAAI,CAAC;YACnC,MAAM,cAAc,GAAG,IAAI,WAAG,CAAG,IAAI,WAAG,CAAE,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC5D,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAO,UAAU,CAAC,IAAI,CAAE,CAAC;YAE3C,MAAM,aAAa,GAAG,GAAG,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAO,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5E,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,wBAAwB,CAAC,CAAC;YACxD,aAAa,CAAC,YAAY,CAAC,GAAG,EAAE,0BAA0B,CAAC,CAAC;YAC5D,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,wBAAwB,CAAC,CAAC;YAExD,MAAM,aAAa,GAAG,GAAG,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAO,MAAM,CAAC,CAAC;YAC7E,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;YAClD,aAAa,CAAC,YAAY,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;YAElD,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAO,KAAK,EAAE,IAAI,CAAC,CAAC,CAAO,MAAM,CAAC,CAAC;YACxD,GAAG,CAAC,SAAS,GAAG,WAAG,CAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAE,CAAC;YACzD,GAAG,CAAC,IAAI,EAAE,CAAC;YACX,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;YAC9B,GAAG,CAAC,IAAI,EAAE,CAAC;YACX,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC;YAC9B,GAAG,CAAC,IAAI,EAAE,CAAC;QACZ,CAAC;QAEO,CAAC,CAAc,CAAS,EAAE,CAAS;YAC1C,IAAI,CAAC,CAAC,CAAS,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,IAAQ,CAAC;YAClD,IAAI,CAAC,CAAC,CAAS,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,GAAQ,CAAC,GAAG,IAAI,CAAC,CAAC,IAAS,CAAC;QACjE,CAAC;QAEO,CAAC,CAAgB,KAAU;YAClC,IAAI,IAAI,CAAC,CAAC,IAAU,IAAI,CAAC,CAAC,CAAO,YAAY,EAAE,EAAE;gBAChD,OAAO;aACP;YACD,IAAI,CAAC,CAAC,EAAM,CAAC;YACb,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;YACxB,IAAI,CAAC,CAAC,CAAc,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC;KACD;IAED,MAAe,KAAM,SAAQ,eAAG;QAa/B,YAAY,SAAsB,EAAY,CAAU,EAAe,+BAAwC,KAAK;YACnH,KAAK,EAAE,CAAC;YADqC,MAAC,GAAD,CAAC,CAAS;YANvC,MAAC,GAAc,IAAI,WAAG,EAAc,CAAC;YAC7C,gBAAW,GAAkB,IAAI,CAAC,CAAC,CAAY,KAAK,CAAC;YAE7C,MAAC,GAAiB,IAAI,WAAG,EAAY,CAAC;YAC9C,mBAAc,GAAgB,IAAI,CAAC,CAAC,CAAe,KAAK,CAAC;YAIjE,IAAI,4BAA4B,EAAE;gBACjC,IAAI,CAAC,CAAC,GAAS,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBAC7D,IAAI,CAAC,CAAC,GAAS,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;aAClE;iBAAM;gBACN,IAAI,CAAC,CAAC,GAAS,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,CAAC,GAAS,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;aACvD;YACD,IAAI,CAAC,CAAC,GAAQ,GAAG,CAAC,GAAG,CAAI,IAAI,CAAC,CAAC,EAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,CAAC,CAAM,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;YAE9B,IAAI,CAAC,CAAC,CAAS,GAAG,CAAC,GAAG,CAAmB,IAAI,CAAC,CAAC,EAAQ,GAAG,CAAC,GAAG,CAAO,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAChH,IAAI,CAAC,CAAC,CAAS,CAAC,CAAK,gBAAgB,CAAC,IAAI,CAAC,CAAC,EAAiB,IAAI,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,EAAE,CAAC;QACf,CAAC;QAED,MAAM;YACL,IAAI,CAAC,CAAC,GAAQ,IAAI,CAAC,CAAC,CAAO,YAAY,GAAG,IAAI,CAAC,CAAC,CAAM,YAAY,CAAC;YAEnE,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAQ,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,CAAC;YAC9C,IAAI,CAAC,CAAC,CAAoB,KAAK,CAAC,CAAC;QAClC,CAAC;QAES,CAAC,CAAgB,KAAU;YACpC,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAQ,KAAK,CAAC,CAAC;YACnC,IAAI,CAAC,CAAC,CAAoB,KAAK,CAAC,CAAC;QAClC,CAAC;QAEO,CAAC,CAAa,CAAe;YACpC,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,YAAY,OAAO,CAAC,EAAE;gBAChD,OAAO;aACP;YACD,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAS,IAAI,8BAAG,EAAuB,CAAC,CAAC;YAC/D,MAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAoB,IAAI,CAAC,CAAC,CAAO,CAAC;YACxD,IAAI,CAAC,CAAC,CAAO,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAEvC,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,EAAO;gBAC7B,IAAI,CAAC,CAAC,CAAc,CAAC,CAAC,OAAO,CAAC,CAAC;aAC/B;YAED,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAc,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;YAE9H,MAAM,iBAAiB,GAAG,GAAG,CAAC,GAAG,CAAmB,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,CAAC,GAAG,CAAO,UAAU,EAAE,GAAG,EAAE;gBAC1G,IAAI,CAAC,CAAC,CAAe,IAAI,EAAE,CAAC;gBAC5B,iBAAiB,CAAC,OAAO,EAAE,CAAC;gBAC5B,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,CAAC,CAAC,CAAO,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC3C,CAAC,EAAE,IAAI,CAAC,CAAC;QACV,CAAC;QAEO,CAAC,CAAc,GAAW;YACjC,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAM,CAAC,CAAC,CAAC;YAEhE,IAAI,CAAC,CAAC,CAAoB,KAAK,CAAC,CAAC;YACjC,IAAI,CAAC,CAAC,CAAY,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC;QAEO,CAAC,CAAoB,KAAa;YACzC,IAAI,CAAC,CAAC,CAAM,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,IAAS,CAAC;QAC1D,CAAC;KAGD;IAED,MAAM,YAAa,SAAQ,KAAK;QAE/B,YAAY,SAAsB,EAAE,KAAU,EAAe,+BAAwC,KAAK;YACzG,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,4BAA4B,CAAC,CAAC;YACtD,IAAI,CAAC,CAAC,CAAO,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAE5C,IAAI,CAAC,CAAC,CAAgB,IAAI,CAAC,CAAC,CAAK,KAAK,CAAC,CAAC;QACzC,CAAC;QAEkB,CAAC,CAAgB,KAAU;YAC7C,KAAK,CAAC,CAAC,CAAgB,KAAK,CAAC,CAAC;YAC9B,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC;YAC/B,MAAM,MAAM,GAAG,IAAI,WAAG,CAAG,IAAI,WAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,WAAW,GAAG,IAAI,WAAG,CAAG,IAAI,WAAG,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAEpD,IAAI,CAAC,CAAC,CAAO,KAAK,CAAC,UAAU,GAAG,8BAA8B,MAAM,QAAQ,WAAW,QAAQ,CAAC;QACjG,CAAC;QAES,CAAC,CAAQ,KAAU;YAC5B,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,CAAC;KACD;IAED,MAAM,QAAS,SAAQ,KAAK;QAE3B,YAAY,SAAsB,EAAE,KAAU,EAAe,+BAAwC,KAAK;YACzG,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,4BAA4B,CAAC,CAAC;YACtD,IAAI,CAAC,CAAC,CAAO,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzC,CAAC;QAES,CAAC,CAAQ,KAAU;YAC5B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QACjC,CAAC;KACD;IAED,MAAa,GAAa,SAAQ,eAAG;QAMpC,YAAY,SAAsB;YACjC,KAAK,EAAE,CAAC;YAJQ,MAAC,GAAY,IAAI,CAAC,CAAC,CAAS,IAAI,WAAG,EAAY,CAAC,CAAC;YAClD,cAAS,GAAG,IAAI,CAAC,CAAC,CAAU,KAAK,CAAC;YAIjD,IAAI,CAAC,CAAC,GAAS,GAAG,CAAC,GAAG,CAAI,SAAS,EAAE,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,CAAC,CAAO,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC5C,IAAI,CAAC,CAAC,CAAO,WAAW,GAAG,QAAQ,CAAC;YACpC,IAAI,CAAC,CAAC,CAAO,OAAO,GAAG,CAAC,CAAC,EAAE;gBAC1B,IAAI,CAAC,CAAC,CAAU,IAAI,EAAE,CAAC;YACxB,CAAC,CAAC;QACH,CAAC;QAED,IAAW,MAAM;YAChB,OAAO,IAAI,CAAC,CAAC,CAAO;QACrB,CAAC;KACD;IAnBD,kBAmBC;IAED,MAAa,GAAkB,SAAQ,YAAG;iBAEjB,MAAC,GAAI,kCAAkC,CAAC;QAKhE,YAAY,SAAe,EAAW,KAAU,EAAuB,CAAkB,EAAE,YAAiB,EAAY,wBAAiC,KAAK;YAC7J,KAAK,EAAE,CAAC;YAD6B,UAAK,GAAL,KAAK,CAAK;YAAuB,MAAC,GAAD,CAAC,CAAiB;YAGxF,IAAI,CAAC,CAAC,CAAS,aAAG,CAAQ,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE5D,MAAM,OAAO,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC;YACzC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAE/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAS,IAAI,GAAG,CAAe,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,YAAY,EAAE,qBAAqB,CAAC,CAAC,CAAC;YAC9G,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAS,IAAI,GAAG,CAAa,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,EAAW,qBAAqB,CAAC,CAAC,CAAC;QAC9G,CAAC;QAED,KAAK;YACJ,OAAO,GAAG,CAAe,CAAC,CAAE;QAC7B,CAAC;QAED,MAAM;YACL,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACpB,CAAC;;IAzBF,kBA0BC","file":"colorPickerWidget.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { PixelRatio } from 'vs/base/browser/browser';\nimport * as dom from 'vs/base/browser/dom';\nimport { GlobalPointerMoveMonitor } from 'vs/base/browser/globalPointerMoveMonitor';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { Color, HSVA, RGBA } from 'vs/base/common/color';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport 'vs/css!./colorPicker';\nimport { ColorPickerModel } from 'vs/editor/contrib/colorPicker/browser/colorPickerModel';\nimport { IEditorHoverColorPickerWidget } from 'vs/editor/contrib/hover/browser/hoverTypes';\nimport { localize } from 'vs/nls';\nimport { editorHoverBackground } from 'vs/platform/theme/common/colorRegistry';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\n\nconst $ = dom.$;\n\nexport class ColorPickerHeader extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _pickedColorNode: HTMLElement;\n\tprivate readonly _pickedColorPresentation: HTMLElement;\n\tprivate readonly _originalColorNode: HTMLElement;\n\tprivate readonly _closeButton: CloseButton | null = null;\n\tprivate backgroundColor: Color;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, themeService: IThemeService, private showingStandaloneColorPicker: boolean = false) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.colorpicker-header');\n\t\tdom.append(container, this._domNode);\n\n\t\tthis._pickedColorNode = dom.append(this._domNode, $('.picked-color'));\n\t\tdom.append(this._pickedColorNode, $('span.codicon.codicon-color-mode'));\n\t\tthis._pickedColorPresentation = dom.append(this._pickedColorNode, document.createElement('span'));\n\t\tthis._pickedColorPresentation.classList.add('picked-color-presentation');\n\n\t\tconst tooltip = localize('clickToToggleColorOptions', \"Click to toggle color options (rgb/hsl/hex)\");\n\t\tthis._pickedColorNode.setAttribute('title', tooltip);\n\n\t\tthis._originalColorNode = dom.append(this._domNode, $('.original-color'));\n\t\tthis._originalColorNode.style.backgroundColor = Color.Format.CSS.format(this.model.originalColor) || '';\n\n\t\tthis.backgroundColor = themeService.getColorTheme().getColor(editorHoverBackground) || Color.white;\n\t\tthis._register(themeService.onDidColorThemeChange(theme => {\n\t\t\tthis.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\n\t\t}));\n\n\t\tthis._register(dom.addDisposableListener(this._pickedColorNode, dom.EventType.CLICK, () => this.model.selectNextColorPresentation()));\n\t\tthis._register(dom.addDisposableListener(this._originalColorNode, dom.EventType.CLICK, () => {\n\t\t\tthis.model.color = this.model.originalColor;\n\t\t\tthis.model.flushColor();\n\t\t}));\n\t\tthis._register(model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis._register(model.onDidChangePresentation(this.onDidChangePresentation, this));\n\t\tthis._pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\n\t\tthis._pickedColorNode.classList.toggle('light', model.color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : model.color.isLighter());\n\n\t\tthis.onDidChangeColor(this.model.color);\n\n\t\t// When the color picker widget is a standalone color picker widget, then add a close button\n\t\tif (this.showingStandaloneColorPicker) {\n\t\t\tthis._domNode.classList.add('standalone-colorpicker');\n\t\t\tthis._closeButton = this._register(new CloseButton(this._domNode));\n\t\t}\n\t}\n\n\tpublic get domNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic get closeButton(): CloseButton | null {\n\t\treturn this._closeButton;\n\t}\n\n\tpublic get pickedColorNode(): HTMLElement {\n\t\treturn this._pickedColorNode;\n\t}\n\n\tpublic get originalColorNode(): HTMLElement {\n\t\treturn this._originalColorNode;\n\t}\n\n\tprivate onDidChangeColor(color: Color): void {\n\t\tthis._pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\n\t\tthis._pickedColorNode.classList.toggle('light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\n\t\tthis.onDidChangePresentation();\n\t}\n\n\tprivate onDidChangePresentation(): void {\n\t\tthis._pickedColorPresentation.textContent = this.model.presentation ? this.model.presentation.label : '';\n\t}\n}\n\nclass CloseButton extends Disposable {\n\n\tprivate _button: HTMLElement;\n\tprivate readonly _onClicked = this._register(new Emitter<void>());\n\tpublic readonly onClicked = this._onClicked.event;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tthis._button = document.createElement('div');\n\t\tthis._button.classList.add('close-button');\n\t\tdom.append(container, this._button);\n\n\t\tconst innerDiv = document.createElement('div');\n\t\tinnerDiv.classList.add('close-button-inner-div');\n\t\tdom.append(this._button, innerDiv);\n\n\t\tconst closeButton = dom.append(innerDiv, $('.button' + ThemeIcon.asCSSSelector(registerIcon('color-picker-close', Codicon.close, localize('closeIcon', 'Icon to close the color picker')))));\n\t\tcloseButton.classList.add('close-icon');\n\t\tthis._button.onclick = () => {\n\t\t\tthis._onClicked.fire();\n\t\t};\n\t}\n}\n\nexport class ColorPickerBody extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _saturationBox: SaturationBox;\n\tprivate readonly _hueStrip: Strip;\n\tprivate readonly _opacityStrip: Strip;\n\tprivate readonly _insertButton: InsertButton | null = null;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, private pixelRatio: number, isStandaloneColorPicker: boolean = false) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.colorpicker-body');\n\t\tdom.append(container, this._domNode);\n\n\t\tthis._saturationBox = new SaturationBox(this._domNode, this.model, this.pixelRatio);\n\t\tthis._register(this._saturationBox);\n\t\tthis._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange, this));\n\t\tthis._register(this._saturationBox.onColorFlushed(this.flushColor, this));\n\n\t\tthis._opacityStrip = new OpacityStrip(this._domNode, this.model, isStandaloneColorPicker);\n\t\tthis._register(this._opacityStrip);\n\t\tthis._register(this._opacityStrip.onDidChange(this.onDidOpacityChange, this));\n\t\tthis._register(this._opacityStrip.onColorFlushed(this.flushColor, this));\n\n\t\tthis._hueStrip = new HueStrip(this._domNode, this.model, isStandaloneColorPicker);\n\t\tthis._register(this._hueStrip);\n\t\tthis._register(this._hueStrip.onDidChange(this.onDidHueChange, this));\n\t\tthis._register(this._hueStrip.onColorFlushed(this.flushColor, this));\n\n\t\tif (isStandaloneColorPicker) {\n\t\t\tthis._insertButton = this._register(new InsertButton(this._domNode));\n\t\t\tthis._domNode.classList.add('standalone-colorpicker');\n\t\t}\n\t}\n\n\tprivate flushColor(): void {\n\t\tthis.model.flushColor();\n\t}\n\n\tprivate onDidSaturationValueChange({ s, v }: { s: number; v: number }): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\n\t}\n\n\tprivate onDidOpacityChange(a: number): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\n\t}\n\n\tprivate onDidHueChange(value: number): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tconst h = (1 - value) * 360;\n\n\t\tthis.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\n\t}\n\n\tget domNode() {\n\t\treturn this._domNode;\n\t}\n\n\tget saturationBox() {\n\t\treturn this._saturationBox;\n\t}\n\n\tget opacityStrip() {\n\t\treturn this._opacityStrip;\n\t}\n\n\tget hueStrip() {\n\t\treturn this._hueStrip;\n\t}\n\n\tget enterButton() {\n\t\treturn this._insertButton;\n\t}\n\n\tlayout(): void {\n\t\tthis._saturationBox.layout();\n\t\tthis._opacityStrip.layout();\n\t\tthis._hueStrip.layout();\n\t}\n}\n\nclass SaturationBox extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly selection: HTMLElement;\n\tprivate readonly _canvas: HTMLCanvasElement;\n\tprivate width!: number;\n\tprivate height!: number;\n\n\tprivate monitor: GlobalPointerMoveMonitor | null;\n\tprivate readonly _onDidChange = new Emitter<{ s: number; v: number }>();\n\treadonly onDidChange: Event<{ s: number; v: number }> = this._onDidChange.event;\n\n\tprivate readonly _onColorFlushed = new Emitter<void>();\n\treadonly onColorFlushed: Event<void> = this._onColorFlushed.event;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, private pixelRatio: number) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.saturation-wrap');\n\t\tdom.append(container, this._domNode);\n\n\t\t// Create canvas, draw selected color\n\t\tthis._canvas = document.createElement('canvas');\n\t\tthis._canvas.className = 'saturation-box';\n\t\tdom.append(this._domNode, this._canvas);\n\n\t\t// Add selection circle\n\t\tthis.selection = $('.saturation-selection');\n\t\tdom.append(this._domNode, this.selection);\n\n\t\tthis.layout();\n\n\t\tthis._register(dom.addDisposableListener(this._domNode, dom.EventType.POINTER_DOWN, e => this.onPointerDown(e)));\n\t\tthis._register(this.model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis.monitor = null;\n\t}\n\n\tpublic get domNode() {\n\t\treturn this._domNode;\n\t}\n\n\tpublic get canvas() {\n\t\treturn this._canvas;\n\t}\n\n\tprivate onPointerDown(e: PointerEvent): void {\n\t\tif (!e.target || !(e.target instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.monitor = this._register(new GlobalPointerMoveMonitor());\n\t\tconst origin = dom.getDomNodePagePosition(this._domNode);\n\n\t\tif (e.target !== this.selection) {\n\t\t\tthis.onDidChangePosition(e.offsetX, e.offsetY);\n\t\t}\n\n\t\tthis.monitor.startMonitoring(e.target, e.pointerId, e.buttons, event => this.onDidChangePosition(event.pageX - origin.left, event.pageY - origin.top), () => null);\n\n\t\tconst pointerUpListener = dom.addDisposableListener(e.target.ownerDocument, dom.EventType.POINTER_UP, () => {\n\t\t\tthis._onColorFlushed.fire();\n\t\t\tpointerUpListener.dispose();\n\t\t\tif (this.monitor) {\n\t\t\t\tthis.monitor.stopMonitoring(true);\n\t\t\t\tthis.monitor = null;\n\t\t\t}\n\t\t}, true);\n\t}\n\n\tprivate onDidChangePosition(left: number, top: number): void {\n\t\tconst s = Math.max(0, Math.min(1, left / this.width));\n\t\tconst v = Math.max(0, Math.min(1, 1 - (top / this.height)));\n\n\t\tthis.paintSelection(s, v);\n\t\tthis._onDidChange.fire({ s, v });\n\t}\n\n\tlayout(): void {\n\t\tthis.width = this._domNode.offsetWidth;\n\t\tthis.height = this._domNode.offsetHeight;\n\t\tthis._canvas.width = this.width * this.pixelRatio;\n\t\tthis._canvas.height = this.height * this.pixelRatio;\n\t\tthis.paint();\n\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.paintSelection(hsva.s, hsva.v);\n\t}\n\n\tprivate paint(): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tconst saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\n\t\tconst ctx = this._canvas.getContext('2d')!;\n\n\t\tconst whiteGradient = ctx.createLinearGradient(0, 0, this._canvas.width, 0);\n\t\twhiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\n\t\twhiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\n\t\twhiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n\n\t\tconst blackGradient = ctx.createLinearGradient(0, 0, 0, this._canvas.height);\n\t\tblackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n\t\tblackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\n\n\t\tctx.rect(0, 0, this._canvas.width, this._canvas.height);\n\t\tctx.fillStyle = Color.Format.CSS.format(saturatedColor)!;\n\t\tctx.fill();\n\t\tctx.fillStyle = whiteGradient;\n\t\tctx.fill();\n\t\tctx.fillStyle = blackGradient;\n\t\tctx.fill();\n\t}\n\n\tprivate paintSelection(s: number, v: number): void {\n\t\tthis.selection.style.left = `${s * this.width}px`;\n\t\tthis.selection.style.top = `${this.height - v * this.height}px`;\n\t}\n\n\tprivate onDidChangeColor(color: Color): void {\n\t\tif (this.monitor && this.monitor.isMonitoring()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.paint();\n\t\tconst hsva = color.hsva;\n\t\tthis.paintSelection(hsva.s, hsva.v);\n\t}\n}\n\nabstract class Strip extends Disposable {\n\n\tprotected domNode: HTMLElement;\n\tprotected overlay: HTMLElement;\n\tprotected slider: HTMLElement;\n\tprivate height!: number;\n\n\tprivate readonly _onDidChange = new Emitter<number>();\n\treadonly onDidChange: Event<number> = this._onDidChange.event;\n\n\tprivate readonly _onColorFlushed = new Emitter<void>();\n\treadonly onColorFlushed: Event<void> = this._onColorFlushed.event;\n\n\tconstructor(container: HTMLElement, protected model: ColorPickerModel, showingStandaloneColorPicker: boolean = false) {\n\t\tsuper();\n\t\tif (showingStandaloneColorPicker) {\n\t\t\tthis.domNode = dom.append(container, $('.standalone-strip'));\n\t\t\tthis.overlay = dom.append(this.domNode, $('.standalone-overlay'));\n\t\t} else {\n\t\t\tthis.domNode = dom.append(container, $('.strip'));\n\t\t\tthis.overlay = dom.append(this.domNode, $('.overlay'));\n\t\t}\n\t\tthis.slider = dom.append(this.domNode, $('.slider'));\n\t\tthis.slider.style.top = `0px`;\n\n\t\tthis._register(dom.addDisposableListener(this.domNode, dom.EventType.POINTER_DOWN, e => this.onPointerDown(e)));\n\t\tthis._register(model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis.layout();\n\t}\n\n\tlayout(): void {\n\t\tthis.height = this.domNode.offsetHeight - this.slider.offsetHeight;\n\n\t\tconst value = this.getValue(this.model.color);\n\t\tthis.updateSliderPosition(value);\n\t}\n\n\tprotected onDidChangeColor(color: Color) {\n\t\tconst value = this.getValue(color);\n\t\tthis.updateSliderPosition(value);\n\t}\n\n\tprivate onPointerDown(e: PointerEvent): void {\n\t\tif (!e.target || !(e.target instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tconst monitor = this._register(new GlobalPointerMoveMonitor());\n\t\tconst origin = dom.getDomNodePagePosition(this.domNode);\n\t\tthis.domNode.classList.add('grabbing');\n\n\t\tif (e.target !== this.slider) {\n\t\t\tthis.onDidChangeTop(e.offsetY);\n\t\t}\n\n\t\tmonitor.startMonitoring(e.target, e.pointerId, e.buttons, event => this.onDidChangeTop(event.pageY - origin.top), () => null);\n\n\t\tconst pointerUpListener = dom.addDisposableListener(e.target.ownerDocument, dom.EventType.POINTER_UP, () => {\n\t\t\tthis._onColorFlushed.fire();\n\t\t\tpointerUpListener.dispose();\n\t\t\tmonitor.stopMonitoring(true);\n\t\t\tthis.domNode.classList.remove('grabbing');\n\t\t}, true);\n\t}\n\n\tprivate onDidChangeTop(top: number): void {\n\t\tconst value = Math.max(0, Math.min(1, 1 - (top / this.height)));\n\n\t\tthis.updateSliderPosition(value);\n\t\tthis._onDidChange.fire(value);\n\t}\n\n\tprivate updateSliderPosition(value: number): void {\n\t\tthis.slider.style.top = `${(1 - value) * this.height}px`;\n\t}\n\n\tprotected abstract getValue(color: Color): number;\n}\n\nclass OpacityStrip extends Strip {\n\n\tconstructor(container: HTMLElement, model: ColorPickerModel, showingStandaloneColorPicker: boolean = false) {\n\t\tsuper(container, model, showingStandaloneColorPicker);\n\t\tthis.domNode.classList.add('opacity-strip');\n\n\t\tthis.onDidChangeColor(this.model.color);\n\t}\n\n\tprotected override onDidChangeColor(color: Color): void {\n\t\tsuper.onDidChangeColor(color);\n\t\tconst { r, g, b } = color.rgba;\n\t\tconst opaque = new Color(new RGBA(r, g, b, 1));\n\t\tconst transparent = new Color(new RGBA(r, g, b, 0));\n\n\t\tthis.overlay.style.background = `linear-gradient(to bottom, ${opaque} 0%, ${transparent} 100%)`;\n\t}\n\n\tprotected getValue(color: Color): number {\n\t\treturn color.hsva.a;\n\t}\n}\n\nclass HueStrip extends Strip {\n\n\tconstructor(container: HTMLElement, model: ColorPickerModel, showingStandaloneColorPicker: boolean = false) {\n\t\tsuper(container, model, showingStandaloneColorPicker);\n\t\tthis.domNode.classList.add('hue-strip');\n\t}\n\n\tprotected getValue(color: Color): number {\n\t\treturn 1 - (color.hsva.h / 360);\n\t}\n}\n\nexport class InsertButton extends Disposable {\n\n\tprivate _button: HTMLElement;\n\tprivate readonly _onClicked = this._register(new Emitter<void>());\n\tpublic readonly onClicked = this._onClicked.event;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tthis._button = dom.append(container, document.createElement('button'));\n\t\tthis._button.classList.add('insert-button');\n\t\tthis._button.textContent = 'Insert';\n\t\tthis._button.onclick = e => {\n\t\t\tthis._onClicked.fire();\n\t\t};\n\t}\n\n\tpublic get button(): HTMLElement {\n\t\treturn this._button;\n\t}\n}\n\nexport class ColorPickerWidget extends Widget implements IEditorHoverColorPickerWidget {\n\n\tprivate static readonly ID = 'editor.contrib.colorPickerWidget';\n\n\tbody: ColorPickerBody;\n\theader: ColorPickerHeader;\n\n\tconstructor(container: Node, readonly model: ColorPickerModel, private pixelRatio: number, themeService: IThemeService, standaloneColorPicker: boolean = false) {\n\t\tsuper();\n\n\t\tthis._register(PixelRatio.onDidChange(() => this.layout()));\n\n\t\tconst element = $('.colorpicker-widget');\n\t\tcontainer.appendChild(element);\n\n\t\tthis.header = this._register(new ColorPickerHeader(element, this.model, themeService, standaloneColorPicker));\n\t\tthis.body = this._register(new ColorPickerBody(element, this.model, this.pixelRatio, standaloneColorPicker));\n\t}\n\n\tgetId(): string {\n\t\treturn ColorPickerWidget.ID;\n\t}\n\n\tlayout(): void {\n\t\tthis.body.layout();\n\t}\n}\n"]}
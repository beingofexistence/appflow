{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/contrib/stickyScroll/test/browser/stickyScroll.test.ts"],"names":[],"mappings":"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","file":"stickyScroll.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { withAsyncTestCodeEditor } from 'vs/editor/test/browser/testCodeEditor';\nimport { StickyScrollController } from 'vs/editor/contrib/stickyScroll/browser/stickyScrollController';\nimport { ServiceCollection } from 'vs/platform/instantiation/common/serviceCollection';\nimport { ILanguageFeaturesService } from 'vs/editor/common/services/languageFeatures';\nimport { createTextModel } from 'vs/editor/test/common/testTextModel';\nimport { LanguageFeaturesService } from 'vs/editor/common/services/languageFeaturesService';\nimport { DocumentSymbol, SymbolKind } from 'vs/editor/common/languages';\nimport { StickyLineCandidate, StickyLineCandidateProvider } from 'vs/editor/contrib/stickyScroll/browser/stickyScrollProvider';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { ILogService, NullLogService } from 'vs/platform/log/common/log';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { mock } from 'vs/base/test/common/mock';\nimport { ILanguageConfigurationService } from 'vs/editor/common/languages/languageConfigurationRegistry';\nimport { ILanguageFeatureDebounceService, LanguageFeatureDebounceService } from 'vs/editor/common/services/languageFeatureDebounce';\nimport { TestLanguageConfigurationService } from 'vs/editor/test/common/modes/testLanguageConfigurationService';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { runWithFakedTimers } from 'vs/base/test/common/timeTravelScheduler';\nimport { IEnvironmentService } from 'vs/platform/environment/common/environment';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\n\nsuite('Sticky Scroll Tests', () => {\n\n\tconst disposables = new DisposableStore();\n\n\tconst serviceCollection = new ServiceCollection(\n\t\t[ILanguageFeaturesService, new LanguageFeaturesService()],\n\t\t[ILogService, new NullLogService()],\n\t\t[IContextMenuService, new class extends mock<IContextMenuService>() { }],\n\t\t[ILanguageConfigurationService, new TestLanguageConfigurationService()],\n\t\t[IEnvironmentService, new class extends mock<IEnvironmentService>() {\n\t\t\toverride isBuilt: boolean = true;\n\t\t\toverride isExtensionDevelopment: boolean = false;\n\t\t}],\n\t\t[ILanguageFeatureDebounceService, new SyncDescriptor(LanguageFeatureDebounceService)],\n\t);\n\n\tconst text = [\n\t\t'function foo() {',\n\t\t'',\n\t\t'}',\n\t\t'/* comment related to TestClass',\n\t\t' end of the comment */',\n\t\t'@classDecorator',\n\t\t'class TestClass {',\n\t\t'// comment related to the function functionOfClass',\n\t\t'functionOfClass(){',\n\t\t'function function1(){',\n\t\t'}',\n\t\t'}}',\n\t\t'function bar() { function insideBar() {}',\n\t\t'}'\n\t].join('\\n');\n\n\tsetup(() => {\n\t\tdisposables.clear();\n\t});\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction documentSymbolProviderForTestModel() {\n\t\treturn {\n\t\t\tprovideDocumentSymbols() {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'foo',\n\t\t\t\t\t\tdetail: 'foo',\n\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\trange: { startLineNumber: 1, endLineNumber: 3, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tselectionRange: { startLineNumber: 1, endLineNumber: 1, startColumn: 1, endColumn: 1 }\n\t\t\t\t\t} as DocumentSymbol,\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'TestClass',\n\t\t\t\t\t\tdetail: 'TestClass',\n\t\t\t\t\t\tkind: SymbolKind.Class,\n\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\trange: { startLineNumber: 4, endLineNumber: 12, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tselectionRange: { startLineNumber: 7, endLineNumber: 7, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'functionOfClass',\n\t\t\t\t\t\t\t\tdetail: 'functionOfClass',\n\t\t\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\t\t\trange: { startLineNumber: 8, endLineNumber: 12, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\tselectionRange: { startLineNumber: 9, endLineNumber: 9, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'function1',\n\t\t\t\t\t\t\t\t\t\tdetail: 'function1',\n\t\t\t\t\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\t\t\t\t\trange: { startLineNumber: 10, endLineNumber: 11, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\t\t\tselectionRange: { startLineNumber: 10, endLineNumber: 10, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t} as DocumentSymbol\n\t\t\t\t\t\t]\n\t\t\t\t\t} as DocumentSymbol,\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'bar',\n\t\t\t\t\t\tdetail: 'bar',\n\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\trange: { startLineNumber: 13, endLineNumber: 14, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tselectionRange: { startLineNumber: 13, endLineNumber: 13, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'insideBar',\n\t\t\t\t\t\t\t\tdetail: 'insideBar',\n\t\t\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\t\t\trange: { startLineNumber: 13, endLineNumber: 13, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\tselectionRange: { startLineNumber: 13, endLineNumber: 13, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t} as DocumentSymbol\n\t\t\t\t\t\t]\n\t\t\t\t\t} as DocumentSymbol\n\t\t\t\t];\n\t\t\t}\n\t\t};\n\t}\n\n\ttest('Testing the function getCandidateStickyLinesIntersecting', () => {\n\t\treturn runWithFakedTimers({ useFakeTimers: true }, async () => {\n\t\t\tconst model = createTextModel(text);\n\t\t\tawait withAsyncTestCodeEditor(model, {\n\t\t\t\tstickyScroll: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tmaxLineCount: 5,\n\t\t\t\t\tdefaultModel: 'outlineModel'\n\t\t\t\t}, serviceCollection: serviceCollection\n\t\t\t}, async (editor, _viewModel, instantiationService) => {\n\t\t\t\tconst languageService = instantiationService.get(ILanguageFeaturesService);\n\t\t\t\tconst languageConfigurationService = instantiationService.get(ILanguageConfigurationService);\n\t\t\t\tdisposables.add(languageService.documentSymbolProvider.register('*', documentSymbolProviderForTestModel()));\n\t\t\t\tconst provider: StickyLineCandidateProvider = new StickyLineCandidateProvider(editor, languageService, languageConfigurationService);\n\t\t\t\tawait provider.update();\n\t\t\t\tassert.deepStrictEqual(provider.getCandidateStickyLinesIntersecting({ startLineNumber: 1, endLineNumber: 4 }), [new StickyLineCandidate(1, 2, 1)]);\n\t\t\t\tassert.deepStrictEqual(provider.getCandidateStickyLinesIntersecting({ startLineNumber: 8, endLineNumber: 10 }), [new StickyLineCandidate(7, 11, 1), new StickyLineCandidate(9, 11, 2), new StickyLineCandidate(10, 10, 3)]);\n\t\t\t\tassert.deepStrictEqual(provider.getCandidateStickyLinesIntersecting({ startLineNumber: 10, endLineNumber: 13 }), [new StickyLineCandidate(7, 11, 1), new StickyLineCandidate(9, 11, 2), new StickyLineCandidate(10, 10, 3)]);\n\n\t\t\t\tprovider.dispose();\n\t\t\t\tmodel.dispose();\n\t\t\t});\n\t\t});\n\t});\n\n\ttest('issue #157180: Render the correct line corresponding to the scope definition', () => {\n\t\treturn runWithFakedTimers({ useFakeTimers: true }, async () => {\n\t\t\tconst model = createTextModel(text);\n\t\t\tawait withAsyncTestCodeEditor(model, {\n\t\t\t\tstickyScroll: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tmaxLineCount: 5,\n\t\t\t\t\tdefaultModel: 'outlineModel'\n\t\t\t\t}, serviceCollection\n\t\t\t}, async (editor, _viewModel, instantiationService) => {\n\n\t\t\t\tconst stickyScrollController: StickyScrollController = editor.registerAndInstantiateContribution(StickyScrollController.ID, StickyScrollController);\n\t\t\t\tconst lineHeight: number = editor.getOption(EditorOption.lineHeight);\n\t\t\t\tconst languageService: ILanguageFeaturesService = instantiationService.get(ILanguageFeaturesService);\n\t\t\t\tdisposables.add(languageService.documentSymbolProvider.register('*', documentSymbolProviderForTestModel()));\n\t\t\t\tawait stickyScrollController.stickyScrollCandidateProvider.update();\n\t\t\t\tlet state;\n\n\t\t\t\teditor.setScrollTop(1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1]);\n\n\t\t\t\teditor.setScrollTop(lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1]);\n\n\t\t\t\teditor.setScrollTop(4 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, []);\n\n\t\t\t\teditor.setScrollTop(8 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [7, 9]);\n\n\t\t\t\teditor.setScrollTop(9 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [7, 9]);\n\n\t\t\t\teditor.setScrollTop(10 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [7]);\n\n\t\t\t\tstickyScrollController.dispose();\n\t\t\t\tstickyScrollController.stickyScrollCandidateProvider.dispose();\n\t\t\t\tmodel.dispose();\n\t\t\t});\n\t\t});\n\t});\n\n\ttest('issue #156268 : Do not reveal sticky lines when they are in a folded region ', () => {\n\t\treturn runWithFakedTimers({ useFakeTimers: true }, async () => {\n\t\t\tconst model = createTextModel(text);\n\t\t\tawait withAsyncTestCodeEditor(model, {\n\t\t\t\tstickyScroll: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tmaxLineCount: 5,\n\t\t\t\t\tdefaultModel: 'outlineModel'\n\t\t\t\t}, serviceCollection\n\t\t\t}, async (editor, viewModel, instantiationService) => {\n\n\t\t\t\tconst stickyScrollController: StickyScrollController = editor.registerAndInstantiateContribution(StickyScrollController.ID, StickyScrollController);\n\t\t\t\tconst lineHeight = editor.getOption(EditorOption.lineHeight);\n\n\t\t\t\tconst languageService = instantiationService.get(ILanguageFeaturesService);\n\t\t\t\tdisposables.add(languageService.documentSymbolProvider.register('*', documentSymbolProviderForTestModel()));\n\t\t\t\tawait stickyScrollController.stickyScrollCandidateProvider.update();\n\t\t\t\teditor.setHiddenAreas([{ startLineNumber: 2, endLineNumber: 2, startColumn: 1, endColumn: 1 }, { startLineNumber: 10, endLineNumber: 11, startColumn: 1, endColumn: 1 }]);\n\t\t\t\tlet state;\n\n\t\t\t\teditor.setScrollTop(1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1]);\n\n\t\t\t\teditor.setScrollTop(lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, []);\n\n\t\t\t\teditor.setScrollTop(6 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [7, 9]);\n\n\t\t\t\teditor.setScrollTop(7 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [7]);\n\n\t\t\t\teditor.setScrollTop(10 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, []);\n\n\t\t\t\tstickyScrollController.dispose();\n\t\t\t\tstickyScrollController.stickyScrollCandidateProvider.dispose();\n\t\t\t\tmodel.dispose();\n\t\t\t});\n\t\t});\n\t});\n\n\tconst textWithScopesWithSameStartingLines = [\n\t\t'class TestClass { foo() {',\n\t\t'function bar(){',\n\t\t'',\n\t\t'}}',\n\t\t'}',\n\t\t''\n\t].join('\\n');\n\n\tfunction documentSymbolProviderForSecondTestModel() {\n\t\treturn {\n\t\t\tprovideDocumentSymbols() {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'TestClass',\n\t\t\t\t\t\tdetail: 'TestClass',\n\t\t\t\t\t\tkind: SymbolKind.Class,\n\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\trange: { startLineNumber: 1, endLineNumber: 5, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tselectionRange: { startLineNumber: 1, endLineNumber: 1, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'foo',\n\t\t\t\t\t\t\t\tdetail: 'foo',\n\t\t\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\t\t\trange: { startLineNumber: 1, endLineNumber: 4, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\tselectionRange: { startLineNumber: 1, endLineNumber: 1, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'bar',\n\t\t\t\t\t\t\t\t\t\tdetail: 'bar',\n\t\t\t\t\t\t\t\t\t\tkind: SymbolKind.Function,\n\t\t\t\t\t\t\t\t\t\ttags: [],\n\t\t\t\t\t\t\t\t\t\trange: { startLineNumber: 2, endLineNumber: 4, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\t\t\tselectionRange: { startLineNumber: 2, endLineNumber: 2, startColumn: 1, endColumn: 1 },\n\t\t\t\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t\t\t\t} as DocumentSymbol\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t} as DocumentSymbol,\n\t\t\t\t\t\t]\n\t\t\t\t\t} as DocumentSymbol\n\t\t\t\t];\n\t\t\t}\n\t\t};\n\t}\n\n\ttest('issue #159271 : render the correct widget state when the child scope starts on the same line as the parent scope', () => {\n\t\treturn runWithFakedTimers({ useFakeTimers: true }, async () => {\n\t\t\tconst model = createTextModel(textWithScopesWithSameStartingLines);\n\t\t\tawait withAsyncTestCodeEditor(model, {\n\t\t\t\tstickyScroll: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tmaxLineCount: 5,\n\t\t\t\t\tdefaultModel: 'outlineModel'\n\t\t\t\t}, serviceCollection\n\t\t\t}, async (editor, _viewModel, instantiationService) => {\n\n\t\t\t\tconst stickyScrollController: StickyScrollController = editor.registerAndInstantiateContribution(StickyScrollController.ID, StickyScrollController);\n\t\t\t\tawait stickyScrollController.stickyScrollCandidateProvider.update();\n\t\t\t\tconst lineHeight = editor.getOption(EditorOption.lineHeight);\n\n\t\t\t\tconst languageService = instantiationService.get(ILanguageFeaturesService);\n\t\t\t\tdisposables.add(languageService.documentSymbolProvider.register('*', documentSymbolProviderForSecondTestModel()));\n\t\t\t\tawait stickyScrollController.stickyScrollCandidateProvider.update();\n\t\t\t\tlet state;\n\n\t\t\t\teditor.setScrollTop(1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1, 2]);\n\n\t\t\t\teditor.setScrollTop(lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1, 2]);\n\n\t\t\t\teditor.setScrollTop(2 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1]);\n\n\t\t\t\teditor.setScrollTop(3 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, [1]);\n\n\t\t\t\teditor.setScrollTop(4 * lineHeight + 1);\n\t\t\t\tstate = stickyScrollController.findScrollWidgetState();\n\t\t\t\tassert.deepStrictEqual(state.startLineNumbers, []);\n\n\t\t\t\tstickyScrollController.dispose();\n\t\t\t\tstickyScrollController.stickyScrollCandidateProvider.dispose();\n\t\t\t\tmodel.dispose();\n\t\t\t});\n\t\t});\n\t});\n});\n"]}
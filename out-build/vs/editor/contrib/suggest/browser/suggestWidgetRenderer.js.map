{"version":3,"sources":["vs/editor/contrib/suggest/browser/suggestWidgetRenderer.ts"],"names":[],"mappings":"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","file":"suggestWidgetRenderer.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, append, hide, show } from 'vs/base/browser/dom';\nimport { IconLabel, IIconLabelValueOptions } from 'vs/base/browser/ui/iconLabel/iconLabel';\nimport { IListRenderer } from 'vs/base/browser/ui/list/list';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { createMatches } from 'vs/base/common/filters';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { URI } from 'vs/base/common/uri';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { CompletionItemKind, CompletionItemKinds, CompletionItemTag } from 'vs/editor/common/languages';\nimport { getIconClasses } from 'vs/editor/common/services/getIconClasses';\nimport { IModelService } from 'vs/editor/common/services/model';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport * as nls from 'vs/nls';\nimport { FileKind } from 'vs/platform/files/common/files';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { CompletionItem } from './suggest';\nimport { canExpandCompletionItem } from './suggestWidgetDetails';\n\nexport function getAriaId(index: number): string {\n\treturn `suggest-aria-id:${index}`;\n}\n\nconst suggestMoreInfoIcon = registerIcon('suggest-more-info', Codicon.chevronRight, nls.localize('suggestMoreInfoIcon', 'Icon for more information in the suggest widget.'));\n\nconst _completionItemColor = new class ColorExtractor {\n\n\tprivate static _regexRelaxed = /(#([\\da-fA-F]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))/;\n\tprivate static _regexStrict = new RegExp(`^${ColorExtractor._regexRelaxed.source}$`, 'i');\n\n\textract(item: CompletionItem, out: string[]): boolean {\n\t\tif (item.textLabel.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.textLabel;\n\t\t\treturn true;\n\t\t}\n\t\tif (item.completion.detail && item.completion.detail.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.completion.detail;\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof item.completion.documentation === 'string') {\n\t\t\tconst match = ColorExtractor._regexRelaxed.exec(item.completion.documentation);\n\t\t\tif (match && (match.index === 0 || match.index + match[0].length === item.completion.documentation.length)) {\n\t\t\t\tout[0] = match[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\n\nexport interface ISuggestionTemplateData {\n\treadonly root: HTMLElement;\n\n\t/**\n\t * Flexbox\n\t * < ------------- left ------------ >     < --- right -- >\n\t * <icon><label><signature><qualifier>     <type><readmore>\n\t */\n\treadonly left: HTMLElement;\n\treadonly right: HTMLElement;\n\n\treadonly icon: HTMLElement;\n\treadonly colorspan: HTMLElement;\n\treadonly iconLabel: IconLabel;\n\treadonly iconContainer: HTMLElement;\n\treadonly parametersLabel: HTMLElement;\n\treadonly qualifierLabel: HTMLElement;\n\t/**\n\t * Showing either `CompletionItem#details` or `CompletionItemLabel#type`\n\t */\n\treadonly detailsLabel: HTMLElement;\n\treadonly readMore: HTMLElement;\n\treadonly disposables: DisposableStore;\n}\n\nexport class ItemRenderer implements IListRenderer<CompletionItem, ISuggestionTemplateData> {\n\n\tprivate readonly _onDidToggleDetails = new Emitter<void>();\n\treadonly onDidToggleDetails: Event<void> = this._onDidToggleDetails.event;\n\n\treadonly templateId = 'suggestion';\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t\t@IThemeService private readonly _themeService: IThemeService\n\t) { }\n\n\tdispose(): void {\n\t\tthis._onDidToggleDetails.dispose();\n\t}\n\n\trenderTemplate(container: HTMLElement): ISuggestionTemplateData {\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst root = container;\n\t\troot.classList.add('show-file-icons');\n\n\t\tconst icon = append(container, $('.icon'));\n\t\tconst colorspan = append(icon, $('span.colorspan'));\n\n\t\tconst text = append(container, $('.contents'));\n\t\tconst main = append(text, $('.main'));\n\n\t\tconst iconContainer = append(main, $('.icon-label.codicon'));\n\t\tconst left = append(main, $('span.left'));\n\t\tconst right = append(main, $('span.right'));\n\n\t\tconst iconLabel = new IconLabel(left, { supportHighlights: true, supportIcons: true });\n\t\tdisposables.add(iconLabel);\n\n\t\tconst parametersLabel = append(left, $('span.signature-label'));\n\t\tconst qualifierLabel = append(left, $('span.qualifier-label'));\n\t\tconst detailsLabel = append(right, $('span.details-label'));\n\n\t\tconst readMore = append(right, $('span.readMore' + ThemeIcon.asCSSSelector(suggestMoreInfoIcon)));\n\t\treadMore.title = nls.localize('readMore', \"Read More\");\n\n\t\tconst configureFont = () => {\n\t\t\tconst options = this._editor.getOptions();\n\t\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\t\tconst fontFamily = fontInfo.getMassagedFontFamily();\n\t\t\tconst fontFeatureSettings = fontInfo.fontFeatureSettings;\n\t\t\tconst fontSize = options.get(EditorOption.suggestFontSize) || fontInfo.fontSize;\n\t\t\tconst lineHeight = options.get(EditorOption.suggestLineHeight) || fontInfo.lineHeight;\n\t\t\tconst fontWeight = fontInfo.fontWeight;\n\t\t\tconst letterSpacing = fontInfo.letterSpacing;\n\t\t\tconst fontSizePx = `${fontSize}px`;\n\t\t\tconst lineHeightPx = `${lineHeight}px`;\n\t\t\tconst letterSpacingPx = `${letterSpacing}px`;\n\n\t\t\troot.style.fontSize = fontSizePx;\n\t\t\troot.style.fontWeight = fontWeight;\n\t\t\troot.style.letterSpacing = letterSpacingPx;\n\t\t\tmain.style.fontFamily = fontFamily;\n\t\t\tmain.style.fontFeatureSettings = fontFeatureSettings;\n\t\t\tmain.style.lineHeight = lineHeightPx;\n\t\t\ticon.style.height = lineHeightPx;\n\t\t\ticon.style.width = lineHeightPx;\n\t\t\treadMore.style.height = lineHeightPx;\n\t\t\treadMore.style.width = lineHeightPx;\n\t\t};\n\n\t\tconfigureFont();\n\n\t\tdisposables.add(this._editor.onDidChangeConfiguration(e => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo) || e.hasChanged(EditorOption.suggestFontSize) || e.hasChanged(EditorOption.suggestLineHeight)) {\n\t\t\t\tconfigureFont();\n\t\t\t}\n\t\t}));\n\n\t\treturn { root, left, right, icon, colorspan, iconLabel, iconContainer, parametersLabel, qualifierLabel, detailsLabel, readMore, disposables };\n\t}\n\n\trenderElement(element: CompletionItem, index: number, data: ISuggestionTemplateData): void {\n\t\tconst { completion } = element;\n\t\tdata.root.id = getAriaId(index);\n\t\tdata.colorspan.style.backgroundColor = '';\n\n\t\tconst labelOptions: IIconLabelValueOptions = {\n\t\t\tlabelEscapeNewLines: true,\n\t\t\tmatches: createMatches(element.score)\n\t\t};\n\n\t\tconst color: string[] = [];\n\t\tif (completion.kind === CompletionItemKind.Color && _completionItemColor.extract(element, color)) {\n\t\t\t// special logic for 'color' completion items\n\t\t\tdata.icon.className = 'icon customcolor';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tdata.colorspan.style.backgroundColor = color[0];\n\n\t\t} else if (completion.kind === CompletionItemKind.File && this._themeService.getFileIconTheme().hasFileIcons) {\n\t\t\t// special logic for 'file' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tconst labelClasses = getIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FILE);\n\t\t\tconst detailClasses = getIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FILE);\n\t\t\tlabelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;\n\n\t\t} else if (completion.kind === CompletionItemKind.Folder && this._themeService.getFileIconTheme().hasFolderIcons) {\n\t\t\t// special logic for 'folder' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tlabelOptions.extraClasses = [\n\t\t\t\tgetIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FOLDER),\n\t\t\t\tgetIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FOLDER)\n\t\t\t].flat();\n\t\t} else {\n\t\t\t// normal icon\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = '';\n\t\t\tdata.iconContainer.classList.add('suggest-icon', ...ThemeIcon.asClassNameArray(CompletionItemKinds.toIcon(completion.kind)));\n\t\t}\n\n\t\tif (completion.tags && completion.tags.indexOf(CompletionItemTag.Deprecated) >= 0) {\n\t\t\tlabelOptions.extraClasses = (labelOptions.extraClasses || []).concat(['deprecated']);\n\t\t\tlabelOptions.matches = [];\n\t\t}\n\n\t\tdata.iconLabel.setLabel(element.textLabel, undefined, labelOptions);\n\t\tif (typeof completion.label === 'string') {\n\t\t\tdata.parametersLabel.textContent = '';\n\t\t\tdata.detailsLabel.textContent = stripNewLines(completion.detail || '');\n\t\t\tdata.root.classList.add('string-label');\n\t\t} else {\n\t\t\tdata.parametersLabel.textContent = stripNewLines(completion.label.detail || '');\n\t\t\tdata.detailsLabel.textContent = stripNewLines(completion.label.description || '');\n\t\t\tdata.root.classList.remove('string-label');\n\t\t}\n\n\t\tif (this._editor.getOption(EditorOption.suggest).showInlineDetails) {\n\t\t\tshow(data.detailsLabel);\n\t\t} else {\n\t\t\thide(data.detailsLabel);\n\t\t}\n\n\t\tif (canExpandCompletionItem(element)) {\n\t\t\tdata.right.classList.add('can-expand-details');\n\t\t\tshow(data.readMore);\n\t\t\tdata.readMore.onmousedown = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t};\n\t\t\tdata.readMore.onclick = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._onDidToggleDetails.fire();\n\t\t\t};\n\t\t} else {\n\t\t\tdata.right.classList.remove('can-expand-details');\n\t\t\thide(data.readMore);\n\t\t\tdata.readMore.onmousedown = null;\n\t\t\tdata.readMore.onclick = null;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISuggestionTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\nfunction stripNewLines(str: string): string {\n\treturn str.replace(/\\r\\n|\\r|\\n/g, '');\n}\n"]}
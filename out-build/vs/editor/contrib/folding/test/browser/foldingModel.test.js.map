{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/contrib/folding/test/browser/foldingModel.test.ts"],"names":[],"mappings":";;;;IA4BA,MAAa,IAAI;iBAEQ,MAAC,GAAqB,eAAG,CAAoB,QAAQ,CAAC;YAC7E,WAAW,EAAE,MAAM;YACnB,UAAU,4DAAoD;YAC9D,yBAAyB,EAAE,SAAS;SACpC,CAAC,CAAC;iBAEqB,MAAC,GAAoB,eAAG,CAAoB,QAAQ,CAAC;YAC5E,WAAW,EAAE,MAAM;YACnB,UAAU,4DAAoD;YAC9D,yBAAyB,EAAE,SAAS;SACpC,CAAC,CAAC;iBAEqB,MAAC,GAAkB,eAAG,CAAoB,QAAQ,CAAC;YAC1E,WAAW,EAAE,MAAM;YACnB,UAAU,4DAAoD;YAC9D,yBAAyB,EAAE,SAAS;SACpC,CAAC,CAAC;QAEH,YAAoB,CAAiB;YAAjB,MAAC,GAAD,CAAC,CAAgB;QACrC,CAAC;QAED,mBAAmB,CAAC,WAAoB,EAAE,QAAiB;YAC1D,IAAI,QAAQ,EAAE;gBACb,OAAO,IAAI,CAAmB,CAAC,CAAgB;aAC/C;YACD,IAAI,WAAW,EAAE;gBAChB,OAAO,IAAI,CAAmB,CAAC,CAAmB;aAClD;YACD,OAAO,IAAI,CAAmB,CAAC,CAAkB;QAClD,CAAC;QAED,iBAAiB,CAAI,QAAgE;YACpF,OAAO,IAAI,CAAC,CAAC,CAAK,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;QAED,iBAAiB,CAAC,aAAuB;YACxC,IAAI,CAAC,CAAC,CAAK,iBAAiB,CAAC,CAAC,cAAc,EAAE,EAAE;gBAC/C,cAAc,CAAC,gBAAgB,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;YACpD,CAAC,CAAC,CAAC;QACJ,CAAC;QAED,cAAc;YACb,MAAM,WAAW,GAAG,IAAI,CAAC,CAAC,CAAK,iBAAiB,EAAE,CAAC;YACnD,MAAM,GAAG,GAAyB,EAAE,CAAC;YACrC,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE;gBACrC,IAAI,UAAU,CAAC,OAAO,KAAK,IAAI,CAAmB,CAAC,EAAiB;oBACnE,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;iBACrE;qBAAM,IAAI,UAAU,CAAC,OAAO,KAAK,IAAI,CAAmB,CAAC,EAAoB;oBAC7E,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;iBACxE;qBAAM,IAAI,UAAU,CAAC,OAAO,KAAK,IAAI,CAAmB,CAAC,EAAmB;oBAC5E,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;iBACvE;aACD;YACD,OAAO,GAAG,CAAC;QACZ,CAAC;;IAxDF,oBAyDC;IAED,KAAK,CAAC,eAAe,EAAE,GAAG,EAAE;QAC3B,SAAS,CAAC,CAAC,eAAuB,EAAE,aAAqB,EAAE,cAAuB,KAAK;YACtF,OAAO,EAAE,eAAe,EAAE,aAAa,EAAE,WAAW,EAAE,CAAC;QACxD,CAAC;QAED,SAAS,CAAC,CAAC,IAAY,EAAE,IAAyC;YACjE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;QACvB,CAAC;QAED,SAAS,YAAY,CAAC,MAA4B,EAAE,QAA+B,EAAE,OAAgB;YACpG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAClD,IAAI,MAAM,IAAI,QAAQ,EAAE;gBACvB,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,EAAE,QAAQ,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;gBAC9E,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,EAAE,QAAQ,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;gBAC1E,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;aACtE;QACF,CAAC;QAED,SAAS,kBAAkB,CAAC,YAAiB,EAAW,eAAiC,EAAE,OAAgB;YAC1G,MAAM,YAAY,GAAqB,EAAE,CAAC;YAC1C,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC;YACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvC,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;oBAC1B,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC/E;aACD;YACD,MAAM,CAAC,eAAe,CAAC,YAAY,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QAChE,CAAC;QAED,SAAS,YAAY,CAAC,YAAiB,EAAW,eAAiC,EAAE,OAAgB;YACpG,MAAM,YAAY,GAAqB,EAAE,CAAC;YAC1C,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC;YACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACtG;YACD,MAAM,CAAC,eAAe,CAAC,YAAY,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QAChE,CAAC;QAED,SAAS,iBAAiB,CAAC,YAAiB,EAAW,kBAAwC,EAAE,OAAgB;YAChH,MAAM,kBAAkB,GAAG,YAAY,CAAC,kBAA0B,CAAmB;YACrF,MAAM,CAAC,eAAe,CAAC,kBAAkB,CAAC,cAAc,EAAE,EAAE,kBAAkB,EAAE,OAAO,CAAC,CAAC;QAC1F,CAAC;QAED,SAAS,aAAa,CAAC,MAAuB,EAAE,eAAiC,EAAE,OAAgB;YAClG,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC,eAAe,EAAE,aAAa,EAAE,CAAC,CAAC,aAAa,EAAE,WAAW,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QACzK,CAAC;QAED,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE;YAC5B,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,kBAAkB;gBACzB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,GAAG;aAAC,CAAC;YAEZ,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEzC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACvD,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;aACzD;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAGF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE;YACrB,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,kBAAkB;gBACzB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,GAAG;aAAC,CAAC;YAEZ,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEzC,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBACrE,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEpD,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBACrE,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE/D,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBACrE,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE1E,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;YACnB,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,kBAAkB;gBACzB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,GAAG;aAAC,CAAC;YAEZ,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBACzC,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,EAAE,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBAEvG,SAAS,CAAC,UAAU,CAAC,CAAC,mBAAG,CAAW,MAAM,CAAC,IAAI,cAAG,CAAM,CAAC,EAAE,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;gBAE9E,YAAY,CAAC,MAAM,CAAC,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;gBAEhE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;aAC3E;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;YACnB,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,kBAAkB;gBACzB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,aAAa;gBACpB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,aAAa;gBACpB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,aAAa;gBACpB,OAAO,CAAC,gBAAgB;gBACxB,OAAO,CAAC,cAAc;gBACtB,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAE3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBACjD,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBAErE,SAAS,CAAC,UAAU,CAAC,CAAC,mBAAG,CAAW,MAAM,CAAC,IAAI,WAAG,CAAG,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAErE,YAAY,CAAC,MAAM,CAAC,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;gBAEhE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;aAC7F;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,EAAE,GAAG,EAAE;YAC7B,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,kBAAkB;gBACzB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,GAAG;aAAC,CAAC;YAEZ,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBACzC,MAAM,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;gBACjE,MAAM,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;gBACjE,MAAM,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;gBAEjE,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBACtE,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBAC/D,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBACjE,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;aAC/D;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,2BAA2B,EAAE,GAAG,EAAE;YACtC,MAAM,KAAK,GAAG;gBACb,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,eAAe;gBACtB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEd,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBAEH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,MAAM,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;gBACjE,MAAM,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;gBACjE,MAAM,OAAO,GAAG,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;gBAEjE,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC7F,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBACzF,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE7F,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC5F,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAChG,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhG,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEnG,aAAa,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;aAC1F;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,EAAE,GAAG,EAAE;YAC7B,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,eAAe;gBACtB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,GAAG;gBACV,OAAO,CAAC,cAAc;gBACtB,OAAO,CAAC,EAAE;aAAC,CAAC;YAEZ,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAE7C,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC9D,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBAC5E,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBAChF,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBACpF,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBACpF,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBAChF,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBAChF,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC;gBAC5E,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC9D,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;gBAChE,aAAa,CAAC,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;aAC9D;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE,GAAG,EAAE;YACvC,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,iBAAiB;gBACxB,OAAO,CAAC,eAAe;gBACvB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,IAAA,kBAAG,EAAwB,YAAY,EAAE,IAAI,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtE,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEpD,IAAA,kBAAG,EAAwB,YAAY,EAAE,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvE,kBAAkB,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBAE1C,IAAA,kBAAG,EAAwB,YAAY,EAAE,IAAI,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvE,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAExD,IAAA,kBAAG,EAAwB,YAAY,EAAE,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvE,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE5C,IAAA,kBAAG,EAAwB,YAAY,EAAE,KAAK,CAAC,CAAC;gBAChD,kBAAkB,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBAE1C,IAAA,kBAAG,EAAwB,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC/C,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aAC5D;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,yBAAyB,EAAE,GAAG,EAAE;YACpC,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,iBAAiB;gBACxB,OAAO,CAAC,eAAe;gBACvB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,aAAa;gBACrB,OAAO,CAAC,kBAAkB;gBAC1B,OAAO,CAAC,gBAAgB;gBACxB,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,kBAAkB,EAAE,GAAG,EAAE,qBAAqB,EAAE,CAAC,CAAC;gBAC1G,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC5B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAErD,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;gBACnD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE5C,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,kBAAkB,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBAE1C,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;gBACnD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACxD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE5C,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACvD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAqB,YAAY,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACxD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aAC5C;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE,GAAG,EAAE;YACvC,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,iBAAiB;gBACxB,OAAO,CAAC,eAAe;gBACvB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,IAAA,kBAAG,EAAwB,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE5C,IAAA,kBAAG,EAAwB,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEpD,IAAA,kBAAG,EAAwB,YAAY,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAwB,YAAY,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAwB,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEpD,IAAA,kBAAG,EAAwB,YAAY,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC3D,kBAAkB,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;aAC1C;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,0BAA0B,EAAE,GAAG,EAAE;YACrC,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,iBAAiB;gBACxB,OAAO,CAAC,eAAe;gBACvB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,IAAA,kBAAG,EAAsB,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE5C,IAAA,kBAAG,EAAsB,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAsB,YAAY,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC5D,kBAAkB,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBAE1C,IAAA,kBAAG,EAAsB,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACtD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aAChD;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,oBAAoB,EAAE,GAAG,EAAE;YAC/B,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,iBAAiB;gBACxB,OAAO,CAAC,eAAe;gBACvB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,IAAA,kBAAG,EAAgB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAE5C,IAAA,kBAAG,EAAgB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAgB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aACpD;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,kCAAkC,EAAE,GAAG,EAAE;YAC7C,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,QAAQ;gBACf,OAAO,CAAC,oBAAoB;gBAC5B,OAAO,CAAC,SAAS;gBACjB,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,GAAG,IAAA,aAAG,EAAoB,IAAI,CAAC,CAAC,CAAC;gBAClE,IAAA,kBAAG,EAA8B,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;gBAC7D,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aACpD;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,yBAAyB,EAAE,GAAG,EAAE;YACpC,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,iBAAiB;gBACxB,OAAO,CAAC,eAAe;gBACvB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,GAAG,EAAE,kBAAkB,EAAE,CAAC,CAAC;gBACpG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAEjD,IAAA,kBAAG,EAAqB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAEhD,IAAA,kBAAG,EAAqB,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClD,kBAAkB,CAAC,YAAY,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBAE1C,IAAA,kBAAG,EAAqB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBAExD,IAAA,kBAAG,EAAqB,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,kBAAkB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aAE5D;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,oBAAoB,EAAE,GAAG,EAAE;YAC/B,MAAM,KAAK,GAAG;gBACd,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,iBAAiB;gBACxB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,GAAG;aAAC,CAAC;YAEZ,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBACzC,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;gBAExF,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBAErE,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACpD,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAEvF,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACpD,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAEvF,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBAErE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBAC/D,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAErF,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBAC/D,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAErF,YAAY,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,EAAE,YAAY,CAAC,eAAe,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;gBAEvG,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC/D,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAEvF,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC/D,iBAAiB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAEvF,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE;YACzB,MAAM,KAAK,GAAG;gBACb,MAAM,CAAC,WAAW;gBAClB,MAAM,CAAC,gBAAgB;gBACvB,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,qBAAqB;gBAC5B,MAAM,CAAC,mBAAmB;gBAC1B,MAAM,CAAC,cAAc;gBACrB,MAAM,CAAC,SAAS;gBAChB,MAAM,CAAC,cAAc;gBACrB,OAAO,CAAC,YAAY;gBACpB,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,GAAG;aACX,CAAC;YAEF,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC3B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAErD,uBAAuB;gBACvB,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAe,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAe,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAe,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAe,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAe,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAE7D,yBAAyB;gBACzB,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,EAAE,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC/D,gDAAgD;gBAChD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE5D,qBAAqB;gBACrB,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC3D,gDAAgD;gBAChD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;aAExD;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QAEF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE,GAAG,EAAE;YACvC,MAAM,KAAK,GAAG;gBACb,MAAM,CAAC,EAAE;gBACT,MAAM,CAAC,UAAU;gBACjB,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,UAAU;gBACjB,MAAM,CAAC,YAAY;gBACnB,MAAM,CAAC,EAAE;aACT,CAAC;YAEF,MAAM,SAAS,GAAG,IAAA,oBAAI,EAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,IAAI;gBACH,MAAM,YAAY,GAAG,IAAI,kBAAG,CAAU,SAAS,EAAE,IAAI,IAAI,CAAmB,SAAS,CAAC,CAAC,CAAC;gBAExF,MAAM,MAAM,GAAG,IAAA,yBAAG,EAAW,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC1D,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAE5B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC1B,YAAY,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gBAErC,qBAAqB;gBACrB,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC3D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC3D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAa,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAE3D,yBAAyB;gBACzB,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC/D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC/D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,WAAW,CAAC,IAAA,kBAAG,EAAiB,CAAC,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;aAC5D;oBAAS;gBACT,SAAS,CAAC,OAAO,EAAE,CAAC;aACpB;QACF,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","file":"foldingModel.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { escapeRegExpCharacters } from 'vs/base/common/strings';\nimport { EditOperation } from 'vs/editor/common/core/editOperation';\nimport { Position } from 'vs/editor/common/core/position';\nimport { Range } from 'vs/editor/common/core/range';\nimport { IModelDecorationsChangeAccessor, ITextModel, TrackedRangeStickiness } from 'vs/editor/common/model';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { FoldingModel, getNextFoldLine, getParentFoldLine, getPreviousFoldLine, setCollapseStateAtLevel, setCollapseStateForMatchingLines, setCollapseStateForRest, setCollapseStateLevelsDown, setCollapseStateLevelsUp, setCollapseStateUp } from 'vs/editor/contrib/folding/browser/foldingModel';\nimport { FoldingRegion } from 'vs/editor/contrib/folding/browser/foldingRanges';\nimport { computeRanges } from 'vs/editor/contrib/folding/browser/indentRangeProvider';\nimport { createTextModel } from 'vs/editor/test/common/testTextModel';\n\n\ninterface ExpectedRegion {\n\tstartLineNumber: number;\n\tendLineNumber: number;\n\tisCollapsed: boolean;\n}\n\ninterface ExpectedDecoration {\n\tline: number;\n\ttype: 'hidden' | 'collapsed' | 'expanded';\n}\n\nexport class TestDecorationProvider {\n\n\tprivate static readonly collapsedDecoration = ModelDecorationOptions.register({\n\t\tdescription: 'test',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tlinesDecorationsClassName: 'folding'\n\t});\n\n\tprivate static readonly expandedDecoration = ModelDecorationOptions.register({\n\t\tdescription: 'test',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tlinesDecorationsClassName: 'folding'\n\t});\n\n\tprivate static readonly hiddenDecoration = ModelDecorationOptions.register({\n\t\tdescription: 'test',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tlinesDecorationsClassName: 'folding'\n\t});\n\n\tconstructor(private model: ITextModel) {\n\t}\n\n\tgetDecorationOption(isCollapsed: boolean, isHidden: boolean): ModelDecorationOptions {\n\t\tif (isHidden) {\n\t\t\treturn TestDecorationProvider.hiddenDecoration;\n\t\t}\n\t\tif (isCollapsed) {\n\t\t\treturn TestDecorationProvider.collapsedDecoration;\n\t\t}\n\t\treturn TestDecorationProvider.expandedDecoration;\n\t}\n\n\tchangeDecorations<T>(callback: (changeAccessor: IModelDecorationsChangeAccessor) => T): (T | null) {\n\t\treturn this.model.changeDecorations(callback);\n\t}\n\n\tremoveDecorations(decorationIds: string[]): void {\n\t\tthis.model.changeDecorations((changeAccessor) => {\n\t\t\tchangeAccessor.deltaDecorations(decorationIds, []);\n\t\t});\n\t}\n\n\tgetDecorations(): ExpectedDecoration[] {\n\t\tconst decorations = this.model.getAllDecorations();\n\t\tconst res: ExpectedDecoration[] = [];\n\t\tfor (const decoration of decorations) {\n\t\t\tif (decoration.options === TestDecorationProvider.hiddenDecoration) {\n\t\t\t\tres.push({ line: decoration.range.startLineNumber, type: 'hidden' });\n\t\t\t} else if (decoration.options === TestDecorationProvider.collapsedDecoration) {\n\t\t\t\tres.push({ line: decoration.range.startLineNumber, type: 'collapsed' });\n\t\t\t} else if (decoration.options === TestDecorationProvider.expandedDecoration) {\n\t\t\t\tres.push({ line: decoration.range.startLineNumber, type: 'expanded' });\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n}\n\nsuite('Folding Model', () => {\n\tfunction r(startLineNumber: number, endLineNumber: number, isCollapsed: boolean = false): ExpectedRegion {\n\t\treturn { startLineNumber, endLineNumber, isCollapsed };\n\t}\n\n\tfunction d(line: number, type: 'hidden' | 'collapsed' | 'expanded'): ExpectedDecoration {\n\t\treturn { line, type };\n\t}\n\n\tfunction assertRegion(actual: FoldingRegion | null, expected: ExpectedRegion | null, message?: string) {\n\t\tassert.strictEqual(!!actual, !!expected, message);\n\t\tif (actual && expected) {\n\t\t\tassert.strictEqual(actual.startLineNumber, expected.startLineNumber, message);\n\t\t\tassert.strictEqual(actual.endLineNumber, expected.endLineNumber, message);\n\t\t\tassert.strictEqual(actual.isCollapsed, expected.isCollapsed, message);\n\t\t}\n\t}\n\n\tfunction assertFoldedRanges(foldingModel: FoldingModel, expectedRegions: ExpectedRegion[], message?: string) {\n\t\tconst actualRanges: ExpectedRegion[] = [];\n\t\tconst actual = foldingModel.regions;\n\t\tfor (let i = 0; i < actual.length; i++) {\n\t\t\tif (actual.isCollapsed(i)) {\n\t\t\t\tactualRanges.push(r(actual.getStartLineNumber(i), actual.getEndLineNumber(i)));\n\t\t\t}\n\t\t}\n\t\tassert.deepStrictEqual(actualRanges, expectedRegions, message);\n\t}\n\n\tfunction assertRanges(foldingModel: FoldingModel, expectedRegions: ExpectedRegion[], message?: string) {\n\t\tconst actualRanges: ExpectedRegion[] = [];\n\t\tconst actual = foldingModel.regions;\n\t\tfor (let i = 0; i < actual.length; i++) {\n\t\t\tactualRanges.push(r(actual.getStartLineNumber(i), actual.getEndLineNumber(i), actual.isCollapsed(i)));\n\t\t}\n\t\tassert.deepStrictEqual(actualRanges, expectedRegions, message);\n\t}\n\n\tfunction assertDecorations(foldingModel: FoldingModel, expectedDecoration: ExpectedDecoration[], message?: string) {\n\t\tconst decorationProvider = foldingModel.decorationProvider as TestDecorationProvider;\n\t\tassert.deepStrictEqual(decorationProvider.getDecorations(), expectedDecoration, message);\n\t}\n\n\tfunction assertRegions(actual: FoldingRegion[], expectedRegions: ExpectedRegion[], message?: string) {\n\t\tassert.deepStrictEqual(actual.map(r => ({ startLineNumber: r.startLineNumber, endLineNumber: r.endLineNumber, isCollapsed: r.isCollapsed })), expectedRegions, message);\n\t}\n\n\ttest('getRegionAtLine', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * Comment',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  void foo() {',\n\t\t/* 6*/\t'    // comment {',\n\t\t/* 7*/\t'  }',\n\t\t/* 8*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 3, false);\n\t\t\tconst r2 = r(4, 7, false);\n\t\t\tconst r3 = r(5, 6, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3]);\n\n\t\t\tassertRegion(foldingModel.getRegionAtLine(1), r1, '1');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(2), r1, '2');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(3), r1, '3');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(4), r2, '4');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(5), r3, '5');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(6), r3, '5');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(7), r2, '6');\n\t\t\tassertRegion(foldingModel.getRegionAtLine(8), null, '7');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\n\t});\n\n\ttest('collapse', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * Comment',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  void foo() {',\n\t\t/* 6*/\t'    // comment {',\n\t\t/* 7*/\t'  }',\n\t\t/* 8*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 3, false);\n\t\t\tconst r2 = r(4, 7, false);\n\t\t\tconst r3 = r(5, 6, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3]);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!]);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tassertRanges(foldingModel, [r(1, 3, true), r2, r3]);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(5)!]);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tassertRanges(foldingModel, [r(1, 3, true), r2, r(5, 6, true)]);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(7)!]);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tassertRanges(foldingModel, [r(1, 3, true), r(4, 7, true), r(5, 6, true)]);\n\n\t\t\ttextModel.dispose();\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('update', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * Comment',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  void foo() {',\n\t\t/* 6*/\t'    // comment {',\n\t\t/* 7*/\t'  }',\n\t\t/* 8*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 3, false);\n\t\t\tconst r2 = r(4, 7, false);\n\t\t\tconst r3 = r(5, 6, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3]);\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(2)!, foldingModel.getRegionAtLine(5)!]);\n\n\t\t\ttextModel.applyEdits([EditOperation.insert(new Position(4, 1), '//hello\\n')]);\n\n\t\t\tfoldingModel.update(computeRanges(textModel, false, undefined));\n\n\t\t\tassertRanges(foldingModel, [r(1, 3, true), r(5, 8, false), r(6, 7, true)]);\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\t});\n\n\ttest('delete', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'function foo() {',\n\t\t/* 2*/\t'  switch (x) {',\n\t\t/* 3*/\t'    case 1:',\n\t\t/* 4*/\t'      //hello1',\n\t\t/* 5*/\t'      break;',\n\t\t/* 6*/\t'    case 2:',\n\t\t/* 7*/\t'      //hello2',\n\t\t/* 8*/\t'      break;',\n\t\t/* 9*/\t'    case 3:',\n\t\t/* 10*/\t'      //hello3',\n\t\t/* 11*/\t'      break;',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 12, false);\n\t\t\tconst r2 = r(2, 11, false);\n\t\t\tconst r3 = r(3, 5, false);\n\t\t\tconst r4 = r(6, 8, false);\n\t\t\tconst r5 = r(9, 11, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(6)!]);\n\n\t\t\ttextModel.applyEdits([EditOperation.delete(new Range(6, 11, 9, 0))]);\n\n\t\t\tfoldingModel.update(computeRanges(textModel, false, undefined));\n\n\t\t\tassertRanges(foldingModel, [r(1, 9, false), r(2, 8, false), r(3, 5, false), r(6, 8, false)]);\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\t});\n\n\ttest('getRegionsInside', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * Comment',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  void foo() {',\n\t\t/* 6*/\t'    // comment {',\n\t\t/* 7*/\t'  }',\n\t\t/* 8*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 3, false);\n\t\t\tconst r2 = r(4, 7, false);\n\t\t\tconst r3 = r(5, 6, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3]);\n\t\t\tconst region1 = foldingModel.getRegionAtLine(r1.startLineNumber);\n\t\t\tconst region2 = foldingModel.getRegionAtLine(r2.startLineNumber);\n\t\t\tconst region3 = foldingModel.getRegionAtLine(r3.startLineNumber);\n\n\t\t\tassertRegions(foldingModel.getRegionsInside(null), [r1, r2, r3], '1');\n\t\t\tassertRegions(foldingModel.getRegionsInside(region1), [], '2');\n\t\t\tassertRegions(foldingModel.getRegionsInside(region2), [r3], '3');\n\t\t\tassertRegions(foldingModel.getRegionsInside(region3), [], '4');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('getRegionsInsideWithLevel', () => {\n\t\tconst lines = [\n\t\t\t/* 1*/\t'//#region',\n\t\t\t/* 2*/\t'//#endregion',\n\t\t\t/* 3*/\t'class A {',\n\t\t\t/* 4*/\t'  void foo() {',\n\t\t\t/* 5*/\t'    if (true) {',\n\t\t\t/* 6*/\t'        return;',\n\t\t\t/* 7*/\t'    }',\n\t\t\t/* 8*/\t'    if (true) {',\n\t\t\t/* 9*/\t'      return;',\n\t\t\t/* 10*/\t'    }',\n\t\t\t/* 11*/\t'  }',\n\t\t\t/* 12*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 11, false);\n\t\t\tconst r3 = r(4, 10, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(8, 9, false);\n\n\t\t\tconst region1 = foldingModel.getRegionAtLine(r1.startLineNumber);\n\t\t\tconst region2 = foldingModel.getRegionAtLine(r2.startLineNumber);\n\t\t\tconst region3 = foldingModel.getRegionAtLine(r3.startLineNumber);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tassertRegions(foldingModel.getRegionsInside(null, (r, level) => level === 1), [r1, r2], '1');\n\t\t\tassertRegions(foldingModel.getRegionsInside(null, (r, level) => level === 2), [r3], '2');\n\t\t\tassertRegions(foldingModel.getRegionsInside(null, (r, level) => level === 3), [r4, r5], '3');\n\n\t\t\tassertRegions(foldingModel.getRegionsInside(region2, (r, level) => level === 1), [r3], '4');\n\t\t\tassertRegions(foldingModel.getRegionsInside(region2, (r, level) => level === 2), [r4, r5], '5');\n\t\t\tassertRegions(foldingModel.getRegionsInside(region3, (r, level) => level === 1), [r4, r5], '6');\n\n\t\t\tassertRegions(foldingModel.getRegionsInside(region2, (r, level) => r.hidesLine(9)), [r3, r5], '7');\n\n\t\t\tassertRegions(foldingModel.getRegionsInside(region1, (r, level) => level === 1), [], '8');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('getRegionAtLine2', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'class A {',\n\t\t/* 3*/\t'  void foo() {',\n\t\t/* 4*/\t'    if (true) {',\n\t\t/* 5*/\t'      //hello',\n\t\t/* 6*/\t'    }',\n\t\t/* 7*/\t'',\n\t\t/* 8*/\t'  }',\n\t\t/* 9*/\t'}',\n\t\t/* 10*/\t'//#endregion',\n\t\t/* 11*/\t''];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 10, false);\n\t\t\tconst r2 = r(2, 8, false);\n\t\t\tconst r3 = r(3, 7, false);\n\t\t\tconst r4 = r(4, 5, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4]);\n\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(1), [r1], '1');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(2), [r1, r2].reverse(), '2');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(3), [r1, r2, r3].reverse(), '3');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(4), [r1, r2, r3, r4].reverse(), '4');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(5), [r1, r2, r3, r4].reverse(), '5');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(6), [r1, r2, r3].reverse(), '6');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(7), [r1, r2, r3].reverse(), '7');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(8), [r1, r2].reverse(), '8');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(9), [r1], '9');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(10), [r1], '10');\n\t\t\tassertRegions(foldingModel.getAllRegionsAtLine(11), [], '10');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\t});\n\n\ttest('setCollapseStateRecursivly', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'//#endregion',\n\t\t/* 3*/\t'class A {',\n\t\t/* 4*/\t'  void foo() {',\n\t\t/* 5*/\t'    if (true) {',\n\t\t/* 6*/\t'        return;',\n\t\t/* 7*/\t'    }',\n\t\t/* 8*/\t'',\n\t\t/* 9*/\t'    if (true) {',\n\t\t/* 10*/\t'      return;',\n\t\t/* 11*/\t'    }',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 12, false);\n\t\t\tconst r3 = r(4, 11, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(9, 10, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, true, Number.MAX_VALUE, [4]);\n\t\t\tassertFoldedRanges(foldingModel, [r3, r4, r5], '1');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, false, Number.MAX_VALUE, [8]);\n\t\t\tassertFoldedRanges(foldingModel, [], '2');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, true, Number.MAX_VALUE, [12]);\n\t\t\tassertFoldedRanges(foldingModel, [r2, r3, r4, r5], '1');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, false, Number.MAX_VALUE, [7]);\n\t\t\tassertFoldedRanges(foldingModel, [r2], '1');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, false);\n\t\t\tassertFoldedRanges(foldingModel, [], '1');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, true);\n\t\t\tassertFoldedRanges(foldingModel, [r1, r2, r3, r4, r5], '1');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('setCollapseStateAtLevel', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'//#endregion',\n\t\t/* 3*/\t'class A {',\n\t\t/* 4*/\t'  void foo() {',\n\t\t/* 5*/\t'    if (true) {',\n\t\t/* 6*/\t'        return;',\n\t\t/* 7*/\t'    }',\n\t\t/* 8*/\t'',\n\t\t/* 9*/\t'    if (true) {',\n\t\t/* 10*/\t'      return;',\n\t\t/* 11*/\t'    }',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'  //#region',\n\t\t/* 14*/\t'  const bar = 9;',\n\t\t/* 15*/\t'  //#endregion',\n\t\t/* 16*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\s*\\/\\/#region$/, end: /^\\s*\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 15, false);\n\t\t\tconst r3 = r(4, 11, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(9, 10, false);\n\t\t\tconst r6 = r(13, 15, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5, r6]);\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 1, true, []);\n\t\t\tassertFoldedRanges(foldingModel, [r1, r2], '1');\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 1, false, [5]);\n\t\t\tassertFoldedRanges(foldingModel, [r2], '2');\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 1, false, [1]);\n\t\t\tassertFoldedRanges(foldingModel, [], '3');\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 2, true, []);\n\t\t\tassertFoldedRanges(foldingModel, [r3, r6], '4');\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 2, false, [5, 6]);\n\t\t\tassertFoldedRanges(foldingModel, [r3], '5');\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 3, true, [4, 9]);\n\t\t\tassertFoldedRanges(foldingModel, [r3, r4], '6');\n\n\t\t\tsetCollapseStateAtLevel(foldingModel, 3, false, [4, 9]);\n\t\t\tassertFoldedRanges(foldingModel, [r3], '7');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\t});\n\n\ttest('setCollapseStateLevelsDown', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'//#endregion',\n\t\t/* 3*/\t'class A {',\n\t\t/* 4*/\t'  void foo() {',\n\t\t/* 5*/\t'    if (true) {',\n\t\t/* 6*/\t'        return;',\n\t\t/* 7*/\t'    }',\n\t\t/* 8*/\t'',\n\t\t/* 9*/\t'    if (true) {',\n\t\t/* 10*/\t'      return;',\n\t\t/* 11*/\t'    }',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 12, false);\n\t\t\tconst r3 = r(4, 11, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(9, 10, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, true, 1, [4]);\n\t\t\tassertFoldedRanges(foldingModel, [r3], '1');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, true, 2, [4]);\n\t\t\tassertFoldedRanges(foldingModel, [r3, r4, r5], '2');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, false, 2, [3]);\n\t\t\tassertFoldedRanges(foldingModel, [r4, r5], '3');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, false, 2, [2]);\n\t\t\tassertFoldedRanges(foldingModel, [r4, r5], '4');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, true, 4, [2]);\n\t\t\tassertFoldedRanges(foldingModel, [r1, r4, r5], '5');\n\n\t\t\tsetCollapseStateLevelsDown(foldingModel, false, 4, [2, 3]);\n\t\t\tassertFoldedRanges(foldingModel, [], '6');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\t});\n\n\ttest('setCollapseStateLevelsUp', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'//#endregion',\n\t\t/* 3*/\t'class A {',\n\t\t/* 4*/\t'  void foo() {',\n\t\t/* 5*/\t'    if (true) {',\n\t\t/* 6*/\t'        return;',\n\t\t/* 7*/\t'    }',\n\t\t/* 8*/\t'',\n\t\t/* 9*/\t'    if (true) {',\n\t\t/* 10*/\t'      return;',\n\t\t/* 11*/\t'    }',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 12, false);\n\t\t\tconst r3 = r(4, 11, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(9, 10, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tsetCollapseStateLevelsUp(foldingModel, true, 1, [4]);\n\t\t\tassertFoldedRanges(foldingModel, [r3], '1');\n\n\t\t\tsetCollapseStateLevelsUp(foldingModel, true, 2, [4]);\n\t\t\tassertFoldedRanges(foldingModel, [r2, r3], '2');\n\n\t\t\tsetCollapseStateLevelsUp(foldingModel, false, 4, [1, 3, 4]);\n\t\t\tassertFoldedRanges(foldingModel, [], '3');\n\n\t\t\tsetCollapseStateLevelsUp(foldingModel, true, 2, [10]);\n\t\t\tassertFoldedRanges(foldingModel, [r3, r5], '4');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('setCollapseStateUp', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'//#endregion',\n\t\t/* 3*/\t'class A {',\n\t\t/* 4*/\t'  void foo() {',\n\t\t/* 5*/\t'    if (true) {',\n\t\t/* 6*/\t'        return;',\n\t\t/* 7*/\t'    }',\n\t\t/* 8*/\t'',\n\t\t/* 9*/\t'    if (true) {',\n\t\t/* 10*/\t'      return;',\n\t\t/* 11*/\t'    }',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 12, false);\n\t\t\tconst r3 = r(4, 11, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(9, 10, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tsetCollapseStateUp(foldingModel, true, [5]);\n\t\t\tassertFoldedRanges(foldingModel, [r4], '1');\n\n\t\t\tsetCollapseStateUp(foldingModel, true, [5]);\n\t\t\tassertFoldedRanges(foldingModel, [r3, r4], '2');\n\n\t\t\tsetCollapseStateUp(foldingModel, true, [4]);\n\t\t\tassertFoldedRanges(foldingModel, [r2, r3, r4], '2');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\n\ttest('setCollapseStateForMatchingLines', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * the class',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  /**',\n\t\t/* 6*/\t'   * the foo',\n\t\t/* 7*/\t'   */',\n\t\t/* 8*/\t'  void foo() {',\n\t\t/* 9*/\t'    /*',\n\t\t/* 10*/\t'     * the comment',\n\t\t/* 11*/\t'     */',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 3, false);\n\t\t\tconst r2 = r(4, 12, false);\n\t\t\tconst r3 = r(5, 7, false);\n\t\t\tconst r4 = r(8, 11, false);\n\t\t\tconst r5 = r(9, 11, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tconst regExp = new RegExp('^\\\\s*' + escapeRegExpCharacters('/*'));\n\t\t\tsetCollapseStateForMatchingLines(foldingModel, regExp, true);\n\t\t\tassertFoldedRanges(foldingModel, [r1, r3, r5], '1');\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\n\ttest('setCollapseStateForRest', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'//#region',\n\t\t/* 2*/\t'//#endregion',\n\t\t/* 3*/\t'class A {',\n\t\t/* 4*/\t'  void foo() {',\n\t\t/* 5*/\t'    if (true) {',\n\t\t/* 6*/\t'        return;',\n\t\t/* 7*/\t'    }',\n\t\t/* 8*/\t'',\n\t\t/* 9*/\t'    if (true) {',\n\t\t/* 10*/\t'      return;',\n\t\t/* 11*/\t'    }',\n\t\t/* 12*/\t'  }',\n\t\t/* 13*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, { start: /^\\/\\/#region$/, end: /^\\/\\/#endregion$/ });\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 2, false);\n\t\t\tconst r2 = r(3, 12, false);\n\t\t\tconst r3 = r(4, 11, false);\n\t\t\tconst r4 = r(5, 6, false);\n\t\t\tconst r5 = r(9, 10, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5]);\n\n\t\t\tsetCollapseStateForRest(foldingModel, true, [5]);\n\t\t\tassertFoldedRanges(foldingModel, [r1, r5], '1');\n\n\t\t\tsetCollapseStateForRest(foldingModel, false, [5]);\n\t\t\tassertFoldedRanges(foldingModel, [], '2');\n\n\t\t\tsetCollapseStateForRest(foldingModel, true, [1]);\n\t\t\tassertFoldedRanges(foldingModel, [r2, r3, r4, r5], '3');\n\n\t\t\tsetCollapseStateForRest(foldingModel, true, [3]);\n\t\t\tassertFoldedRanges(foldingModel, [r1, r2, r3, r4, r5], '3');\n\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\n\ttest('folding decoration', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'class A {',\n\t\t/* 2*/\t'  void foo() {',\n\t\t/* 3*/\t'    if (true) {',\n\t\t/* 4*/\t'      hoo();',\n\t\t/* 5*/\t'    }',\n\t\t/* 6*/\t'  }',\n\t\t/* 7*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 6, false);\n\t\t\tconst r2 = r(2, 5, false);\n\t\t\tconst r3 = r(3, 4, false);\n\n\t\t\tassertRanges(foldingModel, [r1, r2, r3]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'expanded'), d(2, 'expanded'), d(3, 'expanded')]);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(2)!]);\n\n\t\t\tassertRanges(foldingModel, [r1, r(2, 5, true), r3]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'expanded'), d(2, 'collapsed'), d(3, 'hidden')]);\n\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tassertRanges(foldingModel, [r1, r(2, 5, true), r3]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'expanded'), d(2, 'collapsed'), d(3, 'hidden')]);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!]);\n\n\t\t\tassertRanges(foldingModel, [r(1, 6, true), r(2, 5, true), r3]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'collapsed'), d(2, 'hidden'), d(3, 'hidden')]);\n\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tassertRanges(foldingModel, [r(1, 6, true), r(2, 5, true), r3]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'collapsed'), d(2, 'hidden'), d(3, 'hidden')]);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!, foldingModel.getRegionAtLine(3)!]);\n\n\t\t\tassertRanges(foldingModel, [r1, r(2, 5, true), r(3, 4, true)]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'expanded'), d(2, 'collapsed'), d(3, 'hidden')]);\n\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tassertRanges(foldingModel, [r1, r(2, 5, true), r(3, 4, true)]);\n\t\t\tassertDecorations(foldingModel, [d(1, 'expanded'), d(2, 'collapsed'), d(3, 'hidden')]);\n\n\t\t\ttextModel.dispose();\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('fold jumping', () => {\n\t\tconst lines = [\n\t\t\t/* 1*/\t'class A {',\n\t\t\t/* 2*/\t'  void foo() {',\n\t\t\t/* 3*/\t'    if (1) {',\n\t\t\t/* 4*/\t'      a();',\n\t\t\t/* 5*/\t'    } else if (2) {',\n\t\t\t/* 6*/\t'      if (true) {',\n\t\t\t/* 7*/\t'        b();',\n\t\t\t/* 8*/\t'      }',\n\t\t\t/* 9*/\t'    } else {',\n\t\t\t/* 10*/\t'      c();',\n\t\t\t/* 11*/\t'    }',\n\t\t\t/* 12*/\t'  }',\n\t\t\t/* 13*/\t'}'\n\t\t];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(1, 12, false);\n\t\t\tconst r2 = r(2, 11, false);\n\t\t\tconst r3 = r(3, 4, false);\n\t\t\tconst r4 = r(5, 8, false);\n\t\t\tconst r5 = r(6, 7, false);\n\t\t\tconst r6 = r(9, 10, false);\n\t\t\tassertRanges(foldingModel, [r1, r2, r3, r4, r5, r6]);\n\n\t\t\t// Test jump to parent.\n\t\t\tassert.strictEqual(getParentFoldLine(7, foldingModel), 6);\n\t\t\tassert.strictEqual(getParentFoldLine(6, foldingModel), 5);\n\t\t\tassert.strictEqual(getParentFoldLine(5, foldingModel), 2);\n\t\t\tassert.strictEqual(getParentFoldLine(2, foldingModel), 1);\n\t\t\tassert.strictEqual(getParentFoldLine(1, foldingModel), null);\n\n\t\t\t// Test jump to previous.\n\t\t\tassert.strictEqual(getPreviousFoldLine(10, foldingModel), 9);\n\t\t\tassert.strictEqual(getPreviousFoldLine(9, foldingModel), 5);\n\t\t\tassert.strictEqual(getPreviousFoldLine(5, foldingModel), 3);\n\t\t\tassert.strictEqual(getPreviousFoldLine(3, foldingModel), null);\n\t\t\t// Test when not on a folding region start line.\n\t\t\tassert.strictEqual(getPreviousFoldLine(4, foldingModel), 3);\n\t\t\tassert.strictEqual(getPreviousFoldLine(7, foldingModel), 6);\n\t\t\tassert.strictEqual(getPreviousFoldLine(8, foldingModel), 6);\n\n\t\t\t// Test jump to next.\n\t\t\tassert.strictEqual(getNextFoldLine(3, foldingModel), 5);\n\t\t\tassert.strictEqual(getNextFoldLine(5, foldingModel), 9);\n\t\t\tassert.strictEqual(getNextFoldLine(9, foldingModel), null);\n\t\t\t// Test when not on a folding region start line.\n\t\t\tassert.strictEqual(getNextFoldLine(4, foldingModel), 5);\n\t\t\tassert.strictEqual(getNextFoldLine(7, foldingModel), 9);\n\t\t\tassert.strictEqual(getNextFoldLine(8, foldingModel), 9);\n\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\n\t});\n\n\ttest('fold jumping issue #129503', () => {\n\t\tconst lines = [\n\t\t\t/* 1*/\t'',\n\t\t\t/* 2*/\t'if True:',\n\t\t\t/* 3*/\t'  print(1)',\n\t\t\t/* 4*/\t'if True:',\n\t\t\t/* 5*/\t'  print(1)',\n\t\t\t/* 6*/\t''\n\t\t];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\ttry {\n\t\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tconst r1 = r(2, 3, false);\n\t\t\tconst r2 = r(4, 6, false);\n\t\t\tassertRanges(foldingModel, [r1, r2]);\n\n\t\t\t// Test jump to next.\n\t\t\tassert.strictEqual(getNextFoldLine(1, foldingModel), 2);\n\t\t\tassert.strictEqual(getNextFoldLine(2, foldingModel), 4);\n\t\t\tassert.strictEqual(getNextFoldLine(3, foldingModel), 4);\n\t\t\tassert.strictEqual(getNextFoldLine(4, foldingModel), null);\n\t\t\tassert.strictEqual(getNextFoldLine(5, foldingModel), null);\n\t\t\tassert.strictEqual(getNextFoldLine(6, foldingModel), null);\n\n\t\t\t// Test jump to previous.\n\t\t\tassert.strictEqual(getPreviousFoldLine(1, foldingModel), null);\n\t\t\tassert.strictEqual(getPreviousFoldLine(2, foldingModel), null);\n\t\t\tassert.strictEqual(getPreviousFoldLine(3, foldingModel), 2);\n\t\t\tassert.strictEqual(getPreviousFoldLine(4, foldingModel), 2);\n\t\t\tassert.strictEqual(getPreviousFoldLine(5, foldingModel), 4);\n\t\t\tassert.strictEqual(getPreviousFoldLine(6, foldingModel), 4);\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t}\n\t});\n});\n"]}
{"version":3,"sources":["vs/editor/contrib/folding/browser/foldingDecorations.ts"],"names":[],"mappings":"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","file":"foldingDecorations.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from 'vs/base/common/codicons';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { IModelDecorationOptions, IModelDecorationsChangeAccessor, MinimapPosition, TrackedRangeStickiness } from 'vs/editor/common/model';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { IDecorationProvider } from 'vs/editor/contrib/folding/browser/foldingModel';\nimport { localize } from 'vs/nls';\nimport { editorSelectionBackground, iconForeground, registerColor, transparent } from 'vs/platform/theme/common/colorRegistry';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { themeColorFromId } from 'vs/platform/theme/common/themeService';\nimport { ThemeIcon } from 'vs/base/common/themables';\n\nconst foldBackground = registerColor('editor.foldBackground', { light: transparent(editorSelectionBackground, 0.3), dark: transparent(editorSelectionBackground, 0.3), hcDark: null, hcLight: null }, localize('foldBackgroundBackground', \"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations.\"), true);\nregisterColor('editorGutter.foldingControlForeground', { dark: iconForeground, light: iconForeground, hcDark: iconForeground, hcLight: iconForeground }, localize('editorGutter.foldingControlForeground', 'Color of the folding control in the editor gutter.'));\n\nexport const foldingExpandedIcon = registerIcon('folding-expanded', Codicon.chevronDown, localize('foldingExpandedIcon', 'Icon for expanded ranges in the editor glyph margin.'));\nexport const foldingCollapsedIcon = registerIcon('folding-collapsed', Codicon.chevronRight, localize('foldingCollapsedIcon', 'Icon for collapsed ranges in the editor glyph margin.'));\nexport const foldingManualCollapsedIcon = registerIcon('folding-manual-collapsed', foldingCollapsedIcon, localize('foldingManualCollapedIcon', 'Icon for manually collapsed ranges in the editor glyph margin.'));\nexport const foldingManualExpandedIcon = registerIcon('folding-manual-expanded', foldingExpandedIcon, localize('foldingManualExpandedIcon', 'Icon for manually expanded ranges in the editor glyph margin.'));\n\nconst foldedBackgroundMinimap = { color: themeColorFromId(foldBackground), position: MinimapPosition.Inline };\n\nexport class FoldingDecorationProvider implements IDecorationProvider {\n\n\tprivate static readonly COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-collapsed-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingCollapsedIcon),\n\t});\n\n\tprivate static readonly COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-collapsed-highlighted-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tminimap: foldedBackgroundMinimap,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingCollapsedIcon)\n\t});\n\n\tprivate static readonly MANUALLY_COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-collapsed-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingManualCollapsedIcon)\n\t});\n\n\tprivate static readonly MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-collapsed-highlighted-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tminimap: foldedBackgroundMinimap,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingManualCollapsedIcon)\n\t});\n\n\tprivate static readonly NO_CONTROLS_COLLAPSED_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-no-controls-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true\n\t});\n\n\tprivate static readonly NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-no-controls-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tminimap: foldedBackgroundMinimap,\n\t\tisWholeLine: true\n\t});\n\n\tprivate static readonly EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-expanded-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: 'alwaysShowFoldIcons ' + ThemeIcon.asClassName(foldingExpandedIcon)\n\t});\n\n\tprivate static readonly EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-expanded-auto-hide-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingExpandedIcon)\n\t});\n\n\tprivate static readonly MANUALLY_EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-expanded-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: 'alwaysShowFoldIcons ' + ThemeIcon.asClassName(foldingManualExpandedIcon)\n\t});\n\n\tprivate static readonly MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-manually-expanded-auto-hide-visual-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingManualExpandedIcon)\n\t});\n\n\tprivate static readonly NO_CONTROLS_EXPANDED_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-no-controls-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true\n\t});\n\n\tprivate static readonly HIDDEN_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tdescription: 'folding-hidden-range-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t});\n\n\tpublic showFoldingControls: 'always' | 'never' | 'mouseover' = 'mouseover';\n\n\tpublic showFoldingHighlights: boolean = true;\n\n\tconstructor(private readonly editor: ICodeEditor) {\n\t}\n\n\tgetDecorationOption(isCollapsed: boolean, isHidden: boolean, isManual: boolean): IModelDecorationOptions {\n\t\tif (isHidden) { // is inside another collapsed region\n\t\t\treturn FoldingDecorationProvider.HIDDEN_RANGE_DECORATION;\n\t\t}\n\t\tif (this.showFoldingControls === 'never') {\n\t\t\tif (isCollapsed) {\n\t\t\t\treturn this.showFoldingHighlights ? FoldingDecorationProvider.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION : FoldingDecorationProvider.NO_CONTROLS_COLLAPSED_RANGE_DECORATION;\n\t\t\t}\n\t\t\treturn FoldingDecorationProvider.NO_CONTROLS_EXPANDED_RANGE_DECORATION;\n\t\t}\n\t\tif (isCollapsed) {\n\t\t\treturn isManual ?\n\t\t\t\t(this.showFoldingHighlights ? FoldingDecorationProvider.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : FoldingDecorationProvider.MANUALLY_COLLAPSED_VISUAL_DECORATION)\n\t\t\t\t: (this.showFoldingHighlights ? FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION);\n\t\t} else if (this.showFoldingControls === 'mouseover') {\n\t\t\treturn isManual ? FoldingDecorationProvider.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION : FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;\n\t\t} else {\n\t\t\treturn isManual ? FoldingDecorationProvider.MANUALLY_EXPANDED_VISUAL_DECORATION : FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;\n\t\t}\n\t}\n\n\tchangeDecorations<T>(callback: (changeAccessor: IModelDecorationsChangeAccessor) => T): T {\n\t\treturn this.editor.changeDecorations(callback);\n\t}\n\n\tremoveDecorations(decorationIds: string[]): void {\n\t\tthis.editor.removeDecorations(decorationIds);\n\t}\n}\n"]}
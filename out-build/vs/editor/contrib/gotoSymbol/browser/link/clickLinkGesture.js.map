{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.ts"],"names":[],"mappings":"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","file":"clickLinkGesture.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport * as platform from 'vs/base/common/platform';\nimport { ICodeEditor, IEditorMouseEvent, IMouseTarget } from 'vs/editor/browser/editorBrowser';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { ICursorSelectionChangedEvent } from 'vs/editor/common/cursorEvents';\n\nfunction hasModifier(e: { ctrlKey: boolean; shiftKey: boolean; altKey: boolean; metaKey: boolean }, modifier: 'ctrlKey' | 'shiftKey' | 'altKey' | 'metaKey'): boolean {\n\treturn !!e[modifier];\n}\n\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkMouseEvent {\n\n\tpublic readonly target: IMouseTarget;\n\tpublic readonly hasTriggerModifier: boolean;\n\tpublic readonly hasSideBySideModifier: boolean;\n\tpublic readonly isNoneOrSingleMouseDown: boolean;\n\tpublic readonly isLeftClick: boolean;\n\tpublic readonly isMiddleClick: boolean;\n\tpublic readonly isRightClick: boolean;\n\n\tconstructor(source: IEditorMouseEvent, opts: ClickLinkOptions) {\n\t\tthis.target = source.target;\n\t\tthis.isLeftClick = source.event.leftButton;\n\t\tthis.isMiddleClick = source.event.middleButton;\n\t\tthis.isRightClick = source.event.rightButton;\n\t\tthis.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\n\t\tthis.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\n\t\tthis.isNoneOrSingleMouseDown = (source.event.detail <= 1);\n\t}\n}\n\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkKeyboardEvent {\n\n\tpublic readonly keyCodeIsTriggerKey: boolean;\n\tpublic readonly keyCodeIsSideBySideKey: boolean;\n\tpublic readonly hasTriggerModifier: boolean;\n\n\tconstructor(source: IKeyboardEvent, opts: ClickLinkOptions) {\n\t\tthis.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\n\t\tthis.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\n\t\tthis.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\n\t}\n}\nexport type TriggerModifier = 'ctrlKey' | 'shiftKey' | 'altKey' | 'metaKey';\n\nexport class ClickLinkOptions {\n\n\tpublic readonly triggerKey: KeyCode;\n\tpublic readonly triggerModifier: TriggerModifier;\n\tpublic readonly triggerSideBySideKey: KeyCode;\n\tpublic readonly triggerSideBySideModifier: TriggerModifier;\n\n\tconstructor(\n\t\ttriggerKey: KeyCode,\n\t\ttriggerModifier: TriggerModifier,\n\t\ttriggerSideBySideKey: KeyCode,\n\t\ttriggerSideBySideModifier: TriggerModifier\n\t) {\n\t\tthis.triggerKey = triggerKey;\n\t\tthis.triggerModifier = triggerModifier;\n\t\tthis.triggerSideBySideKey = triggerSideBySideKey;\n\t\tthis.triggerSideBySideModifier = triggerSideBySideModifier;\n\t}\n\n\tpublic equals(other: ClickLinkOptions): boolean {\n\t\treturn (\n\t\t\tthis.triggerKey === other.triggerKey\n\t\t\t&& this.triggerModifier === other.triggerModifier\n\t\t\t&& this.triggerSideBySideKey === other.triggerSideBySideKey\n\t\t\t&& this.triggerSideBySideModifier === other.triggerSideBySideModifier\n\t\t);\n\t}\n}\n\nfunction createOptions(multiCursorModifier: 'altKey' | 'ctrlKey' | 'metaKey'): ClickLinkOptions {\n\tif (multiCursorModifier === 'altKey') {\n\t\tif (platform.isMacintosh) {\n\t\t\treturn new ClickLinkOptions(KeyCode.Meta, 'metaKey', KeyCode.Alt, 'altKey');\n\t\t}\n\t\treturn new ClickLinkOptions(KeyCode.Ctrl, 'ctrlKey', KeyCode.Alt, 'altKey');\n\t}\n\n\tif (platform.isMacintosh) {\n\t\treturn new ClickLinkOptions(KeyCode.Alt, 'altKey', KeyCode.Meta, 'metaKey');\n\t}\n\treturn new ClickLinkOptions(KeyCode.Alt, 'altKey', KeyCode.Ctrl, 'ctrlKey');\n}\n\nexport interface IClickLinkGestureOptions {\n\t/**\n\t * Return 0 if the mouse event should not be considered.\n\t */\n\textractLineNumberFromMouseEvent?: (e: ClickLinkMouseEvent) => number;\n}\n\nexport class ClickLinkGesture extends Disposable {\n\n\tprivate readonly _onMouseMoveOrRelevantKeyDown: Emitter<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]> = this._register(new Emitter<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]>());\n\tpublic readonly onMouseMoveOrRelevantKeyDown: Event<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]> = this._onMouseMoveOrRelevantKeyDown.event;\n\n\tprivate readonly _onExecute: Emitter<ClickLinkMouseEvent> = this._register(new Emitter<ClickLinkMouseEvent>());\n\tpublic readonly onExecute: Event<ClickLinkMouseEvent> = this._onExecute.event;\n\n\tprivate readonly _onCancel: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onCancel: Event<void> = this._onCancel.event;\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _extractLineNumberFromMouseEvent: (e: ClickLinkMouseEvent) => number;\n\tprivate _opts: ClickLinkOptions;\n\n\tprivate _lastMouseMoveEvent: ClickLinkMouseEvent | null;\n\tprivate _hasTriggerKeyOnMouseDown: boolean;\n\tprivate _lineNumberOnMouseDown: number;\n\n\tconstructor(editor: ICodeEditor, opts?: IClickLinkGestureOptions) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\t\tthis._extractLineNumberFromMouseEvent = opts?.extractLineNumberFromMouseEvent ?? ((e) => e.target.position ? e.target.position.lineNumber : 0);\n\t\tthis._opts = createOptions(this._editor.getOption(EditorOption.multiCursorModifier));\n\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\tthis._lineNumberOnMouseDown = 0;\n\n\t\tthis._register(this._editor.onDidChangeConfiguration((e) => {\n\t\t\tif (e.hasChanged(EditorOption.multiCursorModifier)) {\n\t\t\t\tconst newOpts = createOptions(this._editor.getOption(EditorOption.multiCursorModifier));\n\t\t\t\tif (this._opts.equals(newOpts)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._opts = newOpts;\n\t\t\t\tthis._lastMouseMoveEvent = null;\n\t\t\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\t\t\tthis._lineNumberOnMouseDown = 0;\n\t\t\t\tthis._onCancel.fire();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editor.onMouseMove((e: IEditorMouseEvent) => this._onEditorMouseMove(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseDown((e: IEditorMouseEvent) => this._onEditorMouseDown(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseUp((e: IEditorMouseEvent) => this._onEditorMouseUp(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onKeyDown((e: IKeyboardEvent) => this._onEditorKeyDown(new ClickLinkKeyboardEvent(e, this._opts))));\n\t\tthis._register(this._editor.onKeyUp((e: IKeyboardEvent) => this._onEditorKeyUp(new ClickLinkKeyboardEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseDrag(() => this._resetHandler()));\n\n\t\tthis._register(this._editor.onDidChangeCursorSelection((e) => this._onDidChangeCursorSelection(e)));\n\t\tthis._register(this._editor.onDidChangeModel((e) => this._resetHandler()));\n\t\tthis._register(this._editor.onDidChangeModelContent(() => this._resetHandler()));\n\t\tthis._register(this._editor.onDidScrollChange((e) => {\n\t\t\tif (e.scrollTopChanged || e.scrollLeftChanged) {\n\t\t\t\tthis._resetHandler();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onDidChangeCursorSelection(e: ICursorSelectionChangedEvent): void {\n\t\tif (e.selection && e.selection.startColumn !== e.selection.endColumn) {\n\t\t\tthis._resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)\n\t\t}\n\t}\n\n\tprivate _onEditorMouseMove(mouseEvent: ClickLinkMouseEvent): void {\n\t\tthis._lastMouseMoveEvent = mouseEvent;\n\n\t\tthis._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\n\t}\n\n\tprivate _onEditorMouseDown(mouseEvent: ClickLinkMouseEvent): void {\n\t\t// We need to record if we had the trigger key on mouse down because someone might select something in the editor\n\t\t// holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\n\t\t// release the mouse button without wanting to do the navigation.\n\t\t// With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\n\t\tthis._hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\n\t\tthis._lineNumberOnMouseDown = this._extractLineNumberFromMouseEvent(mouseEvent);\n\t}\n\n\tprivate _onEditorMouseUp(mouseEvent: ClickLinkMouseEvent): void {\n\t\tconst currentLineNumber = this._extractLineNumberFromMouseEvent(mouseEvent);\n\t\tif (this._hasTriggerKeyOnMouseDown && this._lineNumberOnMouseDown && this._lineNumberOnMouseDown === currentLineNumber) {\n\t\t\tthis._onExecute.fire(mouseEvent);\n\t\t}\n\t}\n\n\tprivate _onEditorKeyDown(e: ClickLinkKeyboardEvent): void {\n\t\tif (\n\t\t\tthis._lastMouseMoveEvent\n\t\t\t&& (\n\t\t\t\te.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\n\t\t\t\t|| (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\n\t\t\t)\n\t\t) {\n\t\t\tthis._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent, e]);\n\t\t} else if (e.hasTriggerModifier) {\n\t\t\tthis._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\n\t\t}\n\t}\n\n\tprivate _onEditorKeyUp(e: ClickLinkKeyboardEvent): void {\n\t\tif (e.keyCodeIsTriggerKey) {\n\t\t\tthis._onCancel.fire();\n\t\t}\n\t}\n\n\tprivate _resetHandler(): void {\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\tthis._onCancel.fire();\n\t}\n}\n"]}
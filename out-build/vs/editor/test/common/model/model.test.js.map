{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/test/common/model/model.test.ts"],"names":[],"mappings":"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","file":"model.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { Disposable, DisposableStore, dispose } from 'vs/base/common/lifecycle';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { EditOperation } from 'vs/editor/common/core/editOperation';\nimport { Position } from 'vs/editor/common/core/position';\nimport { Range } from 'vs/editor/common/core/range';\nimport { MetadataConsts } from 'vs/editor/common/encodedTokenAttributes';\nimport { EncodedTokenizationResult, IState, TokenizationRegistry } from 'vs/editor/common/languages';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { ILanguageConfigurationService } from 'vs/editor/common/languages/languageConfigurationRegistry';\nimport { NullState } from 'vs/editor/common/languages/nullTokenize';\nimport { TextModel } from 'vs/editor/common/model/textModel';\nimport { InternalModelContentChangeEvent, ModelRawContentChangedEvent, ModelRawFlush, ModelRawLineChanged, ModelRawLinesDeleted, ModelRawLinesInserted } from 'vs/editor/common/textModelEvents';\nimport { createModelServices, createTextModel, instantiateTextModel } from 'vs/editor/test/common/testTextModel';\n\n// --------- utils\n\nconst LINE1 = 'My First Line';\nconst LINE2 = '\\t\\tMy Second Line';\nconst LINE3 = '    Third Line';\nconst LINE4 = '';\nconst LINE5 = '1';\n\nsuite('Editor Model - Model', () => {\n\n\tlet thisModel: TextModel;\n\n\tsetup(() => {\n\t\tconst text =\n\t\t\tLINE1 + '\\r\\n' +\n\t\t\tLINE2 + '\\n' +\n\t\t\tLINE3 + '\\n' +\n\t\t\tLINE4 + '\\r\\n' +\n\t\t\tLINE5;\n\t\tthisModel = createTextModel(text);\n\t});\n\n\tteardown(() => {\n\t\tthisModel.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t// --------- insert text\n\n\ttest('model getValue', () => {\n\t\tassert.strictEqual(thisModel.getValue(), 'My First Line\\n\\t\\tMy Second Line\\n    Third Line\\n\\n1');\n\t});\n\n\ttest('model insert empty text', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 1), '')]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My First Line');\n\t});\n\n\ttest('model insert text without newline 1', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 1), 'foo ')]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'foo My First Line');\n\t});\n\n\ttest('model insert text without newline 2', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 3), ' foo')]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My foo First Line');\n\t});\n\n\ttest('model insert text with one newline', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 3), ' new line\\nNo longer')]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 6);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My new line');\n\t\tassert.strictEqual(thisModel.getLineContent(2), 'No longer First Line');\n\t});\n\n\ttest('model insert text with two newlines', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 3), ' new line\\nOne more line in the middle\\nNo longer')]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 7);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My new line');\n\t\tassert.strictEqual(thisModel.getLineContent(2), 'One more line in the middle');\n\t\tassert.strictEqual(thisModel.getLineContent(3), 'No longer First Line');\n\t});\n\n\ttest('model insert text with many newlines', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 3), '\\n\\n\\n\\n')]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 9);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My');\n\t\tassert.strictEqual(thisModel.getLineContent(2), '');\n\t\tassert.strictEqual(thisModel.getLineContent(3), '');\n\t\tassert.strictEqual(thisModel.getLineContent(4), '');\n\t\tassert.strictEqual(thisModel.getLineContent(5), ' First Line');\n\t});\n\n\n\t// --------- insert text eventing\n\n\ttest('model insert empty text does not trigger eventing', () => {\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((e) => {\n\t\t\tassert.ok(false, 'was not expecting event');\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 1), '')]);\n\t\tdisposable.dispose();\n\t});\n\n\ttest('model insert text without newline eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 1), 'foo ')]);\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawLineChanged(1, 'foo My First Line', null)\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\ttest('model insert text with one newline eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 3), ' new line\\nNo longer')]);\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawLineChanged(1, 'My new line', null),\n\t\t\t\tnew ModelRawLinesInserted(2, 2, ['No longer First Line'], [null]),\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\n\t// --------- delete text\n\n\ttest('model delete empty text', () => {\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 1, 1))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My First Line');\n\t});\n\n\ttest('model delete text from one line', () => {\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 1, 2))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'y First Line');\n\t});\n\n\ttest('model delete text from one line 2', () => {\n\t\tthisModel.applyEdits([EditOperation.insert(new Position(1, 1), 'a')]);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'aMy First Line');\n\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 2, 1, 4))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'a First Line');\n\t});\n\n\ttest('model delete all text from a line', () => {\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 1, 14))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 5);\n\t\tassert.strictEqual(thisModel.getLineContent(1), '');\n\t});\n\n\ttest('model delete text from two lines', () => {\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 4, 2, 6))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 4);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My Second Line');\n\t});\n\n\ttest('model delete text from many lines', () => {\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 4, 3, 5))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 3);\n\t\tassert.strictEqual(thisModel.getLineContent(1), 'My Third Line');\n\t});\n\n\ttest('model delete everything', () => {\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 5, 2))]);\n\t\tassert.strictEqual(thisModel.getLineCount(), 1);\n\t\tassert.strictEqual(thisModel.getLineContent(1), '');\n\t});\n\n\t// --------- delete text eventing\n\n\ttest('model delete empty text does not trigger eventing', () => {\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((e) => {\n\t\t\tassert.ok(false, 'was not expecting event');\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 1, 1))]);\n\t\tdisposable.dispose();\n\t});\n\n\ttest('model delete text from one line eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 1, 2))]);\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawLineChanged(1, 'y First Line', null),\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\ttest('model delete all text from a line eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 1, 1, 14))]);\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawLineChanged(1, '', null),\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\ttest('model delete text from two lines eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 4, 2, 6))]);\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawLineChanged(1, 'My Second Line', null),\n\t\t\t\tnew ModelRawLinesDeleted(2, 2),\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\ttest('model delete text from many lines eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.applyEdits([EditOperation.delete(new Range(1, 4, 3, 5))]);\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawLineChanged(1, 'My Third Line', null),\n\t\t\t\tnew ModelRawLinesDeleted(2, 3),\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\t// --------- getValueInRange\n\n\ttest('getValueInRange', () => {\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 1, 1)), '');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 1, 2)), 'M');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 2, 1, 3)), 'y');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 1, 14)), 'My First Line');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 2, 1)), 'My First Line\\n');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 2, 2)), 'My First Line\\n\\t');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 2, 3)), 'My First Line\\n\\t\\t');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 2, 17)), 'My First Line\\n\\t\\tMy Second Line');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 3, 1)), 'My First Line\\n\\t\\tMy Second Line\\n');\n\t\tassert.strictEqual(thisModel.getValueInRange(new Range(1, 1, 4, 1)), 'My First Line\\n\\t\\tMy Second Line\\n    Third Line\\n');\n\t});\n\n\t// --------- getValueLengthInRange\n\n\ttest('getValueLengthInRange', () => {\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 1, 1)), ''.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 1, 2)), 'M'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 2, 1, 3)), 'y'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 1, 14)), 'My First Line'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 2, 1)), 'My First Line\\n'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 2, 2)), 'My First Line\\n\\t'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 2, 3)), 'My First Line\\n\\t\\t'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 2, 17)), 'My First Line\\n\\t\\tMy Second Line'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 3, 1)), 'My First Line\\n\\t\\tMy Second Line\\n'.length);\n\t\tassert.strictEqual(thisModel.getValueLengthInRange(new Range(1, 1, 4, 1)), 'My First Line\\n\\t\\tMy Second Line\\n    Third Line\\n'.length);\n\t});\n\n\t// --------- setValue\n\ttest('setValue eventing', () => {\n\t\tlet e: ModelRawContentChangedEvent | null = null;\n\t\tconst disposable = thisModel.onDidChangeContentOrInjectedText((_e) => {\n\t\t\tif (e !== null || !(_e instanceof InternalModelContentChangeEvent)) {\n\t\t\t\tassert.fail('Unexpected assertion error');\n\t\t\t}\n\t\t\te = _e.rawContentChangedEvent;\n\t\t});\n\t\tthisModel.setValue('new value');\n\t\tassert.deepStrictEqual(e, new ModelRawContentChangedEvent(\n\t\t\t[\n\t\t\t\tnew ModelRawFlush()\n\t\t\t],\n\t\t\t2,\n\t\t\tfalse,\n\t\t\tfalse\n\t\t));\n\t\tdisposable.dispose();\n\t});\n\n\ttest('issue #46342: Maintain edit operation order in applyEdits', () => {\n\t\tconst res = thisModel.applyEdits([\n\t\t\t{ range: new Range(2, 1, 2, 1), text: 'a' },\n\t\t\t{ range: new Range(1, 1, 1, 1), text: 'b' },\n\t\t], true);\n\n\t\tassert.deepStrictEqual(res[0].range, new Range(2, 1, 2, 2));\n\t\tassert.deepStrictEqual(res[1].range, new Range(1, 1, 1, 2));\n\t});\n});\n\n\n// --------- Special Unicode LINE SEPARATOR character\nsuite('Editor Model - Model Line Separators', () => {\n\n\tlet thisModel: TextModel;\n\n\tsetup(() => {\n\t\tconst text =\n\t\t\tLINE1 + '\\u2028' +\n\t\t\tLINE2 + '\\n' +\n\t\t\tLINE3 + '\\u2028' +\n\t\t\tLINE4 + '\\r\\n' +\n\t\t\tLINE5;\n\t\tthisModel = createTextModel(text);\n\t});\n\n\tteardown(() => {\n\t\tthisModel.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('model getValue', () => {\n\t\tassert.strictEqual(thisModel.getValue(), 'My First Line\\u2028\\t\\tMy Second Line\\n    Third Line\\u2028\\n1');\n\t});\n\n\ttest('model lines', () => {\n\t\tassert.strictEqual(thisModel.getLineCount(), 3);\n\t});\n\n\ttest('Bug 13333:Model should line break on lonely CR too', () => {\n\t\tconst model = createTextModel('Hello\\rWorld!\\r\\nAnother line');\n\t\tassert.strictEqual(model.getLineCount(), 3);\n\t\tassert.strictEqual(model.getValue(), 'Hello\\r\\nWorld!\\r\\nAnother line');\n\t\tmodel.dispose();\n\t});\n});\n\n\n// --------- Words\n\nsuite('Editor Model - Words', () => {\n\n\tconst OUTER_LANGUAGE_ID = 'outerMode';\n\tconst INNER_LANGUAGE_ID = 'innerMode';\n\n\tclass OuterMode extends Disposable {\n\n\t\tpublic readonly languageId = OUTER_LANGUAGE_ID;\n\n\t\tconstructor(\n\t\t\t@ILanguageService languageService: ILanguageService,\n\t\t\t@ILanguageConfigurationService languageConfigurationService: ILanguageConfigurationService\n\t\t) {\n\t\t\tsuper();\n\t\t\tthis._register(languageService.registerLanguage({ id: this.languageId }));\n\t\t\tthis._register(languageConfigurationService.register(this.languageId, {}));\n\n\t\t\tconst languageIdCodec = languageService.languageIdCodec;\n\t\t\tthis._register(TokenizationRegistry.register(this.languageId, {\n\t\t\t\tgetInitialState: (): IState => NullState,\n\t\t\t\ttokenize: undefined!,\n\t\t\t\ttokenizeEncoded: (line: string, hasEOL: boolean, state: IState): EncodedTokenizationResult => {\n\t\t\t\t\tconst tokensArr: number[] = [];\n\t\t\t\t\tlet prevLanguageId: string | undefined = undefined;\n\t\t\t\t\tfor (let i = 0; i < line.length; i++) {\n\t\t\t\t\t\tconst languageId = (line.charAt(i) === 'x' ? INNER_LANGUAGE_ID : OUTER_LANGUAGE_ID);\n\t\t\t\t\t\tconst encodedLanguageId = languageIdCodec.encodeLanguageId(languageId);\n\t\t\t\t\t\tif (prevLanguageId !== languageId) {\n\t\t\t\t\t\t\ttokensArr.push(i);\n\t\t\t\t\t\t\ttokensArr.push((encodedLanguageId << MetadataConsts.LANGUAGEID_OFFSET));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevLanguageId = languageId;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst tokens = new Uint32Array(tokensArr.length);\n\t\t\t\t\tfor (let i = 0; i < tokens.length; i++) {\n\t\t\t\t\t\ttokens[i] = tokensArr[i];\n\t\t\t\t\t}\n\t\t\t\t\treturn new EncodedTokenizationResult(tokens, state);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tclass InnerMode extends Disposable {\n\n\t\tpublic readonly languageId = INNER_LANGUAGE_ID;\n\n\t\tconstructor(\n\t\t\t@ILanguageService languageService: ILanguageService,\n\t\t\t@ILanguageConfigurationService languageConfigurationService: ILanguageConfigurationService\n\t\t) {\n\t\t\tsuper();\n\t\t\tthis._register(languageService.registerLanguage({ id: this.languageId }));\n\t\t\tthis._register(languageConfigurationService.register(this.languageId, {}));\n\t\t}\n\t}\n\n\tlet disposables: Disposable[] = [];\n\n\tsetup(() => {\n\t\tdisposables = [];\n\t});\n\n\tteardown(() => {\n\t\tdispose(disposables);\n\t\tdisposables = [];\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Get word at position', () => {\n\t\tconst text = ['This text has some  words. '];\n\t\tconst thisModel = createTextModel(text.join('\\n'));\n\t\tdisposables.push(thisModel);\n\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 1)), { word: 'This', startColumn: 1, endColumn: 5 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 2)), { word: 'This', startColumn: 1, endColumn: 5 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 4)), { word: 'This', startColumn: 1, endColumn: 5 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 5)), { word: 'This', startColumn: 1, endColumn: 5 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 6)), { word: 'text', startColumn: 6, endColumn: 10 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 19)), { word: 'some', startColumn: 15, endColumn: 19 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 20)), null);\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 21)), { word: 'words', startColumn: 21, endColumn: 26 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 26)), { word: 'words', startColumn: 21, endColumn: 26 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 27)), null);\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 28)), null);\n\t});\n\n\ttest('getWordAtPosition at embedded language boundaries', () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst instantiationService = createModelServices(disposables);\n\t\tconst outerMode = disposables.add(instantiationService.createInstance(OuterMode));\n\t\tdisposables.add(instantiationService.createInstance(InnerMode));\n\n\t\tconst model = disposables.add(instantiateTextModel(instantiationService, 'ab<xx>ab<x>', outerMode.languageId));\n\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 1)), { word: 'ab', startColumn: 1, endColumn: 3 });\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 2)), { word: 'ab', startColumn: 1, endColumn: 3 });\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 3)), { word: 'ab', startColumn: 1, endColumn: 3 });\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 4)), { word: 'xx', startColumn: 4, endColumn: 6 });\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 5)), { word: 'xx', startColumn: 4, endColumn: 6 });\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 6)), { word: 'xx', startColumn: 4, endColumn: 6 });\n\t\tassert.deepStrictEqual(model.getWordAtPosition(new Position(1, 7)), { word: 'ab', startColumn: 7, endColumn: 9 });\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('issue #61296: VS code freezes when editing CSS file with emoji', () => {\n\t\tconst MODE_ID = 'testMode';\n\t\tconst disposables = new DisposableStore();\n\t\tconst instantiationService = createModelServices(disposables);\n\t\tconst languageConfigurationService = instantiationService.get(ILanguageConfigurationService);\n\t\tconst languageService = instantiationService.get(ILanguageService);\n\n\t\tdisposables.add(languageService.registerLanguage({ id: MODE_ID }));\n\t\tdisposables.add(languageConfigurationService.register(MODE_ID, {\n\t\t\twordPattern: /(#?-?\\d*\\.\\d\\w*%?)|(::?[\\w-]*(?=[^,{;]*[,{]))|(([@#.!])?[\\w-?]+%?|[@#!.])/g\n\t\t}));\n\n\t\tconst thisModel = disposables.add(instantiateTextModel(instantiationService, '.🐷-a-b', MODE_ID));\n\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 1)), { word: '.', startColumn: 1, endColumn: 2 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 2)), { word: '.', startColumn: 1, endColumn: 2 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 3)), null);\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 4)), { word: '-a-b', startColumn: 4, endColumn: 8 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 5)), { word: '-a-b', startColumn: 4, endColumn: 8 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 6)), { word: '-a-b', startColumn: 4, endColumn: 8 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 7)), { word: '-a-b', startColumn: 4, endColumn: 8 });\n\t\tassert.deepStrictEqual(thisModel.getWordAtPosition(new Position(1, 8)), { word: '-a-b', startColumn: 4, endColumn: 8 });\n\n\t\tdisposables.dispose();\n\t});\n});\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/editor/test/common/view/overviewZoneManager.test.ts"],"names":[],"mappings":"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","file":"overviewZoneManager.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { ColorZone, OverviewRulerZone, OverviewZoneManager } from 'vs/editor/common/viewModel/overviewZoneManager';\n\nsuite('Editor View - OverviewZoneManager', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('pixel ratio 1, dom height 600', () => {\n\t\tconst LINE_COUNT = 50;\n\t\tconst LINE_HEIGHT = 20;\n\t\tconst manager = new OverviewZoneManager((lineNumber) => LINE_HEIGHT * lineNumber);\n\t\tmanager.setDOMWidth(30);\n\t\tmanager.setDOMHeight(600);\n\t\tmanager.setOuterHeight(LINE_COUNT * LINE_HEIGHT);\n\t\tmanager.setLineHeight(LINE_HEIGHT);\n\t\tmanager.setPixelRatio(1);\n\n\t\tmanager.setZones([\n\t\t\tnew OverviewRulerZone(1, 1, 0, '1'),\n\t\t\tnew OverviewRulerZone(10, 10, 0, '2'),\n\t\t\tnew OverviewRulerZone(30, 31, 0, '3'),\n\t\t\tnew OverviewRulerZone(50, 50, 0, '4'),\n\t\t]);\n\n\t\t// one line = 12, but cap is at 6\n\t\tassert.deepStrictEqual(manager.resolveColorZones(), [\n\t\t\tnew ColorZone(12, 24, 1), //\n\t\t\tnew ColorZone(120, 132, 2), // 120 -> 132\n\t\t\tnew ColorZone(360, 384, 3), // 360 -> 372 [360 -> 384]\n\t\t\tnew ColorZone(588, 600, 4), // 588 -> 600\n\t\t]);\n\t});\n\n\ttest('pixel ratio 1, dom height 300', () => {\n\t\tconst LINE_COUNT = 50;\n\t\tconst LINE_HEIGHT = 20;\n\t\tconst manager = new OverviewZoneManager((lineNumber) => LINE_HEIGHT * lineNumber);\n\t\tmanager.setDOMWidth(30);\n\t\tmanager.setDOMHeight(300);\n\t\tmanager.setOuterHeight(LINE_COUNT * LINE_HEIGHT);\n\t\tmanager.setLineHeight(LINE_HEIGHT);\n\t\tmanager.setPixelRatio(1);\n\n\t\tmanager.setZones([\n\t\t\tnew OverviewRulerZone(1, 1, 0, '1'),\n\t\t\tnew OverviewRulerZone(10, 10, 0, '2'),\n\t\t\tnew OverviewRulerZone(30, 31, 0, '3'),\n\t\t\tnew OverviewRulerZone(50, 50, 0, '4'),\n\t\t]);\n\n\t\t// one line = 6, cap is at 6\n\t\tassert.deepStrictEqual(manager.resolveColorZones(), [\n\t\t\tnew ColorZone(6, 12, 1), //\n\t\t\tnew ColorZone(60, 66, 2), // 60 -> 66\n\t\t\tnew ColorZone(180, 192, 3), // 180 -> 192\n\t\t\tnew ColorZone(294, 300, 4), // 294 -> 300\n\t\t]);\n\t});\n\n\ttest('pixel ratio 2, dom height 300', () => {\n\t\tconst LINE_COUNT = 50;\n\t\tconst LINE_HEIGHT = 20;\n\t\tconst manager = new OverviewZoneManager((lineNumber) => LINE_HEIGHT * lineNumber);\n\t\tmanager.setDOMWidth(30);\n\t\tmanager.setDOMHeight(300);\n\t\tmanager.setOuterHeight(LINE_COUNT * LINE_HEIGHT);\n\t\tmanager.setLineHeight(LINE_HEIGHT);\n\t\tmanager.setPixelRatio(2);\n\n\t\tmanager.setZones([\n\t\t\tnew OverviewRulerZone(1, 1, 0, '1'),\n\t\t\tnew OverviewRulerZone(10, 10, 0, '2'),\n\t\t\tnew OverviewRulerZone(30, 31, 0, '3'),\n\t\t\tnew OverviewRulerZone(50, 50, 0, '4'),\n\t\t]);\n\n\t\t// one line = 6, cap is at 12\n\t\tassert.deepStrictEqual(manager.resolveColorZones(), [\n\t\t\tnew ColorZone(12, 24, 1), //\n\t\t\tnew ColorZone(120, 132, 2), // 120 -> 132\n\t\t\tnew ColorZone(360, 384, 3), // 360 -> 384\n\t\t\tnew ColorZone(588, 600, 4), // 588 -> 600\n\t\t]);\n\t});\n});\n"]}
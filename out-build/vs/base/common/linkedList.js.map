{"version":3,"sources":["file:///workspace/appflow/src/vs/base/common/linkedList.ts"],"names":[],"mappings":"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","file":"linkedList.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nclass Node<E> {\n\n\tstatic readonly Undefined = new Node<any>(undefined);\n\n\telement: E;\n\tnext: Node<E>;\n\tprev: Node<E>;\n\n\tconstructor(element: E) {\n\t\tthis.element = element;\n\t\tthis.next = Node.Undefined;\n\t\tthis.prev = Node.Undefined;\n\t}\n}\n\nexport class LinkedList<E> {\n\n\tprivate _first: Node<E> = Node.Undefined;\n\tprivate _last: Node<E> = Node.Undefined;\n\tprivate _size: number = 0;\n\n\tget size(): number {\n\t\treturn this._size;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this._first === Node.Undefined;\n\t}\n\n\tclear(): void {\n\t\tlet node = this._first;\n\t\twhile (node !== Node.Undefined) {\n\t\t\tconst next = node.next;\n\t\t\tnode.prev = Node.Undefined;\n\t\t\tnode.next = Node.Undefined;\n\t\t\tnode = next;\n\t\t}\n\n\t\tthis._first = Node.Undefined;\n\t\tthis._last = Node.Undefined;\n\t\tthis._size = 0;\n\t}\n\n\tunshift(element: E): () => void {\n\t\treturn this._insert(element, false);\n\t}\n\n\tpush(element: E): () => void {\n\t\treturn this._insert(element, true);\n\t}\n\n\tprivate _insert(element: E, atTheEnd: boolean): () => void {\n\t\tconst newNode = new Node(element);\n\t\tif (this._first === Node.Undefined) {\n\t\t\tthis._first = newNode;\n\t\t\tthis._last = newNode;\n\n\t\t} else if (atTheEnd) {\n\t\t\t// push\n\t\t\tconst oldLast = this._last!;\n\t\t\tthis._last = newNode;\n\t\t\tnewNode.prev = oldLast;\n\t\t\toldLast.next = newNode;\n\n\t\t} else {\n\t\t\t// unshift\n\t\t\tconst oldFirst = this._first;\n\t\t\tthis._first = newNode;\n\t\t\tnewNode.next = oldFirst;\n\t\t\toldFirst.prev = newNode;\n\t\t}\n\t\tthis._size += 1;\n\n\t\tlet didRemove = false;\n\t\treturn () => {\n\t\t\tif (!didRemove) {\n\t\t\t\tdidRemove = true;\n\t\t\t\tthis._remove(newNode);\n\t\t\t}\n\t\t};\n\t}\n\n\tshift(): E | undefined {\n\t\tif (this._first === Node.Undefined) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tconst res = this._first.element;\n\t\t\tthis._remove(this._first);\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tpop(): E | undefined {\n\t\tif (this._last === Node.Undefined) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tconst res = this._last.element;\n\t\t\tthis._remove(this._last);\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tprivate _remove(node: Node<E>): void {\n\t\tif (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n\t\t\t// middle\n\t\t\tconst anchor = node.prev;\n\t\t\tanchor.next = node.next;\n\t\t\tnode.next.prev = anchor;\n\n\t\t} else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n\t\t\t// only node\n\t\t\tthis._first = Node.Undefined;\n\t\t\tthis._last = Node.Undefined;\n\n\t\t} else if (node.next === Node.Undefined) {\n\t\t\t// last\n\t\t\tthis._last = this._last!.prev!;\n\t\t\tthis._last.next = Node.Undefined;\n\n\t\t} else if (node.prev === Node.Undefined) {\n\t\t\t// first\n\t\t\tthis._first = this._first!.next!;\n\t\t\tthis._first.prev = Node.Undefined;\n\t\t}\n\n\t\t// done\n\t\tthis._size -= 1;\n\t}\n\n\t*[Symbol.iterator](): Iterator<E> {\n\t\tlet node = this._first;\n\t\twhile (node !== Node.Undefined) {\n\t\t\tyield node.element;\n\t\t\tnode = node.next;\n\t\t}\n\t}\n}\n"]}
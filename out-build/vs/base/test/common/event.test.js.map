{"version":3,"sources":["file:///workspace/appflow/src/vs/base/test/common/event.test.ts"],"names":[],"mappings":"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","file":"event.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { stub } from 'sinon';\nimport { DeferredPromise, timeout } from 'vs/base/common/async';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { errorHandler, setUnexpectedErrorHandler } from 'vs/base/common/errors';\nimport { AsyncEmitter, DebounceEmitter, DynamicListEventMultiplexer, Emitter, Event, EventBufferer, EventMultiplexer, IWaitUntil, MicrotaskEmitter, PauseableEmitter, Relay, createEventDeliveryQueue } from 'vs/base/common/event';\nimport { DisposableStore, IDisposable, isDisposable, setDisposableTracker, toDisposable, DisposableTracker } from 'vs/base/common/lifecycle';\nimport { observableValue, transaction } from 'vs/base/common/observable';\nimport { MicrotaskDelay } from 'vs/base/common/symbols';\nimport { runWithFakedTimers } from 'vs/base/test/common/timeTravelScheduler';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\n\nnamespace Samples {\n\n\texport class EventCounter {\n\n\t\tcount = 0;\n\n\t\treset() {\n\t\t\tthis.count = 0;\n\t\t}\n\n\t\tonEvent() {\n\t\t\tthis.count += 1;\n\t\t}\n\t}\n\n\texport class Document3 {\n\n\t\tprivate readonly _onDidChange = new Emitter<string>();\n\n\t\tonDidChange: Event<string> = this._onDidChange.event;\n\n\t\tsetText(value: string) {\n\t\t\t//...\n\t\t\tthis._onDidChange.fire(value);\n\t\t}\n\n\t}\n}\n\nsuite('Event utils dispose', function () {\n\n\tlet tracker = new DisposableTracker();\n\n\tfunction assertDisposablesCount(expected: number | Array<IDisposable>) {\n\t\tif (Array.isArray(expected)) {\n\t\t\tconst instances = new Set(expected);\n\t\t\tconst actualInstances = tracker.getTrackedDisposables();\n\t\t\tassert.strictEqual(actualInstances.length, expected.length);\n\n\t\t\tfor (const item of actualInstances) {\n\t\t\t\tassert.ok(instances.has(item));\n\t\t\t}\n\n\t\t} else {\n\t\t\tassert.strictEqual(tracker.getTrackedDisposables().length, expected);\n\t\t}\n\n\t}\n\n\tsetup(() => {\n\t\ttracker = new DisposableTracker();\n\t\tsetDisposableTracker(tracker);\n\t});\n\n\tteardown(function () {\n\t\tsetDisposableTracker(null);\n\t});\n\n\ttest('no leak with snapshot-utils', function () {\n\n\t\tconst store = new DisposableStore();\n\t\tconst emitter = new Emitter<number>();\n\t\tconst evens = Event.filter(emitter.event, n => n % 2 === 0, store);\n\t\tassertDisposablesCount(1); // snaphot only listen when `evens` is being listened on\n\n\t\tlet all = 0;\n\t\tconst leaked = evens(n => all += n);\n\t\tassert.ok(isDisposable(leaked));\n\t\tassertDisposablesCount(3);\n\n\t\temitter.dispose();\n\t\tstore.dispose();\n\t\tassertDisposablesCount([leaked]); // leaked is still there\n\t});\n\n\ttest('no leak with debounce-util', function () {\n\t\tconst store = new DisposableStore();\n\t\tconst emitter = new Emitter<number>();\n\t\tconst debounced = Event.debounce(emitter.event, (l) => 0, undefined, undefined, undefined, undefined, store);\n\t\tassertDisposablesCount(1); // debounce only listens when `debounce` is being listened on\n\n\t\tlet all = 0;\n\t\tconst leaked = debounced(n => all += n);\n\t\tassert.ok(isDisposable(leaked));\n\t\tassertDisposablesCount(3);\n\n\t\temitter.dispose();\n\t\tstore.dispose();\n\n\t\tassertDisposablesCount([leaked]); // leaked is still there\n\t});\n});\n\nsuite('Event', function () {\n\n\tconst counter = new Samples.EventCounter();\n\n\tsetup(() => counter.reset());\n\n\ttest('Emitter plain', function () {\n\n\t\tconst doc = new Samples.Document3();\n\n\t\tconst subscription = doc.onDidChange(counter.onEvent, counter);\n\n\t\tdoc.setText('far');\n\t\tdoc.setText('boo');\n\n\t\t// unhook listener\n\t\tsubscription.dispose();\n\t\tdoc.setText('boo');\n\t\tassert.strictEqual(counter.count, 2);\n\t});\n\n\ttest('Emitter duplicate functions', () => {\n\t\tconst calls: string[] = [];\n\t\tconst a = (v: string) => calls.push(`a${v}`);\n\t\tconst b = (v: string) => calls.push(`b${v}`);\n\n\t\tconst emitter = new Emitter<string>();\n\n\t\temitter.event(a);\n\t\temitter.event(b);\n\t\tconst s2 = emitter.event(a);\n\n\t\temitter.fire('1');\n\t\tassert.deepStrictEqual(calls, ['a1', 'b1', 'a1']);\n\n\t\ts2.dispose();\n\t\tcalls.length = 0;\n\t\temitter.fire('2');\n\t\tassert.deepStrictEqual(calls, ['a2', 'b2']);\n\t});\n\n\ttest('Emitter, dispose listener during emission', () => {\n\t\tfor (let keepFirstMod = 1; keepFirstMod < 4; keepFirstMod++) {\n\t\t\tconst emitter = new Emitter<void>();\n\t\t\tconst calls: number[] = [];\n\t\t\tconst disposables = Array.from({ length: 25 }, (_, n) => emitter.event(() => {\n\t\t\t\tif (n % keepFirstMod === 0) {\n\t\t\t\t\tdisposables[n].dispose();\n\t\t\t\t}\n\t\t\t\tcalls.push(n);\n\t\t\t}));\n\n\t\t\temitter.fire();\n\t\t\tassert.deepStrictEqual(calls, Array.from({ length: 25 }, (_, n) => n));\n\t\t}\n\t});\n\n\ttest('Emitter, dispose emitter during emission', () => {\n\t\tconst emitter = new Emitter<void>();\n\t\tconst calls: number[] = [];\n\t\tconst disposables = Array.from({ length: 25 }, (_, n) => emitter.event(() => {\n\t\t\tif (n === 10) {\n\t\t\t\temitter.dispose();\n\t\t\t}\n\t\t\tcalls.push(n);\n\t\t}));\n\n\t\temitter.fire();\n\t\tdisposables.forEach(d => d.dispose());\n\t\tassert.deepStrictEqual(calls, Array.from({ length: 11 }, (_, n) => n));\n\t});\n\n\ttest('Emitter, shared delivery queue', () => {\n\t\tconst deliveryQueue = createEventDeliveryQueue();\n\t\tconst emitter1 = new Emitter<number>({ deliveryQueue });\n\t\tconst emitter2 = new Emitter<number>({ deliveryQueue });\n\n\t\tconst calls: string[] = [];\n\t\temitter1.event(d => { calls.push(`${d}a`); if (d === 1) { emitter2.fire(2); } });\n\t\temitter1.event(d => { calls.push(`${d}b`); });\n\n\t\temitter2.event(d => { calls.push(`${d}c`); emitter1.dispose(); });\n\t\temitter2.event(d => { calls.push(`${d}d`); });\n\n\t\temitter1.fire(1);\n\n\t\t// 1. Check that 2 is not delivered before 1 finishes\n\t\t// 2. Check that 2 finishes getting delivered even if one emitter is disposed\n\t\tassert.deepStrictEqual(calls, ['1a', '1b', '2c', '2d']);\n\t});\n\n\ttest('Emitter, handles removal during 3', () => {\n\t\tconst fn1 = stub();\n\t\tconst fn2 = stub();\n\t\tconst emitter = new Emitter<string>();\n\n\t\temitter.event(fn1);\n\t\tconst h = emitter.event(() => {\n\t\t\th.dispose();\n\t\t});\n\t\temitter.event(fn2);\n\t\temitter.fire('foo');\n\n\t\tassert.deepStrictEqual(fn2.args, [['foo']]);\n\t\tassert.deepStrictEqual(fn1.args, [['foo']]);\n\t});\n\n\ttest('Emitter, handles removal during 2', () => {\n\t\tconst fn1 = stub();\n\t\tconst emitter = new Emitter<string>();\n\n\t\temitter.event(fn1);\n\t\tconst h = emitter.event(() => {\n\t\t\th.dispose();\n\t\t});\n\t\temitter.fire('foo');\n\n\t\tassert.deepStrictEqual(fn1.args, [['foo']]);\n\t});\n\n\ttest('Emitter, bucket', function () {\n\n\t\tconst bucket: IDisposable[] = [];\n\t\tconst doc = new Samples.Document3();\n\t\tconst subscription = doc.onDidChange(counter.onEvent, counter, bucket);\n\n\t\tdoc.setText('far');\n\t\tdoc.setText('boo');\n\n\t\t// unhook listener\n\t\twhile (bucket.length) {\n\t\t\tbucket.pop()!.dispose();\n\t\t}\n\t\tdoc.setText('boo');\n\n\t\t// noop\n\t\tsubscription.dispose();\n\n\t\tdoc.setText('boo');\n\t\tassert.strictEqual(counter.count, 2);\n\t});\n\n\ttest('Emitter, store', function () {\n\n\t\tconst bucket = new DisposableStore();\n\t\tconst doc = new Samples.Document3();\n\t\tconst subscription = doc.onDidChange(counter.onEvent, counter, bucket);\n\n\t\tdoc.setText('far');\n\t\tdoc.setText('boo');\n\n\t\t// unhook listener\n\t\tbucket.clear();\n\t\tdoc.setText('boo');\n\n\t\t// noop\n\t\tsubscription.dispose();\n\n\t\tdoc.setText('boo');\n\t\tassert.strictEqual(counter.count, 2);\n\t});\n\n\ttest('onFirstAdd|onLastRemove', () => {\n\n\t\tlet firstCount = 0;\n\t\tlet lastCount = 0;\n\t\tconst a = new Emitter({\n\t\t\tonWillAddFirstListener() { firstCount += 1; },\n\t\t\tonDidRemoveLastListener() { lastCount += 1; }\n\t\t});\n\n\t\tassert.strictEqual(firstCount, 0);\n\t\tassert.strictEqual(lastCount, 0);\n\n\t\tlet subscription1 = a.event(function () { });\n\t\tconst subscription2 = a.event(function () { });\n\t\tassert.strictEqual(firstCount, 1);\n\t\tassert.strictEqual(lastCount, 0);\n\n\t\tsubscription1.dispose();\n\t\tassert.strictEqual(firstCount, 1);\n\t\tassert.strictEqual(lastCount, 0);\n\n\t\tsubscription2.dispose();\n\t\tassert.strictEqual(firstCount, 1);\n\t\tassert.strictEqual(lastCount, 1);\n\n\t\tsubscription1 = a.event(function () { });\n\t\tassert.strictEqual(firstCount, 2);\n\t\tassert.strictEqual(lastCount, 1);\n\t});\n\n\ttest('onWillRemoveListener', () => {\n\t\tlet count = 0;\n\t\tconst a = new Emitter({\n\t\t\tonWillRemoveListener() { count += 1; }\n\t\t});\n\n\t\tassert.strictEqual(count, 0);\n\n\t\tlet subscription = a.event(function () { });\n\t\tassert.strictEqual(count, 0);\n\n\t\tsubscription.dispose();\n\t\tassert.strictEqual(count, 1);\n\n\t\tsubscription = a.event(function () { });\n\t\tassert.strictEqual(count, 1);\n\t});\n\n\ttest('throwingListener', () => {\n\t\tconst origErrorHandler = errorHandler.getUnexpectedErrorHandler();\n\t\tsetUnexpectedErrorHandler(() => null);\n\n\t\ttry {\n\t\t\tconst a = new Emitter<undefined>();\n\t\t\tlet hit = false;\n\t\t\ta.event(function () {\n\t\t\t\t// eslint-disable-next-line no-throw-literal\n\t\t\t\tthrow 9;\n\t\t\t});\n\t\t\ta.event(function () {\n\t\t\t\thit = true;\n\t\t\t});\n\t\t\ta.fire(undefined);\n\t\t\tassert.strictEqual(hit, true);\n\n\t\t} finally {\n\t\t\tsetUnexpectedErrorHandler(origErrorHandler);\n\t\t}\n\t});\n\n\ttest('throwingListener (custom handler)', () => {\n\n\t\tconst allError: any[] = [];\n\n\t\tconst a = new Emitter<undefined>({\n\t\t\tonListenerError(e) { allError.push(e); }\n\t\t});\n\t\tlet hit = false;\n\t\ta.event(function () {\n\t\t\t// eslint-disable-next-line no-throw-literal\n\t\t\tthrow 9;\n\t\t});\n\t\ta.event(function () {\n\t\t\thit = true;\n\t\t});\n\t\ta.fire(undefined);\n\t\tassert.strictEqual(hit, true);\n\t\tassert.deepStrictEqual(allError, [9]);\n\n\t});\n\n\ttest('reusing event function and context', function () {\n\t\tlet counter = 0;\n\t\tfunction listener() {\n\t\t\tcounter += 1;\n\t\t}\n\t\tconst context = {};\n\n\t\tconst emitter = new Emitter<undefined>();\n\t\tconst reg1 = emitter.event(listener, context);\n\t\tconst reg2 = emitter.event(listener, context);\n\n\t\temitter.fire(undefined);\n\t\tassert.strictEqual(counter, 2);\n\n\t\treg1.dispose();\n\t\temitter.fire(undefined);\n\t\tassert.strictEqual(counter, 3);\n\n\t\treg2.dispose();\n\t\temitter.fire(undefined);\n\t\tassert.strictEqual(counter, 3);\n\t});\n\n\ttest('DebounceEmitter', async function () {\n\t\treturn runWithFakedTimers({}, async function () {\n\n\t\t\tlet callCount = 0;\n\t\t\tlet sum = 0;\n\t\t\tconst emitter = new DebounceEmitter<number>({\n\t\t\t\tmerge: arr => {\n\t\t\t\t\tcallCount += 1;\n\t\t\t\t\treturn arr.reduce((p, c) => p + c);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\temitter.event(e => { sum = e; });\n\n\t\t\tconst p = Event.toPromise(emitter.event);\n\n\t\t\temitter.fire(1);\n\t\t\temitter.fire(2);\n\n\t\t\tawait p;\n\n\t\t\tassert.strictEqual(callCount, 1);\n\t\t\tassert.strictEqual(sum, 3);\n\t\t});\n\t});\n\n\ttest('Microtask Emitter', (done) => {\n\t\tlet count = 0;\n\t\tassert.strictEqual(count, 0);\n\t\tconst emitter = new MicrotaskEmitter<void>();\n\t\tconst listener = emitter.event(() => {\n\t\t\tcount++;\n\t\t});\n\t\temitter.fire();\n\t\tassert.strictEqual(count, 0);\n\t\temitter.fire();\n\t\tassert.strictEqual(count, 0);\n\t\t// Should wait until the event loop ends and therefore be the last thing called\n\t\tsetTimeout(() => {\n\t\t\tassert.strictEqual(count, 3);\n\t\t\tdone();\n\t\t}, 0);\n\t\tqueueMicrotask(() => {\n\t\t\tassert.strictEqual(count, 2);\n\t\t\tcount++;\n\t\t\tlistener.dispose();\n\t\t});\n\t});\n\n\ttest('Emitter - In Order Delivery', function () {\n\t\tconst a = new Emitter<string>();\n\t\tconst listener2Events: string[] = [];\n\t\ta.event(function listener1(event) {\n\t\t\tif (event === 'e1') {\n\t\t\t\ta.fire('e2');\n\t\t\t\t// assert that all events are delivered at this point\n\t\t\t\tassert.deepStrictEqual(listener2Events, ['e1', 'e2']);\n\t\t\t}\n\t\t});\n\t\ta.event(function listener2(event) {\n\t\t\tlistener2Events.push(event);\n\t\t});\n\t\ta.fire('e1');\n\n\t\t// assert that all events are delivered in order\n\t\tassert.deepStrictEqual(listener2Events, ['e1', 'e2']);\n\t});\n\n\ttest('Emitter, - In Order Delivery 3x', function () {\n\t\tconst a = new Emitter<string>();\n\t\tconst listener2Events: string[] = [];\n\t\ta.event(function listener1(event) {\n\t\t\tif (event === 'e2') {\n\t\t\t\ta.fire('e3');\n\t\t\t\t// assert that all events are delivered at this point\n\t\t\t\tassert.deepStrictEqual(listener2Events, ['e1', 'e2', 'e3']);\n\t\t\t}\n\t\t});\n\t\ta.event(function listener1(event) {\n\t\t\tif (event === 'e1') {\n\t\t\t\ta.fire('e2');\n\t\t\t\t// assert that all events are delivered at this point\n\t\t\t\tassert.deepStrictEqual(listener2Events, ['e1', 'e2', 'e3']);\n\t\t\t}\n\t\t});\n\t\ta.event(function listener2(event) {\n\t\t\tlistener2Events.push(event);\n\t\t});\n\t\ta.fire('e1');\n\n\t\t// assert that all events are delivered in order\n\t\tassert.deepStrictEqual(listener2Events, ['e1', 'e2', 'e3']);\n\t});\n\n\ttest('Cannot read property \\'_actual\\' of undefined #142204', function () {\n\t\tconst e = new Emitter<number>();\n\t\tconst dispo = e.event(() => { });\n\t\tdispo.dispose.call(undefined);  // assert that disposable can be called with this\n\t});\n});\n\nsuite('AsyncEmitter', function () {\n\n\ttest('event has waitUntil-function', async function () {\n\n\t\tinterface E extends IWaitUntil {\n\t\t\tfoo: boolean;\n\t\t\tbar: number;\n\t\t}\n\n\t\tconst emitter = new AsyncEmitter<E>();\n\n\t\temitter.event(e => {\n\t\t\tassert.strictEqual(e.foo, true);\n\t\t\tassert.strictEqual(e.bar, 1);\n\t\t\tassert.strictEqual(typeof e.waitUntil, 'function');\n\t\t});\n\n\t\temitter.fireAsync({ foo: true, bar: 1, }, CancellationToken.None);\n\t\temitter.dispose();\n\t});\n\n\ttest('sequential delivery', async function () {\n\t\treturn runWithFakedTimers({}, async function () {\n\n\t\t\tinterface E extends IWaitUntil {\n\t\t\t\tfoo: boolean;\n\t\t\t}\n\n\t\t\tlet globalState = 0;\n\t\t\tconst emitter = new AsyncEmitter<E>();\n\n\t\t\temitter.event(e => {\n\t\t\t\te.waitUntil(timeout(10).then(_ => {\n\t\t\t\t\tassert.strictEqual(globalState, 0);\n\t\t\t\t\tglobalState += 1;\n\t\t\t\t}));\n\t\t\t});\n\n\t\t\temitter.event(e => {\n\t\t\t\te.waitUntil(timeout(1).then(_ => {\n\t\t\t\t\tassert.strictEqual(globalState, 1);\n\t\t\t\t\tglobalState += 1;\n\t\t\t\t}));\n\t\t\t});\n\n\t\t\tawait emitter.fireAsync({ foo: true }, CancellationToken.None);\n\t\t\tassert.strictEqual(globalState, 2);\n\t\t});\n\t});\n\n\ttest('sequential, in-order delivery', async function () {\n\t\treturn runWithFakedTimers({}, async function () {\n\n\t\t\tinterface E extends IWaitUntil {\n\t\t\t\tfoo: number;\n\t\t\t}\n\t\t\tconst events: number[] = [];\n\t\t\tlet done = false;\n\t\t\tconst emitter = new AsyncEmitter<E>();\n\n\t\t\t// e1\n\t\t\temitter.event(e => {\n\t\t\t\te.waitUntil(timeout(10).then(async _ => {\n\t\t\t\t\tif (e.foo === 1) {\n\t\t\t\t\t\tawait emitter.fireAsync({ foo: 2 }, CancellationToken.None);\n\t\t\t\t\t\tassert.deepStrictEqual(events, [1, 2]);\n\t\t\t\t\t\tdone = true;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t});\n\n\t\t\t// e2\n\t\t\temitter.event(e => {\n\t\t\t\tevents.push(e.foo);\n\t\t\t\te.waitUntil(timeout(7));\n\t\t\t});\n\n\t\t\tawait emitter.fireAsync({ foo: 1 }, CancellationToken.None);\n\t\t\tassert.ok(done);\n\t\t});\n\t});\n\n\ttest('catch errors', async function () {\n\t\tconst origErrorHandler = errorHandler.getUnexpectedErrorHandler();\n\t\tsetUnexpectedErrorHandler(() => null);\n\n\t\tinterface E extends IWaitUntil {\n\t\t\tfoo: boolean;\n\t\t}\n\n\t\tlet globalState = 0;\n\t\tconst emitter = new AsyncEmitter<E>();\n\n\t\temitter.event(e => {\n\t\t\tglobalState += 1;\n\t\t\te.waitUntil(new Promise((_r, reject) => reject(new Error())));\n\t\t});\n\n\t\temitter.event(e => {\n\t\t\tglobalState += 1;\n\t\t\te.waitUntil(timeout(10));\n\t\t\te.waitUntil(timeout(20).then(() => globalState++)); // multiple `waitUntil` are supported and awaited on\n\t\t});\n\n\t\tawait emitter.fireAsync({ foo: true }, CancellationToken.None).then(() => {\n\t\t\tassert.strictEqual(globalState, 3);\n\t\t}).catch(e => {\n\t\t\tconsole.log(e);\n\t\t\tassert.ok(false);\n\t\t});\n\n\t\tsetUnexpectedErrorHandler(origErrorHandler);\n\t});\n});\n\nsuite('PausableEmitter', function () {\n\n\ttest('basic', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>();\n\n\t\temitter.event(e => data.push(e));\n\t\temitter.fire(1);\n\t\temitter.fire(2);\n\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\t});\n\n\ttest('pause/resume - no merge', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>();\n\n\t\temitter.event(e => data.push(e));\n\t\temitter.fire(1);\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.pause();\n\t\temitter.fire(3);\n\t\temitter.fire(4);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 2, 3, 4]);\n\t\temitter.fire(5);\n\t\tassert.deepStrictEqual(data, [1, 2, 3, 4, 5]);\n\t});\n\n\ttest('pause/resume - merge', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>({ merge: (a) => a.reduce((p, c) => p + c, 0) });\n\n\t\temitter.event(e => data.push(e));\n\t\temitter.fire(1);\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.pause();\n\t\temitter.fire(3);\n\t\temitter.fire(4);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 2, 7]);\n\n\t\temitter.fire(5);\n\t\tassert.deepStrictEqual(data, [1, 2, 7, 5]);\n\t});\n\n\ttest('double pause/resume', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>();\n\n\t\temitter.event(e => data.push(e));\n\t\temitter.fire(1);\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.pause();\n\t\temitter.pause();\n\t\temitter.fire(3);\n\t\temitter.fire(4);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 2, 3, 4]);\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 2, 3, 4]);\n\t});\n\n\ttest('resume, no pause', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>();\n\n\t\temitter.event(e => data.push(e));\n\t\temitter.fire(1);\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(data, [1, 2]);\n\n\t\temitter.resume();\n\t\temitter.fire(3);\n\t\tassert.deepStrictEqual(data, [1, 2, 3]);\n\t});\n\n\ttest('nested pause', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>();\n\n\t\tlet once = true;\n\t\temitter.event(e => {\n\t\t\tdata.push(e);\n\n\t\t\tif (once) {\n\t\t\t\temitter.pause();\n\t\t\t\tonce = false;\n\t\t\t}\n\t\t});\n\t\temitter.event(e => {\n\t\t\tdata.push(e);\n\t\t});\n\n\t\temitter.pause();\n\t\temitter.fire(1);\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(data, []);\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 1]); // paused after first event\n\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, [1, 1, 2, 2]); // remaing event delivered\n\n\t\temitter.fire(3);\n\t\tassert.deepStrictEqual(data, [1, 1, 2, 2, 3, 3]);\n\n\t});\n\n\ttest('empty pause with merge', function () {\n\t\tconst data: number[] = [];\n\t\tconst emitter = new PauseableEmitter<number>({ merge: a => a[0] });\n\t\temitter.event(e => data.push(1));\n\n\t\temitter.pause();\n\t\temitter.resume();\n\t\tassert.deepStrictEqual(data, []);\n\t});\n\n});\n\nsuite('Event utils - ensureNoDisposablesAreLeakedInTestSuite', function () {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('fromObservable', function () {\n\n\t\tconst obs = observableValue('test', 12);\n\t\tconst event = Event.fromObservable(obs);\n\n\t\tconst values: number[] = [];\n\t\tconst d = event(n => { values.push(n); });\n\n\t\tobs.set(3, undefined);\n\t\tobs.set(13, undefined);\n\t\tobs.set(3, undefined);\n\t\tobs.set(33, undefined);\n\t\tobs.set(1, undefined);\n\n\t\ttransaction(tx => {\n\t\t\tobs.set(334, tx);\n\t\t\tobs.set(99, tx);\n\t\t});\n\n\t\tassert.deepStrictEqual(values, ([3, 13, 3, 33, 1, 99]));\n\t\td.dispose();\n\t});\n});\n\nsuite('Event utils', () => {\n\n\tsuite('EventBufferer', () => {\n\n\t\ttest('should not buffer when not wrapped', () => {\n\t\t\tconst bufferer = new EventBufferer();\n\t\t\tconst counter = new Samples.EventCounter();\n\t\t\tconst emitter = new Emitter<void>();\n\t\t\tconst event = bufferer.wrapEvent(emitter.event);\n\t\t\tconst listener = event(counter.onEvent, counter);\n\n\t\t\tassert.strictEqual(counter.count, 0);\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter.count, 1);\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter.count, 2);\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter.count, 3);\n\n\t\t\tlistener.dispose();\n\t\t});\n\n\t\ttest('should buffer when wrapped', () => {\n\t\t\tconst bufferer = new EventBufferer();\n\t\t\tconst counter = new Samples.EventCounter();\n\t\t\tconst emitter = new Emitter<void>();\n\t\t\tconst event = bufferer.wrapEvent(emitter.event);\n\t\t\tconst listener = event(counter.onEvent, counter);\n\n\t\t\tassert.strictEqual(counter.count, 0);\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter.count, 1);\n\n\t\t\tbufferer.bufferEvents(() => {\n\t\t\t\temitter.fire();\n\t\t\t\tassert.strictEqual(counter.count, 1);\n\t\t\t\temitter.fire();\n\t\t\t\tassert.strictEqual(counter.count, 1);\n\t\t\t});\n\n\t\t\tassert.strictEqual(counter.count, 3);\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter.count, 4);\n\n\t\t\tlistener.dispose();\n\t\t});\n\n\t\ttest('once', () => {\n\t\t\tconst emitter = new Emitter<void>();\n\n\t\t\tlet counter1 = 0, counter2 = 0, counter3 = 0;\n\n\t\t\tconst listener1 = emitter.event(() => counter1++);\n\t\t\tconst listener2 = Event.once(emitter.event)(() => counter2++);\n\t\t\tconst listener3 = Event.once(emitter.event)(() => counter3++);\n\n\t\t\tassert.strictEqual(counter1, 0);\n\t\t\tassert.strictEqual(counter2, 0);\n\t\t\tassert.strictEqual(counter3, 0);\n\n\t\t\tlistener3.dispose();\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter1, 1);\n\t\t\tassert.strictEqual(counter2, 1);\n\t\t\tassert.strictEqual(counter3, 0);\n\n\t\t\temitter.fire();\n\t\t\tassert.strictEqual(counter1, 2);\n\t\t\tassert.strictEqual(counter2, 1);\n\t\t\tassert.strictEqual(counter3, 0);\n\n\t\t\tlistener1.dispose();\n\t\t\tlistener2.dispose();\n\t\t});\n\t});\n\n\tsuite('buffer', () => {\n\n\t\ttest('should buffer events', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst event = emitter.event;\n\t\t\tconst bufferedEvent = Event.buffer(event);\n\n\t\t\temitter.fire(1);\n\t\t\temitter.fire(2);\n\t\t\temitter.fire(3);\n\t\t\tassert.deepStrictEqual(result, [] as number[]);\n\n\t\t\tconst listener = bufferedEvent(num => result.push(num));\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3]);\n\n\t\t\temitter.fire(4);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3, 4]);\n\n\t\t\tlistener.dispose();\n\t\t\temitter.fire(5);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3, 4]);\n\t\t});\n\n\t\ttest('should buffer events on next tick', async () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst event = emitter.event;\n\t\t\tconst bufferedEvent = Event.buffer(event, true);\n\n\t\t\temitter.fire(1);\n\t\t\temitter.fire(2);\n\t\t\temitter.fire(3);\n\t\t\tassert.deepStrictEqual(result, [] as number[]);\n\n\t\t\tconst listener = bufferedEvent(num => result.push(num));\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\tawait timeout(10);\n\t\t\temitter.fire(4);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3, 4]);\n\t\t\tlistener.dispose();\n\t\t\temitter.fire(5);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3, 4]);\n\t\t});\n\n\t\ttest('should fire initial buffer events', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst event = emitter.event;\n\t\t\tconst bufferedEvent = Event.buffer(event, false, [-2, -1, 0]);\n\n\t\t\temitter.fire(1);\n\t\t\temitter.fire(2);\n\t\t\temitter.fire(3);\n\t\t\tassert.deepStrictEqual(result, [] as number[]);\n\n\t\t\tbufferedEvent(num => result.push(num));\n\t\t\tassert.deepStrictEqual(result, [-2, -1, 0, 1, 2, 3]);\n\t\t});\n\t});\n\n\tsuite('EventMultiplexer', () => {\n\n\t\ttest('works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\t\t\tm.event(r => result.push(r));\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\t\t});\n\n\t\ttest('multiplexer dispose works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\t\t\tm.event(r => result.push(r));\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\n\t\t\tm.dispose();\n\t\t\tassert.deepStrictEqual(result, [0]);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\t\t});\n\n\t\ttest('event dispose works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\t\t\tm.event(r => result.push(r));\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\n\t\t\te1.dispose();\n\t\t\tassert.deepStrictEqual(result, [0]);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\t\t});\n\n\t\ttest('mutliplexer event dispose works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\t\t\tm.event(r => result.push(r));\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tconst l1 = m.add(e1.event);\n\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\n\t\t\tl1.dispose();\n\t\t\tassert.deepStrictEqual(result, [0]);\n\n\t\t\te1.fire(0);\n\t\t\tassert.deepStrictEqual(result, [0]);\n\t\t});\n\n\t\ttest('hot start works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\t\t\tm.event(r => result.push(r));\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\t\t\tconst e2 = new Emitter<number>();\n\t\t\tm.add(e2.event);\n\t\t\tconst e3 = new Emitter<number>();\n\t\t\tm.add(e3.event);\n\n\t\t\te1.fire(1);\n\t\t\te2.fire(2);\n\t\t\te3.fire(3);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3]);\n\t\t});\n\n\t\ttest('cold start works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\t\t\tconst e2 = new Emitter<number>();\n\t\t\tm.add(e2.event);\n\t\t\tconst e3 = new Emitter<number>();\n\t\t\tm.add(e3.event);\n\n\t\t\tm.event(r => result.push(r));\n\n\t\t\te1.fire(1);\n\t\t\te2.fire(2);\n\t\t\te3.fire(3);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3]);\n\t\t});\n\n\t\ttest('late add works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\t\t\tconst e2 = new Emitter<number>();\n\t\t\tm.add(e2.event);\n\n\t\t\tm.event(r => result.push(r));\n\n\t\t\te1.fire(1);\n\t\t\te2.fire(2);\n\n\t\t\tconst e3 = new Emitter<number>();\n\t\t\tm.add(e3.event);\n\t\t\te3.fire(3);\n\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3]);\n\t\t});\n\n\t\ttest('add dispose works', () => {\n\t\t\tconst result: number[] = [];\n\t\t\tconst m = new EventMultiplexer<number>();\n\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tm.add(e1.event);\n\t\t\tconst e2 = new Emitter<number>();\n\t\t\tm.add(e2.event);\n\n\t\t\tm.event(r => result.push(r));\n\n\t\t\te1.fire(1);\n\t\t\te2.fire(2);\n\n\t\t\tconst e3 = new Emitter<number>();\n\t\t\tconst l3 = m.add(e3.event);\n\t\t\te3.fire(3);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3]);\n\n\t\t\tl3.dispose();\n\t\t\te3.fire(4);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3]);\n\n\t\t\te2.fire(4);\n\t\t\te1.fire(5);\n\t\t\tassert.deepStrictEqual(result, [1, 2, 3, 4, 5]);\n\t\t});\n\t});\n\n\tsuite('DynamicListEventMultiplexer', () => {\n\t\tconst recordedEvents: number[] = [];\n\t\tconst addEmitter = new Emitter<TestItem>();\n\t\tconst removeEmitter = new Emitter<TestItem>();\n\t\tclass TestItem {\n\t\t\treadonly onTestEventEmitter = new Emitter<number>();\n\t\t\treadonly onTestEvent = this.onTestEventEmitter.event;\n\t\t}\n\t\tlet items: TestItem[];\n\t\tlet m: DynamicListEventMultiplexer<TestItem, number>;\n\t\tsetup(() => {\n\t\t\titems = [new TestItem(), new TestItem()];\n\t\t\tfor (const [i, item] of items.entries()) {\n\t\t\t\titem.onTestEvent(e => `${i}:${e}`);\n\t\t\t}\n\t\t\tm = new DynamicListEventMultiplexer(items, addEmitter.event, removeEmitter.event, e => e.onTestEvent);\n\t\t\tm.event(e => recordedEvents.push(e));\n\t\t\trecordedEvents.length = 0;\n\t\t});\n\t\tteardown(() => m.dispose());\n\t\ttest('should fire events for initial items', () => {\n\t\t\titems[0].onTestEventEmitter.fire(1);\n\t\t\titems[1].onTestEventEmitter.fire(2);\n\t\t\titems[0].onTestEventEmitter.fire(3);\n\t\t\titems[1].onTestEventEmitter.fire(4);\n\t\t\tassert.deepStrictEqual(recordedEvents, [1, 2, 3, 4]);\n\t\t});\n\t\ttest('should fire events for added items', () => {\n\t\t\tconst addedItem = new TestItem();\n\t\t\taddEmitter.fire(addedItem);\n\t\t\taddedItem.onTestEventEmitter.fire(1);\n\t\t\titems[0].onTestEventEmitter.fire(2);\n\t\t\titems[1].onTestEventEmitter.fire(3);\n\t\t\taddedItem.onTestEventEmitter.fire(4);\n\t\t\tassert.deepStrictEqual(recordedEvents, [1, 2, 3, 4]);\n\t\t});\n\t\ttest('should not fire events for removed items', () => {\n\t\t\tremoveEmitter.fire(items[0]);\n\t\t\titems[0].onTestEventEmitter.fire(1);\n\t\t\titems[1].onTestEventEmitter.fire(2);\n\t\t\titems[0].onTestEventEmitter.fire(3);\n\t\t\titems[1].onTestEventEmitter.fire(4);\n\t\t\tassert.deepStrictEqual(recordedEvents, [2, 4]);\n\t\t});\n\t});\n\n\ttest('latch', () => {\n\t\tconst emitter = new Emitter<number>();\n\t\tconst event = Event.latch(emitter.event);\n\n\t\tconst result: number[] = [];\n\t\tconst listener = event(num => result.push(num));\n\n\t\tassert.deepStrictEqual(result, []);\n\n\t\temitter.fire(1);\n\t\tassert.deepStrictEqual(result, [1]);\n\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(result, [1, 2]);\n\n\t\temitter.fire(2);\n\t\tassert.deepStrictEqual(result, [1, 2]);\n\n\t\temitter.fire(1);\n\t\tassert.deepStrictEqual(result, [1, 2, 1]);\n\n\t\temitter.fire(1);\n\t\tassert.deepStrictEqual(result, [1, 2, 1]);\n\n\t\temitter.fire(3);\n\t\tassert.deepStrictEqual(result, [1, 2, 1, 3]);\n\n\t\temitter.fire(3);\n\t\tassert.deepStrictEqual(result, [1, 2, 1, 3]);\n\n\t\temitter.fire(3);\n\t\tassert.deepStrictEqual(result, [1, 2, 1, 3]);\n\n\t\tlistener.dispose();\n\t});\n\n\ttest('dispose is reentrant', () => {\n\t\tconst emitter = new Emitter<number>({\n\t\t\tonDidRemoveLastListener: () => {\n\t\t\t\temitter.dispose();\n\t\t\t}\n\t\t});\n\n\t\tconst listener = emitter.event(() => undefined);\n\t\tlistener.dispose(); // should not crash\n\t});\n\n\tsuite('fromPromise', () => {\n\n\t\ttest('not yet resolved', async function () {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tlet promise = new DeferredPromise<number>();\n\n\t\t\t\tEvent.fromPromise(promise.p)(e => {\n\t\t\t\t\tassert.strictEqual(e, 1);\n\n\t\t\t\t\tpromise = new DeferredPromise();\n\n\t\t\t\t\tEvent.fromPromise(promise.p)(() => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\n\t\t\t\t\tpromise.error(undefined);\n\t\t\t\t});\n\n\t\t\t\tpromise.complete(1);\n\t\t\t});\n\t\t});\n\n\t\ttest('already resolved', async function () {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tlet promise = new DeferredPromise<number>();\n\t\t\t\tpromise.complete(1);\n\n\t\t\t\tEvent.fromPromise(promise.p)(e => {\n\t\t\t\t\tassert.strictEqual(e, 1);\n\n\t\t\t\t\tpromise = new DeferredPromise();\n\t\t\t\t\tpromise.error(undefined);\n\n\t\t\t\t\tEvent.fromPromise(promise.p)(() => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('Relay', () => {\n\t\ttest('should input work', () => {\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tconst e2 = new Emitter<number>();\n\t\t\tconst relay = new Relay<number>();\n\n\t\t\tconst result: number[] = [];\n\t\t\tconst listener = (num: number) => result.push(num);\n\t\t\tconst subscription = relay.event(listener);\n\n\t\t\te1.fire(1);\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\trelay.input = e1.event;\n\t\t\te1.fire(2);\n\t\t\tassert.deepStrictEqual(result, [2]);\n\n\t\t\trelay.input = e2.event;\n\t\t\te1.fire(3);\n\t\t\te2.fire(4);\n\t\t\tassert.deepStrictEqual(result, [2, 4]);\n\n\t\t\tsubscription.dispose();\n\t\t\te1.fire(5);\n\t\t\te2.fire(6);\n\t\t\tassert.deepStrictEqual(result, [2, 4]);\n\t\t});\n\n\t\ttest('should Relay dispose work', () => {\n\t\t\tconst e1 = new Emitter<number>();\n\t\t\tconst e2 = new Emitter<number>();\n\t\t\tconst relay = new Relay<number>();\n\n\t\t\tconst result: number[] = [];\n\t\t\tconst listener = (num: number) => result.push(num);\n\t\t\trelay.event(listener);\n\n\t\t\te1.fire(1);\n\t\t\tassert.deepStrictEqual(result, []);\n\n\t\t\trelay.input = e1.event;\n\t\t\te1.fire(2);\n\t\t\tassert.deepStrictEqual(result, [2]);\n\n\t\t\trelay.input = e2.event;\n\t\t\te1.fire(3);\n\t\t\te2.fire(4);\n\t\t\tassert.deepStrictEqual(result, [2, 4]);\n\n\t\t\trelay.dispose();\n\t\t\te1.fire(5);\n\t\t\te2.fire(6);\n\t\t\tassert.deepStrictEqual(result, [2, 4]);\n\t\t});\n\t});\n\n\ttest('runAndSubscribeWithStore', () => {\n\t\tconst eventEmitter = new Emitter();\n\t\tconst event = eventEmitter.event;\n\n\t\tlet i = 0;\n\t\tconst log = new Array<any>();\n\t\tconst disposable = Event.runAndSubscribeWithStore(event, (e, disposables) => {\n\t\t\tconst idx = i++;\n\t\t\tlog.push({ label: 'handleEvent', data: e || null, idx });\n\t\t\tdisposables.add(toDisposable(() => {\n\t\t\t\tlog.push({ label: 'dispose', idx });\n\t\t\t}));\n\t\t});\n\n\t\tlog.push({ label: 'fire' });\n\t\teventEmitter.fire('someEventData');\n\n\t\tlog.push({ label: 'disposeAll' });\n\t\tdisposable.dispose();\n\n\t\tassert.deepStrictEqual(log, [\n\t\t\t{ label: 'handleEvent', data: null, idx: 0 },\n\t\t\t{ label: 'fire' },\n\t\t\t{ label: 'dispose', idx: 0 },\n\t\t\t{ label: 'handleEvent', data: 'someEventData', idx: 1 },\n\t\t\t{ label: 'disposeAll' },\n\t\t\t{ label: 'dispose', idx: 1 },\n\t\t]);\n\t});\n\n\tsuite('accumulate', () => {\n\t\ttest('should not fire after a listener is disposed with undefined or []', async () => {\n\t\t\tconst eventEmitter = new Emitter<number>();\n\t\t\tconst event = eventEmitter.event;\n\t\t\tconst accumulated = Event.accumulate(event, 0);\n\n\t\t\tconst calls1: number[][] = [];\n\t\t\tconst calls2: number[][] = [];\n\t\t\tconst listener1 = accumulated((e) => calls1.push(e));\n\t\t\taccumulated((e) => calls2.push(e));\n\n\t\t\teventEmitter.fire(1);\n\t\t\tawait timeout(1);\n\t\t\tassert.deepStrictEqual(calls1, [[1]]);\n\t\t\tassert.deepStrictEqual(calls2, [[1]]);\n\n\t\t\tlistener1.dispose();\n\t\t\tawait timeout(1);\n\t\t\tassert.deepStrictEqual(calls1, [[1]]);\n\t\t\tassert.deepStrictEqual(calls2, [[1]], 'should not fire after a listener is disposed with undefined or []');\n\t\t});\n\t\ttest('should accumulate a single event', async () => {\n\t\t\tconst eventEmitter = new Emitter<number>();\n\t\t\tconst event = eventEmitter.event;\n\t\t\tconst accumulated = Event.accumulate(event, 0);\n\n\t\t\tconst results1 = await new Promise<number[]>(r => {\n\t\t\t\taccumulated(r);\n\t\t\t\teventEmitter.fire(1);\n\t\t\t});\n\t\t\tassert.deepStrictEqual(results1, [1]);\n\n\t\t\tconst results2 = await new Promise<number[]>(r => {\n\t\t\t\taccumulated(r);\n\t\t\t\teventEmitter.fire(2);\n\t\t\t});\n\t\t\tassert.deepStrictEqual(results2, [2]);\n\t\t});\n\t\ttest('should accumulate multiple events', async () => {\n\t\t\tconst eventEmitter = new Emitter<number>();\n\t\t\tconst event = eventEmitter.event;\n\t\t\tconst accumulated = Event.accumulate(event, 0);\n\n\t\t\tconst results1 = await new Promise<number[]>(r => {\n\t\t\t\taccumulated(r);\n\t\t\t\teventEmitter.fire(1);\n\t\t\t\teventEmitter.fire(2);\n\t\t\t\teventEmitter.fire(3);\n\t\t\t});\n\t\t\tassert.deepStrictEqual(results1, [1, 2, 3]);\n\n\t\t\tconst results2 = await new Promise<number[]>(r => {\n\t\t\t\taccumulated(r);\n\t\t\t\teventEmitter.fire(4);\n\t\t\t\teventEmitter.fire(5);\n\t\t\t\teventEmitter.fire(6);\n\t\t\t\teventEmitter.fire(7);\n\t\t\t\teventEmitter.fire(8);\n\t\t\t});\n\t\t\tassert.deepStrictEqual(results2, [4, 5, 6, 7, 8]);\n\t\t});\n\t});\n\n\tsuite('debounce', () => {\n\t\ttest('simple', function (done: () => void) {\n\t\t\tconst doc = new Samples.Document3();\n\n\t\t\tconst onDocDidChange = Event.debounce(doc.onDidChange, (prev: string[] | undefined, cur) => {\n\t\t\t\tif (!prev) {\n\t\t\t\t\tprev = [cur];\n\t\t\t\t} else if (prev.indexOf(cur) < 0) {\n\t\t\t\t\tprev.push(cur);\n\t\t\t\t}\n\t\t\t\treturn prev;\n\t\t\t}, 10);\n\n\t\t\tlet count = 0;\n\n\t\t\tonDocDidChange(keys => {\n\t\t\t\tcount++;\n\t\t\t\tassert.ok(keys, 'was not expecting keys.');\n\t\t\t\tif (count === 1) {\n\t\t\t\t\tdoc.setText('4');\n\t\t\t\t\tassert.deepStrictEqual(keys, ['1', '2', '3']);\n\t\t\t\t} else if (count === 2) {\n\t\t\t\t\tassert.deepStrictEqual(keys, ['4']);\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdoc.setText('1');\n\t\t\tdoc.setText('2');\n\t\t\tdoc.setText('3');\n\t\t});\n\n\n\t\ttest('microtask', function (done: () => void) {\n\t\t\tconst doc = new Samples.Document3();\n\n\t\t\tconst onDocDidChange = Event.debounce(doc.onDidChange, (prev: string[] | undefined, cur) => {\n\t\t\t\tif (!prev) {\n\t\t\t\t\tprev = [cur];\n\t\t\t\t} else if (prev.indexOf(cur) < 0) {\n\t\t\t\t\tprev.push(cur);\n\t\t\t\t}\n\t\t\t\treturn prev;\n\t\t\t}, MicrotaskDelay);\n\n\t\t\tlet count = 0;\n\n\t\t\tonDocDidChange(keys => {\n\t\t\t\tcount++;\n\t\t\t\tassert.ok(keys, 'was not expecting keys.');\n\t\t\t\tif (count === 1) {\n\t\t\t\t\tdoc.setText('4');\n\t\t\t\t\tassert.deepStrictEqual(keys, ['1', '2', '3']);\n\t\t\t\t} else if (count === 2) {\n\t\t\t\t\tassert.deepStrictEqual(keys, ['4']);\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdoc.setText('1');\n\t\t\tdoc.setText('2');\n\t\t\tdoc.setText('3');\n\t\t});\n\n\n\t\ttest('leading', async function () {\n\t\t\tconst emitter = new Emitter<void>();\n\t\t\tconst debounced = Event.debounce(emitter.event, (l, e) => e, 0, /*leading=*/true);\n\n\t\t\tlet calls = 0;\n\t\t\tdebounced(() => {\n\t\t\t\tcalls++;\n\t\t\t});\n\n\t\t\t// If the source event is fired once, the debounced (on the leading edge) event should be fired only once\n\t\t\temitter.fire();\n\n\t\t\tawait timeout(1);\n\t\t\tassert.strictEqual(calls, 1);\n\t\t});\n\n\t\ttest('leading (2)', async function () {\n\t\t\tconst emitter = new Emitter<void>();\n\t\t\tconst debounced = Event.debounce(emitter.event, (l, e) => e, 0, /*leading=*/true);\n\n\t\t\tlet calls = 0;\n\t\t\tdebounced(() => {\n\t\t\t\tcalls++;\n\t\t\t});\n\n\t\t\t// If the source event is fired multiple times, the debounced (on the leading edge) event should be fired twice\n\t\t\temitter.fire();\n\t\t\temitter.fire();\n\t\t\temitter.fire();\n\t\t\tawait timeout(1);\n\t\t\tassert.strictEqual(calls, 2);\n\t\t});\n\n\t\ttest('leading reset', async function () {\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst debounced = Event.debounce(emitter.event, (l, e) => l ? l + 1 : 1, 0, /*leading=*/true);\n\n\t\t\tconst calls: number[] = [];\n\t\t\tdebounced((e) => calls.push(e));\n\n\t\t\temitter.fire(1);\n\t\t\temitter.fire(1);\n\n\t\t\tawait timeout(1);\n\t\t\tassert.deepStrictEqual(calls, [1, 1]);\n\t\t});\n\n\t\ttest('should not flush events when a listener is disposed', async () => {\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst debounced = Event.debounce(emitter.event, (l, e) => l ? l + 1 : 1, 0);\n\n\t\t\tconst calls: number[] = [];\n\t\t\tconst listener = debounced((e) => calls.push(e));\n\n\t\t\temitter.fire(1);\n\t\t\tlistener.dispose();\n\n\t\t\temitter.fire(1);\n\n\t\t\tawait timeout(1);\n\t\t\tassert.deepStrictEqual(calls, []);\n\t\t});\n\n\t\ttest('flushOnListenerRemove - should flush events when a listener is disposed', async () => {\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst debounced = Event.debounce(emitter.event, (l, e) => l ? l + 1 : 1, 0, undefined, true);\n\n\t\t\tconst calls: number[] = [];\n\t\t\tconst listener = debounced((e) => calls.push(e));\n\n\t\t\temitter.fire(1);\n\t\t\tlistener.dispose();\n\n\t\t\temitter.fire(1);\n\n\t\t\tawait timeout(1);\n\t\t\tassert.deepStrictEqual(calls, [1], 'should fire with the first event, not the second (after listener dispose)');\n\t\t});\n\n\t\ttest('should flush events when the emitter is disposed', async () => {\n\t\t\tconst emitter = new Emitter<number>();\n\t\t\tconst debounced = Event.debounce(emitter.event, (l, e) => l ? l + 1 : 1, 0);\n\n\t\t\tconst calls: number[] = [];\n\t\t\tdebounced((e) => calls.push(e));\n\n\t\t\temitter.fire(1);\n\t\t\temitter.dispose();\n\n\t\t\tawait timeout(1);\n\t\t\tassert.deepStrictEqual(calls, [1]);\n\t\t});\n\t});\n\n\tsuite('chain2', () => {\n\t\tlet store: DisposableStore;\n\t\tlet em: Emitter<number>;\n\t\tlet calls: number[];\n\n\t\tteardown(() => {\n\t\t\tstore.dispose();\n\t\t});\n\n\t\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t\tsetup(() => {\n\t\t\tstore = new DisposableStore();\n\t\t\tem = new Emitter<number>();\n\t\t\tstore.add(em);\n\t\t\tcalls = [];\n\t\t});\n\n\t\ttest('maps', () => {\n\t\t\tconst ev = Event.chain(em.event, $ => $.map(v => v * 2));\n\t\t\tstore.add(ev(v => calls.push(v)));\n\t\t\tem.fire(1);\n\t\t\tem.fire(2);\n\t\t\tem.fire(3);\n\t\t\tassert.deepStrictEqual(calls, [2, 4, 6]);\n\t\t});\n\n\t\ttest('filters', () => {\n\t\t\tconst ev = Event.chain(em.event, $ => $.filter(v => v % 2 === 0));\n\t\t\tstore.add(ev(v => calls.push(v)));\n\t\t\tem.fire(1);\n\t\t\tem.fire(2);\n\t\t\tem.fire(3);\n\t\t\tem.fire(4);\n\t\t\tassert.deepStrictEqual(calls, [2, 4]);\n\t\t});\n\n\t\ttest('reduces', () => {\n\t\t\tconst ev = Event.chain(em.event, $ => $.reduce((acc, v) => acc + v, 0));\n\t\t\tstore.add(ev(v => calls.push(v)));\n\t\t\tem.fire(1);\n\t\t\tem.fire(2);\n\t\t\tem.fire(3);\n\t\t\tem.fire(4);\n\t\t\tassert.deepStrictEqual(calls, [1, 3, 6, 10]);\n\t\t});\n\n\t\ttest('latches', () => {\n\t\t\tconst ev = Event.chain(em.event, $ => $.latch());\n\t\t\tstore.add(ev(v => calls.push(v)));\n\t\t\tem.fire(1);\n\t\t\tem.fire(1);\n\t\t\tem.fire(2);\n\t\t\tem.fire(2);\n\t\t\tem.fire(3);\n\t\t\tem.fire(3);\n\t\t\tem.fire(1);\n\t\t\tassert.deepStrictEqual(calls, [1, 2, 3, 1]);\n\t\t});\n\n\t\ttest('does everything', () => {\n\t\t\tconst ev = Event.chain(em.event, $ => $\n\t\t\t\t.filter(v => v % 2 === 0)\n\t\t\t\t.map(v => v * 2)\n\t\t\t\t.reduce((acc, v) => acc + v, 0)\n\t\t\t\t.latch()\n\t\t\t);\n\n\t\t\tstore.add(ev(v => calls.push(v)));\n\t\t\tem.fire(1);\n\t\t\tem.fire(2);\n\t\t\tem.fire(3);\n\t\t\tem.fire(4);\n\t\t\tem.fire(0);\n\t\t\tassert.deepStrictEqual(calls, [4, 12]);\n\t\t});\n\t});\n});\n"]}
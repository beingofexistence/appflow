{"version":3,"sources":["file:///workspace/appflow/src/vs/base/test/node/css.build.test.ts","vs/base/test/node/css.build.test.ts"],"names":[],"mappings":"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","file":"css.build.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { CSSPluginUtilities, rewriteUrls } from 'vs/css.build';\n\nsuite('CSSPlugin', () => {\n\n\ttest('Utilities.pathOf', () => {\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf(''), '');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('/a'), '/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('a/b/c.css'), 'a/b/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('a'), '');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('a.com/a.css'), 'a.com/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('http://a.com/a.css'), 'http://a.com/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('https://a.com/a.css'), 'https://a.com/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('http://a.com/a/b/c.css'), 'http://a.com/a/b/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('https://a.com/a/b/c.css'), 'https://a.com/a/b/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('/a.css'), '/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('/a/b/c.css'), '/a/b/');\n\t});\n\n\ttest('Utilities.joinPaths', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.joinPaths(a, b), expected, '<' + a + '> + <' + b + '> = <' + expected + '>');\n\t\t}\n\t\tmytest('', 'a.css', 'a.css');\n\t\tmytest('', './a.css', 'a.css');\n\t\tmytest('', '././././a.css', 'a.css');\n\t\tmytest('', './../a.css', '../a.css');\n\t\tmytest('', '../../a.css', '../../a.css');\n\t\tmytest('', '../../a/b/c.css', '../../a/b/c.css');\n\t\tmytest('/', 'a.css', '/a.css');\n\t\tmytest('/', './a.css', '/a.css');\n\t\tmytest('/', '././././a.css', '/a.css');\n\t\tmytest('/', './../a.css', '/a.css');\n\t\tmytest('/', '../../a.css', '/a.css');\n\t\tmytest('/', '../../a/b/c.css', '/a/b/c.css');\n\t\tmytest('x/y/z/', 'a.css', 'x/y/z/a.css');\n\t\tmytest('x/y/z/', './a.css', 'x/y/z/a.css');\n\t\tmytest('x/y/z/', '././././a.css', 'x/y/z/a.css');\n\t\tmytest('x/y/z/', './../a.css', 'x/y/a.css');\n\t\tmytest('x/y/z/', '../../a.css', 'x/a.css');\n\t\tmytest('x/y/z/', '../../a/b/c.css', 'x/a/b/c.css');\n\n\t\tmytest('//a.com/', 'a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', './a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', '././././a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', './../a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', '../../a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', '../../a/b/c.css', '//a.com/a/b/c.css');\n\t\tmytest('//a.com/x/y/z/', 'a.css', '//a.com/x/y/z/a.css');\n\t\tmytest('//a.com/x/y/z/', './a.css', '//a.com/x/y/z/a.css');\n\t\tmytest('//a.com/x/y/z/', '././././a.css', '//a.com/x/y/z/a.css');\n\t\tmytest('//a.com/x/y/z/', './../a.css', '//a.com/x/y/a.css');\n\t\tmytest('//a.com/x/y/z/', '../../a.css', '//a.com/x/a.css');\n\t\tmytest('//a.com/x/y/z/', '../../a/b/c.css', '//a.com/x/a/b/c.css');\n\n\t\tmytest('http://a.com/', 'a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', './a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', '././././a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', './../a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', '../../a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', '../../a/b/c.css', 'http://a.com/a/b/c.css');\n\t\tmytest('http://a.com/x/y/z/', 'a.css', 'http://a.com/x/y/z/a.css');\n\t\tmytest('http://a.com/x/y/z/', './a.css', 'http://a.com/x/y/z/a.css');\n\t\tmytest('http://a.com/x/y/z/', '././././a.css', 'http://a.com/x/y/z/a.css');\n\t\tmytest('http://a.com/x/y/z/', './../a.css', 'http://a.com/x/y/a.css');\n\t\tmytest('http://a.com/x/y/z/', '../../a.css', 'http://a.com/x/a.css');\n\t\tmytest('http://a.com/x/y/z/', '../../a/b/c.css', 'http://a.com/x/a/b/c.css');\n\n\t\tmytest('https://a.com/', 'a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', './a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', '././././a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', './../a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', '../../a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', '../../a/b/c.css', 'https://a.com/a/b/c.css');\n\t\tmytest('https://a.com/x/y/z/', 'a.css', 'https://a.com/x/y/z/a.css');\n\t\tmytest('https://a.com/x/y/z/', './a.css', 'https://a.com/x/y/z/a.css');\n\t\tmytest('https://a.com/x/y/z/', '././././a.css', 'https://a.com/x/y/z/a.css');\n\t\tmytest('https://a.com/x/y/z/', './../a.css', 'https://a.com/x/y/a.css');\n\t\tmytest('https://a.com/x/y/z/', '../../a.css', 'https://a.com/x/a.css');\n\t\tmytest('https://a.com/x/y/z/', '../../a/b/c.css', 'https://a.com/x/a/b/c.css');\n\t});\n\n\ttest('Utilities.commonPrefix', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonPrefix(a, b), expected, 'prefix(<' + a + '>, <' + b + '>) = <' + expected + '>');\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonPrefix(b, a), expected, 'prefix(<' + b + '>, <' + a + '>) = <' + expected + '>');\n\t\t}\n\t\tmytest('', '', '');\n\t\tmytest('x', '', '');\n\t\tmytest('x', 'x', 'x');\n\t\tmytest('aaaa', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaatuv', 'aaaa');\n\t});\n\n\ttest('Utilities.commonFolderPrefix', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonFolderPrefix(a, b), expected, 'folderPrefix(<' + a + '>, <' + b + '>) = <' + expected + '>');\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonFolderPrefix(b, a), expected, 'folderPrefix(<' + b + '>, <' + a + '>) = <' + expected + '>');\n\t\t}\n\t\tmytest('', '', '');\n\t\tmytest('x', '', '');\n\t\tmytest('x', 'x', '');\n\t\tmytest('aaaa', 'aaaa', '');\n\t\tmytest('aaaaxyz', 'aaaa', '');\n\t\tmytest('aaaaxyz', 'aaaatuv', '');\n\t\tmytest('/', '/', '/');\n\t\tmytest('x/', '', '');\n\t\tmytest('x/', 'x/', 'x/');\n\t\tmytest('aaaa/', 'aaaa/', 'aaaa/');\n\t\tmytest('aaaa/axyz', 'aaaa/a', 'aaaa/');\n\t\tmytest('aaaa/axyz', 'aaaa/atuv', 'aaaa/');\n\t});\n\n\ttest('Utilities.relativePath', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.relativePath(a, b), expected, 'relativePath(<' + a + '>, <' + b + '>) = <' + expected + '>');\n\t\t}\n\t\tmytest('', '', '');\n\t\tmytest('x', '', '');\n\t\tmytest('x', 'x', 'x');\n\t\tmytest('aaaa', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaatuv', 'aaaatuv');\n\n\t\tmytest('x/y/aaaaxyz', 'x/aaaatuv', '../aaaatuv');\n\t\tmytest('x/y/aaaaxyz', 'x/y/aaaatuv', 'aaaatuv');\n\t\tmytest('z/t/aaaaxyz', 'x/y/aaaatuv', '../../x/y/aaaatuv');\n\t\tmytest('aaaaxyz', 'x/y/aaaatuv', 'x/y/aaaatuv');\n\n\t\tmytest('a', '/a', '/a');\n\t\tmytest('/', '/a', '/a');\n\t\tmytest('/a/b/c', '/a/b/c', '/a/b/c');\n\t\tmytest('/a/b', '/a/b/c/d', '/a/b/c/d');\n\n\t\tmytest('a', 'http://a', 'http://a');\n\t\tmytest('/', 'http://a', 'http://a');\n\t\tmytest('/a/b/c', 'http://a/b/c', 'http://a/b/c');\n\t\tmytest('/a/b', 'http://a/b/c/d', 'http://a/b/c/d');\n\n\t\tmytest('a', 'https://a', 'https://a');\n\t\tmytest('/', 'https://a', 'https://a');\n\t\tmytest('/a/b/c', 'https://a/b/c', 'https://a/b/c');\n\t\tmytest('/a/b', 'https://a/b/c/d', 'https://a/b/c/d');\n\n\t\tmytest('x/', '', '../');\n\t\tmytest('x/', '', '../');\n\t\tmytest('x/', 'x/', '');\n\t\tmytest('x/a', 'x/a', 'a');\n\t});\n\n\ttest('Utilities.rewriteUrls', () => {\n\t\tfunction mytest(originalFile: string, newFile: string, url: string, expected: string) {\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(\\'' + url + '\\'); }'), 'sel { background:url(' + expected + '); }');\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(\\\"' + url + '\\\"); }'), 'sel { background:url(' + expected + '); }');\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(' + url + '); }'), 'sel { background:url(' + expected + '); }');\n\t\t}\n\n\t\t// img/img.png\n\t\tmytest('a.css', 'b.css', 'img/img.png', 'img/img.png');\n\t\tmytest('a.css', 't/b.css', 'img/img.png', '../img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', 'img/img.png', '../../img/img.png');\n\t\tmytest('x/a.css', 'b.css', 'img/img.png', 'x/img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', 'img/img.png', 'x/y/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', 'img/img.png', '../../x/y/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', 'img/img.png', '../y/img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', 'img/img.png', 'img/img.png');\n\t\tmytest('/a.css', 'b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', 'img/img.png', '/x/y/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', 'img/img.png', '/x/y/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', 'img/img.png', '/x/y/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', 'img/img.png', 'http://www.example.com/x/y/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example2.com/b.css', 'img/img.png', 'http://www.example.com/x/y/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', 'img/img.png', 'https://www.example.com/x/y/img/img.png');\n\n\t\t// ../img/img.png\n\t\tmytest('a.css', 'b.css', '../img/img.png', '../img/img.png');\n\t\tmytest('a.css', 't/b.css', '../img/img.png', '../../img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', '../img/img.png', '../../../img/img.png');\n\t\tmytest('x/a.css', 'b.css', '../img/img.png', 'img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', '../img/img.png', 'x/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', '../img/img.png', '../../x/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', '../img/img.png', '../img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', '../img/img.png', '../img/img.png');\n\t\tmytest('/a.css', 'b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', '../img/img.png', '/x/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', '../img/img.png', '/x/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', '../img/img.png', '/x/img/img.png');\n\t\tmytest('/a.css', '/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', '../img/img.png', 'http://www.example.com/x/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example2.com/b.css', '../img/img.png', 'http://www.example.com/x/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', '../img/img.png', 'https://www.example.com/x/img/img.png');\n\n\t\t// /img/img.png\n\t\tmytest('a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('a.css', 't/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', '/img/img.png', 'http://www.example.com/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example.com/x/y/b.css', '/img/img.png', 'http://www.example.com/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', '/img/img.png', 'https://www.example.com/img/img.png');\n\n\t\t// http://example.com/img/img.png\n\t\tmytest('a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('a.css', 't/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example.com/x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\n\n\t});\n\n\ttest('Utilities.rewriteUrls - quotes and spaces', () => {\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\'../img/img.png\\'); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\t\\'../img/img.png\\'); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url( \\'../img/img.png\\'); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\'../img/img.png\\'\\t); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\'../img/img.png\\' ); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(   \\t   \\'../img/img.png\\'     \\t); }'), 'sel { background:url(../../x/img/img.png); }');\n\t});\n\n\ttest('Bug 9601 - css should ignore data urls', () => {\n\t\tconst dataUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogICAgICAgICA8ZGM6c3ViamVjdD4KICAgICAgICAgICAgPHJkZjpCYWcvPgogICAgICAgICA8L2RjOnN1YmplY3Q+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIEltYWdlUmVhZHk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+ClC8oVQAAAGnSURBVDiNrZMxTxNxGMZ///9dZWns9a4dTHSABFiuCU5dGt2d9BsQls6GD2LCd2AiQQfixKIJE0ObdKIUSvDa5uLZihP0Sh+HOw3ipOUZ3zzvL2+e932NJBaRe7/Q8Uw5eMRrzXllDU8A5mJkLB+/TflQ+67JXb+5O0FUNS9deLckns/tn2A7hxtDawZvn37Vp78AX8rmxZLDewf89HGJ+fgKCrkrBeuXKPy44hbGN7e8eTbRZwALcFE2nuOy48j6zmaTYP8Qtxaia9A1uLWQYP8QZ7OJI+s7LjsXZeMBIIlLn61xgEbLnqadtiQp7Z0orq8rrq8r7Z1IkqadtkbLnsYBuvTZkpQBhgF7SRVFJRQ3QqW9bgY5P1V6fpoDu4oboaISSqpoGLD3GzAIOEqqaFBBURHF9TWlZxlEktKzruL6mqJi5kmqaBBwJIl7Wf+7LICBIYBSKGyE+LsHuCurzPo9Zv0e7soq/u4BhY0Qpfn68p6HCbHv4Q0qtBPfarLd1LR1nAVWzDNphJq2jjXZbirxrQYV2n0PT9Lih/Rwp/xLCz3T/+gnd2VVRJs/vngAAAAASUVORK5CYII=';\n\n\t\tfunction mytest(originalFile: string, newFile: string) {\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(' + dataUrl + '); }'), 'sel { background:url(' + dataUrl + '); }');\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url( \\t' + dataUrl + '\\t ); }'), 'sel { background:url(' + dataUrl + '); }');\n\t\t}\n\n\t\tmytest('a.css', 'b.css');\n\t\tmytest('a.css', 't/b.css');\n\t\tmytest('a.css', 'x/y/b.css');\n\t\tmytest('x/a.css', 'b.css');\n\t\tmytest('x/y/a.css', 'b.css');\n\t\tmytest('x/y/a.css', 't/u/b.css');\n\t\tmytest('x/y/a.css', 'x/u/b.css');\n\t\tmytest('x/y/a.css', 'x/y/b.css');\n\t\tmytest('/a.css', 'b.css');\n\t\tmytest('/a.css', 'x/b.css');\n\t\tmytest('/a.css', 'x/y/b.css');\n\t\tmytest('/x/a.css', 'b.css');\n\t\tmytest('/x/a.css', 'x/b.css');\n\t\tmytest('/x/a.css', 'x/y/b.css');\n\t\tmytest('/x/y/a.css', 'b.css');\n\t\tmytest('/x/y/a.css', 'x/b.css');\n\t\tmytest('/x/y/a.css', 'x/y/b.css');\n\t\tmytest('/a.css', '/b.css');\n\t\tmytest('/a.css', '/b.css');\n\t\tmytest('/x/a.css', '/b.css');\n\t\tmytest('/x/a.css', '/x/b.css');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example.com/x/y/b.css');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css');\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { CSSPluginUtilities, rewriteUrls } from 'vs/css.build';\n\nsuite('CSSPlugin', () => {\n\n\ttest('Utilities.pathOf', () => {\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf(''), '');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('/a'), '/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('a/b/c.css'), 'a/b/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('a'), '');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('a.com/a.css'), 'a.com/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('http://a.com/a.css'), 'http://a.com/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('https://a.com/a.css'), 'https://a.com/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('http://a.com/a/b/c.css'), 'http://a.com/a/b/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('https://a.com/a/b/c.css'), 'https://a.com/a/b/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('/a.css'), '/');\n\t\tassert.strictEqual(CSSPluginUtilities.pathOf('/a/b/c.css'), '/a/b/');\n\t});\n\n\ttest('Utilities.joinPaths', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.joinPaths(a, b), expected, '<' + a + '> + <' + b + '> = <' + expected + '>');\n\t\t}\n\t\tmytest('', 'a.css', 'a.css');\n\t\tmytest('', './a.css', 'a.css');\n\t\tmytest('', '././././a.css', 'a.css');\n\t\tmytest('', './../a.css', '../a.css');\n\t\tmytest('', '../../a.css', '../../a.css');\n\t\tmytest('', '../../a/b/c.css', '../../a/b/c.css');\n\t\tmytest('/', 'a.css', '/a.css');\n\t\tmytest('/', './a.css', '/a.css');\n\t\tmytest('/', '././././a.css', '/a.css');\n\t\tmytest('/', './../a.css', '/a.css');\n\t\tmytest('/', '../../a.css', '/a.css');\n\t\tmytest('/', '../../a/b/c.css', '/a/b/c.css');\n\t\tmytest('x/y/z/', 'a.css', 'x/y/z/a.css');\n\t\tmytest('x/y/z/', './a.css', 'x/y/z/a.css');\n\t\tmytest('x/y/z/', '././././a.css', 'x/y/z/a.css');\n\t\tmytest('x/y/z/', './../a.css', 'x/y/a.css');\n\t\tmytest('x/y/z/', '../../a.css', 'x/a.css');\n\t\tmytest('x/y/z/', '../../a/b/c.css', 'x/a/b/c.css');\n\n\t\tmytest('//a.com/', 'a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', './a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', '././././a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', './../a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', '../../a.css', '//a.com/a.css');\n\t\tmytest('//a.com/', '../../a/b/c.css', '//a.com/a/b/c.css');\n\t\tmytest('//a.com/x/y/z/', 'a.css', '//a.com/x/y/z/a.css');\n\t\tmytest('//a.com/x/y/z/', './a.css', '//a.com/x/y/z/a.css');\n\t\tmytest('//a.com/x/y/z/', '././././a.css', '//a.com/x/y/z/a.css');\n\t\tmytest('//a.com/x/y/z/', './../a.css', '//a.com/x/y/a.css');\n\t\tmytest('//a.com/x/y/z/', '../../a.css', '//a.com/x/a.css');\n\t\tmytest('//a.com/x/y/z/', '../../a/b/c.css', '//a.com/x/a/b/c.css');\n\n\t\tmytest('http://a.com/', 'a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', './a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', '././././a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', './../a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', '../../a.css', 'http://a.com/a.css');\n\t\tmytest('http://a.com/', '../../a/b/c.css', 'http://a.com/a/b/c.css');\n\t\tmytest('http://a.com/x/y/z/', 'a.css', 'http://a.com/x/y/z/a.css');\n\t\tmytest('http://a.com/x/y/z/', './a.css', 'http://a.com/x/y/z/a.css');\n\t\tmytest('http://a.com/x/y/z/', '././././a.css', 'http://a.com/x/y/z/a.css');\n\t\tmytest('http://a.com/x/y/z/', './../a.css', 'http://a.com/x/y/a.css');\n\t\tmytest('http://a.com/x/y/z/', '../../a.css', 'http://a.com/x/a.css');\n\t\tmytest('http://a.com/x/y/z/', '../../a/b/c.css', 'http://a.com/x/a/b/c.css');\n\n\t\tmytest('https://a.com/', 'a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', './a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', '././././a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', './../a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', '../../a.css', 'https://a.com/a.css');\n\t\tmytest('https://a.com/', '../../a/b/c.css', 'https://a.com/a/b/c.css');\n\t\tmytest('https://a.com/x/y/z/', 'a.css', 'https://a.com/x/y/z/a.css');\n\t\tmytest('https://a.com/x/y/z/', './a.css', 'https://a.com/x/y/z/a.css');\n\t\tmytest('https://a.com/x/y/z/', '././././a.css', 'https://a.com/x/y/z/a.css');\n\t\tmytest('https://a.com/x/y/z/', './../a.css', 'https://a.com/x/y/a.css');\n\t\tmytest('https://a.com/x/y/z/', '../../a.css', 'https://a.com/x/a.css');\n\t\tmytest('https://a.com/x/y/z/', '../../a/b/c.css', 'https://a.com/x/a/b/c.css');\n\t});\n\n\ttest('Utilities.commonPrefix', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonPrefix(a, b), expected, 'prefix(<' + a + '>, <' + b + '>) = <' + expected + '>');\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonPrefix(b, a), expected, 'prefix(<' + b + '>, <' + a + '>) = <' + expected + '>');\n\t\t}\n\t\tmytest('', '', '');\n\t\tmytest('x', '', '');\n\t\tmytest('x', 'x', 'x');\n\t\tmytest('aaaa', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaatuv', 'aaaa');\n\t});\n\n\ttest('Utilities.commonFolderPrefix', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonFolderPrefix(a, b), expected, 'folderPrefix(<' + a + '>, <' + b + '>) = <' + expected + '>');\n\t\t\tassert.strictEqual(CSSPluginUtilities.commonFolderPrefix(b, a), expected, 'folderPrefix(<' + b + '>, <' + a + '>) = <' + expected + '>');\n\t\t}\n\t\tmytest('', '', '');\n\t\tmytest('x', '', '');\n\t\tmytest('x', 'x', '');\n\t\tmytest('aaaa', 'aaaa', '');\n\t\tmytest('aaaaxyz', 'aaaa', '');\n\t\tmytest('aaaaxyz', 'aaaatuv', '');\n\t\tmytest('/', '/', '/');\n\t\tmytest('x/', '', '');\n\t\tmytest('x/', 'x/', 'x/');\n\t\tmytest('aaaa/', 'aaaa/', 'aaaa/');\n\t\tmytest('aaaa/axyz', 'aaaa/a', 'aaaa/');\n\t\tmytest('aaaa/axyz', 'aaaa/atuv', 'aaaa/');\n\t});\n\n\ttest('Utilities.relativePath', () => {\n\t\tfunction mytest(a: string, b: string, expected: string) {\n\t\t\tassert.strictEqual(CSSPluginUtilities.relativePath(a, b), expected, 'relativePath(<' + a + '>, <' + b + '>) = <' + expected + '>');\n\t\t}\n\t\tmytest('', '', '');\n\t\tmytest('x', '', '');\n\t\tmytest('x', 'x', 'x');\n\t\tmytest('aaaa', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaa', 'aaaa');\n\t\tmytest('aaaaxyz', 'aaaatuv', 'aaaatuv');\n\n\t\tmytest('x/y/aaaaxyz', 'x/aaaatuv', '../aaaatuv');\n\t\tmytest('x/y/aaaaxyz', 'x/y/aaaatuv', 'aaaatuv');\n\t\tmytest('z/t/aaaaxyz', 'x/y/aaaatuv', '../../x/y/aaaatuv');\n\t\tmytest('aaaaxyz', 'x/y/aaaatuv', 'x/y/aaaatuv');\n\n\t\tmytest('a', '/a', '/a');\n\t\tmytest('/', '/a', '/a');\n\t\tmytest('/a/b/c', '/a/b/c', '/a/b/c');\n\t\tmytest('/a/b', '/a/b/c/d', '/a/b/c/d');\n\n\t\tmytest('a', 'http://a', 'http://a');\n\t\tmytest('/', 'http://a', 'http://a');\n\t\tmytest('/a/b/c', 'http://a/b/c', 'http://a/b/c');\n\t\tmytest('/a/b', 'http://a/b/c/d', 'http://a/b/c/d');\n\n\t\tmytest('a', 'https://a', 'https://a');\n\t\tmytest('/', 'https://a', 'https://a');\n\t\tmytest('/a/b/c', 'https://a/b/c', 'https://a/b/c');\n\t\tmytest('/a/b', 'https://a/b/c/d', 'https://a/b/c/d');\n\n\t\tmytest('x/', '', '../');\n\t\tmytest('x/', '', '../');\n\t\tmytest('x/', 'x/', '');\n\t\tmytest('x/a', 'x/a', 'a');\n\t});\n\n\ttest('Utilities.rewriteUrls', () => {\n\t\tfunction mytest(originalFile: string, newFile: string, url: string, expected: string) {\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(\\'' + url + '\\'); }'), 'sel { background:url(' + expected + '); }');\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(\\\"' + url + '\\\"); }'), 'sel { background:url(' + expected + '); }');\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(' + url + '); }'), 'sel { background:url(' + expected + '); }');\n\t\t}\n\n\t\t// img/img.png\n\t\tmytest('a.css', 'b.css', 'img/img.png', 'img/img.png');\n\t\tmytest('a.css', 't/b.css', 'img/img.png', '../img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', 'img/img.png', '../../img/img.png');\n\t\tmytest('x/a.css', 'b.css', 'img/img.png', 'x/img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', 'img/img.png', 'x/y/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', 'img/img.png', '../../x/y/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', 'img/img.png', '../y/img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', 'img/img.png', 'img/img.png');\n\t\tmytest('/a.css', 'b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', 'img/img.png', '/x/y/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', 'img/img.png', '/x/y/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', 'img/img.png', '/x/y/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', 'img/img.png', '/x/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', 'img/img.png', 'http://www.example.com/x/y/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example2.com/b.css', 'img/img.png', 'http://www.example.com/x/y/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', 'img/img.png', 'https://www.example.com/x/y/img/img.png');\n\n\t\t// ../img/img.png\n\t\tmytest('a.css', 'b.css', '../img/img.png', '../img/img.png');\n\t\tmytest('a.css', 't/b.css', '../img/img.png', '../../img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', '../img/img.png', '../../../img/img.png');\n\t\tmytest('x/a.css', 'b.css', '../img/img.png', 'img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', '../img/img.png', 'x/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', '../img/img.png', '../../x/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', '../img/img.png', '../img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', '../img/img.png', '../img/img.png');\n\t\tmytest('/a.css', 'b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', '../img/img.png', '/x/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', '../img/img.png', '/x/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', '../img/img.png', '/x/img/img.png');\n\t\tmytest('/a.css', '/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', '../img/img.png', '/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', '../img/img.png', 'http://www.example.com/x/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example2.com/b.css', '../img/img.png', 'http://www.example.com/x/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', '../img/img.png', 'https://www.example.com/x/img/img.png');\n\n\t\t// /img/img.png\n\t\tmytest('a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('a.css', 't/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/a.css', '/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', '/img/img.png', '/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', '/img/img.png', 'http://www.example.com/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example.com/x/y/b.css', '/img/img.png', 'http://www.example.com/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', '/img/img.png', 'https://www.example.com/img/img.png');\n\n\t\t// http://example.com/img/img.png\n\t\tmytest('a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('a.css', 't/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 't/u/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 'x/u/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('x/y/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', 'x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', 'x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/y/a.css', 'x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/a.css', '/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', '/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('/x/a.css', '/x/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example.com/x/y/b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css', 'http://example.com/img/img.png', 'http://example.com/img/img.png');\n\n\n\t});\n\n\ttest('Utilities.rewriteUrls - quotes and spaces', () => {\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\'../img/img.png\\'); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\t\\'../img/img.png\\'); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url( \\'../img/img.png\\'); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\'../img/img.png\\'\\t); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(\\'../img/img.png\\' ); }'), 'sel { background:url(../../x/img/img.png); }');\n\t\tassert.strictEqual(rewriteUrls('x/y/a.css', 't/u/b.css', 'sel { background:url(   \\t   \\'../img/img.png\\'     \\t); }'), 'sel { background:url(../../x/img/img.png); }');\n\t});\n\n\ttest('Bug 9601 - css should ignore data urls', () => {\n\t\tconst dataUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogICAgICAgICA8ZGM6c3ViamVjdD4KICAgICAgICAgICAgPHJkZjpCYWcvPgogICAgICAgICA8L2RjOnN1YmplY3Q+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIEltYWdlUmVhZHk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+ClC8oVQAAAGnSURBVDiNrZMxTxNxGMZ///9dZWns9a4dTHSABFiuCU5dGt2d9BsQls6GD2LCd2AiQQfixKIJE0ObdKIUSvDa5uLZihP0Sh+HOw3ipOUZ3zzvL2+e932NJBaRe7/Q8Uw5eMRrzXllDU8A5mJkLB+/TflQ+67JXb+5O0FUNS9deLckns/tn2A7hxtDawZvn37Vp78AX8rmxZLDewf89HGJ+fgKCrkrBeuXKPy44hbGN7e8eTbRZwALcFE2nuOy48j6zmaTYP8Qtxaia9A1uLWQYP8QZ7OJI+s7LjsXZeMBIIlLn61xgEbLnqadtiQp7Z0orq8rrq8r7Z1IkqadtkbLnsYBuvTZkpQBhgF7SRVFJRQ3QqW9bgY5P1V6fpoDu4oboaISSqpoGLD3GzAIOEqqaFBBURHF9TWlZxlEktKzruL6mqJi5kmqaBBwJIl7Wf+7LICBIYBSKGyE+LsHuCurzPo9Zv0e7soq/u4BhY0Qpfn68p6HCbHv4Q0qtBPfarLd1LR1nAVWzDNphJq2jjXZbirxrQYV2n0PT9Lih/Rwp/xLCz3T/+gnd2VVRJs/vngAAAAASUVORK5CYII=';\n\n\t\tfunction mytest(originalFile: string, newFile: string) {\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url(' + dataUrl + '); }'), 'sel { background:url(' + dataUrl + '); }');\n\t\t\tassert.strictEqual(rewriteUrls(originalFile, newFile, 'sel { background:url( \\t' + dataUrl + '\\t ); }'), 'sel { background:url(' + dataUrl + '); }');\n\t\t}\n\n\t\tmytest('a.css', 'b.css');\n\t\tmytest('a.css', 't/b.css');\n\t\tmytest('a.css', 'x/y/b.css');\n\t\tmytest('x/a.css', 'b.css');\n\t\tmytest('x/y/a.css', 'b.css');\n\t\tmytest('x/y/a.css', 't/u/b.css');\n\t\tmytest('x/y/a.css', 'x/u/b.css');\n\t\tmytest('x/y/a.css', 'x/y/b.css');\n\t\tmytest('/a.css', 'b.css');\n\t\tmytest('/a.css', 'x/b.css');\n\t\tmytest('/a.css', 'x/y/b.css');\n\t\tmytest('/x/a.css', 'b.css');\n\t\tmytest('/x/a.css', 'x/b.css');\n\t\tmytest('/x/a.css', 'x/y/b.css');\n\t\tmytest('/x/y/a.css', 'b.css');\n\t\tmytest('/x/y/a.css', 'x/b.css');\n\t\tmytest('/x/y/a.css', 'x/y/b.css');\n\t\tmytest('/a.css', '/b.css');\n\t\tmytest('/a.css', '/b.css');\n\t\tmytest('/x/a.css', '/b.css');\n\t\tmytest('/x/a.css', '/x/b.css');\n\t\tmytest('http://www.example.com/x/y/a.css', 'b.css');\n\t\tmytest('http://www.example.com/x/y/a.css', 'http://www.example.com/x/y/b.css');\n\t\tmytest('https://www.example.com/x/y/a.css', 'b.css');\n\t});\n});\n"]}
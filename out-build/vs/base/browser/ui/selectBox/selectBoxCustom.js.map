{"version":3,"sources":["vs/base/browser/ui/selectBox/selectBoxCustom.ts"],"names":[],"mappings":"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","file":"selectBoxCustom.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { DomEmitter } from 'vs/base/browser/event';\nimport { IContentActionHandler } from 'vs/base/browser/formattedTextRenderer';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { renderMarkdown } from 'vs/base/browser/markdownRenderer';\nimport { AnchorPosition, IContextViewProvider } from 'vs/base/browser/ui/contextview/contextview';\nimport { IListEvent, IListRenderer, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { List } from 'vs/base/browser/ui/list/listWidget';\nimport { ISelectBoxDelegate, ISelectBoxOptions, ISelectBoxStyles, ISelectData, ISelectOptionItem } from 'vs/base/browser/ui/selectBox/selectBox';\nimport * as arrays from 'vs/base/common/arrays';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { KeyCode, KeyCodeUtils } from 'vs/base/common/keyCodes';\nimport { Disposable, IDisposable } from 'vs/base/common/lifecycle';\nimport { isMacintosh } from 'vs/base/common/platform';\nimport { ScrollbarVisibility } from 'vs/base/common/scrollable';\nimport 'vs/css!./selectBoxCustom';\nimport { localize } from 'vs/nls';\n\n\nconst $ = dom.$;\n\nconst SELECT_OPTION_ENTRY_TEMPLATE_ID = 'selectOption.entry.template';\n\ninterface ISelectListTemplateData {\n\troot: HTMLElement;\n\ttext: HTMLElement;\n\tdetail: HTMLElement;\n\tdecoratorRight: HTMLElement;\n}\n\nclass SelectListRenderer implements IListRenderer<ISelectOptionItem, ISelectListTemplateData> {\n\n\tget templateId(): string { return SELECT_OPTION_ENTRY_TEMPLATE_ID; }\n\n\trenderTemplate(container: HTMLElement): ISelectListTemplateData {\n\t\tconst data: ISelectListTemplateData = Object.create(null);\n\t\tdata.root = container;\n\t\tdata.text = dom.append(container, $('.option-text'));\n\t\tdata.detail = dom.append(container, $('.option-detail'));\n\t\tdata.decoratorRight = dom.append(container, $('.option-decorator-right'));\n\n\t\treturn data;\n\t}\n\n\trenderElement(element: ISelectOptionItem, index: number, templateData: ISelectListTemplateData): void {\n\t\tconst data: ISelectListTemplateData = templateData;\n\n\t\tconst text = element.text;\n\t\tconst detail = element.detail;\n\t\tconst decoratorRight = element.decoratorRight;\n\n\t\tconst isDisabled = element.isDisabled;\n\n\t\tdata.text.textContent = text;\n\t\tdata.detail.textContent = !!detail ? detail : '';\n\t\tdata.decoratorRight.innerText = !!decoratorRight ? decoratorRight : '';\n\n\t\t// pseudo-select disabled option\n\t\tif (isDisabled) {\n\t\t\tdata.root.classList.add('option-disabled');\n\t\t} else {\n\t\t\t// Make sure we do class removal from prior template rendering\n\t\t\tdata.root.classList.remove('option-disabled');\n\t\t}\n\t}\n\n\tdisposeTemplate(_templateData: ISelectListTemplateData): void {\n\t\t// noop\n\t}\n}\n\nexport class SelectBoxList extends Disposable implements ISelectBoxDelegate, IListVirtualDelegate<ISelectOptionItem> {\n\n\tprivate static readonly DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN = 32;\n\tprivate static readonly DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN = 2;\n\tprivate static readonly DEFAULT_MINIMUM_VISIBLE_OPTIONS = 3;\n\n\tprivate _isVisible: boolean;\n\tprivate selectBoxOptions: ISelectBoxOptions;\n\tprivate selectElement: HTMLSelectElement;\n\tprivate container?: HTMLElement;\n\tprivate options: ISelectOptionItem[] = [];\n\tprivate selected: number;\n\tprivate readonly _onDidSelect: Emitter<ISelectData>;\n\tprivate readonly styles: ISelectBoxStyles;\n\tprivate listRenderer!: SelectListRenderer;\n\tprivate contextViewProvider!: IContextViewProvider;\n\tprivate selectDropDownContainer!: HTMLElement;\n\tprivate styleElement!: HTMLStyleElement;\n\tprivate selectList!: List<ISelectOptionItem>;\n\tprivate selectDropDownListContainer!: HTMLElement;\n\tprivate widthControlElement!: HTMLElement;\n\tprivate _currentSelection = 0;\n\tprivate _dropDownPosition!: AnchorPosition;\n\tprivate _hasDetails: boolean = false;\n\tprivate selectionDetailsPane!: HTMLElement;\n\tprivate _skipLayout: boolean = false;\n\tprivate _cachedMaxDetailsHeight?: number;\n\n\tprivate _sticky: boolean = false; // for dev purposes only\n\n\tconstructor(options: ISelectOptionItem[], selected: number, contextViewProvider: IContextViewProvider, styles: ISelectBoxStyles, selectBoxOptions?: ISelectBoxOptions) {\n\n\t\tsuper();\n\t\tthis._isVisible = false;\n\t\tthis.styles = styles;\n\n\t\tthis.selectBoxOptions = selectBoxOptions || Object.create(null);\n\n\t\tif (typeof this.selectBoxOptions.minBottomMargin !== 'number') {\n\t\t\tthis.selectBoxOptions.minBottomMargin = SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;\n\t\t} else if (this.selectBoxOptions.minBottomMargin < 0) {\n\t\t\tthis.selectBoxOptions.minBottomMargin = 0;\n\t\t}\n\n\t\tthis.selectElement = document.createElement('select');\n\n\t\t// Use custom CSS vars for padding calculation\n\t\tthis.selectElement.className = 'monaco-select-box monaco-select-box-dropdown-padding';\n\n\t\tif (typeof this.selectBoxOptions.ariaLabel === 'string') {\n\t\t\tthis.selectElement.setAttribute('aria-label', this.selectBoxOptions.ariaLabel);\n\t\t}\n\n\t\tif (typeof this.selectBoxOptions.ariaDescription === 'string') {\n\t\t\tthis.selectElement.setAttribute('aria-description', this.selectBoxOptions.ariaDescription);\n\t\t}\n\n\t\tthis._onDidSelect = new Emitter<ISelectData>();\n\t\tthis._register(this._onDidSelect);\n\n\t\tthis.registerListeners();\n\t\tthis.constructSelectDropDown(contextViewProvider);\n\n\t\tthis.selected = selected || 0;\n\n\t\tif (options) {\n\t\t\tthis.setOptions(options, selected);\n\t\t}\n\n\t\tthis.initStyleSheet();\n\n\t}\n\n\t// IDelegate - List renderer\n\n\tgetHeight(): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(): string {\n\t\treturn SELECT_OPTION_ENTRY_TEMPLATE_ID;\n\t}\n\n\tprivate constructSelectDropDown(contextViewProvider: IContextViewProvider) {\n\n\t\t// SetUp ContextView container to hold select Dropdown\n\t\tthis.contextViewProvider = contextViewProvider;\n\t\tthis.selectDropDownContainer = dom.$('.monaco-select-box-dropdown-container');\n\t\t// Use custom CSS vars for padding calculation (shared with parent select)\n\t\tthis.selectDropDownContainer.classList.add('monaco-select-box-dropdown-padding');\n\n\t\t// Setup container for select option details\n\t\tthis.selectionDetailsPane = dom.append(this.selectDropDownContainer, $('.select-box-details-pane'));\n\n\t\t// Create span flex box item/div we can measure and control\n\t\tconst widthControlOuterDiv = dom.append(this.selectDropDownContainer, $('.select-box-dropdown-container-width-control'));\n\t\tconst widthControlInnerDiv = dom.append(widthControlOuterDiv, $('.width-control-div'));\n\t\tthis.widthControlElement = document.createElement('span');\n\t\tthis.widthControlElement.className = 'option-text-width-control';\n\t\tdom.append(widthControlInnerDiv, this.widthControlElement);\n\n\t\t// Always default to below position\n\t\tthis._dropDownPosition = AnchorPosition.BELOW;\n\n\t\t// Inline stylesheet for themes\n\t\tthis.styleElement = dom.createStyleSheet(this.selectDropDownContainer);\n\n\t\t// Prevent dragging of dropdown #114329\n\t\tthis.selectDropDownContainer.setAttribute('draggable', 'true');\n\t\tthis._register(dom.addDisposableListener(this.selectDropDownContainer, dom.EventType.DRAG_START, (e) => {\n\t\t\tdom.EventHelper.stop(e, true);\n\t\t}));\n\t}\n\n\tprivate registerListeners() {\n\n\t\t// Parent native select keyboard listeners\n\n\t\tthis._register(dom.addStandardDisposableListener(this.selectElement, 'change', (e) => {\n\t\t\tthis.selected = e.target.selectedIndex;\n\t\t\tthis._onDidSelect.fire({\n\t\t\t\tindex: e.target.selectedIndex,\n\t\t\t\tselected: e.target.value\n\t\t\t});\n\t\t\tif (!!this.options[this.selected] && !!this.options[this.selected].text) {\n\t\t\t\tthis.selectElement.title = this.options[this.selected].text;\n\t\t\t}\n\t\t}));\n\n\t\t// Have to implement both keyboard and mouse controllers to handle disabled options\n\t\t// Intercept mouse events to override normal select actions on parents\n\n\t\tthis._register(dom.addDisposableListener(this.selectElement, dom.EventType.CLICK, (e) => {\n\t\t\tdom.EventHelper.stop(e);\n\n\t\t\tif (this._isVisible) {\n\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t} else {\n\t\t\t\tthis.showSelectDropDown();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(dom.addDisposableListener(this.selectElement, dom.EventType.MOUSE_DOWN, (e) => {\n\t\t\tdom.EventHelper.stop(e);\n\t\t}));\n\n\t\t// Intercept touch events\n\t\t// The following implementation is slightly different from the mouse event handlers above.\n\t\t// Use the following helper variable, otherwise the list flickers.\n\t\tlet listIsVisibleOnTouchStart: boolean;\n\t\tthis._register(dom.addDisposableListener(this.selectElement, 'touchstart', (e) => {\n\t\t\tlistIsVisibleOnTouchStart = this._isVisible;\n\t\t}));\n\t\tthis._register(dom.addDisposableListener(this.selectElement, 'touchend', (e) => {\n\t\t\tdom.EventHelper.stop(e);\n\n\t\t\tif (listIsVisibleOnTouchStart) {\n\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t} else {\n\t\t\t\tthis.showSelectDropDown();\n\t\t\t}\n\t\t}));\n\n\t\t// Intercept keyboard handling\n\n\t\tthis._register(dom.addDisposableListener(this.selectElement, dom.EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tlet showDropDown = false;\n\n\t\t\t// Create and drop down select list on keyboard select\n\t\t\tif (isMacintosh) {\n\t\t\t\tif (event.keyCode === KeyCode.DownArrow || event.keyCode === KeyCode.UpArrow || event.keyCode === KeyCode.Space || event.keyCode === KeyCode.Enter) {\n\t\t\t\t\tshowDropDown = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (event.keyCode === KeyCode.DownArrow && event.altKey || event.keyCode === KeyCode.UpArrow && event.altKey || event.keyCode === KeyCode.Space || event.keyCode === KeyCode.Enter) {\n\t\t\t\t\tshowDropDown = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (showDropDown) {\n\t\t\t\tthis.showSelectDropDown();\n\t\t\t\tdom.EventHelper.stop(e, true);\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic get onDidSelect(): Event<ISelectData> {\n\t\treturn this._onDidSelect.event;\n\t}\n\n\tpublic setOptions(options: ISelectOptionItem[], selected?: number): void {\n\t\tif (!arrays.equals(this.options, options)) {\n\t\t\tthis.options = options;\n\t\t\tthis.selectElement.options.length = 0;\n\t\t\tthis._hasDetails = false;\n\t\t\tthis._cachedMaxDetailsHeight = undefined;\n\n\t\t\tthis.options.forEach((option, index) => {\n\t\t\t\tthis.selectElement.add(this.createOption(option.text, index, option.isDisabled));\n\t\t\t\tif (typeof option.description === 'string') {\n\t\t\t\t\tthis._hasDetails = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (selected !== undefined) {\n\t\t\tthis.select(selected);\n\t\t\t// Set current = selected since this is not necessarily a user exit\n\t\t\tthis._currentSelection = this.selected;\n\t\t}\n\t}\n\n\n\tprivate setOptionsList() {\n\n\t\t// Mirror options in drop-down\n\t\t// Populate select list for non-native select mode\n\t\tthis.selectList?.splice(0, this.selectList.length, this.options);\n\t}\n\n\tpublic select(index: number): void {\n\n\t\tif (index >= 0 && index < this.options.length) {\n\t\t\tthis.selected = index;\n\t\t} else if (index > this.options.length - 1) {\n\t\t\t// Adjust index to end of list\n\t\t\t// This could make client out of sync with the select\n\t\t\tthis.select(this.options.length - 1);\n\t\t} else if (this.selected < 0) {\n\t\t\tthis.selected = 0;\n\t\t}\n\n\t\tthis.selectElement.selectedIndex = this.selected;\n\t\tif (!!this.options[this.selected] && !!this.options[this.selected].text) {\n\t\t\tthis.selectElement.title = this.options[this.selected].text;\n\t\t}\n\t}\n\n\tpublic setAriaLabel(label: string): void {\n\t\tthis.selectBoxOptions.ariaLabel = label;\n\t\tthis.selectElement.setAttribute('aria-label', this.selectBoxOptions.ariaLabel);\n\t}\n\n\tpublic focus(): void {\n\t\tif (this.selectElement) {\n\t\t\tthis.selectElement.tabIndex = 0;\n\t\t\tthis.selectElement.focus();\n\t\t}\n\t}\n\n\tpublic blur(): void {\n\t\tif (this.selectElement) {\n\t\t\tthis.selectElement.tabIndex = -1;\n\t\t\tthis.selectElement.blur();\n\t\t}\n\t}\n\n\tpublic setFocusable(focusable: boolean): void {\n\t\tthis.selectElement.tabIndex = focusable ? 0 : -1;\n\t}\n\n\tpublic render(container: HTMLElement): void {\n\t\tthis.container = container;\n\t\tcontainer.classList.add('select-container');\n\t\tcontainer.appendChild(this.selectElement);\n\t\tthis.styleSelectElement();\n\t}\n\n\tprivate initStyleSheet(): void {\n\n\t\tconst content: string[] = [];\n\n\t\t// Style non-native select mode\n\n\t\tif (this.styles.listFocusBackground) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`);\n\t\t}\n\n\t\tif (this.styles.listFocusForeground) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`);\n\t\t}\n\n\t\tif (this.styles.decoratorRightForeground) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`);\n\t\t}\n\n\t\tif (this.styles.selectBackground && this.styles.selectBorder && this.styles.selectBorder !== this.styles.selectBackground) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `);\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `);\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `);\n\n\t\t}\n\t\telse if (this.styles.selectListBorder) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `);\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `);\n\t\t}\n\n\t\t// Hover foreground - ignore for disabled options\n\t\tif (this.styles.listHoverForeground) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`);\n\t\t}\n\n\t\t// Hover background - ignore for disabled options\n\t\tif (this.styles.listHoverBackground) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`);\n\t\t}\n\n\t\t// Match quick input outline styles - ignore for disabled options\n\t\tif (this.styles.listFocusOutline) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`);\n\t\t}\n\n\t\tif (this.styles.listHoverOutline) {\n\t\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`);\n\t\t}\n\n\t\t// Clear list styles on focus and on hover for disabled options\n\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }`);\n\t\tcontent.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }`);\n\n\t\tthis.styleElement.textContent = content.join('\\n');\n\t}\n\n\tprivate styleSelectElement(): void {\n\t\tconst background = this.styles.selectBackground ?? '';\n\t\tconst foreground = this.styles.selectForeground ?? '';\n\t\tconst border = this.styles.selectBorder ?? '';\n\n\t\tthis.selectElement.style.backgroundColor = background;\n\t\tthis.selectElement.style.color = foreground;\n\t\tthis.selectElement.style.borderColor = border;\n\t}\n\n\tprivate styleList() {\n\t\tconst background = this.styles.selectBackground ?? '';\n\n\t\tconst listBackground = dom.asCssValueWithDefault(this.styles.selectListBackground, background);\n\t\tthis.selectDropDownListContainer.style.backgroundColor = listBackground;\n\t\tthis.selectionDetailsPane.style.backgroundColor = listBackground;\n\t\tconst optionsBorder = this.styles.focusBorder ?? '';\n\t\tthis.selectDropDownContainer.style.outlineColor = optionsBorder;\n\t\tthis.selectDropDownContainer.style.outlineOffset = '-1px';\n\n\t\tthis.selectList.style(this.styles);\n\t}\n\n\tprivate createOption(value: string, index: number, disabled?: boolean): HTMLOptionElement {\n\t\tconst option = document.createElement('option');\n\t\toption.value = value;\n\t\toption.text = value;\n\t\toption.disabled = !!disabled;\n\n\t\treturn option;\n\t}\n\n\t// ContextView dropdown methods\n\n\tprivate showSelectDropDown() {\n\t\tthis.selectionDetailsPane.innerText = '';\n\n\t\tif (!this.contextViewProvider || this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Lazily create and populate list only at open, moved from constructor\n\t\tthis.createSelectList(this.selectDropDownContainer);\n\t\tthis.setOptionsList();\n\n\t\t// This allows us to flip the position based on measurement\n\t\t// Set drop-down position above/below from required height and margins\n\t\t// If pre-layout cannot fit at least one option do not show drop-down\n\n\t\tthis.contextViewProvider.showContextView({\n\t\t\tgetAnchor: () => this.selectElement,\n\t\t\trender: (container: HTMLElement) => this.renderSelectDropDown(container, true),\n\t\t\tlayout: () => {\n\t\t\t\tthis.layoutSelectDropDown();\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tthis.selectDropDownContainer.classList.remove('visible');\n\t\t\t\tthis.selectElement.classList.remove('synthetic-focus');\n\t\t\t},\n\t\t\tanchorPosition: this._dropDownPosition\n\t\t}, this.selectBoxOptions.optionsAsChildren ? this.container : undefined);\n\n\t\t// Hide so we can relay out\n\t\tthis._isVisible = true;\n\t\tthis.hideSelectDropDown(false);\n\n\t\tthis.contextViewProvider.showContextView({\n\t\t\tgetAnchor: () => this.selectElement,\n\t\t\trender: (container: HTMLElement) => this.renderSelectDropDown(container),\n\t\t\tlayout: () => this.layoutSelectDropDown(),\n\t\t\tonHide: () => {\n\t\t\t\tthis.selectDropDownContainer.classList.remove('visible');\n\t\t\t\tthis.selectElement.classList.remove('synthetic-focus');\n\t\t\t},\n\t\t\tanchorPosition: this._dropDownPosition\n\t\t}, this.selectBoxOptions.optionsAsChildren ? this.container : undefined);\n\n\t\t// Track initial selection the case user escape, blur\n\t\tthis._currentSelection = this.selected;\n\t\tthis._isVisible = true;\n\t\tthis.selectElement.setAttribute('aria-expanded', 'true');\n\t}\n\n\tprivate hideSelectDropDown(focusSelect: boolean) {\n\t\tif (!this.contextViewProvider || !this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isVisible = false;\n\t\tthis.selectElement.setAttribute('aria-expanded', 'false');\n\n\t\tif (focusSelect) {\n\t\t\tthis.selectElement.focus();\n\t\t}\n\n\t\tthis.contextViewProvider.hideContextView();\n\t}\n\n\tprivate renderSelectDropDown(container: HTMLElement, preLayoutPosition?: boolean): IDisposable {\n\t\tcontainer.appendChild(this.selectDropDownContainer);\n\n\t\t// Pre-Layout allows us to change position\n\t\tthis.layoutSelectDropDown(preLayoutPosition);\n\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\t// contextView will dispose itself if moving from one View to another\n\t\t\t\ttry {\n\t\t\t\t\tcontainer.removeChild(this.selectDropDownContainer); // remove to take out the CSS rules we add\n\t\t\t\t}\n\t\t\t\tcatch (error) {\n\t\t\t\t\t// Ignore, removed already by change of focus\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// Iterate over detailed descriptions, find max height\n\tprivate measureMaxDetailsHeight(): number {\n\t\tlet maxDetailsPaneHeight = 0;\n\t\tthis.options.forEach((_option, index) => {\n\t\t\tthis.updateDetail(index);\n\n\t\t\tif (this.selectionDetailsPane.offsetHeight > maxDetailsPaneHeight) {\n\t\t\t\tmaxDetailsPaneHeight = this.selectionDetailsPane.offsetHeight;\n\t\t\t}\n\t\t});\n\n\t\treturn maxDetailsPaneHeight;\n\t}\n\n\tprivate layoutSelectDropDown(preLayoutPosition?: boolean): boolean {\n\n\t\t// Avoid recursion from layout called in onListFocus\n\t\tif (this._skipLayout) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Layout ContextView drop down select list and container\n\t\t// Have to manage our vertical overflow, sizing, position below or above\n\t\t// Position has to be determined and set prior to contextView instantiation\n\n\t\tif (this.selectList) {\n\n\t\t\t// Make visible to enable measurements\n\t\t\tthis.selectDropDownContainer.classList.add('visible');\n\n\t\t\tconst selectPosition = dom.getDomNodePagePosition(this.selectElement);\n\t\t\tconst styles = getComputedStyle(this.selectElement);\n\t\t\tconst verticalPadding = parseFloat(styles.getPropertyValue('--dropdown-padding-top')) + parseFloat(styles.getPropertyValue('--dropdown-padding-bottom'));\n\t\t\tconst maxSelectDropDownHeightBelow = (window.innerHeight - selectPosition.top - selectPosition.height - (this.selectBoxOptions.minBottomMargin || 0));\n\t\t\tconst maxSelectDropDownHeightAbove = (selectPosition.top - SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN);\n\n\t\t\t// Determine optimal width - min(longest option), opt(parent select, excluding margins), max(ContextView controlled)\n\t\t\tconst selectWidth = this.selectElement.offsetWidth;\n\t\t\tconst selectMinWidth = this.setWidthControlElement(this.widthControlElement);\n\t\t\tconst selectOptimalWidth = Math.max(selectMinWidth, Math.round(selectWidth)).toString() + 'px';\n\n\t\t\tthis.selectDropDownContainer.style.width = selectOptimalWidth;\n\n\t\t\t// Get initial list height and determine space above and below\n\t\t\tthis.selectList.getHTMLElement().style.height = '';\n\t\t\tthis.selectList.layout();\n\t\t\tlet listHeight = this.selectList.contentHeight;\n\n\t\t\tif (this._hasDetails && this._cachedMaxDetailsHeight === undefined) {\n\t\t\t\tthis._cachedMaxDetailsHeight = this.measureMaxDetailsHeight();\n\t\t\t}\n\t\t\tconst maxDetailsPaneHeight = this._hasDetails ? this._cachedMaxDetailsHeight! : 0;\n\n\t\t\tconst minRequiredDropDownHeight = listHeight + verticalPadding + maxDetailsPaneHeight;\n\t\t\tconst maxVisibleOptionsBelow = ((Math.floor((maxSelectDropDownHeightBelow - verticalPadding - maxDetailsPaneHeight) / this.getHeight())));\n\t\t\tconst maxVisibleOptionsAbove = ((Math.floor((maxSelectDropDownHeightAbove - verticalPadding - maxDetailsPaneHeight) / this.getHeight())));\n\n\t\t\t// If we are only doing pre-layout check/adjust position only\n\t\t\t// Calculate vertical space available, flip up if insufficient\n\t\t\t// Use reflected padding on parent select, ContextView style\n\t\t\t// properties not available before DOM attachment\n\n\t\t\tif (preLayoutPosition) {\n\n\t\t\t\t// Check if select moved out of viewport , do not open\n\t\t\t\t// If at least one option cannot be shown, don't open the drop-down or hide/remove if open\n\n\t\t\t\tif ((selectPosition.top + selectPosition.height) > (window.innerHeight - 22)\n\t\t\t\t\t|| selectPosition.top < SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN\n\t\t\t\t\t|| ((maxVisibleOptionsBelow < 1) && (maxVisibleOptionsAbove < 1))) {\n\t\t\t\t\t// Indicate we cannot open\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Determine if we have to flip up\n\t\t\t\t// Always show complete list items - never more than Max available vertical height\n\t\t\t\tif (maxVisibleOptionsBelow < SelectBoxList.DEFAULT_MINIMUM_VISIBLE_OPTIONS\n\t\t\t\t\t&& maxVisibleOptionsAbove > maxVisibleOptionsBelow\n\t\t\t\t\t&& this.options.length > maxVisibleOptionsBelow\n\t\t\t\t) {\n\t\t\t\t\tthis._dropDownPosition = AnchorPosition.ABOVE;\n\t\t\t\t\tthis.selectDropDownContainer.removeChild(this.selectDropDownListContainer);\n\t\t\t\t\tthis.selectDropDownContainer.removeChild(this.selectionDetailsPane);\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(this.selectionDetailsPane);\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(this.selectDropDownListContainer);\n\n\t\t\t\t\tthis.selectionDetailsPane.classList.remove('border-top');\n\t\t\t\t\tthis.selectionDetailsPane.classList.add('border-bottom');\n\n\t\t\t\t} else {\n\t\t\t\t\tthis._dropDownPosition = AnchorPosition.BELOW;\n\t\t\t\t\tthis.selectDropDownContainer.removeChild(this.selectDropDownListContainer);\n\t\t\t\t\tthis.selectDropDownContainer.removeChild(this.selectionDetailsPane);\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(this.selectDropDownListContainer);\n\t\t\t\t\tthis.selectDropDownContainer.appendChild(this.selectionDetailsPane);\n\n\t\t\t\t\tthis.selectionDetailsPane.classList.remove('border-bottom');\n\t\t\t\t\tthis.selectionDetailsPane.classList.add('border-top');\n\t\t\t\t}\n\t\t\t\t// Do full layout on showSelectDropDown only\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Check if select out of viewport or cutting into status bar\n\t\t\tif ((selectPosition.top + selectPosition.height) > (window.innerHeight - 22)\n\t\t\t\t|| selectPosition.top < SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN\n\t\t\t\t|| (this._dropDownPosition === AnchorPosition.BELOW && maxVisibleOptionsBelow < 1)\n\t\t\t\t|| (this._dropDownPosition === AnchorPosition.ABOVE && maxVisibleOptionsAbove < 1)) {\n\t\t\t\t// Cannot properly layout, close and hide\n\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// SetUp list dimensions and layout - account for container padding\n\t\t\t// Use position to check above or below available space\n\t\t\tif (this._dropDownPosition === AnchorPosition.BELOW) {\n\t\t\t\tif (this._isVisible && maxVisibleOptionsBelow + maxVisibleOptionsAbove < 1) {\n\t\t\t\t\t// If drop-down is visible, must be doing a DOM re-layout, hide since we don't fit\n\t\t\t\t\t// Hide drop-down, hide contextview, focus on parent select\n\t\t\t\t\tthis.hideSelectDropDown(true);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Adjust list height to max from select bottom to margin (default/minBottomMargin)\n\t\t\t\tif (minRequiredDropDownHeight > maxSelectDropDownHeightBelow) {\n\t\t\t\t\tlistHeight = (maxVisibleOptionsBelow * this.getHeight());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (minRequiredDropDownHeight > maxSelectDropDownHeightAbove) {\n\t\t\t\t\tlistHeight = (maxVisibleOptionsAbove * this.getHeight());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set adjusted list height and relayout\n\t\t\tthis.selectList.layout(listHeight);\n\t\t\tthis.selectList.domFocus();\n\n\t\t\t// Finally set focus on selected item\n\t\t\tif (this.selectList.length > 0) {\n\t\t\t\tthis.selectList.setFocus([this.selected || 0]);\n\t\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0] || 0);\n\t\t\t}\n\n\t\t\tif (this._hasDetails) {\n\t\t\t\t// Leave the selectDropDownContainer to size itself according to children (list + details) - #57447\n\t\t\t\tthis.selectList.getHTMLElement().style.height = (listHeight + verticalPadding) + 'px';\n\t\t\t\tthis.selectDropDownContainer.style.height = '';\n\t\t\t} else {\n\t\t\t\tthis.selectDropDownContainer.style.height = (listHeight + verticalPadding) + 'px';\n\t\t\t}\n\n\t\t\tthis.updateDetail(this.selected);\n\n\t\t\tthis.selectDropDownContainer.style.width = selectOptimalWidth;\n\n\t\t\t// Maintain focus outline on parent select as well as list container - tabindex for focus\n\t\t\tthis.selectDropDownListContainer.setAttribute('tabindex', '0');\n\t\t\tthis.selectElement.classList.add('synthetic-focus');\n\t\t\tthis.selectDropDownContainer.classList.add('synthetic-focus');\n\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate setWidthControlElement(container: HTMLElement): number {\n\t\tlet elementWidth = 0;\n\n\t\tif (container) {\n\t\t\tlet longest = 0;\n\t\t\tlet longestLength = 0;\n\n\t\t\tthis.options.forEach((option, index) => {\n\t\t\t\tconst detailLength = !!option.detail ? option.detail.length : 0;\n\t\t\t\tconst rightDecoratorLength = !!option.decoratorRight ? option.decoratorRight.length : 0;\n\n\t\t\t\tconst len = option.text.length + detailLength + rightDecoratorLength;\n\t\t\t\tif (len > longestLength) {\n\t\t\t\t\tlongest = index;\n\t\t\t\t\tlongestLength = len;\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tcontainer.textContent = this.options[longest].text + (!!this.options[longest].decoratorRight ? (this.options[longest].decoratorRight + ' ') : '');\n\t\t\telementWidth = dom.getTotalWidth(container);\n\t\t}\n\n\t\treturn elementWidth;\n\t}\n\n\tprivate createSelectList(parent: HTMLElement): void {\n\n\t\t// If we have already constructive list on open, skip\n\t\tif (this.selectList) {\n\t\t\treturn;\n\t\t}\n\n\t\t// SetUp container for list\n\t\tthis.selectDropDownListContainer = dom.append(parent, $('.select-box-dropdown-list-container'));\n\n\t\tthis.listRenderer = new SelectListRenderer();\n\n\t\tthis.selectList = new List('SelectBoxCustom', this.selectDropDownListContainer, this, [this.listRenderer], {\n\t\t\tuseShadows: false,\n\t\t\tverticalScrollMode: ScrollbarVisibility.Visible,\n\t\t\tkeyboardSupport: false,\n\t\t\tmouseSupport: false,\n\t\t\taccessibilityProvider: {\n\t\t\t\tgetAriaLabel: element => {\n\t\t\t\t\tlet label = element.text;\n\t\t\t\t\tif (element.detail) {\n\t\t\t\t\t\tlabel += `. ${element.detail}`;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.decoratorRight) {\n\t\t\t\t\t\tlabel += `. ${element.decoratorRight}`;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.description) {\n\t\t\t\t\t\tlabel += `. ${element.description}`;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn label;\n\t\t\t\t},\n\t\t\t\tgetWidgetAriaLabel: () => localize({ key: 'selectBox', comment: ['Behave like native select dropdown element.'] }, \"Select Box\"),\n\t\t\t\tgetRole: () => isMacintosh ? '' : 'option',\n\t\t\t\tgetWidgetRole: () => 'listbox'\n\t\t\t}\n\t\t});\n\t\tif (this.selectBoxOptions.ariaLabel) {\n\t\t\tthis.selectList.ariaLabel = this.selectBoxOptions.ariaLabel;\n\t\t}\n\n\t\t// SetUp list keyboard controller - control navigation, disabled items, focus\n\t\tconst onKeyDown = this._register(new DomEmitter(this.selectDropDownListContainer, 'keydown'));\n\t\tconst onSelectDropDownKeyDown = Event.chain(onKeyDown.event, $ =>\n\t\t\t$.filter(() => this.selectList.length > 0)\n\t\t\t\t.map(e => new StandardKeyboardEvent(e))\n\t\t);\n\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.Enter))(this.onEnter, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.Tab))(this.onEnter, this)); // Tab should behave the same as enter, #79339\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.Escape))(this.onEscape, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.UpArrow))(this.onUpArrow, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.DownArrow))(this.onDownArrow, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.PageDown))(this.onPageDown, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.PageUp))(this.onPageUp, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.Home))(this.onHome, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => e.keyCode === KeyCode.End))(this.onEnd, this));\n\t\tthis._register(Event.chain(onSelectDropDownKeyDown, $ => $.filter(e => (e.keyCode >= KeyCode.Digit0 && e.keyCode <= KeyCode.KeyZ) || (e.keyCode >= KeyCode.Semicolon && e.keyCode <= KeyCode.NumpadDivide)))(this.onCharacter, this));\n\n\t\t// SetUp list mouse controller - control navigation, disabled items, focus\n\t\tthis._register(dom.addDisposableListener(this.selectList.getHTMLElement(), dom.EventType.POINTER_UP, e => this.onPointerUp(e)));\n\n\t\tthis._register(this.selectList.onMouseOver(e => typeof e.index !== 'undefined' && this.selectList.setFocus([e.index])));\n\t\tthis._register(this.selectList.onDidChangeFocus(e => this.onListFocus(e)));\n\n\t\tthis._register(dom.addDisposableListener(this.selectDropDownContainer, dom.EventType.FOCUS_OUT, e => {\n\t\t\tif (!this._isVisible || dom.isAncestor(e.relatedTarget as HTMLElement, this.selectDropDownContainer)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onListBlur();\n\t\t}));\n\n\t\tthis.selectList.getHTMLElement().setAttribute('aria-label', this.selectBoxOptions.ariaLabel || '');\n\t\tthis.selectList.getHTMLElement().setAttribute('aria-expanded', 'true');\n\n\t\tthis.styleList();\n\t}\n\n\t// List methods\n\n\t// List mouse controller - active exit, select option, fire onDidSelect if change, return focus to parent select\n\t// Also takes in touchend events\n\tprivate onPointerUp(e: PointerEvent): void {\n\n\t\tif (!this.selectList.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tdom.EventHelper.stop(e);\n\n\t\tconst target = <Element>e.target;\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check our mouse event is on an option (not scrollbar)\n\t\tif (target.classList.contains('slider')) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst listRowElement = target.closest('.monaco-list-row');\n\n\t\tif (!listRowElement) {\n\t\t\treturn;\n\t\t}\n\t\tconst index = Number(listRowElement.getAttribute('data-index'));\n\t\tconst disabled = listRowElement.classList.contains('option-disabled');\n\n\t\t// Ignore mouse selection of disabled options\n\t\tif (index >= 0 && index < this.options.length && !disabled) {\n\t\t\tthis.selected = index;\n\t\t\tthis.select(this.selected);\n\n\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\n\t\t\t// Only fire if selection change\n\t\t\tif (this.selected !== this._currentSelection) {\n\t\t\t\t// Set current = selected\n\t\t\t\tthis._currentSelection = this.selected;\n\n\t\t\t\tthis._onDidSelect.fire({\n\t\t\t\t\tindex: this.selectElement.selectedIndex,\n\t\t\t\t\tselected: this.options[this.selected].text\n\n\t\t\t\t});\n\t\t\t\tif (!!this.options[this.selected] && !!this.options[this.selected].text) {\n\t\t\t\t\tthis.selectElement.title = this.options[this.selected].text;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hideSelectDropDown(true);\n\t\t}\n\t}\n\n\t// List Exit - passive - implicit no selection change, hide drop-down\n\tprivate onListBlur(): void {\n\t\tif (this._sticky) { return; }\n\t\tif (this.selected !== this._currentSelection) {\n\t\t\t// Reset selected to current if no change\n\t\t\tthis.select(this._currentSelection);\n\t\t}\n\n\t\tthis.hideSelectDropDown(false);\n\t}\n\n\n\tprivate renderDescriptionMarkdown(text: string, actionHandler?: IContentActionHandler): HTMLElement {\n\t\tconst cleanRenderedMarkdown = (element: Node) => {\n\t\t\tfor (let i = 0; i < element.childNodes.length; i++) {\n\t\t\t\tconst child = <Element>element.childNodes.item(i);\n\n\t\t\t\tconst tagName = child.tagName && child.tagName.toLowerCase();\n\t\t\t\tif (tagName === 'img') {\n\t\t\t\t\telement.removeChild(child);\n\t\t\t\t} else {\n\t\t\t\t\tcleanRenderedMarkdown(child);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst rendered = renderMarkdown({ value: text, supportThemeIcons: true }, { actionHandler });\n\n\t\trendered.element.classList.add('select-box-description-markdown');\n\t\tcleanRenderedMarkdown(rendered.element);\n\n\t\treturn rendered.element;\n\t}\n\n\t// List Focus Change - passive - update details pane with newly focused element's data\n\tprivate onListFocus(e: IListEvent<ISelectOptionItem>) {\n\t\t// Skip during initial layout\n\t\tif (!this._isVisible || !this._hasDetails) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateDetail(e.indexes[0]);\n\t}\n\n\tprivate updateDetail(selectedIndex: number): void {\n\t\tthis.selectionDetailsPane.innerText = '';\n\t\tconst option = this.options[selectedIndex];\n\t\tconst description = option?.description ?? '';\n\t\tconst descriptionIsMarkdown = option?.descriptionIsMarkdown ?? false;\n\n\t\tif (description) {\n\t\t\tif (descriptionIsMarkdown) {\n\t\t\t\tconst actionHandler = option.descriptionMarkdownActionHandler;\n\t\t\t\tthis.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(description, actionHandler));\n\t\t\t} else {\n\t\t\t\tthis.selectionDetailsPane.innerText = description;\n\t\t\t}\n\t\t\tthis.selectionDetailsPane.style.display = 'block';\n\t\t} else {\n\t\t\tthis.selectionDetailsPane.style.display = 'none';\n\t\t}\n\n\t\t// Avoid recursion\n\t\tthis._skipLayout = true;\n\t\tthis.contextViewProvider.layout();\n\t\tthis._skipLayout = false;\n\t}\n\n\t// List keyboard controller\n\n\t// List exit - active - hide ContextView dropdown, reset selection, return focus to parent select\n\tprivate onEscape(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\t// Reset selection to value when opened\n\t\tthis.select(this._currentSelection);\n\t\tthis.hideSelectDropDown(true);\n\t}\n\n\t// List exit - active - hide ContextView dropdown, return focus to parent select, fire onDidSelect if change\n\tprivate onEnter(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\t// Only fire if selection change\n\t\tif (this.selected !== this._currentSelection) {\n\t\t\tthis._currentSelection = this.selected;\n\t\t\tthis._onDidSelect.fire({\n\t\t\t\tindex: this.selectElement.selectedIndex,\n\t\t\t\tselected: this.options[this.selected].text\n\t\t\t});\n\t\t\tif (!!this.options[this.selected] && !!this.options[this.selected].text) {\n\t\t\t\tthis.selectElement.title = this.options[this.selected].text;\n\t\t\t}\n\t\t}\n\n\t\tthis.hideSelectDropDown(true);\n\t}\n\n\t// List navigation - have to handle a disabled option (jump over)\n\tprivate onDownArrow(e: StandardKeyboardEvent): void {\n\t\tif (this.selected < this.options.length - 1) {\n\t\t\tdom.EventHelper.stop(e, true);\n\n\t\t\t// Skip disabled options\n\t\t\tconst nextOptionDisabled = this.options[this.selected + 1].isDisabled;\n\n\t\t\tif (nextOptionDisabled && this.options.length > this.selected + 2) {\n\t\t\t\tthis.selected += 2;\n\t\t\t} else if (nextOptionDisabled) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.selected++;\n\t\t\t}\n\n\t\t\t// Set focus/selection - only fire event when closing drop-down or on blur\n\t\t\tthis.select(this.selected);\n\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\t\t}\n\t}\n\n\tprivate onUpArrow(e: StandardKeyboardEvent): void {\n\t\tif (this.selected > 0) {\n\t\t\tdom.EventHelper.stop(e, true);\n\t\t\t// Skip disabled options\n\t\t\tconst previousOptionDisabled = this.options[this.selected - 1].isDisabled;\n\t\t\tif (previousOptionDisabled && this.selected > 1) {\n\t\t\t\tthis.selected -= 2;\n\t\t\t} else {\n\t\t\t\tthis.selected--;\n\t\t\t}\n\t\t\t// Set focus/selection - only fire event when closing drop-down or on blur\n\t\t\tthis.select(this.selected);\n\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\t\t}\n\t}\n\n\tprivate onPageUp(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tthis.selectList.focusPreviousPage();\n\n\t\t// Allow scrolling to settle\n\t\tsetTimeout(() => {\n\t\t\tthis.selected = this.selectList.getFocus()[0];\n\n\t\t\t// Shift selection down if we land on a disabled option\n\t\t\tif (this.options[this.selected].isDisabled && this.selected < this.options.length - 1) {\n\t\t\t\tthis.selected++;\n\t\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\t}\n\t\t\tthis.selectList.reveal(this.selected);\n\t\t\tthis.select(this.selected);\n\t\t}, 1);\n\t}\n\n\tprivate onPageDown(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tthis.selectList.focusNextPage();\n\n\t\t// Allow scrolling to settle\n\t\tsetTimeout(() => {\n\t\t\tthis.selected = this.selectList.getFocus()[0];\n\n\t\t\t// Shift selection up if we land on a disabled option\n\t\t\tif (this.options[this.selected].isDisabled && this.selected > 0) {\n\t\t\t\tthis.selected--;\n\t\t\t\tthis.selectList.setFocus([this.selected]);\n\t\t\t}\n\t\t\tthis.selectList.reveal(this.selected);\n\t\t\tthis.select(this.selected);\n\t\t}, 1);\n\t}\n\n\tprivate onHome(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tif (this.options.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\tthis.selected = 0;\n\t\tif (this.options[this.selected].isDisabled && this.selected > 1) {\n\t\t\tthis.selected++;\n\t\t}\n\t\tthis.selectList.setFocus([this.selected]);\n\t\tthis.selectList.reveal(this.selected);\n\t\tthis.select(this.selected);\n\t}\n\n\tprivate onEnd(e: StandardKeyboardEvent): void {\n\t\tdom.EventHelper.stop(e);\n\n\t\tif (this.options.length < 2) {\n\t\t\treturn;\n\t\t}\n\t\tthis.selected = this.options.length - 1;\n\t\tif (this.options[this.selected].isDisabled && this.selected > 1) {\n\t\t\tthis.selected--;\n\t\t}\n\t\tthis.selectList.setFocus([this.selected]);\n\t\tthis.selectList.reveal(this.selected);\n\t\tthis.select(this.selected);\n\t}\n\n\t// Mimic option first character navigation of native select\n\tprivate onCharacter(e: StandardKeyboardEvent): void {\n\t\tconst ch = KeyCodeUtils.toString(e.keyCode);\n\t\tlet optionIndex = -1;\n\n\t\tfor (let i = 0; i < this.options.length - 1; i++) {\n\t\t\toptionIndex = (i + this.selected + 1) % this.options.length;\n\t\t\tif (this.options[optionIndex].text.charAt(0).toUpperCase() === ch && !this.options[optionIndex].isDisabled) {\n\t\t\t\tthis.select(optionIndex);\n\t\t\t\tthis.selectList.setFocus([optionIndex]);\n\t\t\t\tthis.selectList.reveal(this.selectList.getFocus()[0]);\n\t\t\t\tdom.EventHelper.stop(e);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis.hideSelectDropDown(false);\n\t\tsuper.dispose();\n\t}\n}\n"]}
{"version":3,"sources":["vs/base/browser/ui/icons/iconSelectBox.ts"],"names":[],"mappings":"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","file":"iconSelectBox.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./iconSelectBox';\nimport * as dom from 'vs/base/browser/dom';\nimport { IInputBoxStyles, InputBox } from 'vs/base/browser/ui/inputbox/inputBox';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { Emitter } from 'vs/base/common/event';\nimport { IDisposable, DisposableStore, Disposable, MutableDisposable } from 'vs/base/common/lifecycle';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { localize } from 'vs/nls';\nimport { IMatch } from 'vs/base/common/filters';\n\nexport interface IIconSelectBoxOptions {\n\treadonly icons: ThemeIcon[];\n\treadonly inputBoxStyles: IInputBoxStyles;\n}\n\nexport class IconSelectBox extends Disposable {\n\n\treadonly domNode: HTMLElement;\n\n\tprivate _onDidSelect = this._register(new Emitter<ThemeIcon>());\n\treadonly onDidSelect = this._onDidSelect.event;\n\n\tprivate renderedIcons: [ThemeIcon, HTMLElement][] = [];\n\n\tprivate focusedItemIndex: number = 0;\n\tprivate numberOfElementsPerRow: number = 1;\n\n\tprivate inputBox: InputBox | undefined;\n\tprivate scrollableElement: DomScrollableElement | undefined;\n\tprivate readonly iconContainerWidth = 36;\n\tprivate readonly iconContainerHeight = 32;\n\n\tconstructor(\n\t\tprivate readonly options: IIconSelectBoxOptions,\n\t) {\n\t\tsuper();\n\t\tthis.domNode = dom.$('.icon-select-box');\n\t\tthis._register(this.create());\n\t}\n\n\tprivate create(): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst iconSelectBoxContainer = dom.append(this.domNode, dom.$('.icon-select-box-container'));\n\t\ticonSelectBoxContainer.style.margin = '10px 15px';\n\n\t\tconst iconSelectInputContainer = dom.append(iconSelectBoxContainer, dom.$('.icon-select-input-container'));\n\t\ticonSelectInputContainer.style.paddingBottom = '10px';\n\t\tthis.inputBox = disposables.add(new InputBox(iconSelectInputContainer, undefined, {\n\t\t\tplaceholder: localize('iconSelect.placeholder', \"Search icons\"),\n\t\t\tinputBoxStyles: this.options.inputBoxStyles,\n\t\t}));\n\n\t\tconst iconsContainer = dom.$('.icon-select-icons-container');\n\t\ticonsContainer.style.paddingRight = '10px';\n\t\tthis.scrollableElement = disposables.add(new DomScrollableElement(iconsContainer, { useShadows: false }));\n\t\tdom.append(iconSelectBoxContainer, this.scrollableElement.getDomNode());\n\n\t\tconst iconsDisposables = disposables.add(new MutableDisposable());\n\t\ticonsDisposables.value = this.renderIcons(this.options.icons, iconsContainer);\n\t\tthis.scrollableElement.scanDomNode();\n\n\t\tdisposables.add(this.inputBox.onDidChange(value => {\n\t\t\tconst icons = this.options.icons.filter(icon => {\n\t\t\t\treturn this.matchesContiguous(value, icon.id);\n\t\t\t});\n\t\t\ticonsDisposables.value = this.renderIcons(icons, iconsContainer);\n\t\t\tthis.scrollableElement?.scanDomNode();\n\t\t}));\n\n\t\treturn disposables;\n\t}\n\n\tprivate renderIcons(icons: ThemeIcon[], container: HTMLElement): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\t\tdom.clearNode(container);\n\t\tconst focusedIcon = this.renderedIcons[this.focusedItemIndex]?.[0];\n\t\tlet focusedIconIndex = 0;\n\t\tconst renderedIcons: [ThemeIcon, HTMLElement][] = [];\n\t\tfor (let index = 0; index < icons.length; index++) {\n\t\t\tconst icon = icons[index];\n\t\t\tconst iconContainer = dom.append(container, dom.$('.icon-container'));\n\t\t\ticonContainer.style.width = `${this.iconContainerWidth}px`;\n\t\t\ticonContainer.style.height = `${this.iconContainerHeight}px`;\n\t\t\ticonContainer.tabIndex = -1;\n\t\t\ticonContainer.role = 'button';\n\t\t\ticonContainer.title = icon.id;\n\t\t\tdom.append(iconContainer, dom.$(ThemeIcon.asCSSSelector(icon)));\n\t\t\trenderedIcons.push([icon, iconContainer]);\n\n\t\t\tdisposables.add(dom.addDisposableListener(iconContainer, dom.EventType.CLICK, (e: MouseEvent) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.setSelection(index);\n\t\t\t}));\n\n\t\t\tdisposables.add(dom.addDisposableListener(iconContainer, dom.EventType.MOUSE_OVER, (e: MouseEvent) => {\n\t\t\t\tthis.focusIcon(index);\n\t\t\t}));\n\n\t\t\tif (icon === focusedIcon) {\n\t\t\t\tfocusedIconIndex = index;\n\t\t\t}\n\t\t}\n\n\t\tthis.renderedIcons.splice(0, this.renderedIcons.length, ...renderedIcons);\n\t\tthis.focusIcon(focusedIconIndex);\n\n\t\treturn disposables;\n\t}\n\n\tprivate focusIcon(index: number): void {\n\t\tconst existing = this.renderedIcons[this.focusedItemIndex];\n\t\tif (existing) {\n\t\t\texisting[1].classList.remove('focused');\n\t\t}\n\n\t\tthis.focusedItemIndex = index;\n\t\tconst icon = this.renderedIcons[index]?.[1];\n\t\tif (icon) {\n\t\t\ticon.classList.add('focused');\n\t\t}\n\n\t\tthis.reveal(index);\n\t}\n\n\tprivate reveal(index: number): void {\n\t\tif (!this.scrollableElement) {\n\t\t\treturn;\n\t\t}\n\t\tif (index < 0 || index >= this.renderedIcons.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst icon = this.renderedIcons[index][1];\n\t\tif (!icon) {\n\t\t\treturn;\n\t\t}\n\t\tconst { height } = this.scrollableElement.getScrollDimensions();\n\t\tconst { scrollTop } = this.scrollableElement.getScrollPosition();\n\t\tif (icon.offsetTop + this.iconContainerHeight > scrollTop + height) {\n\t\t\tthis.scrollableElement.setScrollPosition({ scrollTop: icon.offsetTop + this.iconContainerHeight - height });\n\t\t} else if (icon.offsetTop < scrollTop) {\n\t\t\tthis.scrollableElement.setScrollPosition({ scrollTop: icon.offsetTop });\n\t\t}\n\t}\n\n\tprivate matchesContiguous(word: string, wordToMatchAgainst: string): IMatch[] | null {\n\t\tconst matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n\t\tif (matchIndex !== -1) {\n\t\t\treturn [{ start: matchIndex, end: matchIndex + word.length }];\n\t\t}\n\t\treturn null;\n\t}\n\n\tlayout(dimension: dom.Dimension): void {\n\t\tthis.domNode.style.width = `${dimension.width}px`;\n\t\tthis.domNode.style.height = `${dimension.height}px`;\n\t\tif (this.scrollableElement) {\n\t\t\tthis.scrollableElement.getDomNode().style.height = `${dimension.height - 46}px`;\n\t\t\tthis.scrollableElement.scanDomNode();\n\t\t}\n\n\t\tconst iconsContainerWidth = dimension.width - 40;\n\t\tthis.numberOfElementsPerRow = Math.floor(iconsContainerWidth / this.iconContainerWidth);\n\t\tif (this.numberOfElementsPerRow === 0) {\n\t\t\tthrow new Error('Insufficient width');\n\t\t}\n\n\t\tconst extraSpace = iconsContainerWidth % this.iconContainerWidth;\n\t\tconst margin = Math.floor(extraSpace / this.numberOfElementsPerRow);\n\t\tfor (const [, icon] of this.renderedIcons) {\n\t\t\ticon.style.marginRight = `${margin}px`;\n\t\t}\n\t}\n\n\tgetFocus(): number[] {\n\t\treturn [this.focusedItemIndex];\n\t}\n\n\tsetSelection(index: number): void {\n\t\tif (index < 0 || index >= this.renderedIcons.length) {\n\t\t\tthrow new Error(`Invalid index ${index}`);\n\t\t}\n\t\tthis.focusIcon(index);\n\t\tthis._onDidSelect.fire(this.renderedIcons[index][0]);\n\t}\n\n\tfocus(): void {\n\t\tthis.inputBox?.focus();\n\t\tthis.focusIcon(0);\n\t}\n\n\tfocusNext(): void {\n\t\tthis.focusIcon((this.focusedItemIndex + 1) % this.renderedIcons.length);\n\t}\n\n\tfocusPrevious(): void {\n\t\tthis.focusIcon((this.focusedItemIndex - 1 + this.renderedIcons.length) % this.renderedIcons.length);\n\t}\n\n\tfocusNextRow(): void {\n\t\tthis.focusIcon((this.focusedItemIndex + this.numberOfElementsPerRow) % this.renderedIcons.length);\n\t}\n\n\tfocusPreviousRow(): void {\n\t\tthis.focusIcon((this.focusedItemIndex - this.numberOfElementsPerRow + this.renderedIcons.length) % this.renderedIcons.length);\n\t}\n\n\tgetFocusedIcon(): ThemeIcon {\n\t\treturn this.renderedIcons[this.focusedItemIndex][0];\n\t}\n\n}\n"]}
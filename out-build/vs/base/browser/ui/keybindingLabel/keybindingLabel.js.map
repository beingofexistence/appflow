{"version":3,"sources":["vs/base/browser/ui/keybindingLabel/keybindingLabel.ts"],"names":[],"mappings":"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","file":"keybindingLabel.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { UILabelProvider } from 'vs/base/common/keybindingLabels';\nimport { ResolvedKeybinding, ResolvedChord } from 'vs/base/common/keybindings';\nimport { equals } from 'vs/base/common/objects';\nimport { OperatingSystem } from 'vs/base/common/platform';\nimport 'vs/css!./keybindingLabel';\nimport { localize } from 'vs/nls';\n\nconst $ = dom.$;\n\nexport interface ChordMatches {\n\tctrlKey?: boolean;\n\tshiftKey?: boolean;\n\taltKey?: boolean;\n\tmetaKey?: boolean;\n\tkeyCode?: boolean;\n}\n\nexport interface Matches {\n\tfirstPart: ChordMatches;\n\tchordPart: ChordMatches;\n}\n\nexport interface KeybindingLabelOptions extends IKeybindingLabelStyles {\n\trenderUnboundKeybindings?: boolean;\n\t/**\n\t * Default false.\n\t */\n\tdisableTitle?: boolean;\n}\n\nexport interface IKeybindingLabelStyles {\n\tkeybindingLabelBackground: string | undefined;\n\tkeybindingLabelForeground: string | undefined;\n\tkeybindingLabelBorder: string | undefined;\n\tkeybindingLabelBottomBorder: string | undefined;\n\tkeybindingLabelShadow: string | undefined;\n}\n\nexport const unthemedKeybindingLabelOptions: KeybindingLabelOptions = {\n\tkeybindingLabelBackground: undefined,\n\tkeybindingLabelForeground: undefined,\n\tkeybindingLabelBorder: undefined,\n\tkeybindingLabelBottomBorder: undefined,\n\tkeybindingLabelShadow: undefined\n};\n\nexport class KeybindingLabel {\n\n\tprivate domNode: HTMLElement;\n\tprivate options: KeybindingLabelOptions;\n\n\tprivate readonly keyElements = new Set<HTMLSpanElement>();\n\n\tprivate keybinding: ResolvedKeybinding | undefined;\n\tprivate matches: Matches | undefined;\n\tprivate didEverRender: boolean;\n\n\tconstructor(container: HTMLElement, private os: OperatingSystem, options?: KeybindingLabelOptions) {\n\t\tthis.options = options || Object.create(null);\n\n\t\tconst labelForeground = this.options.keybindingLabelForeground;\n\n\t\tthis.domNode = dom.append(container, $('.monaco-keybinding'));\n\t\tif (labelForeground) {\n\t\t\tthis.domNode.style.color = labelForeground;\n\t\t}\n\n\t\tthis.didEverRender = false;\n\t\tcontainer.appendChild(this.domNode);\n\t}\n\n\tget element(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tset(keybinding: ResolvedKeybinding | undefined, matches?: Matches) {\n\t\tif (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.keybinding = keybinding;\n\t\tthis.matches = matches;\n\t\tthis.render();\n\t}\n\n\tprivate render() {\n\t\tthis.clear();\n\n\t\tif (this.keybinding) {\n\t\t\tconst chords = this.keybinding.getChords();\n\t\t\tif (chords[0]) {\n\t\t\t\tthis.renderChord(this.domNode, chords[0], this.matches ? this.matches.firstPart : null);\n\t\t\t}\n\t\t\tfor (let i = 1; i < chords.length; i++) {\n\t\t\t\tdom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n\t\t\t\tthis.renderChord(this.domNode, chords[i], this.matches ? this.matches.chordPart : null);\n\t\t\t}\n\t\t\tconst title = (this.options.disableTitle ?? false) ? undefined : this.keybinding.getAriaLabel() || undefined;\n\t\t\tif (title !== undefined) {\n\t\t\t\tthis.domNode.title = title;\n\t\t\t} else {\n\t\t\t\tthis.domNode.removeAttribute('title');\n\t\t\t}\n\t\t} else if (this.options && this.options.renderUnboundKeybindings) {\n\t\t\tthis.renderUnbound(this.domNode);\n\t\t}\n\n\t\tthis.didEverRender = true;\n\t}\n\n\tprivate clear(): void {\n\t\tdom.clearNode(this.domNode);\n\t\tthis.keyElements.clear();\n\t}\n\n\tprivate renderChord(parent: HTMLElement, chord: ResolvedChord, match: ChordMatches | null) {\n\t\tconst modifierLabels = UILabelProvider.modifierLabels[this.os];\n\t\tif (chord.ctrlKey) {\n\t\t\tthis.renderKey(parent, modifierLabels.ctrlKey, Boolean(match?.ctrlKey), modifierLabels.separator);\n\t\t}\n\t\tif (chord.shiftKey) {\n\t\t\tthis.renderKey(parent, modifierLabels.shiftKey, Boolean(match?.shiftKey), modifierLabels.separator);\n\t\t}\n\t\tif (chord.altKey) {\n\t\t\tthis.renderKey(parent, modifierLabels.altKey, Boolean(match?.altKey), modifierLabels.separator);\n\t\t}\n\t\tif (chord.metaKey) {\n\t\t\tthis.renderKey(parent, modifierLabels.metaKey, Boolean(match?.metaKey), modifierLabels.separator);\n\t\t}\n\t\tconst keyLabel = chord.keyLabel;\n\t\tif (keyLabel) {\n\t\t\tthis.renderKey(parent, keyLabel, Boolean(match?.keyCode), '');\n\t\t}\n\t}\n\n\tprivate renderKey(parent: HTMLElement, label: string, highlight: boolean, separator: string): void {\n\t\tdom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n\t\tif (separator) {\n\t\t\tdom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n\t\t}\n\t}\n\n\tprivate renderUnbound(parent: HTMLElement): void {\n\t\tdom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n\t}\n\n\tprivate createKeyElement(label: string, extraClass = ''): HTMLElement {\n\t\tconst keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n\t\tthis.keyElements.add(keyElement);\n\n\t\tif (this.options.keybindingLabelBackground) {\n\t\t\tkeyElement.style.backgroundColor = this.options.keybindingLabelBackground;\n\t\t}\n\t\tif (this.options.keybindingLabelBorder) {\n\t\t\tkeyElement.style.borderColor = this.options.keybindingLabelBorder;\n\t\t}\n\t\tif (this.options.keybindingLabelBottomBorder) {\n\t\t\tkeyElement.style.borderBottomColor = this.options.keybindingLabelBottomBorder;\n\t\t}\n\t\tif (this.options.keybindingLabelShadow) {\n\t\t\tkeyElement.style.boxShadow = `inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;\n\t\t}\n\n\t\treturn keyElement;\n\t}\n\n\tprivate static areSame(a: Matches | undefined, b: Matches | undefined): boolean {\n\t\tif (a === b || (!a && !b)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n\t}\n}\n"]}
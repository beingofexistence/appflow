{"version":3,"sources":["file:///workspace/appflow/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.ts"],"names":[],"mappings":"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","file":"breadcrumbsWidget.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { IMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { commonPrefixLength } from 'vs/base/common/arrays';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { DisposableStore, dispose, IDisposable } from 'vs/base/common/lifecycle';\nimport { ScrollbarVisibility } from 'vs/base/common/scrollable';\nimport 'vs/css!./breadcrumbsWidget';\n\nexport abstract class BreadcrumbsItem {\n\tdispose(): void { }\n\tabstract equals(other: BreadcrumbsItem): boolean;\n\tabstract render(container: HTMLElement): void;\n}\n\nexport interface IBreadcrumbsWidgetStyles {\n\treadonly breadcrumbsBackground: string | undefined;\n\treadonly breadcrumbsForeground: string | undefined;\n\treadonly breadcrumbsHoverForeground: string | undefined;\n\treadonly breadcrumbsFocusForeground: string | undefined;\n\treadonly breadcrumbsFocusAndSelectionForeground: string | undefined;\n}\n\nexport interface IBreadcrumbsItemEvent {\n\ttype: 'select' | 'focus';\n\titem: BreadcrumbsItem;\n\tnode: HTMLElement;\n\tpayload: any;\n}\n\nexport class BreadcrumbsWidget {\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _domNode: HTMLDivElement;\n\tprivate readonly _scrollable: DomScrollableElement;\n\n\tprivate readonly _onDidSelectItem = new Emitter<IBreadcrumbsItemEvent>();\n\tprivate readonly _onDidFocusItem = new Emitter<IBreadcrumbsItemEvent>();\n\tprivate readonly _onDidChangeFocus = new Emitter<boolean>();\n\n\treadonly onDidSelectItem: Event<IBreadcrumbsItemEvent> = this._onDidSelectItem.event;\n\treadonly onDidFocusItem: Event<IBreadcrumbsItemEvent> = this._onDidFocusItem.event;\n\treadonly onDidChangeFocus: Event<boolean> = this._onDidChangeFocus.event;\n\n\tprivate readonly _items = new Array<BreadcrumbsItem>();\n\tprivate readonly _nodes = new Array<HTMLDivElement>();\n\tprivate readonly _freeNodes = new Array<HTMLDivElement>();\n\tprivate readonly _separatorIcon: ThemeIcon;\n\n\tprivate _enabled: boolean = true;\n\tprivate _focusedItemIdx: number = -1;\n\tprivate _selectedItemIdx: number = -1;\n\n\tprivate _pendingLayout: IDisposable | undefined;\n\tprivate _dimension: dom.Dimension | undefined;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\thorizontalScrollbarSize: number,\n\t\tseparatorIcon: ThemeIcon,\n\t\tstyles: IBreadcrumbsWidgetStyles\n\t) {\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'monaco-breadcrumbs';\n\t\tthis._domNode.tabIndex = 0;\n\t\tthis._domNode.setAttribute('role', 'list');\n\t\tthis._scrollable = new DomScrollableElement(this._domNode, {\n\t\t\tvertical: ScrollbarVisibility.Hidden,\n\t\t\thorizontal: ScrollbarVisibility.Auto,\n\t\t\thorizontalScrollbarSize,\n\t\t\tuseShadows: false,\n\t\t\tscrollYToX: true\n\t\t});\n\t\tthis._separatorIcon = separatorIcon;\n\t\tthis._disposables.add(this._scrollable);\n\t\tthis._disposables.add(dom.addStandardDisposableListener(this._domNode, 'click', e => this._onClick(e)));\n\t\tcontainer.appendChild(this._scrollable.getDomNode());\n\n\t\tconst styleElement = dom.createStyleSheet(this._domNode);\n\t\tthis._style(styleElement, styles);\n\n\t\tconst focusTracker = dom.trackFocus(this._domNode);\n\t\tthis._disposables.add(focusTracker);\n\t\tthis._disposables.add(focusTracker.onDidBlur(_ => this._onDidChangeFocus.fire(false)));\n\t\tthis._disposables.add(focusTracker.onDidFocus(_ => this._onDidChangeFocus.fire(true)));\n\t}\n\n\tsetHorizontalScrollbarSize(size: number) {\n\t\tthis._scrollable.updateOptions({\n\t\t\thorizontalScrollbarSize: size\n\t\t});\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._pendingLayout?.dispose();\n\t\tthis._onDidSelectItem.dispose();\n\t\tthis._onDidFocusItem.dispose();\n\t\tthis._onDidChangeFocus.dispose();\n\t\tthis._domNode.remove();\n\t\tthis._nodes.length = 0;\n\t\tthis._freeNodes.length = 0;\n\t}\n\n\tlayout(dim: dom.Dimension | undefined): void {\n\t\tif (dim && dom.Dimension.equals(dim, this._dimension)) {\n\t\t\treturn;\n\t\t}\n\t\tthis._pendingLayout?.dispose();\n\t\tif (dim) {\n\t\t\t// only measure\n\t\t\tthis._pendingLayout = this._updateDimensions(dim);\n\t\t} else {\n\t\t\tthis._pendingLayout = this._updateScrollbar();\n\t\t}\n\t}\n\n\tprivate _updateDimensions(dim: dom.Dimension): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\t\tdisposables.add(dom.modify(() => {\n\t\t\tthis._dimension = dim;\n\t\t\tthis._domNode.style.width = `${dim.width}px`;\n\t\t\tthis._domNode.style.height = `${dim.height}px`;\n\t\t\tdisposables.add(this._updateScrollbar());\n\t\t}));\n\t\treturn disposables;\n\t}\n\n\tprivate _updateScrollbar(): IDisposable {\n\t\treturn dom.measure(() => {\n\t\t\tdom.measure(() => { // double RAF\n\t\t\t\tthis._scrollable.setRevealOnScroll(false);\n\t\t\t\tthis._scrollable.scanDomNode();\n\t\t\t\tthis._scrollable.setRevealOnScroll(true);\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate _style(styleElement: HTMLStyleElement, style: IBreadcrumbsWidgetStyles): void {\n\t\tlet content = '';\n\t\tif (style.breadcrumbsBackground) {\n\t\t\tcontent += `.monaco-breadcrumbs { background-color: ${style.breadcrumbsBackground}}`;\n\t\t}\n\t\tif (style.breadcrumbsForeground) {\n\t\t\tcontent += `.monaco-breadcrumbs .monaco-breadcrumb-item { color: ${style.breadcrumbsForeground}}\\n`;\n\t\t}\n\t\tif (style.breadcrumbsFocusForeground) {\n\t\t\tcontent += `.monaco-breadcrumbs .monaco-breadcrumb-item.focused { color: ${style.breadcrumbsFocusForeground}}\\n`;\n\t\t}\n\t\tif (style.breadcrumbsFocusAndSelectionForeground) {\n\t\t\tcontent += `.monaco-breadcrumbs .monaco-breadcrumb-item.focused.selected { color: ${style.breadcrumbsFocusAndSelectionForeground}}\\n`;\n\t\t}\n\t\tif (style.breadcrumbsHoverForeground) {\n\t\t\tcontent += `.monaco-breadcrumbs:not(.disabled\t) .monaco-breadcrumb-item:hover:not(.focused):not(.selected) { color: ${style.breadcrumbsHoverForeground}}\\n`;\n\t\t}\n\t\tstyleElement.innerText = content;\n\t}\n\n\tsetEnabled(value: boolean) {\n\t\tthis._enabled = value;\n\t\tthis._domNode.classList.toggle('disabled', !this._enabled);\n\t}\n\n\tdomFocus(): void {\n\t\tconst idx = this._focusedItemIdx >= 0 ? this._focusedItemIdx : this._items.length - 1;\n\t\tif (idx >= 0 && idx < this._items.length) {\n\t\t\tthis._focus(idx, undefined);\n\t\t} else {\n\t\t\tthis._domNode.focus();\n\t\t}\n\t}\n\n\tisDOMFocused(): boolean {\n\t\tlet candidate = document.activeElement;\n\t\twhile (candidate) {\n\t\t\tif (this._domNode === candidate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcandidate = candidate.parentElement;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetFocused(): BreadcrumbsItem {\n\t\treturn this._items[this._focusedItemIdx];\n\t}\n\n\tsetFocused(item: BreadcrumbsItem | undefined, payload?: any): void {\n\t\tthis._focus(this._items.indexOf(item!), payload);\n\t}\n\n\tfocusPrev(payload?: any): any {\n\t\tif (this._focusedItemIdx > 0) {\n\t\t\tthis._focus(this._focusedItemIdx - 1, payload);\n\t\t}\n\t}\n\n\tfocusNext(payload?: any): any {\n\t\tif (this._focusedItemIdx + 1 < this._nodes.length) {\n\t\t\tthis._focus(this._focusedItemIdx + 1, payload);\n\t\t}\n\t}\n\n\tprivate _focus(nth: number, payload: any): void {\n\t\tthis._focusedItemIdx = -1;\n\t\tfor (let i = 0; i < this._nodes.length; i++) {\n\t\t\tconst node = this._nodes[i];\n\t\t\tif (i !== nth) {\n\t\t\t\tnode.classList.remove('focused');\n\t\t\t} else {\n\t\t\t\tthis._focusedItemIdx = i;\n\t\t\t\tnode.classList.add('focused');\n\t\t\t\tnode.focus();\n\t\t\t}\n\t\t}\n\t\tthis._reveal(this._focusedItemIdx, true);\n\t\tthis._onDidFocusItem.fire({ type: 'focus', item: this._items[this._focusedItemIdx], node: this._nodes[this._focusedItemIdx], payload });\n\t}\n\n\treveal(item: BreadcrumbsItem): void {\n\t\tconst idx = this._items.indexOf(item);\n\t\tif (idx >= 0) {\n\t\t\tthis._reveal(idx, false);\n\t\t}\n\t}\n\n\trevealLast(): void {\n\t\tthis._reveal(this._items.length - 1, false);\n\t}\n\n\tprivate _reveal(nth: number, minimal: boolean): void {\n\t\tif (nth < 0 || nth >= this._nodes.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst node = this._nodes[nth];\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\t\tconst { width } = this._scrollable.getScrollDimensions();\n\t\tconst { scrollLeft } = this._scrollable.getScrollPosition();\n\t\tif (!minimal || node.offsetLeft > scrollLeft + width || node.offsetLeft < scrollLeft) {\n\t\t\tthis._scrollable.setRevealOnScroll(false);\n\t\t\tthis._scrollable.setScrollPosition({ scrollLeft: node.offsetLeft });\n\t\t\tthis._scrollable.setRevealOnScroll(true);\n\t\t}\n\t}\n\n\tgetSelection(): BreadcrumbsItem {\n\t\treturn this._items[this._selectedItemIdx];\n\t}\n\n\tsetSelection(item: BreadcrumbsItem | undefined, payload?: any): void {\n\t\tthis._select(this._items.indexOf(item!), payload);\n\t}\n\n\tprivate _select(nth: number, payload: any): void {\n\t\tthis._selectedItemIdx = -1;\n\t\tfor (let i = 0; i < this._nodes.length; i++) {\n\t\t\tconst node = this._nodes[i];\n\t\t\tif (i !== nth) {\n\t\t\t\tnode.classList.remove('selected');\n\t\t\t} else {\n\t\t\t\tthis._selectedItemIdx = i;\n\t\t\t\tnode.classList.add('selected');\n\t\t\t}\n\t\t}\n\t\tthis._onDidSelectItem.fire({ type: 'select', item: this._items[this._selectedItemIdx], node: this._nodes[this._selectedItemIdx], payload });\n\t}\n\n\tgetItems(): readonly BreadcrumbsItem[] {\n\t\treturn this._items;\n\t}\n\n\tsetItems(items: BreadcrumbsItem[]): void {\n\t\tlet prefix: number | undefined;\n\t\tlet removed: BreadcrumbsItem[] = [];\n\t\ttry {\n\t\t\tprefix = commonPrefixLength(this._items, items, (a, b) => a.equals(b));\n\t\t\tremoved = this._items.splice(prefix, this._items.length - prefix, ...items.slice(prefix));\n\t\t\tthis._render(prefix);\n\t\t\tdispose(removed);\n\t\t\tthis._focus(-1, undefined);\n\t\t} catch (e) {\n\t\t\tconst newError = new Error(`BreadcrumbsItem#setItems: newItems: ${items.length}, prefix: ${prefix}, removed: ${removed.length}`);\n\t\t\tnewError.name = e.name;\n\t\t\tnewError.stack = e.stack;\n\t\t\tthrow newError;\n\t\t}\n\t}\n\n\tprivate _render(start: number): void {\n\t\tlet didChange = false;\n\t\tfor (; start < this._items.length && start < this._nodes.length; start++) {\n\t\t\tconst item = this._items[start];\n\t\t\tconst node = this._nodes[start];\n\t\t\tthis._renderItem(item, node);\n\t\t\tdidChange = true;\n\t\t}\n\t\t// case a: more nodes -> remove them\n\t\twhile (start < this._nodes.length) {\n\t\t\tconst free = this._nodes.pop();\n\t\t\tif (free) {\n\t\t\t\tthis._freeNodes.push(free);\n\t\t\t\tfree.remove();\n\t\t\t\tdidChange = true;\n\t\t\t}\n\t\t}\n\n\t\t// case b: more items -> render them\n\t\tfor (; start < this._items.length; start++) {\n\t\t\tconst item = this._items[start];\n\t\t\tconst node = this._freeNodes.length > 0 ? this._freeNodes.pop() : document.createElement('div');\n\t\t\tif (node) {\n\t\t\t\tthis._renderItem(item, node);\n\t\t\t\tthis._domNode.appendChild(node);\n\t\t\t\tthis._nodes.push(node);\n\t\t\t\tdidChange = true;\n\t\t\t}\n\t\t}\n\t\tif (didChange) {\n\t\t\tthis.layout(undefined);\n\t\t}\n\t}\n\n\tprivate _renderItem(item: BreadcrumbsItem, container: HTMLDivElement): void {\n\t\tdom.clearNode(container);\n\t\tcontainer.className = '';\n\t\ttry {\n\t\t\titem.render(container);\n\t\t} catch (err) {\n\t\t\tcontainer.innerText = '<<RENDER ERROR>>';\n\t\t\tconsole.error(err);\n\t\t}\n\t\tcontainer.tabIndex = -1;\n\t\tcontainer.setAttribute('role', 'listitem');\n\t\tcontainer.classList.add('monaco-breadcrumb-item');\n\t\tconst iconContainer = dom.$(ThemeIcon.asCSSSelector(this._separatorIcon));\n\t\tcontainer.appendChild(iconContainer);\n\t}\n\n\tprivate _onClick(event: IMouseEvent): void {\n\t\tif (!this._enabled) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let el: HTMLElement | null = event.target; el; el = el.parentElement) {\n\t\t\tconst idx = this._nodes.indexOf(el as HTMLDivElement);\n\t\t\tif (idx >= 0) {\n\t\t\t\tthis._focus(idx, event);\n\t\t\t\tthis._select(idx, event);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n"]}
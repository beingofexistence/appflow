{"version":3,"sources":["file:///workspace/appflow/src/vs/base/browser/ui/list/listView.ts"],"names":[],"mappings":"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","file":"listView.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DataTransfers, IDragAndDropData } from 'vs/base/browser/dnd';\nimport { $, addDisposableListener, animate, Dimension, getContentHeight, getContentWidth, getTopLeftOffset, scheduleAtNextAnimationFrame } from 'vs/base/browser/dom';\nimport { DomEmitter } from 'vs/base/browser/event';\nimport { IMouseWheelEvent } from 'vs/base/browser/mouseEvent';\nimport { EventType as TouchEventType, Gesture, GestureEvent } from 'vs/base/browser/touch';\nimport { SmoothScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { distinct, equals } from 'vs/base/common/arrays';\nimport { Delayer, disposableTimeout } from 'vs/base/common/async';\nimport { memoize } from 'vs/base/common/decorators';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { Disposable, DisposableStore, dispose, IDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { IRange, Range } from 'vs/base/common/range';\nimport { INewScrollDimensions, Scrollable, ScrollbarVisibility, ScrollEvent } from 'vs/base/common/scrollable';\nimport { ISpliceable } from 'vs/base/common/sequence';\nimport { IListDragAndDrop, IListDragEvent, IListGestureEvent, IListMouseEvent, IListRenderer, IListTouchEvent, IListVirtualDelegate, ListDragOverEffect } from 'vs/base/browser/ui/list/list';\nimport { RangeMap, shift } from 'vs/base/browser/ui/list/rangeMap';\nimport { IRow, RowCache } from 'vs/base/browser/ui/list/rowCache';\nimport { IObservableValue } from 'vs/base/common/observableValue';\nimport { BugIndicatingError } from 'vs/base/common/errors';\nimport { AriaRole } from 'vs/base/browser/ui/aria/aria';\nimport { ScrollableElementChangeOptions } from 'vs/base/browser/ui/scrollbar/scrollableElementOptions';\n\ninterface IItem<T> {\n\treadonly id: string;\n\treadonly element: T;\n\treadonly templateId: string;\n\trow: IRow | null;\n\tsize: number;\n\twidth: number | undefined;\n\thasDynamicHeight: boolean;\n\tlastDynamicHeightWidth: number | undefined;\n\turi: string | undefined;\n\tdropTarget: boolean;\n\tdragStartDisposable: IDisposable;\n\tcheckedDisposable: IDisposable;\n}\n\nconst StaticDND = {\n\tCurrentDragAndDropData: undefined as IDragAndDropData | undefined\n};\n\nexport interface IListViewDragAndDrop<T> extends IListDragAndDrop<T> {\n\tgetDragElements(element: T): T[];\n}\n\nexport interface IListViewAccessibilityProvider<T> {\n\tgetSetSize?(element: T, index: number, listLength: number): number;\n\tgetPosInSet?(element: T, index: number): number;\n\tgetRole?(element: T): AriaRole | undefined;\n\tisChecked?(element: T): boolean | IObservableValue<boolean> | undefined;\n}\n\nexport interface IListViewOptionsUpdate {\n\treadonly smoothScrolling?: boolean;\n\treadonly horizontalScrolling?: boolean;\n\treadonly scrollByPage?: boolean;\n\treadonly mouseWheelScrollSensitivity?: number;\n\treadonly fastScrollSensitivity?: number;\n\treadonly paddingTop?: number;\n\treadonly paddingBottom?: number;\n}\n\nexport interface IListViewOptions<T> extends IListViewOptionsUpdate {\n\treadonly dnd?: IListViewDragAndDrop<T>;\n\treadonly useShadows?: boolean;\n\treadonly verticalScrollMode?: ScrollbarVisibility;\n\treadonly setRowLineHeight?: boolean;\n\treadonly setRowHeight?: boolean;\n\treadonly supportDynamicHeights?: boolean;\n\treadonly mouseSupport?: boolean;\n\treadonly accessibilityProvider?: IListViewAccessibilityProvider<T>;\n\treadonly transformOptimization?: boolean;\n\treadonly alwaysConsumeMouseWheel?: boolean;\n\treadonly initialSize?: Dimension;\n}\n\nconst DefaultOptions = {\n\tuseShadows: true,\n\tverticalScrollMode: ScrollbarVisibility.Auto,\n\tsetRowLineHeight: true,\n\tsetRowHeight: true,\n\tsupportDynamicHeights: false,\n\tdnd: {\n\t\tgetDragElements<T>(e: T) { return [e]; },\n\t\tgetDragURI() { return null; },\n\t\tonDragStart(): void { },\n\t\tonDragOver() { return false; },\n\t\tdrop() { }\n\t},\n\thorizontalScrolling: false,\n\ttransformOptimization: true,\n\talwaysConsumeMouseWheel: true,\n};\n\nexport class ElementsDragAndDropData<T, TContext = void> implements IDragAndDropData {\n\n\treadonly elements: T[];\n\n\tprivate _context: TContext | undefined;\n\tpublic get context(): TContext | undefined {\n\t\treturn this._context;\n\t}\n\tpublic set context(value: TContext | undefined) {\n\t\tthis._context = value;\n\t}\n\n\tconstructor(elements: T[]) {\n\t\tthis.elements = elements;\n\t}\n\n\tupdate(): void { }\n\n\tgetData(): T[] {\n\t\treturn this.elements;\n\t}\n}\n\nexport class ExternalElementsDragAndDropData<T> implements IDragAndDropData {\n\n\treadonly elements: T[];\n\n\tconstructor(elements: T[]) {\n\t\tthis.elements = elements;\n\t}\n\n\tupdate(): void { }\n\n\tgetData(): T[] {\n\t\treturn this.elements;\n\t}\n}\n\nexport class NativeDragAndDropData implements IDragAndDropData {\n\n\treadonly types: any[];\n\treadonly files: any[];\n\n\tconstructor() {\n\t\tthis.types = [];\n\t\tthis.files = [];\n\t}\n\n\tupdate(dataTransfer: DataTransfer): void {\n\t\tif (dataTransfer.types) {\n\t\t\tthis.types.splice(0, this.types.length, ...dataTransfer.types);\n\t\t}\n\n\t\tif (dataTransfer.files) {\n\t\t\tthis.files.splice(0, this.files.length);\n\n\t\t\tfor (let i = 0; i < dataTransfer.files.length; i++) {\n\t\t\t\tconst file = dataTransfer.files.item(i);\n\n\t\t\t\tif (file && (file.size || file.type)) {\n\t\t\t\t\tthis.files.push(file);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetData(): any {\n\t\treturn {\n\t\t\ttypes: this.types,\n\t\t\tfiles: this.files\n\t\t};\n\t}\n}\n\nfunction equalsDragFeedback(f1: number[] | undefined, f2: number[] | undefined): boolean {\n\tif (Array.isArray(f1) && Array.isArray(f2)) {\n\t\treturn equals(f1, f2!);\n\t}\n\n\treturn f1 === f2;\n}\n\nclass ListViewAccessibilityProvider<T> implements Required<IListViewAccessibilityProvider<T>> {\n\n\treadonly getSetSize: (element: any, index: number, listLength: number) => number;\n\treadonly getPosInSet: (element: any, index: number) => number;\n\treadonly getRole: (element: T) => AriaRole | undefined;\n\treadonly isChecked: (element: T) => boolean | IObservableValue<boolean> | undefined;\n\n\tconstructor(accessibilityProvider?: IListViewAccessibilityProvider<T>) {\n\t\tif (accessibilityProvider?.getSetSize) {\n\t\t\tthis.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.getSetSize = (e, i, l) => l;\n\t\t}\n\n\t\tif (accessibilityProvider?.getPosInSet) {\n\t\t\tthis.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.getPosInSet = (e, i) => i + 1;\n\t\t}\n\n\t\tif (accessibilityProvider?.getRole) {\n\t\t\tthis.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.getRole = _ => 'listitem';\n\t\t}\n\n\t\tif (accessibilityProvider?.isChecked) {\n\t\t\tthis.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n\t\t} else {\n\t\t\tthis.isChecked = _ => undefined;\n\t\t}\n\t}\n}\n\nexport interface IListView<T> extends ISpliceable<T>, IDisposable {\n\treadonly domId: string;\n\treadonly domNode: HTMLElement;\n\treadonly containerDomNode: HTMLElement;\n\treadonly scrollableElementDomNode: HTMLElement;\n\treadonly length: number;\n\treadonly contentHeight: number;\n\treadonly contentWidth: number;\n\treadonly onDidChangeContentHeight: Event<number>;\n\treadonly onDidChangeContentWidth: Event<number>;\n\treadonly renderHeight: number;\n\treadonly scrollHeight: number;\n\treadonly firstVisibleIndex: number;\n\treadonly lastVisibleIndex: number;\n\tonDidScroll: Event<ScrollEvent>;\n\tonWillScroll: Event<ScrollEvent>;\n\tonMouseClick: Event<IListMouseEvent<T>>;\n\tonMouseDblClick: Event<IListMouseEvent<T>>;\n\tonMouseMiddleClick: Event<IListMouseEvent<T>>;\n\tonMouseUp: Event<IListMouseEvent<T>>;\n\tonMouseDown: Event<IListMouseEvent<T>>;\n\tonMouseOver: Event<IListMouseEvent<T>>;\n\tonMouseMove: Event<IListMouseEvent<T>>;\n\tonMouseOut: Event<IListMouseEvent<T>>;\n\tonContextMenu: Event<IListMouseEvent<T>>;\n\tonTouchStart: Event<IListTouchEvent<T>>;\n\tonTap: Event<IListGestureEvent<T>>;\n\telement(index: number): T;\n\tdomElement(index: number): HTMLElement | null;\n\tgetElementDomId(index: number): string;\n\telementHeight(index: number): number;\n\telementTop(index: number): number;\n\tindexOf(element: T): number;\n\tindexAt(position: number): number;\n\tindexAfter(position: number): number;\n\tupdateOptions(options: IListViewOptionsUpdate): void;\n\tgetScrollTop(): number;\n\tsetScrollTop(scrollTop: number, reuseAnimation?: boolean): void;\n\tgetScrollLeft(): number;\n\tsetScrollLeft(scrollLeft: number): void;\n\tdelegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent): void;\n\tdelegateVerticalScrollbarPointerDown(browserEvent: PointerEvent): void;\n\tupdateWidth(index: number): void;\n\tupdateElementHeight(index: number, size: number | undefined, anchorIndex: number | null): void;\n\trerender(): void;\n\tlayout(height?: number, width?: number): void;\n}\n\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport class ListView<T> implements IListView<T> {\n\n\tprivate static InstanceCount = 0;\n\treadonly domId = `list_id_${++ListView.InstanceCount}`;\n\n\treadonly domNode: HTMLElement;\n\n\tprivate items: IItem<T>[];\n\tprivate itemId: number;\n\tprivate rangeMap: RangeMap;\n\tprivate cache: RowCache<T>;\n\tprivate renderers = new Map<string, IListRenderer<any /* TODO@joao */, any>>();\n\tprivate lastRenderTop: number;\n\tprivate lastRenderHeight: number;\n\tprivate renderWidth = 0;\n\tprivate rowsContainer: HTMLElement;\n\tprivate scrollable: Scrollable;\n\tprivate scrollableElement: SmoothScrollableElement;\n\tprivate _scrollHeight: number = 0;\n\tprivate scrollableElementUpdateDisposable: IDisposable | null = null;\n\tprivate scrollableElementWidthDelayer = new Delayer<void>(50);\n\tprivate splicing = false;\n\tprivate dragOverAnimationDisposable: IDisposable | undefined;\n\tprivate dragOverAnimationStopDisposable: IDisposable = Disposable.None;\n\tprivate dragOverMouseY: number = 0;\n\tprivate setRowLineHeight: boolean;\n\tprivate setRowHeight: boolean;\n\tprivate supportDynamicHeights: boolean;\n\tprivate paddingBottom: number;\n\tprivate accessibilityProvider: ListViewAccessibilityProvider<T>;\n\tprivate scrollWidth: number | undefined;\n\n\tprivate dnd: IListViewDragAndDrop<T>;\n\tprivate canDrop: boolean = false;\n\tprivate currentDragData: IDragAndDropData | undefined;\n\tprivate currentDragFeedback: number[] | undefined;\n\tprivate currentDragFeedbackDisposable: IDisposable = Disposable.None;\n\tprivate onDragLeaveTimeout: IDisposable = Disposable.None;\n\n\tprivate readonly disposables: DisposableStore = new DisposableStore();\n\n\tprivate readonly _onDidChangeContentHeight = new Emitter<number>();\n\tprivate readonly _onDidChangeContentWidth = new Emitter<number>();\n\treadonly onDidChangeContentHeight: Event<number> = Event.latch(this._onDidChangeContentHeight.event, undefined, this.disposables);\n\treadonly onDidChangeContentWidth: Event<number> = Event.latch(this._onDidChangeContentWidth.event, undefined, this.disposables);\n\tget contentHeight(): number { return this.rangeMap.size; }\n\tget contentWidth(): number { return this.scrollWidth ?? 0; }\n\n\tget onDidScroll(): Event<ScrollEvent> { return this.scrollableElement.onScroll; }\n\tget onWillScroll(): Event<ScrollEvent> { return this.scrollableElement.onWillScroll; }\n\tget containerDomNode(): HTMLElement { return this.rowsContainer; }\n\tget scrollableElementDomNode(): HTMLElement { return this.scrollableElement.getDomNode(); }\n\n\tprivate _horizontalScrolling: boolean = false;\n\tprivate get horizontalScrolling(): boolean { return this._horizontalScrolling; }\n\tprivate set horizontalScrolling(value: boolean) {\n\t\tif (value === this._horizontalScrolling) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (value && this.supportDynamicHeights) {\n\t\t\tthrow new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n\t\t}\n\n\t\tthis._horizontalScrolling = value;\n\t\tthis.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n\n\t\tif (this._horizontalScrolling) {\n\t\t\tfor (const item of this.items) {\n\t\t\t\tthis.measureItemWidth(item);\n\t\t\t}\n\n\t\t\tthis.updateScrollWidth();\n\t\t\tthis.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n\t\t\tthis.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n\t\t} else {\n\t\t\tthis.scrollableElementWidthDelayer.cancel();\n\t\t\tthis.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n\t\t\tthis.rowsContainer.style.width = '';\n\t\t}\n\t}\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate virtualDelegate: IListVirtualDelegate<T>,\n\t\trenderers: IListRenderer<any /* TODO@joao */, any>[],\n\t\toptions: IListViewOptions<T> = DefaultOptions as IListViewOptions<T>\n\t) {\n\t\tif (options.horizontalScrolling && options.supportDynamicHeights) {\n\t\t\tthrow new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n\t\t}\n\n\t\tthis.items = [];\n\t\tthis.itemId = 0;\n\t\tthis.rangeMap = new RangeMap(options.paddingTop ?? 0);\n\n\t\tfor (const renderer of renderers) {\n\t\t\tthis.renderers.set(renderer.templateId, renderer);\n\t\t}\n\n\t\tthis.cache = this.disposables.add(new RowCache(this.renderers));\n\n\t\tthis.lastRenderTop = 0;\n\t\tthis.lastRenderHeight = 0;\n\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.className = 'monaco-list';\n\n\t\tthis.domNode.classList.add(this.domId);\n\t\tthis.domNode.tabIndex = 0;\n\n\t\tthis.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n\n\t\tthis._horizontalScrolling = options.horizontalScrolling ?? DefaultOptions.horizontalScrolling;\n\t\tthis.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n\n\t\tthis.paddingBottom = typeof options.paddingBottom === 'undefined' ? 0 : options.paddingBottom;\n\n\t\tthis.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n\n\t\tthis.rowsContainer = document.createElement('div');\n\t\tthis.rowsContainer.className = 'monaco-list-rows';\n\n\t\tconst transformOptimization = options.transformOptimization ?? DefaultOptions.transformOptimization;\n\t\tif (transformOptimization) {\n\t\t\tthis.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n\t\t\tthis.rowsContainer.style.overflow = 'hidden';\n\t\t\tthis.rowsContainer.style.contain = 'strict';\n\t\t}\n\n\t\tthis.disposables.add(Gesture.addTarget(this.rowsContainer));\n\n\t\tthis.scrollable = this.disposables.add(new Scrollable({\n\t\t\tforceIntegerValues: true,\n\t\t\tsmoothScrollDuration: (options.smoothScrolling ?? false) ? 125 : 0,\n\t\t\tscheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(cb)\n\t\t}));\n\t\tthis.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n\t\t\talwaysConsumeMouseWheel: options.alwaysConsumeMouseWheel ?? DefaultOptions.alwaysConsumeMouseWheel,\n\t\t\thorizontal: ScrollbarVisibility.Auto,\n\t\t\tvertical: options.verticalScrollMode ?? DefaultOptions.verticalScrollMode,\n\t\t\tuseShadows: options.useShadows ?? DefaultOptions.useShadows,\n\t\t\tmouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n\t\t\tfastScrollSensitivity: options.fastScrollSensitivity,\n\t\t\tscrollByPage: options.scrollByPage\n\t\t}, this.scrollable));\n\n\t\tthis.domNode.appendChild(this.scrollableElement.getDomNode());\n\t\tcontainer.appendChild(this.domNode);\n\n\t\tthis.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n\t\tthis.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e as GestureEvent)));\n\n\t\t// Prevent the monaco-scrollable-element from scrolling\n\t\t// https://github.com/microsoft/vscode/issues/44181\n\t\tthis.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => (e.target as HTMLElement).scrollTop = 0));\n\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n\t\tthis.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n\n\t\tthis.setRowLineHeight = options.setRowLineHeight ?? DefaultOptions.setRowLineHeight;\n\t\tthis.setRowHeight = options.setRowHeight ?? DefaultOptions.setRowHeight;\n\t\tthis.supportDynamicHeights = options.supportDynamicHeights ?? DefaultOptions.supportDynamicHeights;\n\t\tthis.dnd = options.dnd ?? DefaultOptions.dnd;\n\n\t\tthis.layout(options.initialSize?.height, options.initialSize?.width);\n\t}\n\n\tupdateOptions(options: IListViewOptionsUpdate) {\n\t\tif (options.paddingBottom !== undefined) {\n\t\t\tthis.paddingBottom = options.paddingBottom;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n\t\t}\n\n\t\tif (options.smoothScrolling !== undefined) {\n\t\t\tthis.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n\t\t}\n\n\t\tif (options.horizontalScrolling !== undefined) {\n\t\t\tthis.horizontalScrolling = options.horizontalScrolling;\n\t\t}\n\n\t\tlet scrollableOptions: ScrollableElementChangeOptions | undefined;\n\n\t\tif (options.scrollByPage !== undefined) {\n\t\t\tscrollableOptions = { ...(scrollableOptions ?? {}), scrollByPage: options.scrollByPage };\n\t\t}\n\n\t\tif (options.mouseWheelScrollSensitivity !== undefined) {\n\t\t\tscrollableOptions = { ...(scrollableOptions ?? {}), mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity };\n\t\t}\n\n\t\tif (options.fastScrollSensitivity !== undefined) {\n\t\t\tscrollableOptions = { ...(scrollableOptions ?? {}), fastScrollSensitivity: options.fastScrollSensitivity };\n\t\t}\n\n\t\tif (scrollableOptions) {\n\t\t\tthis.scrollableElement.updateOptions(scrollableOptions);\n\t\t}\n\n\t\tif (options.paddingTop !== undefined && options.paddingTop !== this.rangeMap.paddingTop) {\n\t\t\t// trigger a rerender\n\t\t\tconst lastRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\t\tconst offset = options.paddingTop - this.rangeMap.paddingTop;\n\t\t\tthis.rangeMap.paddingTop = options.paddingTop;\n\n\t\t\tthis.render(lastRenderRange, Math.max(0, this.lastRenderTop + offset), this.lastRenderHeight, undefined, undefined, true);\n\t\t\tthis.setScrollTop(this.lastRenderTop);\n\n\t\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\t\tif (this.supportDynamicHeights) {\n\t\t\t\tthis._rerender(this.lastRenderTop, this.lastRenderHeight);\n\t\t\t}\n\t\t}\n\t}\n\n\tdelegateScrollFromMouseWheelEvent(browserEvent: IMouseWheelEvent) {\n\t\tthis.scrollableElement.delegateScrollFromMouseWheelEvent(browserEvent);\n\t}\n\n\tdelegateVerticalScrollbarPointerDown(browserEvent: PointerEvent) {\n\t\tthis.scrollableElement.delegateVerticalScrollbarPointerDown(browserEvent);\n\t}\n\n\tupdateElementHeight(index: number, size: number | undefined, anchorIndex: number | null): void {\n\t\tif (index < 0 || index >= this.items.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst originalSize = this.items[index].size;\n\n\t\tif (typeof size === 'undefined') {\n\t\t\tif (!this.supportDynamicHeights) {\n\t\t\t\tconsole.warn('Dynamic heights not supported');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.items[index].lastDynamicHeightWidth = undefined;\n\t\t\tsize = originalSize + this.probeDynamicHeight(index);\n\t\t}\n\n\t\tif (originalSize === size) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst lastRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\n\t\tlet heightDiff = 0;\n\n\t\tif (index < lastRenderRange.start) {\n\t\t\t// do not scroll the viewport if resized element is out of viewport\n\t\t\theightDiff = size - originalSize;\n\t\t} else {\n\t\t\tif (anchorIndex !== null && anchorIndex > index && anchorIndex <= lastRenderRange.end) {\n\t\t\t\t// anchor in viewport\n\t\t\t\t// resized element in viewport and above the anchor\n\t\t\t\theightDiff = size - originalSize;\n\t\t\t} else {\n\t\t\t\theightDiff = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis.rangeMap.splice(index, 1, [{ size: size }]);\n\t\tthis.items[index].size = size;\n\n\t\tthis.render(lastRenderRange, Math.max(0, this.lastRenderTop + heightDiff), this.lastRenderHeight, undefined, undefined, true);\n\t\tthis.setScrollTop(this.lastRenderTop);\n\n\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\tif (this.supportDynamicHeights) {\n\t\t\tthis._rerender(this.lastRenderTop, this.lastRenderHeight);\n\t\t}\n\t}\n\n\tsplice(start: number, deleteCount: number, elements: readonly T[] = []): T[] {\n\t\tif (this.splicing) {\n\t\t\tthrow new Error('Can\\'t run recursive splices.');\n\t\t}\n\n\t\tthis.splicing = true;\n\n\t\ttry {\n\t\t\treturn this._splice(start, deleteCount, elements);\n\t\t} finally {\n\t\t\tthis.splicing = false;\n\t\t\tthis._onDidChangeContentHeight.fire(this.contentHeight);\n\t\t}\n\t}\n\n\tprivate _splice(start: number, deleteCount: number, elements: readonly T[] = []): T[] {\n\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst deleteRange = { start, end: start + deleteCount };\n\t\tconst removeRange = Range.intersect(previousRenderRange, deleteRange);\n\n\t\t// try to reuse rows, avoid removing them from DOM\n\t\tconst rowsToDispose = new Map<string, IRow[]>();\n\t\tfor (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n\t\t\tconst item = this.items[i];\n\t\t\titem.dragStartDisposable.dispose();\n\t\t\titem.checkedDisposable.dispose();\n\n\t\t\tif (item.row) {\n\t\t\t\tlet rows = rowsToDispose.get(item.templateId);\n\n\t\t\t\tif (!rows) {\n\t\t\t\t\trows = [];\n\t\t\t\t\trowsToDispose.set(item.templateId, rows);\n\t\t\t\t}\n\n\t\t\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\t\t\tif (renderer && renderer.disposeElement) {\n\t\t\t\t\trenderer.disposeElement(item.element, i, item.row.templateData, item.size);\n\t\t\t\t}\n\n\t\t\t\trows.push(item.row);\n\t\t\t}\n\n\t\t\titem.row = null;\n\t\t}\n\n\t\tconst previousRestRange: IRange = { start: start + deleteCount, end: this.items.length };\n\t\tconst previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n\t\tconst previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n\n\t\tconst inserted = elements.map<IItem<T>>(element => ({\n\t\t\tid: String(this.itemId++),\n\t\t\telement,\n\t\t\ttemplateId: this.virtualDelegate.getTemplateId(element),\n\t\t\tsize: this.virtualDelegate.getHeight(element),\n\t\t\twidth: undefined,\n\t\t\thasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n\t\t\tlastDynamicHeightWidth: undefined,\n\t\t\trow: null,\n\t\t\turi: undefined,\n\t\t\tdropTarget: false,\n\t\t\tdragStartDisposable: Disposable.None,\n\t\t\tcheckedDisposable: Disposable.None\n\t\t}));\n\n\t\tlet deleted: IItem<T>[];\n\n\t\t// TODO@joao: improve this optimization to catch even more cases\n\t\tif (start === 0 && deleteCount >= this.items.length) {\n\t\t\tthis.rangeMap = new RangeMap(this.rangeMap.paddingTop);\n\t\t\tthis.rangeMap.splice(0, 0, inserted);\n\t\t\tdeleted = this.items;\n\t\t\tthis.items = inserted;\n\t\t} else {\n\t\t\tthis.rangeMap.splice(start, deleteCount, inserted);\n\t\t\tdeleted = this.items.splice(start, deleteCount, ...inserted);\n\t\t}\n\n\t\tconst delta = elements.length - deleteCount;\n\t\tconst renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst renderedRestRange = shift(previousRenderedRestRange, delta);\n\t\tconst updateRange = Range.intersect(renderRange, renderedRestRange);\n\n\t\tfor (let i = updateRange.start; i < updateRange.end; i++) {\n\t\t\tthis.updateItemInDOM(this.items[i], i);\n\t\t}\n\n\t\tconst removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n\n\t\tfor (const range of removeRanges) {\n\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\tthis.removeItemFromDOM(i);\n\t\t\t}\n\t\t}\n\n\t\tconst unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n\t\tconst elementsRange = { start, end: start + elements.length };\n\t\tconst insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r));\n\t\tconst beforeElement = this.getNextToLastElement(insertRanges);\n\n\t\tfor (const range of insertRanges) {\n\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\tconst item = this.items[i];\n\t\t\t\tconst rows = rowsToDispose.get(item.templateId);\n\t\t\t\tconst row = rows?.pop();\n\t\t\t\tthis.insertItemInDOM(i, beforeElement, row);\n\t\t\t}\n\t\t}\n\n\t\tfor (const rows of rowsToDispose.values()) {\n\t\t\tfor (const row of rows) {\n\t\t\t\tthis.cache.release(row);\n\t\t\t}\n\t\t}\n\n\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\tif (this.supportDynamicHeights) {\n\t\t\tthis._rerender(this.scrollTop, this.renderHeight);\n\t\t}\n\n\t\treturn deleted.map(i => i.element);\n\t}\n\n\tprivate eventuallyUpdateScrollDimensions(): void {\n\t\tthis._scrollHeight = this.contentHeight;\n\t\tthis.rowsContainer.style.height = `${this._scrollHeight}px`;\n\n\t\tif (!this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(() => {\n\t\t\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n\t\t\t\tthis.updateScrollWidth();\n\t\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate eventuallyUpdateScrollWidth(): void {\n\t\tif (!this.horizontalScrolling) {\n\t\t\tthis.scrollableElementWidthDelayer.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n\t}\n\n\tprivate updateScrollWidth(): void {\n\t\tif (!this.horizontalScrolling) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet scrollWidth = 0;\n\n\t\tfor (const item of this.items) {\n\t\t\tif (typeof item.width !== 'undefined') {\n\t\t\t\tscrollWidth = Math.max(scrollWidth, item.width);\n\t\t\t}\n\t\t}\n\n\t\tthis.scrollWidth = scrollWidth;\n\t\tthis.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n\t\tthis._onDidChangeContentWidth.fire(this.scrollWidth);\n\t}\n\n\tupdateWidth(index: number): void {\n\t\tif (!this.horizontalScrolling || typeof this.scrollWidth === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.items[index];\n\t\tthis.measureItemWidth(item);\n\n\t\tif (typeof item.width !== 'undefined' && item.width > this.scrollWidth) {\n\t\t\tthis.scrollWidth = item.width;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollWidth: this.scrollWidth + 10 });\n\t\t\tthis._onDidChangeContentWidth.fire(this.scrollWidth);\n\t\t}\n\t}\n\n\trerender(): void {\n\t\tif (!this.supportDynamicHeights) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const item of this.items) {\n\t\t\titem.lastDynamicHeightWidth = undefined;\n\t\t}\n\n\t\tthis._rerender(this.lastRenderTop, this.lastRenderHeight);\n\t}\n\n\tget length(): number {\n\t\treturn this.items.length;\n\t}\n\n\tget renderHeight(): number {\n\t\tconst scrollDimensions = this.scrollableElement.getScrollDimensions();\n\t\treturn scrollDimensions.height;\n\t}\n\n\tget firstVisibleIndex(): number {\n\t\tconst range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst firstElTop = this.rangeMap.positionAt(range.start);\n\t\tconst nextElTop = this.rangeMap.positionAt(range.start + 1);\n\t\tif (nextElTop !== -1) {\n\t\t\tconst firstElMidpoint = (nextElTop - firstElTop) / 2 + firstElTop;\n\t\t\tif (firstElMidpoint < this.scrollTop) {\n\t\t\t\treturn range.start + 1;\n\t\t\t}\n\t\t}\n\n\t\treturn range.start;\n\t}\n\n\tget lastVisibleIndex(): number {\n\t\tconst range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\treturn range.end - 1;\n\t}\n\n\telement(index: number): T {\n\t\treturn this.items[index].element;\n\t}\n\n\tindexOf(element: T): number {\n\t\treturn this.items.findIndex(item => item.element === element);\n\t}\n\n\tdomElement(index: number): HTMLElement | null {\n\t\tconst row = this.items[index].row;\n\t\treturn row && row.domNode;\n\t}\n\n\telementHeight(index: number): number {\n\t\treturn this.items[index].size;\n\t}\n\n\telementTop(index: number): number {\n\t\treturn this.rangeMap.positionAt(index);\n\t}\n\n\tindexAt(position: number): number {\n\t\treturn this.rangeMap.indexAt(position);\n\t}\n\n\tindexAfter(position: number): number {\n\t\treturn this.rangeMap.indexAfter(position);\n\t}\n\n\tlayout(height?: number, width?: number): void {\n\t\tconst scrollDimensions: INewScrollDimensions = {\n\t\t\theight: typeof height === 'number' ? height : getContentHeight(this.domNode)\n\t\t};\n\n\t\tif (this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable.dispose();\n\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\tscrollDimensions.scrollHeight = this.scrollHeight;\n\t\t}\n\n\t\tthis.scrollableElement.setScrollDimensions(scrollDimensions);\n\n\t\tif (typeof width !== 'undefined') {\n\t\t\tthis.renderWidth = width;\n\n\t\t\tif (this.supportDynamicHeights) {\n\t\t\t\tthis._rerender(this.scrollTop, this.renderHeight);\n\t\t\t}\n\t\t}\n\n\t\tif (this.horizontalScrolling) {\n\t\t\tthis.scrollableElement.setScrollDimensions({\n\t\t\t\twidth: typeof width === 'number' ? width : getContentWidth(this.domNode)\n\t\t\t});\n\t\t}\n\t}\n\n\t// Render\n\n\tprotected render(previousRenderRange: IRange, renderTop: number, renderHeight: number, renderLeft: number | undefined, scrollWidth: number | undefined, updateItemsInDOM: boolean = false): void {\n\t\tconst renderRange = this.getRenderRange(renderTop, renderHeight);\n\n\t\tconst rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange);\n\t\tconst rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n\t\tconst beforeElement = this.getNextToLastElement(rangesToInsert);\n\n\t\tif (updateItemsInDOM) {\n\t\t\tconst rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n\n\t\t\tfor (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n\t\t\t\tthis.updateItemInDOM(this.items[i], i);\n\t\t\t}\n\t\t}\n\n\t\tthis.cache.transact(() => {\n\t\t\tfor (const range of rangesToRemove) {\n\t\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\t\tthis.removeItemFromDOM(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const range of rangesToInsert) {\n\t\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\t\tthis.insertItemInDOM(i, beforeElement);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (renderLeft !== undefined) {\n\t\t\tthis.rowsContainer.style.left = `-${renderLeft}px`;\n\t\t}\n\n\t\tthis.rowsContainer.style.top = `-${renderTop}px`;\n\n\t\tif (this.horizontalScrolling && scrollWidth !== undefined) {\n\t\t\tthis.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n\t\t}\n\n\t\tthis.lastRenderTop = renderTop;\n\t\tthis.lastRenderHeight = renderHeight;\n\t}\n\n\t// DOM operations\n\n\tprivate insertItemInDOM(index: number, beforeElement: HTMLElement | null, row?: IRow): void {\n\t\tconst item = this.items[index];\n\n\t\tlet isStale = false;\n\t\tif (!item.row) {\n\t\t\tif (row) {\n\t\t\t\titem.row = row;\n\t\t\t} else {\n\t\t\t\tconst result = this.cache.alloc(item.templateId);\n\t\t\t\titem.row = result.row;\n\t\t\t\tisStale = result.isReusingConnectedDomNode;\n\t\t\t}\n\t\t}\n\n\t\tconst role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n\t\titem.row.domNode.setAttribute('role', role);\n\n\t\tconst checked = this.accessibilityProvider.isChecked(item.element);\n\n\t\tif (typeof checked === 'boolean') {\n\t\t\titem.row!.domNode.setAttribute('aria-checked', String(!!checked));\n\t\t} else if (checked) {\n\t\t\tconst update = (checked: boolean) => item.row!.domNode.setAttribute('aria-checked', String(!!checked));\n\t\t\tupdate(checked.value);\n\t\t\titem.checkedDisposable = checked.onDidChange(update);\n\t\t}\n\n\t\tif (isStale || !item.row.domNode.parentElement) {\n\t\t\tif (beforeElement) {\n\t\t\t\tthis.rowsContainer.insertBefore(item.row.domNode, beforeElement);\n\t\t\t} else {\n\t\t\t\tthis.rowsContainer.appendChild(item.row.domNode);\n\t\t\t}\n\t\t}\n\n\t\tthis.updateItemInDOM(item, index);\n\n\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\tif (!renderer) {\n\t\t\tthrow new Error(`No renderer found for template id ${item.templateId}`);\n\t\t}\n\n\t\trenderer?.renderElement(item.element, index, item.row.templateData, item.size);\n\n\t\tconst uri = this.dnd.getDragURI(item.element);\n\t\titem.dragStartDisposable.dispose();\n\t\titem.row.domNode.draggable = !!uri;\n\n\t\tif (uri) {\n\t\t\titem.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n\t\t}\n\n\t\tif (this.horizontalScrolling) {\n\t\t\tthis.measureItemWidth(item);\n\t\t\tthis.eventuallyUpdateScrollWidth();\n\t\t}\n\t}\n\n\tprivate measureItemWidth(item: IItem<T>): void {\n\t\tif (!item.row || !item.row.domNode) {\n\t\t\treturn;\n\t\t}\n\n\t\titem.row.domNode.style.width = 'fit-content';\n\t\titem.width = getContentWidth(item.row.domNode);\n\t\tconst style = window.getComputedStyle(item.row.domNode);\n\n\t\tif (style.paddingLeft) {\n\t\t\titem.width += parseFloat(style.paddingLeft);\n\t\t}\n\n\t\tif (style.paddingRight) {\n\t\t\titem.width += parseFloat(style.paddingRight);\n\t\t}\n\n\t\titem.row.domNode.style.width = '';\n\t}\n\n\tprivate updateItemInDOM(item: IItem<T>, index: number): void {\n\t\titem.row!.domNode.style.top = `${this.elementTop(index)}px`;\n\n\t\tif (this.setRowHeight) {\n\t\t\titem.row!.domNode.style.height = `${item.size}px`;\n\t\t}\n\n\t\tif (this.setRowLineHeight) {\n\t\t\titem.row!.domNode.style.lineHeight = `${item.size}px`;\n\t\t}\n\n\t\titem.row!.domNode.setAttribute('data-index', `${index}`);\n\t\titem.row!.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n\t\titem.row!.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n\t\titem.row!.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n\t\titem.row!.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n\t\titem.row!.domNode.setAttribute('id', this.getElementDomId(index));\n\n\t\titem.row!.domNode.classList.toggle('drop-target', item.dropTarget);\n\t}\n\n\tprivate removeItemFromDOM(index: number): void {\n\t\tconst item = this.items[index];\n\t\titem.dragStartDisposable.dispose();\n\t\titem.checkedDisposable.dispose();\n\n\t\tif (item.row) {\n\t\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\t\tif (renderer && renderer.disposeElement) {\n\t\t\t\trenderer.disposeElement(item.element, index, item.row.templateData, item.size);\n\t\t\t}\n\n\t\t\tthis.cache.release(item.row);\n\t\t\titem.row = null;\n\t\t}\n\n\t\tif (this.horizontalScrolling) {\n\t\t\tthis.eventuallyUpdateScrollWidth();\n\t\t}\n\t}\n\n\tgetScrollTop(): number {\n\t\tconst scrollPosition = this.scrollableElement.getScrollPosition();\n\t\treturn scrollPosition.scrollTop;\n\t}\n\n\tsetScrollTop(scrollTop: number, reuseAnimation?: boolean): void {\n\t\tif (this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable.dispose();\n\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n\t\t}\n\n\t\tthis.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n\t}\n\n\tgetScrollLeft(): number {\n\t\tconst scrollPosition = this.scrollableElement.getScrollPosition();\n\t\treturn scrollPosition.scrollLeft;\n\t}\n\n\tsetScrollLeft(scrollLeft: number): void {\n\t\tif (this.scrollableElementUpdateDisposable) {\n\t\t\tthis.scrollableElementUpdateDisposable.dispose();\n\t\t\tthis.scrollableElementUpdateDisposable = null;\n\t\t\tthis.scrollableElement.setScrollDimensions({ scrollWidth: this.scrollWidth });\n\t\t}\n\n\t\tthis.scrollableElement.setScrollPosition({ scrollLeft });\n\t}\n\n\n\tget scrollTop(): number {\n\t\treturn this.getScrollTop();\n\t}\n\n\tset scrollTop(scrollTop: number) {\n\t\tthis.setScrollTop(scrollTop);\n\t}\n\n\tget scrollHeight(): number {\n\t\treturn this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.paddingBottom;\n\t}\n\n\t// Events\n\n\t@memoize get onMouseClick(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseDblClick(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseMiddleClick(): Event<IListMouseEvent<T>> { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e as MouseEvent), this.disposables), e => e.browserEvent.button === 1, this.disposables); }\n\t@memoize get onMouseUp(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseup')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseDown(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseOver(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseMove(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousemove')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onMouseOut(): Event<IListMouseEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, e => this.toMouseEvent(e), this.disposables); }\n\t@memoize get onContextMenu(): Event<IListMouseEvent<T> | IListGestureEvent<T>> { return Event.any<IListMouseEvent<any> | IListGestureEvent<any>>(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e), this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event as Event<GestureEvent>, e => this.toGestureEvent(e), this.disposables)); }\n\t@memoize get onTouchStart(): Event<IListTouchEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e), this.disposables); }\n\t@memoize get onTap(): Event<IListGestureEvent<T>> { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e as GestureEvent), this.disposables); }\n\n\tprivate toMouseEvent(browserEvent: MouseEvent): IListMouseEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate toTouchEvent(browserEvent: TouchEvent): IListTouchEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate toGestureEvent(browserEvent: GestureEvent): IListGestureEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate toDragEvent(browserEvent: DragEvent): IListDragEvent<T> {\n\t\tconst index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n\t\tconst item = typeof index === 'undefined' ? undefined : this.items[index];\n\t\tconst element = item && item.element;\n\t\treturn { browserEvent, index, element };\n\t}\n\n\tprivate onScroll(e: ScrollEvent): void {\n\t\ttry {\n\t\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\t\tthis.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n\n\t\t\tif (this.supportDynamicHeights) {\n\t\t\t\tthis._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('Got bad scroll event:', e);\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\tprivate onTouchChange(event: GestureEvent): void {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.scrollTop -= event.translationY;\n\t}\n\n\t// DND\n\n\tprivate onDragStart(element: T, uri: string, event: DragEvent): void {\n\t\tif (!event.dataTransfer) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elements = this.dnd.getDragElements(element);\n\n\t\tevent.dataTransfer.effectAllowed = 'copyMove';\n\t\tevent.dataTransfer.setData(DataTransfers.TEXT, uri);\n\n\t\tif (event.dataTransfer.setDragImage) {\n\t\t\tlet label: string | undefined;\n\n\t\t\tif (this.dnd.getDragLabel) {\n\t\t\t\tlabel = this.dnd.getDragLabel(elements, event);\n\t\t\t}\n\n\t\t\tif (typeof label === 'undefined') {\n\t\t\t\tlabel = String(elements.length);\n\t\t\t}\n\n\t\t\tconst dragImage = $('.monaco-drag-image');\n\t\t\tdragImage.textContent = label;\n\n\t\t\tconst getDragImageContainer = (e: HTMLElement | null) => {\n\t\t\t\twhile (e && !e.classList.contains('monaco-workbench')) {\n\t\t\t\t\te = e.parentElement;\n\t\t\t\t}\n\t\t\t\treturn e || document.body;\n\t\t\t};\n\n\t\t\tconst container = getDragImageContainer(this.domNode);\n\t\t\tcontainer.appendChild(dragImage);\n\t\t\tevent.dataTransfer.setDragImage(dragImage, -10, -10);\n\t\t\tsetTimeout(() => container.removeChild(dragImage), 0);\n\t\t}\n\n\t\tthis.domNode.classList.add('dragging');\n\t\tthis.currentDragData = new ElementsDragAndDropData(elements);\n\t\tStaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n\n\t\tthis.dnd.onDragStart?.(this.currentDragData, event);\n\t}\n\n\tprivate onDragOver(event: IListDragEvent<T>): boolean {\n\t\tevent.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n\n\t\tthis.onDragLeaveTimeout.dispose();\n\n\t\tif (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setupDragAndDropScrollTopAnimation(event.browserEvent);\n\n\t\tif (!event.browserEvent.dataTransfer) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Drag over from outside\n\t\tif (!this.currentDragData) {\n\t\t\tif (StaticDND.CurrentDragAndDropData) {\n\t\t\t\t// Drag over from another list\n\t\t\t\tthis.currentDragData = StaticDND.CurrentDragAndDropData;\n\n\t\t\t} else {\n\t\t\t\t// Drag over from the desktop\n\t\t\t\tif (!event.browserEvent.dataTransfer.types) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.currentDragData = new NativeDragAndDropData();\n\t\t\t}\n\t\t}\n\n\t\tconst result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.browserEvent);\n\t\tthis.canDrop = typeof result === 'boolean' ? result : result.accept;\n\n\t\tif (!this.canDrop) {\n\t\t\tthis.currentDragFeedback = undefined;\n\t\t\tthis.currentDragFeedbackDisposable.dispose();\n\t\t\treturn false;\n\t\t}\n\n\t\tevent.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect === ListDragOverEffect.Copy) ? 'copy' : 'move';\n\n\t\tlet feedback: number[];\n\n\t\tif (typeof result !== 'boolean' && result.feedback) {\n\t\t\tfeedback = result.feedback;\n\t\t} else {\n\t\t\tif (typeof event.index === 'undefined') {\n\t\t\t\tfeedback = [-1];\n\t\t\t} else {\n\t\t\t\tfeedback = [event.index];\n\t\t\t}\n\t\t}\n\n\t\t// sanitize feedback list\n\t\tfeedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n\t\tfeedback = feedback[0] === -1 ? [-1] : feedback;\n\n\t\tif (equalsDragFeedback(this.currentDragFeedback, feedback)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.currentDragFeedback = feedback;\n\t\tthis.currentDragFeedbackDisposable.dispose();\n\n\t\tif (feedback[0] === -1) { // entire list feedback\n\t\t\tthis.domNode.classList.add('drop-target');\n\t\t\tthis.rowsContainer.classList.add('drop-target');\n\t\t\tthis.currentDragFeedbackDisposable = toDisposable(() => {\n\t\t\t\tthis.domNode.classList.remove('drop-target');\n\t\t\t\tthis.rowsContainer.classList.remove('drop-target');\n\t\t\t});\n\t\t} else {\n\t\t\tfor (const index of feedback) {\n\t\t\t\tconst item = this.items[index]!;\n\t\t\t\titem.dropTarget = true;\n\n\t\t\t\titem.row?.domNode.classList.add('drop-target');\n\t\t\t}\n\n\t\t\tthis.currentDragFeedbackDisposable = toDisposable(() => {\n\t\t\t\tfor (const index of feedback) {\n\t\t\t\t\tconst item = this.items[index]!;\n\t\t\t\t\titem.dropTarget = false;\n\n\t\t\t\t\titem.row?.domNode.classList.remove('drop-target');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate onDragLeave(event: IListDragEvent<T>): void {\n\t\tthis.onDragLeaveTimeout.dispose();\n\t\tthis.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100);\n\t\tif (this.currentDragData) {\n\t\t\tthis.dnd.onDragLeave?.(this.currentDragData, event.element, event.index, event.browserEvent);\n\t\t}\n\t}\n\n\tprivate onDrop(event: IListDragEvent<T>): void {\n\t\tif (!this.canDrop) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst dragData = this.currentDragData;\n\t\tthis.teardownDragAndDropScrollTopAnimation();\n\t\tthis.clearDragOverFeedback();\n\t\tthis.domNode.classList.remove('dragging');\n\t\tthis.currentDragData = undefined;\n\t\tStaticDND.CurrentDragAndDropData = undefined;\n\n\t\tif (!dragData || !event.browserEvent.dataTransfer) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.browserEvent.preventDefault();\n\t\tdragData.update(event.browserEvent.dataTransfer);\n\t\tthis.dnd.drop(dragData, event.element, event.index, event.browserEvent);\n\t}\n\n\tprivate onDragEnd(event: DragEvent): void {\n\t\tthis.canDrop = false;\n\t\tthis.teardownDragAndDropScrollTopAnimation();\n\t\tthis.clearDragOverFeedback();\n\t\tthis.domNode.classList.remove('dragging');\n\t\tthis.currentDragData = undefined;\n\t\tStaticDND.CurrentDragAndDropData = undefined;\n\n\t\tthis.dnd.onDragEnd?.(event);\n\t}\n\n\tprivate clearDragOverFeedback(): void {\n\t\tthis.currentDragFeedback = undefined;\n\t\tthis.currentDragFeedbackDisposable.dispose();\n\t\tthis.currentDragFeedbackDisposable = Disposable.None;\n\t}\n\n\t// DND scroll top animation\n\n\tprivate setupDragAndDropScrollTopAnimation(event: DragEvent): void {\n\t\tif (!this.dragOverAnimationDisposable) {\n\t\t\tconst viewTop = getTopLeftOffset(this.domNode).top;\n\t\t\tthis.dragOverAnimationDisposable = animate(this.animateDragAndDropScrollTop.bind(this, viewTop));\n\t\t}\n\n\t\tthis.dragOverAnimationStopDisposable.dispose();\n\t\tthis.dragOverAnimationStopDisposable = disposableTimeout(() => {\n\t\t\tif (this.dragOverAnimationDisposable) {\n\t\t\t\tthis.dragOverAnimationDisposable.dispose();\n\t\t\t\tthis.dragOverAnimationDisposable = undefined;\n\t\t\t}\n\t\t}, 1000);\n\n\t\tthis.dragOverMouseY = event.pageY;\n\t}\n\n\tprivate animateDragAndDropScrollTop(viewTop: number): void {\n\t\tif (this.dragOverMouseY === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst diff = this.dragOverMouseY - viewTop;\n\t\tconst upperLimit = this.renderHeight - 35;\n\n\t\tif (diff < 35) {\n\t\t\tthis.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n\t\t} else if (diff > upperLimit) {\n\t\t\tthis.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n\t\t}\n\t}\n\n\tprivate teardownDragAndDropScrollTopAnimation(): void {\n\t\tthis.dragOverAnimationStopDisposable.dispose();\n\n\t\tif (this.dragOverAnimationDisposable) {\n\t\t\tthis.dragOverAnimationDisposable.dispose();\n\t\t\tthis.dragOverAnimationDisposable = undefined;\n\t\t}\n\t}\n\n\t// Util\n\n\tprivate getItemIndexFromEventTarget(target: EventTarget | null): number | undefined {\n\t\tconst scrollableElement = this.scrollableElement.getDomNode();\n\t\tlet element: HTMLElement | null = target as (HTMLElement | null);\n\n\t\twhile (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n\t\t\tconst rawIndex = element.getAttribute('data-index');\n\n\t\t\tif (rawIndex) {\n\t\t\t\tconst index = Number(rawIndex);\n\n\t\t\t\tif (!isNaN(index)) {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement = element.parentElement;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate getRenderRange(renderTop: number, renderHeight: number): IRange {\n\t\treturn {\n\t\t\tstart: this.rangeMap.indexAt(renderTop),\n\t\t\tend: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n\t\t};\n\t}\n\n\t/**\n\t * Given a stable rendered state, checks every rendered element whether it needs\n\t * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n\t */\n\tprotected _rerender(renderTop: number, renderHeight: number, inSmoothScrolling?: boolean): void {\n\t\tconst previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n\n\t\t// Let's remember the second element's position, this helps in scrolling up\n\t\t// and preserving a linear upwards scroll movement\n\t\tlet anchorElementIndex: number | undefined;\n\t\tlet anchorElementTopDelta: number | undefined;\n\n\t\tif (renderTop === this.elementTop(previousRenderRange.start)) {\n\t\t\tanchorElementIndex = previousRenderRange.start;\n\t\t\tanchorElementTopDelta = 0;\n\t\t} else if (previousRenderRange.end - previousRenderRange.start > 1) {\n\t\t\tanchorElementIndex = previousRenderRange.start + 1;\n\t\t\tanchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n\t\t}\n\n\t\tlet heightDiff = 0;\n\n\t\twhile (true) {\n\t\t\tconst renderRange = this.getRenderRange(renderTop, renderHeight);\n\n\t\t\tlet didChange = false;\n\n\t\t\tfor (let i = renderRange.start; i < renderRange.end; i++) {\n\t\t\t\tconst diff = this.probeDynamicHeight(i);\n\n\t\t\t\tif (diff !== 0) {\n\t\t\t\t\tthis.rangeMap.splice(i, 1, [this.items[i]]);\n\t\t\t\t}\n\n\t\t\t\theightDiff += diff;\n\t\t\t\tdidChange = didChange || diff !== 0;\n\t\t\t}\n\n\t\t\tif (!didChange) {\n\t\t\t\tif (heightDiff !== 0) {\n\t\t\t\t\tthis.eventuallyUpdateScrollDimensions();\n\t\t\t\t}\n\n\t\t\t\tconst unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n\n\t\t\t\tfor (const range of unrenderRanges) {\n\t\t\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\t\t\tif (this.items[i].row) {\n\t\t\t\t\t\t\tthis.removeItemFromDOM(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst renderRanges = Range.relativeComplement(renderRange, previousRenderRange);\n\n\t\t\t\tfor (const range of renderRanges) {\n\t\t\t\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\t\t\t\tconst afterIndex = i + 1;\n\t\t\t\t\t\tconst beforeRow = afterIndex < this.items.length ? this.items[afterIndex].row : null;\n\t\t\t\t\t\tconst beforeElement = beforeRow ? beforeRow.domNode : null;\n\t\t\t\t\t\tthis.insertItemInDOM(i, beforeElement);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (let i = renderRange.start; i < renderRange.end; i++) {\n\t\t\t\t\tif (this.items[i].row) {\n\t\t\t\t\t\tthis.updateItemInDOM(this.items[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof anchorElementIndex === 'number') {\n\t\t\t\t\t// To compute a destination scroll top, we need to take into account the current smooth scrolling\n\t\t\t\t\t// animation, and then reuse it with a new target (to avoid prolonging the scroll)\n\t\t\t\t\t// See https://github.com/microsoft/vscode/issues/104144\n\t\t\t\t\t// See https://github.com/microsoft/vscode/pull/104284\n\t\t\t\t\t// See https://github.com/microsoft/vscode/issues/107704\n\t\t\t\t\tconst deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n\t\t\t\t\tconst newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta! + deltaScrollTop;\n\t\t\t\t\tthis.setScrollTop(newScrollTop, inSmoothScrolling);\n\t\t\t\t}\n\n\t\t\t\tthis._onDidChangeContentHeight.fire(this.contentHeight);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate probeDynamicHeight(index: number): number {\n\t\tconst item = this.items[index];\n\n\t\tif (!!this.virtualDelegate.getDynamicHeight) {\n\t\t\tconst newSize = this.virtualDelegate.getDynamicHeight(item.element);\n\t\t\tif (newSize !== null) {\n\t\t\t\tconst size = item.size;\n\t\t\t\titem.size = newSize;\n\t\t\t\titem.lastDynamicHeightWidth = this.renderWidth;\n\t\t\t\treturn newSize - size;\n\t\t\t}\n\t\t}\n\n\t\tif (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst size = item.size;\n\n\t\tif (item.row) {\n\t\t\titem.row.domNode.style.height = '';\n\t\t\titem.size = item.row.domNode.offsetHeight;\n\t\t\titem.lastDynamicHeightWidth = this.renderWidth;\n\t\t\treturn item.size - size;\n\t\t}\n\n\t\tconst { row } = this.cache.alloc(item.templateId);\n\t\trow.domNode.style.height = '';\n\t\tthis.rowsContainer.appendChild(row.domNode);\n\n\t\tconst renderer = this.renderers.get(item.templateId);\n\n\t\tif (!renderer) {\n\t\t\tthrow new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n\t\t}\n\n\t\trenderer.renderElement(item.element, index, row.templateData, undefined);\n\t\titem.size = row.domNode.offsetHeight;\n\t\trenderer.disposeElement?.(item.element, index, row.templateData, undefined);\n\n\t\tthis.virtualDelegate.setDynamicHeight?.(item.element, item.size);\n\n\t\titem.lastDynamicHeightWidth = this.renderWidth;\n\t\tthis.rowsContainer.removeChild(row.domNode);\n\t\tthis.cache.release(row);\n\n\t\treturn item.size - size;\n\t}\n\n\tprivate getNextToLastElement(ranges: IRange[]): HTMLElement | null {\n\t\tconst lastRange = ranges[ranges.length - 1];\n\n\t\tif (!lastRange) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst nextToLastItem = this.items[lastRange.end];\n\n\t\tif (!nextToLastItem) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!nextToLastItem.row) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn nextToLastItem.row.domNode;\n\t}\n\n\tgetElementDomId(index: number): string {\n\t\treturn `${this.domId}_${index}`;\n\t}\n\n\t// Dispose\n\n\tdispose() {\n\t\tfor (const item of this.items) {\n\t\t\titem.dragStartDisposable.dispose();\n\t\t\titem.checkedDisposable.dispose();\n\n\t\t\tif (item.row) {\n\t\t\t\tconst renderer = this.renderers.get(item.row.templateId);\n\t\t\t\tif (renderer) {\n\t\t\t\t\trenderer.disposeElement?.(item.element, -1, item.row.templateData, undefined);\n\t\t\t\t\trenderer.disposeTemplate(item.row.templateData);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.items = [];\n\n\t\tif (this.domNode && this.domNode.parentNode) {\n\t\t\tthis.domNode.parentNode.removeChild(this.domNode);\n\t\t}\n\n\t\tdispose(this.disposables);\n\t}\n}\n"]}
{"version":3,"sources":["vs/code/electron-sandbox/issue/issueReporterService.ts"],"names":[],"mappings":"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","file":"issueReporterService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { localize } from 'vs/nls';\nimport { $, reset, windowOpenNoOpener } from 'vs/base/browser/dom';\nimport { Button, unthemedButtonStyles } from 'vs/base/browser/ui/button/button';\nimport { renderIcon } from 'vs/base/browser/ui/iconLabel/iconLabels';\nimport { Delayer } from 'vs/base/common/async';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { groupBy } from 'vs/base/common/collections';\nimport { debounce } from 'vs/base/common/decorators';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport { isLinuxSnap, isMacintosh } from 'vs/base/common/platform';\nimport { escape } from 'vs/base/common/strings';\nimport { IssueReporterData as IssueReporterModelData, IssueReporterModel } from 'vs/code/electron-sandbox/issue/issueReporterModel';\nimport { isRemoteDiagnosticError } from 'vs/platform/diagnostics/common/diagnostics';\nimport { IIssueMainService, IssueReporterData, IssueReporterExtensionData, IssueReporterStyles, IssueReporterWindowConfiguration, IssueType } from 'vs/platform/issue/common/issue';\nimport { normalizeGitHubUrl } from 'vs/platform/issue/common/issueReporterUtil';\nimport { INativeHostService } from 'vs/platform/native/common/native';\nimport { applyZoom, zoomIn, zoomOut } from 'vs/platform/window/electron-sandbox/window';\nimport { CancellationError } from 'vs/base/common/errors';\n\n// GitHub has let us know that we could up our limit here to 8k. We chose 7500 to play it safe.\n// ref https://github.com/microsoft/vscode/issues/159191\nconst MAX_URL_LENGTH = 7500;\n\ninterface SearchResult {\n\thtml_url: string;\n\ttitle: string;\n\tstate?: string;\n}\n\nenum IssueSource {\n\tVSCode = 'vscode',\n\tExtension = 'extension',\n\tMarketplace = 'marketplace'\n}\n\nexport class IssueReporter extends Disposable {\n\tprivate readonly issueReporterModel: IssueReporterModel;\n\tprivate numberOfSearchResultsDisplayed = 0;\n\tprivate receivedSystemInfo = false;\n\tprivate receivedPerformanceInfo = false;\n\tprivate shouldQueueSearch = false;\n\tprivate hasBeenSubmitted = false;\n\tprivate delayedSubmit = new Delayer<void>(300);\n\n\tprivate readonly previewButton!: Button;\n\n\tconstructor(\n\t\tprivate readonly configuration: IssueReporterWindowConfiguration,\n\t\t@INativeHostService private readonly nativeHostService: INativeHostService,\n\t\t@IIssueMainService private readonly issueMainService: IIssueMainService\n\t) {\n\t\tsuper();\n\t\tconst targetExtension = configuration.data.extensionId ? configuration.data.enabledExtensions.find(extension => extension.id.toLocaleLowerCase() === configuration.data.extensionId?.toLocaleLowerCase()) : undefined;\n\t\tthis.issueReporterModel = new IssueReporterModel({\n\t\t\t...configuration.data,\n\t\t\tissueType: configuration.data.issueType || IssueType.Bug,\n\t\t\tversionInfo: {\n\t\t\t\tvscodeVersion: `${configuration.product.nameShort} ${!!configuration.product.darwinUniversalAssetId ? `${configuration.product.version} (Universal)` : configuration.product.version} (${configuration.product.commit || 'Commit unknown'}, ${configuration.product.date || 'Date unknown'})`,\n\t\t\t\tos: `${this.configuration.os.type} ${this.configuration.os.arch} ${this.configuration.os.release}${isLinuxSnap ? ' snap' : ''}`\n\t\t\t},\n\t\t\textensionsDisabled: !!configuration.disableExtensions,\n\t\t\tfileOnExtension: configuration.data.extensionId ? !targetExtension?.isBuiltin : undefined,\n\t\t\tselectedExtension: targetExtension\n\t\t});\n\n\t\tconst issueReporterElement = this.getElementById('issue-reporter');\n\t\tif (issueReporterElement) {\n\t\t\tthis.previewButton = new Button(issueReporterElement, unthemedButtonStyles);\n\t\t\tthis.updatePreviewButtonState();\n\t\t}\n\n\t\tconst issueTitle = configuration.data.issueTitle;\n\t\tif (issueTitle) {\n\t\t\tconst issueTitleElement = this.getElementById<HTMLInputElement>('issue-title');\n\t\t\tif (issueTitleElement) {\n\t\t\t\tissueTitleElement.value = issueTitle;\n\t\t\t}\n\t\t}\n\n\t\tconst issueBody = configuration.data.issueBody;\n\t\tif (issueBody) {\n\t\t\tconst description = this.getElementById<HTMLTextAreaElement>('description');\n\t\t\tif (description) {\n\t\t\t\tdescription.value = issueBody;\n\t\t\t\tthis.issueReporterModel.update({ issueDescription: issueBody });\n\t\t\t}\n\t\t}\n\n\t\tthis.issueMainService.$getSystemInfo().then(info => {\n\t\t\tthis.issueReporterModel.update({ systemInfo: info });\n\t\t\tthis.receivedSystemInfo = true;\n\n\t\t\tthis.updateSystemInfo(this.issueReporterModel.getData());\n\t\t\tthis.updatePreviewButtonState();\n\t\t});\n\t\tif (configuration.data.issueType === IssueType.PerformanceIssue) {\n\t\t\tthis.issueMainService.$getPerformanceInfo().then(info => {\n\t\t\t\tthis.updatePerformanceInfo(info as Partial<IssueReporterData>);\n\t\t\t});\n\t\t}\n\n\t\tif (window.document.documentElement.lang !== 'en') {\n\t\t\tshow(this.getElementById('english'));\n\t\t}\n\n\t\tthis.setUpTypes();\n\t\tthis.setEventHandlers();\n\t\tapplyZoom(configuration.data.zoomLevel);\n\t\tthis.applyStyles(configuration.data.styles);\n\t\tthis.handleExtensionData(configuration.data.enabledExtensions);\n\t\tthis.updateExperimentsInfo(configuration.data.experiments);\n\t\tthis.updateRestrictedMode(configuration.data.restrictedMode);\n\t\tthis.updateUnsupportedMode(configuration.data.isUnsupported);\n\t}\n\n\trender(): void {\n\t\tthis.renderBlocks();\n\t}\n\n\tsetInitialFocus() {\n\t\tconst { fileOnExtension } = this.issueReporterModel.getData();\n\t\tif (fileOnExtension) {\n\t\t\tconst issueTitle = document.getElementById('issue-title');\n\t\t\tissueTitle?.focus();\n\t\t} else {\n\t\t\tconst issueType = document.getElementById('issue-type');\n\t\t\tissueType?.focus();\n\t\t}\n\t}\n\n\tprivate applyStyles(styles: IssueReporterStyles) {\n\t\tconst styleTag = document.createElement('style');\n\t\tconst content: string[] = [];\n\n\t\tif (styles.inputBackground) {\n\t\t\tcontent.push(`input[type=\"text\"], textarea, select, .issues-container > .issue > .issue-state, .block-info { background-color: ${styles.inputBackground}; }`);\n\t\t}\n\n\t\tif (styles.inputBorder) {\n\t\t\tcontent.push(`input[type=\"text\"], textarea, select { border: 1px solid ${styles.inputBorder}; }`);\n\t\t} else {\n\t\t\tcontent.push(`input[type=\"text\"], textarea, select { border: 1px solid transparent; }`);\n\t\t}\n\n\t\tif (styles.inputForeground) {\n\t\t\tcontent.push(`input[type=\"text\"], textarea, select, .issues-container > .issue > .issue-state, .block-info { color: ${styles.inputForeground}; }`);\n\t\t}\n\n\t\tif (styles.inputErrorBorder) {\n\t\t\tcontent.push(`.invalid-input, .invalid-input:focus, .validation-error { border: 1px solid ${styles.inputErrorBorder} !important; }`);\n\t\t\tcontent.push(`.required-input { color: ${styles.inputErrorBorder}; }`);\n\t\t}\n\n\t\tif (styles.inputErrorBackground) {\n\t\t\tcontent.push(`.validation-error { background: ${styles.inputErrorBackground}; }`);\n\t\t}\n\n\t\tif (styles.inputErrorForeground) {\n\t\t\tcontent.push(`.validation-error { color: ${styles.inputErrorForeground}; }`);\n\t\t}\n\n\t\tif (styles.inputActiveBorder) {\n\t\t\tcontent.push(`input[type='text']:focus, textarea:focus, select:focus, summary:focus, button:focus, a:focus, .workbenchCommand:focus  { border: 1px solid ${styles.inputActiveBorder}; outline-style: none; }`);\n\t\t}\n\n\t\tif (styles.textLinkColor) {\n\t\t\tcontent.push(`a, .workbenchCommand { color: ${styles.textLinkColor}; }`);\n\t\t}\n\n\t\tif (styles.textLinkColor) {\n\t\t\tcontent.push(`a { color: ${styles.textLinkColor}; }`);\n\t\t}\n\n\t\tif (styles.textLinkActiveForeground) {\n\t\t\tcontent.push(`a:hover, .workbenchCommand:hover { color: ${styles.textLinkActiveForeground}; }`);\n\t\t}\n\n\t\tif (styles.sliderBackgroundColor) {\n\t\t\tcontent.push(`::-webkit-scrollbar-thumb { background-color: ${styles.sliderBackgroundColor}; }`);\n\t\t}\n\n\t\tif (styles.sliderActiveColor) {\n\t\t\tcontent.push(`::-webkit-scrollbar-thumb:active { background-color: ${styles.sliderActiveColor}; }`);\n\t\t}\n\n\t\tif (styles.sliderHoverColor) {\n\t\t\tcontent.push(`::--webkit-scrollbar-thumb:hover { background-color: ${styles.sliderHoverColor}; }`);\n\t\t}\n\n\t\tif (styles.buttonBackground) {\n\t\t\tcontent.push(`.monaco-text-button { background-color: ${styles.buttonBackground} !important; }`);\n\t\t}\n\n\t\tif (styles.buttonForeground) {\n\t\t\tcontent.push(`.monaco-text-button { color: ${styles.buttonForeground} !important; }`);\n\t\t}\n\n\t\tif (styles.buttonHoverBackground) {\n\t\t\tcontent.push(`.monaco-text-button:not(.disabled):hover, .monaco-text-button:focus { background-color: ${styles.buttonHoverBackground} !important; }`);\n\t\t}\n\n\t\tstyleTag.textContent = content.join('\\n');\n\t\tdocument.head.appendChild(styleTag);\n\t\tdocument.body.style.color = styles.color || '';\n\t}\n\n\tprivate handleExtensionData(extensions: IssueReporterExtensionData[]) {\n\t\tconst installedExtensions = extensions.filter(x => !x.isBuiltin);\n\t\tconst { nonThemes, themes } = groupBy(installedExtensions, ext => {\n\t\t\treturn ext.isTheme ? 'themes' : 'nonThemes';\n\t\t});\n\n\t\tconst numberOfThemeExtesions = themes && themes.length;\n\t\tthis.issueReporterModel.update({ numberOfThemeExtesions, enabledNonThemeExtesions: nonThemes, allExtensions: installedExtensions });\n\t\tthis.updateExtensionTable(nonThemes, numberOfThemeExtesions);\n\t\tif (this.configuration.disableExtensions || installedExtensions.length === 0) {\n\t\t\t(<HTMLButtonElement>this.getElementById('disableExtensions')).disabled = true;\n\t\t}\n\n\t\tthis.updateExtensionSelector(installedExtensions);\n\t}\n\n\tprivate async updateIssueReporterUri(extension: IssueReporterExtensionData): Promise<void> {\n\t\ttry {\n\t\t\tconst uri = await this.issueMainService.$getIssueReporterUri(extension.id);\n\t\t\textension.bugsUrl = uri.toString(true);\n\t\t} catch (e) {\n\t\t\textension.hasIssueUriRequestHandler = false;\n\t\t\t// The issue handler failed so fall back to old issue reporter experience.\n\t\t\tthis.renderBlocks();\n\t\t}\n\t}\n\n\tprivate setEventHandlers(): void {\n\t\tthis.addEventListener('issue-type', 'change', (event: Event) => {\n\t\t\tconst issueType = parseInt((<HTMLInputElement>event.target).value);\n\t\t\tthis.issueReporterModel.update({ issueType: issueType });\n\t\t\tif (issueType === IssueType.PerformanceIssue && !this.receivedPerformanceInfo) {\n\t\t\t\tthis.issueMainService.$getPerformanceInfo().then(info => {\n\t\t\t\t\tthis.updatePerformanceInfo(info as Partial<IssueReporterData>);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.updatePreviewButtonState();\n\t\t\tthis.setSourceOptions();\n\t\t\tthis.render();\n\t\t});\n\n\t\t(['includeSystemInfo', 'includeProcessInfo', 'includeWorkspaceInfo', 'includeExtensions', 'includeExperiments'] as const).forEach(elementId => {\n\t\t\tthis.addEventListener(elementId, 'click', (event: Event) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tthis.issueReporterModel.update({ [elementId]: !this.issueReporterModel.getData()[elementId] });\n\t\t\t});\n\t\t});\n\n\t\tconst showInfoElements = document.getElementsByClassName('showInfo');\n\t\tfor (let i = 0; i < showInfoElements.length; i++) {\n\t\t\tconst showInfo = showInfoElements.item(i)!;\n\t\t\t(showInfo as HTMLAnchorElement).addEventListener('click', (e: MouseEvent) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst label = (<HTMLDivElement>e.target);\n\t\t\t\tif (label) {\n\t\t\t\t\tconst containingElement = label.parentElement && label.parentElement.parentElement;\n\t\t\t\t\tconst info = containingElement && containingElement.lastElementChild;\n\t\t\t\t\tif (info && info.classList.contains('hidden')) {\n\t\t\t\t\t\tshow(info);\n\t\t\t\t\t\tlabel.textContent = localize('hide', \"hide\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\thide(info);\n\t\t\t\t\t\tlabel.textContent = localize('show', \"show\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.addEventListener('issue-source', 'change', (e: Event) => {\n\t\t\tconst value = (<HTMLInputElement>e.target).value;\n\t\t\tconst problemSourceHelpText = this.getElementById('problem-source-help-text')!;\n\t\t\tif (value === '') {\n\t\t\t\tthis.issueReporterModel.update({ fileOnExtension: undefined });\n\t\t\t\tshow(problemSourceHelpText);\n\t\t\t\tthis.clearSearchResults();\n\t\t\t\tthis.render();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\thide(problemSourceHelpText);\n\t\t\t}\n\n\t\t\tlet fileOnExtension, fileOnMarketplace = false;\n\t\t\tif (value === IssueSource.Extension) {\n\t\t\t\tfileOnExtension = true;\n\t\t\t} else if (value === IssueSource.Marketplace) {\n\t\t\t\tfileOnMarketplace = true;\n\t\t\t}\n\n\t\t\tthis.issueReporterModel.update({ fileOnExtension, fileOnMarketplace });\n\t\t\tthis.render();\n\n\t\t\tconst title = (<HTMLInputElement>this.getElementById('issue-title')).value;\n\t\t\tthis.searchIssues(title, fileOnExtension, fileOnMarketplace);\n\t\t});\n\n\t\tthis.addEventListener('description', 'input', (e: Event) => {\n\t\t\tconst issueDescription = (<HTMLInputElement>e.target).value;\n\t\t\tthis.issueReporterModel.update({ issueDescription });\n\n\t\t\t// Only search for extension issues on title change\n\t\t\tif (this.issueReporterModel.fileOnExtension() === false) {\n\t\t\t\tconst title = (<HTMLInputElement>this.getElementById('issue-title')).value;\n\t\t\t\tthis.searchVSCodeIssues(title, issueDescription);\n\t\t\t}\n\t\t});\n\n\t\tthis.addEventListener('issue-title', 'input', (e: Event) => {\n\t\t\tconst title = (<HTMLInputElement>e.target).value;\n\t\t\tconst lengthValidationMessage = this.getElementById('issue-title-length-validation-error');\n\t\t\tconst issueUrl = this.getIssueUrl();\n\t\t\tif (title && this.getIssueUrlWithTitle(title, issueUrl).length > MAX_URL_LENGTH) {\n\t\t\t\tshow(lengthValidationMessage);\n\t\t\t} else {\n\t\t\t\thide(lengthValidationMessage);\n\t\t\t}\n\t\t\tconst issueSource = this.getElementById<HTMLSelectElement>('issue-source');\n\t\t\tif (!issueSource || issueSource.value === '') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { fileOnExtension, fileOnMarketplace } = this.issueReporterModel.getData();\n\t\t\tthis.searchIssues(title, fileOnExtension, fileOnMarketplace);\n\t\t});\n\n\t\tthis.previewButton.onDidClick(async () => {\n\t\t\tthis.delayedSubmit.trigger(async () => {\n\t\t\t\tthis.createIssue();\n\t\t\t});\n\t\t});\n\n\t\tthis.addEventListener('disableExtensions', 'click', () => {\n\t\t\tthis.issueMainService.$reloadWithExtensionsDisabled();\n\t\t});\n\n\t\tthis.addEventListener('extensionBugsLink', 'click', (e: Event) => {\n\t\t\tconst url = (<HTMLElement>e.target).innerText;\n\t\t\twindowOpenNoOpener(url);\n\t\t});\n\n\t\tthis.addEventListener('disableExtensions', 'keydown', (e: Event) => {\n\t\t\te.stopPropagation();\n\t\t\tif ((e as KeyboardEvent).keyCode === 13 || (e as KeyboardEvent).keyCode === 32) {\n\t\t\t\tthis.issueMainService.$reloadWithExtensionsDisabled();\n\t\t\t}\n\t\t});\n\n\t\tdocument.onkeydown = async (e: KeyboardEvent) => {\n\t\t\tconst cmdOrCtrlKey = isMacintosh ? e.metaKey : e.ctrlKey;\n\t\t\t// Cmd/Ctrl+Enter previews issue and closes window\n\t\t\tif (cmdOrCtrlKey && e.keyCode === 13) {\n\t\t\t\tthis.delayedSubmit.trigger(async () => {\n\t\t\t\t\tif (await this.createIssue()) {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Cmd/Ctrl + w closes issue window\n\t\t\tif (cmdOrCtrlKey && e.keyCode === 87) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\n\t\t\t\tconst issueTitle = (<HTMLInputElement>this.getElementById('issue-title'))!.value;\n\t\t\t\tconst { issueDescription } = this.issueReporterModel.getData();\n\t\t\t\tif (!this.hasBeenSubmitted && (issueTitle || issueDescription)) {\n\t\t\t\t\t// fire and forget\n\t\t\t\t\tthis.issueMainService.$showConfirmCloseDialog();\n\t\t\t\t} else {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cmd/Ctrl + zooms in\n\t\t\tif (cmdOrCtrlKey && e.keyCode === 187) {\n\t\t\t\tzoomIn();\n\t\t\t}\n\n\t\t\t// Cmd/Ctrl - zooms out\n\t\t\tif (cmdOrCtrlKey && e.keyCode === 189) {\n\t\t\t\tzoomOut();\n\t\t\t}\n\n\t\t\t// With latest electron upgrade, cmd+a is no longer propagating correctly for inputs in this window on mac\n\t\t\t// Manually perform the selection\n\t\t\tif (isMacintosh) {\n\t\t\t\tif (cmdOrCtrlKey && e.keyCode === 65 && e.target) {\n\t\t\t\t\tif (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\n\t\t\t\t\t\t(<HTMLInputElement>e.target).select();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate updatePerformanceInfo(info: Partial<IssueReporterData>) {\n\t\tthis.issueReporterModel.update(info);\n\t\tthis.receivedPerformanceInfo = true;\n\n\t\tconst state = this.issueReporterModel.getData();\n\t\tthis.updateProcessInfo(state);\n\t\tthis.updateWorkspaceInfo(state);\n\t\tthis.updatePreviewButtonState();\n\t}\n\n\tprivate updatePreviewButtonState() {\n\t\tif (this.isPreviewEnabled()) {\n\t\t\tif (this.configuration.data.githubAccessToken) {\n\t\t\t\tthis.previewButton.label = localize('createOnGitHub', \"Create on GitHub\");\n\t\t\t} else {\n\t\t\t\tthis.previewButton.label = localize('previewOnGitHub', \"Preview on GitHub\");\n\t\t\t}\n\t\t\tthis.previewButton.enabled = true;\n\t\t} else {\n\t\t\tthis.previewButton.enabled = false;\n\t\t\tthis.previewButton.label = localize('loadingData', \"Loading data...\");\n\t\t}\n\t}\n\n\tprivate isPreviewEnabled() {\n\t\tconst issueType = this.issueReporterModel.getData().issueType;\n\t\tif (issueType === IssueType.Bug && this.receivedSystemInfo) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (issueType === IssueType.PerformanceIssue && this.receivedSystemInfo && this.receivedPerformanceInfo) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (issueType === IssueType.FeatureRequest) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate getExtensionRepositoryUrl(): string | undefined {\n\t\tconst selectedExtension = this.issueReporterModel.getData().selectedExtension;\n\t\treturn selectedExtension && selectedExtension.repositoryUrl;\n\t}\n\n\tprivate getExtensionBugsUrl(): string | undefined {\n\t\tconst selectedExtension = this.issueReporterModel.getData().selectedExtension;\n\t\treturn selectedExtension && selectedExtension.bugsUrl;\n\t}\n\n\tprivate searchVSCodeIssues(title: string, issueDescription?: string): void {\n\t\tif (title) {\n\t\t\tthis.searchDuplicates(title, issueDescription);\n\t\t} else {\n\t\t\tthis.clearSearchResults();\n\t\t}\n\t}\n\n\tprivate searchIssues(title: string, fileOnExtension: boolean | undefined, fileOnMarketplace: boolean | undefined): void {\n\t\tif (fileOnExtension) {\n\t\t\treturn this.searchExtensionIssues(title);\n\t\t}\n\n\t\tif (fileOnMarketplace) {\n\t\t\treturn this.searchMarketplaceIssues(title);\n\t\t}\n\n\t\tconst description = this.issueReporterModel.getData().issueDescription;\n\t\tthis.searchVSCodeIssues(title, description);\n\t}\n\n\tprivate searchExtensionIssues(title: string): void {\n\t\tconst url = this.getExtensionGitHubUrl();\n\t\tif (title) {\n\t\t\tconst matches = /^https?:\\/\\/github\\.com\\/(.*)/.exec(url);\n\t\t\tif (matches && matches.length) {\n\t\t\t\tconst repo = matches[1];\n\t\t\t\treturn this.searchGitHub(repo, title);\n\t\t\t}\n\n\t\t\t// If the extension has no repository, display empty search results\n\t\t\tif (this.issueReporterModel.getData().selectedExtension) {\n\t\t\t\tthis.clearSearchResults();\n\t\t\t\treturn this.displaySearchResults([]);\n\n\t\t\t}\n\t\t}\n\n\t\tthis.clearSearchResults();\n\t}\n\n\tprivate searchMarketplaceIssues(title: string): void {\n\t\tif (title) {\n\t\t\tconst gitHubInfo = this.parseGitHubUrl(this.configuration.product.reportMarketplaceIssueUrl!);\n\t\t\tif (gitHubInfo) {\n\t\t\t\treturn this.searchGitHub(`${gitHubInfo.owner}/${gitHubInfo.repositoryName}`, title);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async close(): Promise<void> {\n\t\tawait this.issueMainService.$closeReporter();\n\t}\n\n\tprivate clearSearchResults(): void {\n\t\tconst similarIssues = this.getElementById('similar-issues')!;\n\t\tsimilarIssues.innerText = '';\n\t\tthis.numberOfSearchResultsDisplayed = 0;\n\t}\n\n\t@debounce(300)\n\tprivate searchGitHub(repo: string, title: string): void {\n\t\tconst query = `is:issue+repo:${repo}+${title}`;\n\t\tconst similarIssues = this.getElementById('similar-issues')!;\n\n\t\twindow.fetch(`https://api.github.com/search/issues?q=${query}`).then((response) => {\n\t\t\tresponse.json().then(result => {\n\t\t\t\tsimilarIssues.innerText = '';\n\t\t\t\tif (result && result.items) {\n\t\t\t\t\tthis.displaySearchResults(result.items);\n\t\t\t\t} else {\n\t\t\t\t\t// If the items property isn't present, the rate limit has been hit\n\t\t\t\t\tconst message = $('div.list-title');\n\t\t\t\t\tmessage.textContent = localize('rateLimited', \"GitHub query limit exceeded. Please wait.\");\n\t\t\t\t\tsimilarIssues.appendChild(message);\n\n\t\t\t\t\tconst resetTime = response.headers.get('X-RateLimit-Reset');\n\t\t\t\t\tconst timeToWait = resetTime ? parseInt(resetTime) - Math.floor(Date.now() / 1000) : 1;\n\t\t\t\t\tif (this.shouldQueueSearch) {\n\t\t\t\t\t\tthis.shouldQueueSearch = false;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.searchGitHub(repo, title);\n\t\t\t\t\t\t\tthis.shouldQueueSearch = true;\n\t\t\t\t\t\t}, timeToWait * 1000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch(_ => {\n\t\t\t\t// Ignore\n\t\t\t});\n\t\t}).catch(_ => {\n\t\t\t// Ignore\n\t\t});\n\t}\n\n\t@debounce(300)\n\tprivate searchDuplicates(title: string, body?: string): void {\n\t\tconst url = 'https://vscode-probot.westus.cloudapp.azure.com:7890/duplicate_candidates';\n\t\tconst init = {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttitle,\n\t\t\t\tbody\n\t\t\t}),\n\t\t\theaders: new Headers({\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t})\n\t\t};\n\n\t\twindow.fetch(url, init).then((response) => {\n\t\t\tresponse.json().then(result => {\n\t\t\t\tthis.clearSearchResults();\n\n\t\t\t\tif (result && result.candidates) {\n\t\t\t\t\tthis.displaySearchResults(result.candidates);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('Unexpected response, no candidates property');\n\t\t\t\t}\n\t\t\t}).catch(_ => {\n\t\t\t\t// Ignore\n\t\t\t});\n\t\t}).catch(_ => {\n\t\t\t// Ignore\n\t\t});\n\t}\n\n\tprivate displaySearchResults(results: SearchResult[]) {\n\t\tconst similarIssues = this.getElementById('similar-issues')!;\n\t\tif (results.length) {\n\t\t\tconst issues = $('div.issues-container');\n\t\t\tconst issuesText = $('div.list-title');\n\t\t\tissuesText.textContent = localize('similarIssues', \"Similar issues\");\n\n\t\t\tthis.numberOfSearchResultsDisplayed = results.length < 5 ? results.length : 5;\n\t\t\tfor (let i = 0; i < this.numberOfSearchResultsDisplayed; i++) {\n\t\t\t\tconst issue = results[i];\n\t\t\t\tconst link = $('a.issue-link', { href: issue.html_url });\n\t\t\t\tlink.textContent = issue.title;\n\t\t\t\tlink.title = issue.title;\n\t\t\t\tlink.addEventListener('click', (e) => this.openLink(e));\n\t\t\t\tlink.addEventListener('auxclick', (e) => this.openLink(<MouseEvent>e));\n\n\t\t\t\tlet issueState: HTMLElement;\n\t\t\t\tlet item: HTMLElement;\n\t\t\t\tif (issue.state) {\n\t\t\t\t\tissueState = $('span.issue-state');\n\n\t\t\t\t\tconst issueIcon = $('span.issue-icon');\n\t\t\t\t\tissueIcon.appendChild(renderIcon(issue.state === 'open' ? Codicon.issueOpened : Codicon.issueClosed));\n\n\t\t\t\t\tconst issueStateLabel = $('span.issue-state.label');\n\t\t\t\t\tissueStateLabel.textContent = issue.state === 'open' ? localize('open', \"Open\") : localize('closed', \"Closed\");\n\n\t\t\t\t\tissueState.title = issue.state === 'open' ? localize('open', \"Open\") : localize('closed', \"Closed\");\n\t\t\t\t\tissueState.appendChild(issueIcon);\n\t\t\t\t\tissueState.appendChild(issueStateLabel);\n\n\t\t\t\t\titem = $('div.issue', undefined, issueState, link);\n\t\t\t\t} else {\n\t\t\t\t\titem = $('div.issue', undefined, link);\n\t\t\t\t}\n\n\t\t\t\tissues.appendChild(item);\n\t\t\t}\n\n\t\t\tsimilarIssues.appendChild(issuesText);\n\t\t\tsimilarIssues.appendChild(issues);\n\t\t} else {\n\t\t\tconst message = $('div.list-title');\n\t\t\tmessage.textContent = localize('noSimilarIssues', \"No similar issues found\");\n\t\t\tsimilarIssues.appendChild(message);\n\t\t}\n\t}\n\n\tprivate setUpTypes(): void {\n\t\tconst makeOption = (issueType: IssueType, description: string) => $('option', { 'value': issueType.valueOf() }, escape(description));\n\n\t\tconst typeSelect = this.getElementById('issue-type')! as HTMLSelectElement;\n\t\tconst { issueType } = this.issueReporterModel.getData();\n\t\treset(typeSelect,\n\t\t\tmakeOption(IssueType.Bug, localize('bugReporter', \"Bug Report\")),\n\t\t\tmakeOption(IssueType.FeatureRequest, localize('featureRequest', \"Feature Request\")),\n\t\t\tmakeOption(IssueType.PerformanceIssue, localize('performanceIssue', \"Performance Issue\"))\n\t\t);\n\n\t\ttypeSelect.value = issueType.toString();\n\n\t\tthis.setSourceOptions();\n\t}\n\n\tprivate makeOption(value: string, description: string, disabled: boolean): HTMLOptionElement {\n\t\tconst option: HTMLOptionElement = document.createElement('option');\n\t\toption.disabled = disabled;\n\t\toption.value = value;\n\t\toption.textContent = description;\n\n\t\treturn option;\n\t}\n\n\tprivate setSourceOptions(): void {\n\t\tconst sourceSelect = this.getElementById('issue-source')! as HTMLSelectElement;\n\t\tconst { issueType, fileOnExtension, selectedExtension } = this.issueReporterModel.getData();\n\t\tlet selected = sourceSelect.selectedIndex;\n\t\tif (selected === -1) {\n\t\t\tif (fileOnExtension !== undefined) {\n\t\t\t\tselected = fileOnExtension ? 2 : 1;\n\t\t\t} else if (selectedExtension?.isBuiltin) {\n\t\t\t\tselected = 1;\n\t\t\t}\n\t\t}\n\n\t\tsourceSelect.innerText = '';\n\t\tsourceSelect.append(this.makeOption('', localize('selectSource', \"Select source\"), true));\n\t\tsourceSelect.append(this.makeOption('vscode', localize('vscode', \"Visual Studio Code\"), false));\n\t\tsourceSelect.append(this.makeOption('extension', localize('extension', \"An extension\"), false));\n\t\tif (this.configuration.product.reportMarketplaceIssueUrl) {\n\t\t\tsourceSelect.append(this.makeOption('marketplace', localize('marketplace', \"Extensions marketplace\"), false));\n\t\t}\n\n\t\tif (issueType !== IssueType.FeatureRequest) {\n\t\t\tsourceSelect.append(this.makeOption('', localize('unknown', \"Don't know\"), false));\n\t\t}\n\n\t\tif (selected !== -1 && selected < sourceSelect.options.length) {\n\t\t\tsourceSelect.selectedIndex = selected;\n\t\t} else {\n\t\t\tsourceSelect.selectedIndex = 0;\n\t\t\thide(this.getElementById('problem-source-help-text'));\n\t\t}\n\t}\n\n\tprivate renderBlocks(): void {\n\t\t// Depending on Issue Type, we render different blocks and text\n\t\tconst { issueType, fileOnExtension, fileOnMarketplace, selectedExtension } = this.issueReporterModel.getData();\n\t\tconst blockContainer = this.getElementById('block-container');\n\t\tconst systemBlock = document.querySelector('.block-system');\n\t\tconst processBlock = document.querySelector('.block-process');\n\t\tconst workspaceBlock = document.querySelector('.block-workspace');\n\t\tconst extensionsBlock = document.querySelector('.block-extensions');\n\t\tconst experimentsBlock = document.querySelector('.block-experiments');\n\n\t\tconst problemSource = this.getElementById('problem-source')!;\n\t\tconst descriptionTitle = this.getElementById('issue-description-label')!;\n\t\tconst descriptionSubtitle = this.getElementById('issue-description-subtitle')!;\n\t\tconst extensionSelector = this.getElementById('extension-selection')!;\n\n\t\tconst titleTextArea = this.getElementById('issue-title-container')!;\n\t\tconst descriptionTextArea = this.getElementById('description')!;\n\n\t\t// Hide all by default\n\t\thide(blockContainer);\n\t\thide(systemBlock);\n\t\thide(processBlock);\n\t\thide(workspaceBlock);\n\t\thide(extensionsBlock);\n\t\thide(experimentsBlock);\n\t\thide(problemSource);\n\t\thide(extensionSelector);\n\n\t\tshow(problemSource);\n\t\tshow(titleTextArea);\n\t\tshow(descriptionTextArea);\n\n\t\tif (fileOnExtension) {\n\t\t\tshow(extensionSelector);\n\t\t}\n\n\t\tif (fileOnExtension && selectedExtension?.hasIssueUriRequestHandler) {\n\t\t\thide(titleTextArea);\n\t\t\thide(descriptionTextArea);\n\t\t\treset(descriptionTitle, localize('handlesIssuesElsewhere', \"This extension handles issues outside of VS Code\"));\n\t\t\treset(descriptionSubtitle, localize('elsewhereDescription', \"The '{0}' extension prefers to use an external issue reporter. To be taken to that issue reporting experience, click the button below.\", selectedExtension.displayName));\n\t\t\tthis.previewButton.label = localize('openIssueReporter', \"Open External Issue Reporter\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (issueType === IssueType.Bug) {\n\t\t\tif (!fileOnMarketplace) {\n\t\t\t\tshow(blockContainer);\n\t\t\t\tshow(systemBlock);\n\t\t\t\tshow(experimentsBlock);\n\t\t\t\tif (!fileOnExtension) {\n\t\t\t\t\tshow(extensionsBlock);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treset(descriptionTitle, localize('stepsToReproduce', \"Steps to Reproduce\") + ' ', $('span.required-input', undefined, '*'));\n\t\t\treset(descriptionSubtitle, localize('bugDescription', \"Share the steps needed to reliably reproduce the problem. Please include actual and expected results. We support GitHub-flavored Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.\"));\n\t\t} else if (issueType === IssueType.PerformanceIssue) {\n\t\t\tif (!fileOnMarketplace) {\n\t\t\t\tshow(blockContainer);\n\t\t\t\tshow(systemBlock);\n\t\t\t\tshow(processBlock);\n\t\t\t\tshow(workspaceBlock);\n\t\t\t\tshow(experimentsBlock);\n\t\t\t}\n\n\t\t\tif (fileOnExtension) {\n\t\t\t\tshow(extensionSelector);\n\t\t\t} else if (!fileOnMarketplace) {\n\t\t\t\tshow(extensionsBlock);\n\t\t\t}\n\n\t\t\treset(descriptionTitle, localize('stepsToReproduce', \"Steps to Reproduce\") + ' ', $('span.required-input', undefined, '*'));\n\t\t\treset(descriptionSubtitle, localize('performanceIssueDesciption', \"When did this performance issue happen? Does it occur on startup or after a specific series of actions? We support GitHub-flavored Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.\"));\n\t\t} else if (issueType === IssueType.FeatureRequest) {\n\t\t\treset(descriptionTitle, localize('description', \"Description\") + ' ', $('span.required-input', undefined, '*'));\n\t\t\treset(descriptionSubtitle, localize('featureRequestDescription', \"Please describe the feature you would like to see. We support GitHub-flavored Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.\"));\n\t\t}\n\t}\n\n\tprivate validateInput(inputId: string): boolean {\n\t\tconst inputElement = (<HTMLInputElement>this.getElementById(inputId));\n\t\tconst inputValidationMessage = this.getElementById(`${inputId}-empty-error`);\n\t\tif (!inputElement.value) {\n\t\t\tinputElement.classList.add('invalid-input');\n\t\t\tinputValidationMessage?.classList.remove('hidden');\n\t\t\treturn false;\n\t\t} else {\n\t\t\tinputElement.classList.remove('invalid-input');\n\t\t\tinputValidationMessage?.classList.add('hidden');\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tprivate validateInputs(): boolean {\n\t\tlet isValid = true;\n\t\t['issue-title', 'description', 'issue-source'].forEach(elementId => {\n\t\t\tisValid = this.validateInput(elementId) && isValid;\n\t\t});\n\n\t\tif (this.issueReporterModel.fileOnExtension()) {\n\t\t\tisValid = this.validateInput('extension-selector') && isValid;\n\t\t}\n\n\t\treturn isValid;\n\t}\n\n\tprivate async submitToGitHub(issueTitle: string, issueBody: string, gitHubDetails: { owner: string; repositoryName: string }): Promise<boolean> {\n\t\tconst url = `https://api.github.com/repos/${gitHubDetails.owner}/${gitHubDetails.repositoryName}/issues`;\n\t\tconst init = {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttitle: issueTitle,\n\t\t\t\tbody: issueBody\n\t\t\t}),\n\t\t\theaders: new Headers({\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': `Bearer ${this.configuration.data.githubAccessToken}`\n\t\t\t})\n\t\t};\n\n\t\tconst response = await window.fetch(url, init);\n\t\tif (!response.ok) {\n\t\t\treturn false;\n\t\t}\n\t\tconst result = await response.json();\n\t\tawait this.nativeHostService.openExternal(result.html_url);\n\t\tthis.close();\n\t\treturn true;\n\t}\n\n\tprivate async createIssue(): Promise<boolean> {\n\t\t// Short circuit if the extension provides a custom issue handler\n\t\tif (this.issueReporterModel.getData().selectedExtension?.hasIssueUriRequestHandler) {\n\t\t\tconst url = this.getExtensionBugsUrl();\n\t\t\tif (url) {\n\t\t\t\tthis.hasBeenSubmitted = true;\n\t\t\t\tawait this.nativeHostService.openExternal(url);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (!this.validateInputs()) {\n\t\t\t// If inputs are invalid, set focus to the first one and add listeners on them\n\t\t\t// to detect further changes\n\t\t\tconst invalidInput = document.getElementsByClassName('invalid-input');\n\t\t\tif (invalidInput.length) {\n\t\t\t\t(<HTMLInputElement>invalidInput[0]).focus();\n\t\t\t}\n\n\t\t\tthis.addEventListener('issue-title', 'input', _ => {\n\t\t\t\tthis.validateInput('issue-title');\n\t\t\t});\n\n\t\t\tthis.addEventListener('description', 'input', _ => {\n\t\t\t\tthis.validateInput('description');\n\t\t\t});\n\n\t\t\tthis.addEventListener('issue-source', 'change', _ => {\n\t\t\t\tthis.validateInput('issue-source');\n\t\t\t});\n\n\t\t\tif (this.issueReporterModel.fileOnExtension()) {\n\t\t\t\tthis.addEventListener('extension-selector', 'change', _ => {\n\t\t\t\t\tthis.validateInput('extension-selector');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.hasBeenSubmitted = true;\n\n\t\tconst issueTitle = (<HTMLInputElement>this.getElementById('issue-title')).value;\n\t\tconst issueBody = this.issueReporterModel.serialize();\n\n\t\tconst issueUrl = this.getIssueUrl();\n\t\tconst gitHubDetails = this.parseGitHubUrl(issueUrl);\n\t\tif (this.configuration.data.githubAccessToken && gitHubDetails) {\n\t\t\treturn this.submitToGitHub(issueTitle, issueBody, gitHubDetails);\n\t\t}\n\n\t\tconst baseUrl = this.getIssueUrlWithTitle((<HTMLInputElement>this.getElementById('issue-title')).value, issueUrl);\n\t\tlet url = baseUrl + `&body=${encodeURIComponent(issueBody)}`;\n\n\t\tif (url.length > MAX_URL_LENGTH) {\n\t\t\ttry {\n\t\t\t\turl = await this.writeToClipboard(baseUrl, issueBody);\n\t\t\t} catch (_) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tawait this.nativeHostService.openExternal(url);\n\t\treturn true;\n\t}\n\n\tprivate async writeToClipboard(baseUrl: string, issueBody: string): Promise<string> {\n\t\tconst shouldWrite = await this.issueMainService.$showClipboardDialog();\n\t\tif (!shouldWrite) {\n\t\t\tthrow new CancellationError();\n\t\t}\n\n\t\tawait this.nativeHostService.writeClipboardText(issueBody);\n\n\t\treturn baseUrl + `&body=${encodeURIComponent(localize('pasteData', \"We have written the needed data into your clipboard because it was too large to send. Please paste.\"))}`;\n\t}\n\n\tprivate getIssueUrl(): string {\n\t\treturn this.issueReporterModel.fileOnExtension()\n\t\t\t? this.getExtensionGitHubUrl()\n\t\t\t: this.issueReporterModel.getData().fileOnMarketplace\n\t\t\t\t? this.configuration.product.reportMarketplaceIssueUrl!\n\t\t\t\t: this.configuration.product.reportIssueUrl!;\n\t}\n\n\tprivate parseGitHubUrl(url: string): undefined | { repositoryName: string; owner: string } {\n\t\t// Assumes a GitHub url to a particular repo, https://github.com/repositoryName/owner.\n\t\t// Repository name and owner cannot contain '/'\n\t\tconst match = /^https?:\\/\\/github\\.com\\/([^\\/]*)\\/([^\\/]*).*/.exec(url);\n\t\tif (match && match.length) {\n\t\t\treturn {\n\t\t\t\towner: match[1],\n\t\t\t\trepositoryName: match[2]\n\t\t\t};\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate getExtensionGitHubUrl(): string {\n\t\tlet repositoryUrl = '';\n\t\tconst bugsUrl = this.getExtensionBugsUrl();\n\t\tconst extensionUrl = this.getExtensionRepositoryUrl();\n\t\t// If given, try to match the extension's bug url\n\t\tif (bugsUrl && bugsUrl.match(/^https?:\\/\\/github\\.com\\/(.*)/)) {\n\t\t\trepositoryUrl = normalizeGitHubUrl(bugsUrl);\n\t\t} else if (extensionUrl && extensionUrl.match(/^https?:\\/\\/github\\.com\\/(.*)/)) {\n\t\t\trepositoryUrl = normalizeGitHubUrl(extensionUrl);\n\t\t}\n\n\t\treturn repositoryUrl;\n\t}\n\n\tprivate getIssueUrlWithTitle(issueTitle: string, repositoryUrl: string): string {\n\t\tif (this.issueReporterModel.fileOnExtension()) {\n\t\t\trepositoryUrl = repositoryUrl + '/issues/new';\n\t\t}\n\n\t\tconst queryStringPrefix = repositoryUrl.indexOf('?') === -1 ? '?' : '&';\n\t\treturn `${repositoryUrl}${queryStringPrefix}title=${encodeURIComponent(issueTitle)}`;\n\t}\n\n\tprivate updateSystemInfo(state: IssueReporterModelData) {\n\t\tconst target = document.querySelector<HTMLElement>('.block-system .block-info');\n\n\t\tif (target) {\n\t\t\tconst systemInfo = state.systemInfo!;\n\t\t\tconst renderedDataTable = $('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'CPUs'),\n\t\t\t\t\t$('td', undefined, systemInfo.cpus || '')\n\t\t\t\t),\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'GPU Status' as string),\n\t\t\t\t\t$('td', undefined, Object.keys(systemInfo.gpuStatus).map(key => `${key}: ${systemInfo.gpuStatus[key]}`).join('\\n'))\n\t\t\t\t),\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'Load (avg)' as string),\n\t\t\t\t\t$('td', undefined, systemInfo.load || '')\n\t\t\t\t),\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'Memory (System)' as string),\n\t\t\t\t\t$('td', undefined, systemInfo.memory)\n\t\t\t\t),\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'Process Argv' as string),\n\t\t\t\t\t$('td', undefined, systemInfo.processArgs)\n\t\t\t\t),\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'Screen Reader' as string),\n\t\t\t\t\t$('td', undefined, systemInfo.screenReader)\n\t\t\t\t),\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('td', undefined, 'VM'),\n\t\t\t\t\t$('td', undefined, systemInfo.vmHint)\n\t\t\t\t)\n\t\t\t);\n\t\t\treset(target, renderedDataTable);\n\n\t\t\tsystemInfo.remoteData.forEach(remote => {\n\t\t\t\ttarget.appendChild($<HTMLHRElement>('hr'));\n\t\t\t\tif (isRemoteDiagnosticError(remote)) {\n\t\t\t\t\tconst remoteDataTable = $('table', undefined,\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, 'Remote'),\n\t\t\t\t\t\t\t$('td', undefined, remote.hostName)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, ''),\n\t\t\t\t\t\t\t$('td', undefined, remote.errorMessage)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\ttarget.appendChild(remoteDataTable);\n\t\t\t\t} else {\n\t\t\t\t\tconst remoteDataTable = $('table', undefined,\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, 'Remote'),\n\t\t\t\t\t\t\t$('td', undefined, remote.latency ? `${remote.hostName} (latency: ${remote.latency.current.toFixed(2)}ms last, ${remote.latency.average.toFixed(2)}ms average)` : remote.hostName)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, 'OS'),\n\t\t\t\t\t\t\t$('td', undefined, remote.machineInfo.os)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, 'CPUs'),\n\t\t\t\t\t\t\t$('td', undefined, remote.machineInfo.cpus || '')\n\t\t\t\t\t\t),\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, 'Memory (System)' as string),\n\t\t\t\t\t\t\t$('td', undefined, remote.machineInfo.memory)\n\t\t\t\t\t\t),\n\t\t\t\t\t\t$('tr', undefined,\n\t\t\t\t\t\t\t$('td', undefined, 'VM'),\n\t\t\t\t\t\t\t$('td', undefined, remote.machineInfo.vmHint)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\ttarget.appendChild(remoteDataTable);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate updateExtensionSelector(extensions: IssueReporterExtensionData[]): void {\n\t\tinterface IOption {\n\t\t\tname: string;\n\t\t\tid: string;\n\t\t}\n\n\t\tconst extensionOptions: IOption[] = extensions.map(extension => {\n\t\t\treturn {\n\t\t\t\tname: extension.displayName || extension.name || '',\n\t\t\t\tid: extension.id\n\t\t\t};\n\t\t});\n\n\t\t// Sort extensions by name\n\t\textensionOptions.sort((a, b) => {\n\t\t\tconst aName = a.name.toLowerCase();\n\t\t\tconst bName = b.name.toLowerCase();\n\t\t\tif (aName > bName) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (aName < bName) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t});\n\n\t\tconst makeOption = (extension: IOption, selectedExtension?: IssueReporterExtensionData): HTMLOptionElement => {\n\t\t\tconst selected = selectedExtension && extension.id === selectedExtension.id;\n\t\t\treturn $<HTMLOptionElement>('option', {\n\t\t\t\t'value': extension.id,\n\t\t\t\t'selected': selected || ''\n\t\t\t}, extension.name);\n\t\t};\n\n\t\tconst extensionsSelector = this.getElementById<HTMLSelectElement>('extension-selector');\n\t\tif (extensionsSelector) {\n\t\t\tconst { selectedExtension } = this.issueReporterModel.getData();\n\t\t\treset(extensionsSelector, this.makeOption('', localize('selectExtension', \"Select extension\"), true), ...extensionOptions.map(extension => makeOption(extension, selectedExtension)));\n\t\t\textensionsSelector.selectedIndex = 0;\n\n\t\t\tthis.addEventListener('extension-selector', 'change', (e: Event) => {\n\t\t\t\tconst selectedExtensionId = (<HTMLInputElement>e.target).value;\n\t\t\t\tconst extensions = this.issueReporterModel.getData().allExtensions;\n\t\t\t\tconst matches = extensions.filter(extension => extension.id === selectedExtensionId);\n\t\t\t\tif (matches.length) {\n\t\t\t\t\tthis.issueReporterModel.update({ selectedExtension: matches[0] });\n\t\t\t\t\tif (matches[0].hasIssueUriRequestHandler) {\n\t\t\t\t\t\tthis.updateIssueReporterUri(matches[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.validateSelectedExtension();\n\t\t\t\t\t\tconst title = (<HTMLInputElement>this.getElementById('issue-title')).value;\n\t\t\t\t\t\tthis.searchExtensionIssues(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.issueReporterModel.update({ selectedExtension: undefined });\n\t\t\t\t\tthis.clearSearchResults();\n\t\t\t\t\tthis.validateSelectedExtension();\n\t\t\t\t}\n\t\t\t\tthis.updatePreviewButtonState();\n\t\t\t\tthis.renderBlocks();\n\t\t\t});\n\t\t}\n\n\t\tthis.addEventListener('problem-source', 'change', (_) => {\n\t\t\tthis.validateSelectedExtension();\n\t\t});\n\t}\n\n\tprivate validateSelectedExtension(): void {\n\t\tconst extensionValidationMessage = this.getElementById('extension-selection-validation-error')!;\n\t\tconst extensionValidationNoUrlsMessage = this.getElementById('extension-selection-validation-error-no-url')!;\n\t\thide(extensionValidationMessage);\n\t\thide(extensionValidationNoUrlsMessage);\n\n\t\tconst extension = this.issueReporterModel.getData().selectedExtension;\n\t\tif (!extension) {\n\t\t\tthis.previewButton.enabled = true;\n\t\t\treturn;\n\t\t}\n\n\t\tconst hasValidGitHubUrl = this.getExtensionGitHubUrl();\n\t\tif (hasValidGitHubUrl || extension.hasIssueUriRequestHandler) {\n\t\t\tthis.previewButton.enabled = true;\n\t\t} else {\n\t\t\tthis.setExtensionValidationMessage();\n\t\t\tthis.previewButton.enabled = false;\n\t\t}\n\t}\n\n\tprivate setExtensionValidationMessage(): void {\n\t\tconst extensionValidationMessage = this.getElementById('extension-selection-validation-error')!;\n\t\tconst extensionValidationNoUrlsMessage = this.getElementById('extension-selection-validation-error-no-url')!;\n\t\tconst bugsUrl = this.getExtensionBugsUrl();\n\t\tif (bugsUrl) {\n\t\t\tshow(extensionValidationMessage);\n\t\t\tconst link = this.getElementById('extensionBugsLink')!;\n\t\t\tlink.textContent = bugsUrl;\n\t\t\treturn;\n\t\t}\n\n\t\tconst extensionUrl = this.getExtensionRepositoryUrl();\n\t\tif (extensionUrl) {\n\t\t\tshow(extensionValidationMessage);\n\t\t\tconst link = this.getElementById('extensionBugsLink');\n\t\t\tlink!.textContent = extensionUrl;\n\t\t\treturn;\n\t\t}\n\n\t\tshow(extensionValidationNoUrlsMessage);\n\t}\n\n\tprivate updateProcessInfo(state: IssueReporterModelData) {\n\t\tconst target = document.querySelector('.block-process .block-info') as HTMLElement;\n\t\tif (target) {\n\t\t\treset(target, $('code', undefined, state.processInfo ?? ''));\n\t\t}\n\t}\n\n\tprivate updateWorkspaceInfo(state: IssueReporterModelData) {\n\t\tdocument.querySelector('.block-workspace .block-info code')!.textContent = '\\n' + state.workspaceInfo;\n\t}\n\n\tprivate updateExtensionTable(extensions: IssueReporterExtensionData[], numThemeExtensions: number): void {\n\t\tconst target = document.querySelector<HTMLElement>('.block-extensions .block-info');\n\t\tif (target) {\n\t\t\tif (this.configuration.disableExtensions) {\n\t\t\t\treset(target, localize('disabledExtensions', \"Extensions are disabled\"));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst themeExclusionStr = numThemeExtensions ? `\\n(${numThemeExtensions} theme extensions excluded)` : '';\n\t\t\textensions = extensions || [];\n\n\t\t\tif (!extensions.length) {\n\t\t\t\ttarget.innerText = 'Extensions: none' + themeExclusionStr;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treset(target, this.getExtensionTableHtml(extensions), document.createTextNode(themeExclusionStr));\n\t\t}\n\t}\n\n\tprivate updateRestrictedMode(restrictedMode: boolean) {\n\t\tthis.issueReporterModel.update({ restrictedMode });\n\t}\n\n\tprivate updateUnsupportedMode(isUnsupported: boolean) {\n\t\tthis.issueReporterModel.update({ isUnsupported });\n\t}\n\n\tprivate updateExperimentsInfo(experimentInfo: string | undefined) {\n\t\tthis.issueReporterModel.update({ experimentInfo });\n\t\tconst target = document.querySelector<HTMLElement>('.block-experiments .block-info');\n\t\tif (target) {\n\t\t\ttarget.textContent = experimentInfo ? experimentInfo : localize('noCurrentExperiments', \"No current experiments.\");\n\t\t}\n\t}\n\n\tprivate getExtensionTableHtml(extensions: IssueReporterExtensionData[]): HTMLTableElement {\n\t\treturn $('table', undefined,\n\t\t\t$('tr', undefined,\n\t\t\t\t$('th', undefined, 'Extension'),\n\t\t\t\t$('th', undefined, 'Author (truncated)' as string),\n\t\t\t\t$('th', undefined, 'Version')\n\t\t\t),\n\t\t\t...extensions.map(extension => $('tr', undefined,\n\t\t\t\t$('td', undefined, extension.name),\n\t\t\t\t$('td', undefined, extension.publisher?.substr(0, 3) ?? 'N/A'),\n\t\t\t\t$('td', undefined, extension.version)\n\t\t\t))\n\t\t);\n\t}\n\n\tprivate openLink(event: MouseEvent): void {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\t// Exclude right click\n\t\tif (event.which < 3) {\n\t\t\twindowOpenNoOpener((<HTMLAnchorElement>event.target).href);\n\t\t}\n\t}\n\n\tprivate getElementById<T extends HTMLElement = HTMLElement>(elementId: string): T | undefined {\n\t\tconst element = document.getElementById(elementId) as T | undefined;\n\t\tif (element) {\n\t\t\treturn element;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tprivate addEventListener(elementId: string, eventType: string, handler: (event: Event) => void): void {\n\t\tconst element = this.getElementById(elementId);\n\t\telement?.addEventListener(eventType, handler);\n\t}\n}\n\n// helper functions\n\nexport function hide(el: Element | undefined | null) {\n\tel?.classList.add('hidden');\n}\nexport function show(el: Element | undefined | null) {\n\tel?.classList.remove('hidden');\n}\n"]}
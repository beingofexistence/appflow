{"version":3,"sources":["vs/workbench/browser/workbench.ts"],"names":[],"mappings":"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","file":"workbench.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/workbench/browser/style';\nimport { localize } from 'vs/nls';\nimport { Event, Emitter, setGlobalLeakWarningThreshold } from 'vs/base/common/event';\nimport { RunOnceScheduler, runWhenIdle, timeout } from 'vs/base/common/async';\nimport { isFirefox, isSafari, isChrome, PixelRatio } from 'vs/base/browser/browser';\nimport { mark } from 'vs/base/common/performance';\nimport { onUnexpectedError, setUnexpectedErrorHandler } from 'vs/base/common/errors';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { isWindows, isLinux, isWeb, isNative, isMacintosh } from 'vs/base/common/platform';\nimport { IWorkbenchContributionsRegistry, Extensions as WorkbenchExtensions } from 'vs/workbench/common/contributions';\nimport { IEditorFactoryRegistry, EditorExtensions } from 'vs/workbench/common/editor';\nimport { getSingletonServiceDescriptors } from 'vs/platform/instantiation/common/extensions';\nimport { Position, Parts, IWorkbenchLayoutService, positionToString } from 'vs/workbench/services/layout/browser/layoutService';\nimport { IStorageService, WillSaveStateReason, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IConfigurationChangeEvent, IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ServiceCollection } from 'vs/platform/instantiation/common/serviceCollection';\nimport { LifecyclePhase, ILifecycleService, WillShutdownEvent } from 'vs/workbench/services/lifecycle/common/lifecycle';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { NotificationService } from 'vs/workbench/services/notification/common/notificationService';\nimport { NotificationsCenter } from 'vs/workbench/browser/parts/notifications/notificationsCenter';\nimport { NotificationsAlerts } from 'vs/workbench/browser/parts/notifications/notificationsAlerts';\nimport { NotificationsStatus } from 'vs/workbench/browser/parts/notifications/notificationsStatus';\nimport { NotificationsTelemetry } from 'vs/workbench/browser/parts/notifications/notificationsTelemetry';\nimport { registerNotificationCommands } from 'vs/workbench/browser/parts/notifications/notificationsCommands';\nimport { NotificationsToasts } from 'vs/workbench/browser/parts/notifications/notificationsToasts';\nimport { setARIAContainer } from 'vs/base/browser/ui/aria/aria';\nimport { FontMeasurements } from 'vs/editor/browser/config/fontMeasurements';\nimport { BareFontInfo } from 'vs/editor/common/config/fontInfo';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { toErrorMessage } from 'vs/base/common/errorMessage';\nimport { WorkbenchContextKeysHandler } from 'vs/workbench/browser/contextkeys';\nimport { coalesce } from 'vs/base/common/arrays';\nimport { InstantiationService } from 'vs/platform/instantiation/common/instantiationService';\nimport { Layout } from 'vs/workbench/browser/layout';\nimport { IHostService } from 'vs/workbench/services/host/browser/host';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\n\nexport interface IWorkbenchOptions {\n\n\t/**\n\t * Extra classes to be added to the workbench container.\n\t */\n\textraClasses?: string[];\n}\n\nexport class Workbench extends Layout {\n\n\tprivate readonly _onWillShutdown = this._register(new Emitter<WillShutdownEvent>());\n\treadonly onWillShutdown = this._onWillShutdown.event;\n\n\tprivate readonly _onDidShutdown = this._register(new Emitter<void>());\n\treadonly onDidShutdown = this._onDidShutdown.event;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tprivate readonly options: IWorkbenchOptions | undefined,\n\t\tprivate readonly serviceCollection: ServiceCollection,\n\t\tlogService: ILogService\n\t) {\n\t\tsuper(parent);\n\n\t\t// Perf: measure workbench startup time\n\t\tmark('code/willStartWorkbench');\n\n\t\tthis.registerErrorHandler(logService);\n\t}\n\n\tprivate registerErrorHandler(logService: ILogService): void {\n\n\t\t// Listen on unhandled rejection events\n\t\twindow.addEventListener('unhandledrejection', (event: PromiseRejectionEvent) => {\n\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent\n\t\t\tonUnexpectedError(event.reason);\n\n\t\t\t// Prevent the printing of this event to the console\n\t\t\tevent.preventDefault();\n\t\t});\n\n\t\t// Install handler for unexpected errors\n\t\tsetUnexpectedErrorHandler(error => this.handleUnexpectedError(error, logService));\n\n\t\t// Inform user about loading issues from the loader\n\t\tinterface AnnotatedLoadingError extends Error {\n\t\t\tphase: 'loading';\n\t\t\tmoduleId: string;\n\t\t\tneededBy: string[];\n\t\t}\n\t\tinterface AnnotatedFactoryError extends Error {\n\t\t\tphase: 'factory';\n\t\t\tmoduleId: string;\n\t\t}\n\t\tinterface AnnotatedValidationError extends Error {\n\t\t\tphase: 'configuration';\n\t\t}\n\t\ttype AnnotatedError = AnnotatedLoadingError | AnnotatedFactoryError | AnnotatedValidationError;\n\n\t\tif (typeof window.require?.config === 'function') {\n\t\t\twindow.require.config({\n\t\t\t\tonError: (err: AnnotatedError) => {\n\t\t\t\t\tif (err.phase === 'loading') {\n\t\t\t\t\t\tonUnexpectedError(new Error(localize('loaderErrorNative', \"Failed to load a required file. Please restart the application to try again. Details: {0}\", JSON.stringify(err))));\n\t\t\t\t\t}\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate previousUnexpectedError: { message: string | undefined; time: number } = { message: undefined, time: 0 };\n\tprivate handleUnexpectedError(error: unknown, logService: ILogService): void {\n\t\tconst message = toErrorMessage(error, true);\n\t\tif (!message) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst now = Date.now();\n\t\tif (message === this.previousUnexpectedError.message && now - this.previousUnexpectedError.time <= 1000) {\n\t\t\treturn; // Return if error message identical to previous and shorter than 1 second\n\t\t}\n\n\t\tthis.previousUnexpectedError.time = now;\n\t\tthis.previousUnexpectedError.message = message;\n\n\t\t// Log it\n\t\tlogService.error(message);\n\t}\n\n\tstartup(): IInstantiationService {\n\t\ttry {\n\n\t\t\t// Configure emitter leak warning threshold\n\t\t\tsetGlobalLeakWarningThreshold(175);\n\n\t\t\t// Services\n\t\t\tconst instantiationService = this.initServices(this.serviceCollection);\n\n\t\t\tinstantiationService.invokeFunction(accessor => {\n\t\t\t\tconst lifecycleService = accessor.get(ILifecycleService);\n\t\t\t\tconst storageService = accessor.get(IStorageService);\n\t\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\t\t\tconst hostService = accessor.get(IHostService);\n\t\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\t\tconst notificationService = accessor.get(INotificationService) as NotificationService;\n\n\t\t\t\t// Layout\n\t\t\t\tthis.initLayout(accessor);\n\n\t\t\t\t// Registries\n\t\t\t\tRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).start(accessor);\n\t\t\t\tRegistry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor);\n\n\t\t\t\t// Context Keys\n\t\t\t\tthis._register(instantiationService.createInstance(WorkbenchContextKeysHandler));\n\n\t\t\t\t// Register Listeners\n\t\t\t\tthis.registerListeners(lifecycleService, storageService, configurationService, hostService, dialogService);\n\n\t\t\t\t// Render Workbench\n\t\t\t\tthis.renderWorkbench(instantiationService, notificationService, storageService, configurationService);\n\n\t\t\t\t// Workbench Layout\n\t\t\t\tthis.createWorkbenchLayout();\n\n\t\t\t\t// Layout\n\t\t\t\tthis.layout();\n\n\t\t\t\t// Restore\n\t\t\t\tthis.restore(lifecycleService);\n\t\t\t});\n\n\t\t\treturn instantiationService;\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error);\n\n\t\t\tthrow error; // rethrow because this is a critical issue we cannot handle properly here\n\t\t}\n\t}\n\n\tprivate initServices(serviceCollection: ServiceCollection): IInstantiationService {\n\n\t\t// Layout Service\n\t\tserviceCollection.set(IWorkbenchLayoutService, this);\n\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t//\n\t\t// NOTE: Please do NOT register services here. Use `registerSingleton()`\n\t\t//       from `workbench.common.main.ts` if the service is shared between\n\t\t//       desktop and web or `workbench.desktop.main.ts` if the service\n\t\t//       is desktop only.\n\t\t//\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\t\t// All Contributed Services\n\t\tconst contributedServices = getSingletonServiceDescriptors();\n\t\tfor (const [id, descriptor] of contributedServices) {\n\t\t\tserviceCollection.set(id, descriptor);\n\t\t}\n\n\t\tconst instantiationService = new InstantiationService(serviceCollection, true);\n\n\t\t// Wrap up\n\t\tinstantiationService.invokeFunction(accessor => {\n\t\t\tconst lifecycleService = accessor.get(ILifecycleService);\n\n\t\t\t// TODO@Sandeep debt around cyclic dependencies\n\t\t\tconst configurationService = accessor.get(IConfigurationService) as any;\n\t\t\tif (typeof configurationService.acquireInstantiationService === 'function') {\n\t\t\t\tconfigurationService.acquireInstantiationService(instantiationService);\n\t\t\t}\n\n\t\t\t// Signal to lifecycle that services are set\n\t\t\tlifecycleService.phase = LifecyclePhase.Ready;\n\t\t});\n\n\t\treturn instantiationService;\n\t}\n\n\tprivate registerListeners(lifecycleService: ILifecycleService, storageService: IStorageService, configurationService: IConfigurationService, hostService: IHostService, dialogService: IDialogService): void {\n\n\t\t// Configuration changes\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => this.updateFontAliasing(e, configurationService)));\n\n\t\t// Font Info\n\t\tif (isNative) {\n\t\t\tthis._register(storageService.onWillSaveState(e => {\n\t\t\t\tif (e.reason === WillSaveStateReason.SHUTDOWN) {\n\t\t\t\t\tthis.storeFontInfo(storageService);\n\t\t\t\t}\n\t\t\t}));\n\t\t} else {\n\t\t\tthis._register(lifecycleService.onWillShutdown(() => this.storeFontInfo(storageService)));\n\t\t}\n\n\t\t// Lifecycle\n\t\tthis._register(lifecycleService.onWillShutdown(event => this._onWillShutdown.fire(event)));\n\t\tthis._register(lifecycleService.onDidShutdown(() => {\n\t\t\tthis._onDidShutdown.fire();\n\t\t\tthis.dispose();\n\t\t}));\n\n\t\t// In some environments we do not get enough time to persist state on shutdown.\n\t\t// In other cases, VSCode might crash, so we periodically save state to reduce\n\t\t// the chance of loosing any state.\n\t\t// The window loosing focus is a good indication that the user has stopped working\n\t\t// in that window so we pick that at a time to collect state.\n\t\tthis._register(hostService.onDidChangeFocus(focus => {\n\t\t\tif (!focus) {\n\t\t\t\tstorageService.flush();\n\t\t\t}\n\t\t}));\n\n\t\t// Dialogs showing/hiding\n\t\tthis._register(dialogService.onWillShowDialog(() => this.container.classList.add('modal-dialog-visible')));\n\t\tthis._register(dialogService.onDidShowDialog(() => this.container.classList.remove('modal-dialog-visible')));\n\t}\n\n\tprivate fontAliasing: 'default' | 'antialiased' | 'none' | 'auto' | undefined;\n\tprivate updateFontAliasing(e: IConfigurationChangeEvent | undefined, configurationService: IConfigurationService) {\n\t\tif (!isMacintosh) {\n\t\t\treturn; // macOS only\n\t\t}\n\n\t\tif (e && !e.affectsConfiguration('workbench.fontAliasing')) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst aliasing = configurationService.getValue<'default' | 'antialiased' | 'none' | 'auto'>('workbench.fontAliasing');\n\t\tif (this.fontAliasing === aliasing) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fontAliasing = aliasing;\n\n\t\t// Remove all\n\t\tconst fontAliasingValues: (typeof aliasing)[] = ['antialiased', 'none', 'auto'];\n\t\tthis.container.classList.remove(...fontAliasingValues.map(value => `monaco-font-aliasing-${value}`));\n\n\t\t// Add specific\n\t\tif (fontAliasingValues.some(option => option === aliasing)) {\n\t\t\tthis.container.classList.add(`monaco-font-aliasing-${aliasing}`);\n\t\t}\n\t}\n\n\tprivate restoreFontInfo(storageService: IStorageService, configurationService: IConfigurationService): void {\n\t\tconst storedFontInfoRaw = storageService.get('editorFontInfo', StorageScope.APPLICATION);\n\t\tif (storedFontInfoRaw) {\n\t\t\ttry {\n\t\t\t\tconst storedFontInfo = JSON.parse(storedFontInfoRaw);\n\t\t\t\tif (Array.isArray(storedFontInfo)) {\n\t\t\t\t\tFontMeasurements.restoreFontInfo(storedFontInfo);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t/* ignore */\n\t\t\t}\n\t\t}\n\n\t\tFontMeasurements.readFontInfo(BareFontInfo.createFromRawSettings(configurationService.getValue('editor'), PixelRatio.value));\n\t}\n\n\tprivate storeFontInfo(storageService: IStorageService): void {\n\t\tconst serializedFontInfo = FontMeasurements.serializeFontInfo();\n\t\tif (serializedFontInfo) {\n\t\t\tstorageService.store('editorFontInfo', JSON.stringify(serializedFontInfo), StorageScope.APPLICATION, StorageTarget.MACHINE);\n\t\t}\n\t}\n\n\tprivate renderWorkbench(instantiationService: IInstantiationService, notificationService: NotificationService, storageService: IStorageService, configurationService: IConfigurationService): void {\n\n\t\t// ARIA\n\t\tsetARIAContainer(this.container);\n\n\t\t// State specific classes\n\t\tconst platformClass = isWindows ? 'windows' : isLinux ? 'linux' : 'mac';\n\t\tconst workbenchClasses = coalesce([\n\t\t\t'monaco-workbench',\n\t\t\tplatformClass,\n\t\t\tisWeb ? 'web' : undefined,\n\t\t\tisChrome ? 'chromium' : isFirefox ? 'firefox' : isSafari ? 'safari' : undefined,\n\t\t\t...this.getLayoutClasses(),\n\t\t\t...(this.options?.extraClasses ? this.options.extraClasses : [])\n\t\t]);\n\n\t\tthis.container.classList.add(...workbenchClasses);\n\t\tdocument.body.classList.add(platformClass); // used by our fonts\n\n\t\tif (isWeb) {\n\t\t\tdocument.body.classList.add('web');\n\t\t}\n\n\t\t// Apply font aliasing\n\t\tthis.updateFontAliasing(undefined, configurationService);\n\n\t\t// Warm up font cache information before building up too many dom elements\n\t\tthis.restoreFontInfo(storageService, configurationService);\n\n\t\t// Create Parts\n\t\tfor (const { id, role, classes, options } of [\n\t\t\t{ id: Parts.TITLEBAR_PART, role: 'none', classes: ['titlebar'] },\n\t\t\t{ id: Parts.BANNER_PART, role: 'banner', classes: ['banner'] },\n\t\t\t{ id: Parts.ACTIVITYBAR_PART, role: 'none', classes: ['activitybar', this.getSideBarPosition() === Position.LEFT ? 'left' : 'right'] }, // Use role 'none' for some parts to make screen readers less chatty #114892\n\t\t\t{ id: Parts.SIDEBAR_PART, role: 'none', classes: ['sidebar', this.getSideBarPosition() === Position.LEFT ? 'left' : 'right'] },\n\t\t\t{ id: Parts.EDITOR_PART, role: 'main', classes: ['editor'], options: { restorePreviousState: this.willRestoreEditors() } },\n\t\t\t{ id: Parts.PANEL_PART, role: 'none', classes: ['panel', 'basepanel', positionToString(this.getPanelPosition())] },\n\t\t\t{ id: Parts.AUXILIARYBAR_PART, role: 'none', classes: ['auxiliarybar', 'basepanel', this.getSideBarPosition() === Position.LEFT ? 'right' : 'left'] },\n\t\t\t{ id: Parts.STATUSBAR_PART, role: 'status', classes: ['statusbar'] }\n\t\t]) {\n\t\t\tconst partContainer = this.createPart(id, role, classes);\n\n\t\t\tmark(`code/willCreatePart/${id}`);\n\t\t\tthis.getPart(id).create(partContainer, options);\n\t\t\tmark(`code/didCreatePart/${id}`);\n\t\t}\n\n\t\t// Notification Handlers\n\t\tthis.createNotificationsHandlers(instantiationService, notificationService);\n\n\t\t// Add Workbench to DOM\n\t\tthis.parent.appendChild(this.container);\n\t}\n\n\tprivate createPart(id: string, role: string, classes: string[]): HTMLElement {\n\t\tconst part = document.createElement(role === 'status' ? 'footer' /* Use footer element for status bar #98376 */ : 'div');\n\t\tpart.classList.add('part', ...classes);\n\t\tpart.id = id;\n\t\tpart.setAttribute('role', role);\n\t\tif (role === 'status') {\n\t\t\tpart.setAttribute('aria-live', 'off');\n\t\t}\n\n\t\treturn part;\n\t}\n\n\tprivate createNotificationsHandlers(instantiationService: IInstantiationService, notificationService: NotificationService): void {\n\n\t\t// Instantiate Notification components\n\t\tconst notificationsCenter = this._register(instantiationService.createInstance(NotificationsCenter, this.container, notificationService.model));\n\t\tconst notificationsToasts = this._register(instantiationService.createInstance(NotificationsToasts, this.container, notificationService.model));\n\t\tthis._register(instantiationService.createInstance(NotificationsAlerts, notificationService.model));\n\t\tconst notificationsStatus = instantiationService.createInstance(NotificationsStatus, notificationService.model);\n\t\tthis._register(instantiationService.createInstance(NotificationsTelemetry));\n\n\t\t// Visibility\n\t\tthis._register(notificationsCenter.onDidChangeVisibility(() => {\n\t\t\tnotificationsStatus.update(notificationsCenter.isVisible, notificationsToasts.isVisible);\n\t\t\tnotificationsToasts.update(notificationsCenter.isVisible);\n\t\t}));\n\n\t\tthis._register(notificationsToasts.onDidChangeVisibility(() => {\n\t\t\tnotificationsStatus.update(notificationsCenter.isVisible, notificationsToasts.isVisible);\n\t\t}));\n\n\t\t// Register Commands\n\t\tregisterNotificationCommands(notificationsCenter, notificationsToasts, notificationService.model);\n\n\t\t// Register with Layout\n\t\tthis.registerNotifications({\n\t\t\tonDidChangeNotificationsVisibility: Event.map(Event.any(notificationsToasts.onDidChangeVisibility, notificationsCenter.onDidChangeVisibility), () => notificationsToasts.isVisible || notificationsCenter.isVisible)\n\t\t});\n\t}\n\n\tprivate restore(lifecycleService: ILifecycleService): void {\n\n\t\t// Ask each part to restore\n\t\ttry {\n\t\t\tthis.restoreParts();\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error);\n\t\t}\n\n\t\t// Transition into restored phase after layout has restored\n\t\t// but do not wait indefinitely on this to account for slow\n\t\t// editors restoring. Since the workbench is fully functional\n\t\t// even when the visible editors have not resolved, we still\n\t\t// want contributions on the `Restored` phase to work before\n\t\t// slow editors have resolved. But we also do not want fast\n\t\t// editors to resolve slow when too many contributions get\n\t\t// instantiated, so we find a middle ground solution via\n\t\t// `Promise.race`\n\t\tthis.whenReady.finally(() =>\n\t\t\tPromise.race([\n\t\t\t\tthis.whenRestored,\n\t\t\t\ttimeout(2000)\n\t\t\t]).finally(() => {\n\n\t\t\t\t// Update perf marks only when the layout is fully\n\t\t\t\t// restored. We want the time it takes to restore\n\t\t\t\t// editors to be included in these numbers\n\n\t\t\t\tfunction markDidStartWorkbench() {\n\t\t\t\t\tmark('code/didStartWorkbench');\n\t\t\t\t\tperformance.measure('perf: workbench create & restore', 'code/didLoadWorkbenchMain', 'code/didStartWorkbench');\n\t\t\t\t}\n\n\t\t\t\tif (this.isRestored()) {\n\t\t\t\t\tmarkDidStartWorkbench();\n\t\t\t\t} else {\n\t\t\t\t\tthis.whenRestored.finally(() => markDidStartWorkbench());\n\t\t\t\t}\n\n\t\t\t\t// Set lifecycle phase to `Restored`\n\t\t\t\tlifecycleService.phase = LifecyclePhase.Restored;\n\n\t\t\t\t// Set lifecycle phase to `Eventually` after a short delay and when idle (min 2.5sec, max 5sec)\n\t\t\t\tconst eventuallyPhaseScheduler = this._register(new RunOnceScheduler(() => {\n\t\t\t\t\tthis._register(runWhenIdle(() => lifecycleService.phase = LifecyclePhase.Eventually, 2500));\n\t\t\t\t}, 2500));\n\t\t\t\teventuallyPhaseScheduler.schedule();\n\t\t\t})\n\t\t);\n\t}\n}\n"]}
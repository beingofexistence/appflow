{"version":3,"sources":["vs/workbench/browser/parts/banner/bannerPart.ts"],"names":[],"mappings":"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","file":"bannerPart.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/bannerpart';\nimport { localize } from 'vs/nls';\nimport { $, addDisposableListener, append, asCSSUrl, clearNode, EventType } from 'vs/base/browser/dom';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { InstantiationType, registerSingleton } from 'vs/platform/instantiation/common/extensions';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { Part } from 'vs/workbench/browser/part';\nimport { IWorkbenchLayoutService, Parts } from 'vs/workbench/services/layout/browser/layoutService';\nimport { Action } from 'vs/base/common/actions';\nimport { Link } from 'vs/platform/opener/browser/link';\nimport { MarkdownString } from 'vs/base/common/htmlContent';\nimport { Emitter } from 'vs/base/common/event';\nimport { IBannerItem, IBannerService } from 'vs/workbench/services/banner/browser/bannerService';\nimport { MarkdownRenderer } from 'vs/editor/contrib/markdownRenderer/browser/markdownRenderer';\nimport { Action2, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { Categories } from 'vs/platform/action/common/actionCommonCategories';\nimport { KeybindingsRegistry, KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { URI } from 'vs/base/common/uri';\nimport { widgetClose } from 'vs/platform/theme/common/iconRegistry';\nimport { BannerFocused } from 'vs/workbench/common/contextkeys';\n\n// Banner Part\n\nexport class BannerPart extends Part implements IBannerService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\t// #region IView\n\n\treadonly height: number = 26;\n\treadonly minimumWidth: number = 0;\n\treadonly maximumWidth: number = Number.POSITIVE_INFINITY;\n\n\tget minimumHeight(): number {\n\t\treturn this.visible ? this.height : 0;\n\t}\n\n\tget maximumHeight(): number {\n\t\treturn this.visible ? this.height : 0;\n\t}\n\n\tprivate _onDidChangeSize = this._register(new Emitter<{ width: number; height: number } | undefined>());\n\toverride get onDidChange() { return this._onDidChangeSize.event; }\n\n\t//#endregion\n\n\tprivate item: IBannerItem | undefined;\n\tprivate readonly markdownRenderer: MarkdownRenderer;\n\tprivate visible = false;\n\n\tprivate actionBar: ActionBar | undefined;\n\tprivate messageActionsContainer: HTMLElement | undefined;\n\tprivate focusedActionIndex: number = -1;\n\n\tconstructor(\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(Parts.BANNER_PART, { hasTitle: false }, themeService, storageService, layoutService);\n\n\t\tthis.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n\t}\n\n\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\tthis.element = parent;\n\t\tthis.element.tabIndex = 0;\n\n\t\t// Restore focused action if needed\n\t\tthis._register(addDisposableListener(this.element, EventType.FOCUS, () => {\n\t\t\tif (this.focusedActionIndex !== -1) {\n\t\t\t\tthis.focusActionLink();\n\t\t\t}\n\t\t}));\n\n\t\t// Track focus\n\t\tconst scopedContextKeyService = this.contextKeyService.createScoped(this.element);\n\t\tBannerFocused.bindTo(scopedContextKeyService).set(true);\n\n\t\treturn this.element;\n\t}\n\n\tprivate close(item: IBannerItem): void {\n\t\t// Hide banner\n\t\tthis.setVisibility(false);\n\n\t\t// Remove from document\n\t\tclearNode(this.element);\n\n\t\t// Remember choice\n\t\tif (typeof item.onClose === 'function') {\n\t\t\titem.onClose();\n\t\t}\n\n\t\tthis.item = undefined;\n\t}\n\n\tprivate focusActionLink(): void {\n\t\tconst length = this.item?.actions?.length ?? 0;\n\n\t\tif (this.focusedActionIndex < length) {\n\t\t\tconst actionLink = this.messageActionsContainer?.children[this.focusedActionIndex];\n\t\t\tif (actionLink instanceof HTMLElement) {\n\t\t\t\tthis.actionBar?.setFocusable(false);\n\t\t\t\tactionLink.focus();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.actionBar?.focus(0);\n\t\t}\n\t}\n\n\tprivate getAriaLabel(item: IBannerItem): string | undefined {\n\t\tif (item.ariaLabel) {\n\t\t\treturn item.ariaLabel;\n\t\t}\n\t\tif (typeof item.message === 'string') {\n\t\t\treturn item.message;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate getBannerMessage(message: MarkdownString | string): HTMLElement {\n\t\tif (typeof message === 'string') {\n\t\t\tconst element = $('span');\n\t\t\telement.innerText = message;\n\t\t\treturn element;\n\t\t}\n\n\t\treturn this.markdownRenderer.render(message).element;\n\t}\n\n\tprivate setVisibility(visible: boolean): void {\n\t\tif (visible !== this.visible) {\n\t\t\tthis.visible = visible;\n\t\t\tthis.focusedActionIndex = -1;\n\n\t\t\tthis.layoutService.setPartHidden(!visible, Parts.BANNER_PART);\n\t\t\tthis._onDidChangeSize.fire(undefined);\n\t\t}\n\t}\n\n\tfocus(): void {\n\t\tthis.focusedActionIndex = -1;\n\t\tthis.element.focus();\n\t}\n\n\tfocusNextAction(): void {\n\t\tconst length = this.item?.actions?.length ?? 0;\n\t\tthis.focusedActionIndex = this.focusedActionIndex < length ? this.focusedActionIndex + 1 : 0;\n\n\t\tthis.focusActionLink();\n\t}\n\n\tfocusPreviousAction(): void {\n\t\tconst length = this.item?.actions?.length ?? 0;\n\t\tthis.focusedActionIndex = this.focusedActionIndex > 0 ? this.focusedActionIndex - 1 : length;\n\n\t\tthis.focusActionLink();\n\t}\n\n\thide(id: string): void {\n\t\tif (this.item?.id !== id) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setVisibility(false);\n\t}\n\n\tshow(item: IBannerItem): void {\n\t\tif (item.id === this.item?.id) {\n\t\t\tthis.setVisibility(true);\n\t\t\treturn;\n\t\t}\n\n\t\t// Clear previous item\n\t\tclearNode(this.element);\n\n\t\t// Banner aria label\n\t\tconst ariaLabel = this.getAriaLabel(item);\n\t\tif (ariaLabel) {\n\t\t\tthis.element.setAttribute('aria-label', ariaLabel);\n\t\t}\n\n\t\t// Icon\n\t\tconst iconContainer = append(this.element, $('div.icon-container'));\n\t\ticonContainer.setAttribute('aria-hidden', 'true');\n\n\t\tif (ThemeIcon.isThemeIcon(item.icon)) {\n\t\t\ticonContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n\t\t} else {\n\t\t\ticonContainer.classList.add('custom-icon');\n\n\t\t\tif (URI.isUri(item.icon)) {\n\t\t\t\ticonContainer.style.backgroundImage = asCSSUrl(item.icon);\n\t\t\t}\n\t\t}\n\n\t\t// Message\n\t\tconst messageContainer = append(this.element, $('div.message-container'));\n\t\tmessageContainer.setAttribute('aria-hidden', 'true');\n\t\tmessageContainer.appendChild(this.getBannerMessage(item.message));\n\n\t\t// Message Actions\n\t\tthis.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n\t\tif (item.actions) {\n\t\t\tfor (const action of item.actions) {\n\t\t\t\tthis._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, { ...action, tabIndex: -1 }, {}));\n\t\t\t}\n\t\t}\n\n\t\t// Action\n\t\tconst actionBarContainer = append(this.element, $('div.action-container'));\n\t\tthis.actionBar = this._register(new ActionBar(actionBarContainer));\n\t\tconst closeAction = this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => this.close(item)));\n\t\tthis.actionBar.push(closeAction, { icon: true, label: false });\n\t\tthis.actionBar.setFocusable(false);\n\n\t\tthis.setVisibility(true);\n\t\tthis.item = item;\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.BANNER_PART\n\t\t};\n\t}\n}\n\nregisterSingleton(IBannerService, BannerPart, InstantiationType.Eager);\n\n\n// Keybindings\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'workbench.banner.focusBanner',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Escape,\n\twhen: BannerFocused,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst bannerService = accessor.get(IBannerService);\n\t\tbannerService.focus();\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'workbench.banner.focusNextAction',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.RightArrow,\n\tsecondary: [KeyCode.DownArrow],\n\twhen: BannerFocused,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst bannerService = accessor.get(IBannerService);\n\t\tbannerService.focusNextAction();\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'workbench.banner.focusPreviousAction',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.LeftArrow,\n\tsecondary: [KeyCode.UpArrow],\n\twhen: BannerFocused,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst bannerService = accessor.get(IBannerService);\n\t\tbannerService.focusPreviousAction();\n\t}\n});\n\n\n// Actions\n\nclass FocusBannerAction extends Action2 {\n\n\tstatic readonly ID = 'workbench.action.focusBanner';\n\tstatic readonly LABEL = localize('focusBanner', \"Focus Banner\");\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FocusBannerAction.ID,\n\t\t\ttitle: { value: FocusBannerAction.LABEL, original: 'Focus Banner' },\n\t\t\tcategory: Categories.View,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst layoutService = accessor.get(IWorkbenchLayoutService);\n\t\tlayoutService.focusPart(Parts.BANNER_PART);\n\t}\n}\n\nregisterAction2(FocusBannerAction);\n"]}
{"version":3,"sources":["vs/workbench/browser/parts/views/viewFilter.ts"],"names":[],"mappings":"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","file":"viewFilter.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Delayer } from 'vs/base/common/async';\nimport * as DOM from 'vs/base/browser/dom';\nimport { IAction } from 'vs/base/common/actions';\nimport { HistoryInputBox } from 'vs/base/browser/ui/inputbox/inputBox';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { toDisposable } from 'vs/base/common/lifecycle';\nimport { badgeBackground, badgeForeground, contrastBorder, asCssVariable } from 'vs/platform/theme/common/colorRegistry';\nimport { localize } from 'vs/nls';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ContextScopedHistoryInputBox } from 'vs/platform/history/browser/contextScopedHistoryWidget';\nimport { IContextKey, IContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { showHistoryKeybindingHint } from 'vs/platform/history/browser/historyWidgetKeybindingHint';\nimport { MenuId, MenuRegistry, SubmenuItemAction } from 'vs/platform/actions/common/actions';\nimport { HiddenItemStrategy, MenuWorkbenchToolBar } from 'vs/platform/actions/browser/toolbar';\nimport { SubmenuEntryActionViewItem } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { Emitter } from 'vs/base/common/event';\nimport { defaultInputBoxStyles } from 'vs/platform/theme/browser/defaultStyles';\n\nconst viewFilterMenu = new MenuId('menu.view.filter');\nexport const viewFilterSubmenu = new MenuId('submenu.view.filter');\nMenuRegistry.appendMenuItem(viewFilterMenu, {\n\tsubmenu: viewFilterSubmenu,\n\ttitle: localize('more filters', \"More Filters...\"),\n\tgroup: 'navigation',\n\ticon: Codicon.filter,\n});\n\nclass MoreFiltersActionViewItem extends SubmenuEntryActionViewItem {\n\n\tprivate _checked: boolean = false;\n\tset checked(checked: boolean) {\n\t\tif (this._checked !== checked) {\n\t\t\tthis._checked = checked;\n\t\t\tthis.updateChecked();\n\t\t}\n\t}\n\n\tprotected override updateChecked(): void {\n\t\tif (this.element) {\n\t\t\tthis.element.classList.toggle('checked', this._checked);\n\t\t}\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tthis.updateChecked();\n\t}\n\n}\n\nexport interface IFilterWidgetOptions {\n\treadonly text?: string;\n\treadonly placeholder?: string;\n\treadonly ariaLabel?: string;\n\treadonly history?: string[];\n\treadonly focusContextKey?: string;\n}\n\nexport class FilterWidget extends Widget {\n\n\treadonly element: HTMLElement;\n\tprivate readonly delayedFilterUpdate: Delayer<void>;\n\tprivate readonly filterInputBox: HistoryInputBox;\n\tprivate readonly filterBadge: HTMLElement;\n\tprivate readonly toolbar: MenuWorkbenchToolBar;\n\tprivate readonly focusContextKey: IContextKey<boolean> | undefined;\n\n\tprivate readonly _onDidChangeFilterText = this._register(new Emitter<string>());\n\treadonly onDidChangeFilterText = this._onDidChangeFilterText.event;\n\n\tprivate moreFiltersActionViewItem: MoreFiltersActionViewItem | undefined;\n\tprivate isMoreFiltersChecked: boolean = false;\n\n\tprivate focusTracker: DOM.IFocusTracker;\n\tpublic get onDidFocus() { return this.focusTracker.onDidFocus; }\n\tpublic get onDidBlur() { return this.focusTracker.onDidBlur; }\n\n\tconstructor(\n\t\tprivate readonly options: IFilterWidgetOptions,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService\n\t) {\n\t\tsuper();\n\t\tthis.delayedFilterUpdate = new Delayer<void>(400);\n\t\tthis._register(toDisposable(() => this.delayedFilterUpdate.cancel()));\n\n\t\tif (options.focusContextKey) {\n\t\t\tthis.focusContextKey = new RawContextKey(options.focusContextKey, false).bindTo(contextKeyService);\n\t\t}\n\n\t\tthis.element = DOM.$('.viewpane-filter');\n\t\t[this.filterInputBox, this.focusTracker] = this.createInput(this.element);\n\t\tthis._register(this.filterInputBox);\n\t\tthis._register(this.focusTracker);\n\n\t\tconst controlsContainer = DOM.append(this.element, DOM.$('.viewpane-filter-controls'));\n\t\tthis.filterBadge = this.createBadge(controlsContainer);\n\t\tthis.toolbar = this._register(this.createToolBar(controlsContainer));\n\n\t\tthis.adjustInputBox();\n\t}\n\n\thasFocus(): boolean {\n\t\treturn this.filterInputBox.hasFocus();\n\t}\n\n\tfocus(): void {\n\t\tthis.filterInputBox.focus();\n\t}\n\n\tblur(): void {\n\t\tthis.filterInputBox.blur();\n\t}\n\n\tupdateBadge(message: string | undefined): void {\n\t\tthis.filterBadge.classList.toggle('hidden', !message);\n\t\tthis.filterBadge.textContent = message || '';\n\t\tthis.adjustInputBox();\n\t}\n\n\tsetFilterText(filterText: string): void {\n\t\tthis.filterInputBox.value = filterText;\n\t}\n\n\tgetFilterText(): string {\n\t\treturn this.filterInputBox.value;\n\t}\n\n\tgetHistory(): string[] {\n\t\treturn this.filterInputBox.getHistory();\n\t}\n\n\tlayout(width: number): void {\n\t\tthis.element.parentElement?.classList.toggle('grow', width > 700);\n\t\tthis.element.classList.toggle('small', width < 400);\n\t\tthis.adjustInputBox();\n\t}\n\n\tcheckMoreFilters(checked: boolean): void {\n\t\tthis.isMoreFiltersChecked = checked;\n\t\tif (this.moreFiltersActionViewItem) {\n\t\t\tthis.moreFiltersActionViewItem.checked = checked;\n\t\t}\n\t}\n\n\tprivate createInput(container: HTMLElement): [ContextScopedHistoryInputBox, DOM.IFocusTracker] {\n\t\tconst inputBox = this._register(this.instantiationService.createInstance(ContextScopedHistoryInputBox, container, this.contextViewService, {\n\t\t\tplaceholder: this.options.placeholder,\n\t\t\tariaLabel: this.options.ariaLabel,\n\t\t\thistory: this.options.history || [],\n\t\t\tshowHistoryHint: () => showHistoryKeybindingHint(this.keybindingService),\n\t\t\tinputBoxStyles: defaultInputBoxStyles\n\t\t}));\n\t\tif (this.options.text) {\n\t\t\tinputBox.value = this.options.text;\n\t\t}\n\t\tthis._register(inputBox.onDidChange(filter => this.delayedFilterUpdate.trigger(() => this.onDidInputChange(inputBox!))));\n\t\tthis._register(DOM.addStandardDisposableListener(inputBox.inputElement, DOM.EventType.KEY_DOWN, (e: any) => this.onInputKeyDown(e, inputBox!)));\n\t\tthis._register(DOM.addStandardDisposableListener(container, DOM.EventType.KEY_DOWN, this.handleKeyboardEvent));\n\t\tthis._register(DOM.addStandardDisposableListener(container, DOM.EventType.KEY_UP, this.handleKeyboardEvent));\n\t\tthis._register(DOM.addStandardDisposableListener(inputBox.inputElement, DOM.EventType.CLICK, (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}));\n\n\t\tconst focusTracker = this._register(DOM.trackFocus(inputBox.inputElement));\n\t\tif (this.focusContextKey) {\n\t\t\tthis._register(focusTracker.onDidFocus(() => this.focusContextKey!.set(true)));\n\t\t\tthis._register(focusTracker.onDidBlur(() => this.focusContextKey!.set(false)));\n\t\t\tthis._register(toDisposable(() => this.focusContextKey!.reset()));\n\t\t}\n\t\treturn [inputBox, focusTracker];\n\t}\n\n\tprivate createBadge(container: HTMLElement): HTMLElement {\n\t\tconst filterBadge = DOM.append(container, DOM.$('.viewpane-filter-badge.hidden'));\n\t\tfilterBadge.style.backgroundColor = asCssVariable(badgeBackground);\n\t\tfilterBadge.style.color = asCssVariable(badgeForeground);\n\t\tfilterBadge.style.border = `1px solid ${asCssVariable(contrastBorder)}`;\n\t\treturn filterBadge;\n\t}\n\n\tprivate createToolBar(container: HTMLElement): MenuWorkbenchToolBar {\n\t\treturn this.instantiationService.createInstance(MenuWorkbenchToolBar, container, viewFilterMenu,\n\t\t\t{\n\t\t\t\thiddenItemStrategy: HiddenItemStrategy.NoHide,\n\t\t\t\tactionViewItemProvider: (action: IAction) => {\n\t\t\t\t\tif (action instanceof SubmenuItemAction && action.item.submenu.id === viewFilterSubmenu.id) {\n\t\t\t\t\t\tthis.moreFiltersActionViewItem = this.instantiationService.createInstance(MoreFiltersActionViewItem, action, undefined);\n\t\t\t\t\t\tthis.moreFiltersActionViewItem.checked = this.isMoreFiltersChecked;\n\t\t\t\t\t\treturn this.moreFiltersActionViewItem;\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate onDidInputChange(inputbox: HistoryInputBox) {\n\t\tinputbox.addToHistory();\n\t\tthis._onDidChangeFilterText.fire(inputbox.value);\n\t}\n\n\tprivate adjustInputBox(): void {\n\t\tthis.filterInputBox.inputElement.style.paddingRight = this.element.classList.contains('small') || this.filterBadge.classList.contains('hidden') ? '25px' : '150px';\n\t}\n\n\t// Action toolbar is swallowing some keys for action items which should not be for an input box\n\tprivate handleKeyboardEvent(event: StandardKeyboardEvent) {\n\t\tif (event.equals(KeyCode.Space)\n\t\t\t|| event.equals(KeyCode.LeftArrow)\n\t\t\t|| event.equals(KeyCode.RightArrow)\n\t\t) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\tprivate onInputKeyDown(event: StandardKeyboardEvent, filterInputBox: HistoryInputBox) {\n\t\tlet handled = false;\n\t\tif (event.equals(KeyCode.Tab) && !this.toolbar.isEmpty()) {\n\t\t\tthis.toolbar.focus();\n\t\t\thandled = true;\n\t\t}\n\t\tif (handled) {\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n}\n"]}
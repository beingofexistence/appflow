{"version":3,"sources":["vs/workbench/browser/parts/views/viewPaneContainer.ts"],"names":[],"mappings":"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","file":"viewPaneContainer.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, Dimension, DragAndDropObserver, EventType, isAncestor } from 'vs/base/browser/dom';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { EventType as TouchEventType, Gesture } from 'vs/base/browser/touch';\nimport { IActionViewItem } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { IBoundarySashes, Orientation } from 'vs/base/browser/ui/sash/sash';\nimport { IPaneViewOptions, PaneView } from 'vs/base/browser/ui/splitview/paneview';\nimport { IAction } from 'vs/base/common/actions';\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { KeyChord, KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { combinedDisposable, DisposableStore, dispose, IDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { assertIsDefined } from 'vs/base/common/types';\nimport 'vs/css!./media/paneviewlet';\nimport * as nls from 'vs/nls';\nimport { createActionViewItem } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { Action2, IAction2Options, IMenuService, ISubmenuItem, MenuId, MenuRegistry, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyExpr, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { activeContrastBorder, asCssVariable } from 'vs/platform/theme/common/colorRegistry';\nimport { IThemeService, Themable } from 'vs/platform/theme/common/themeService';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { CompositeMenuActions } from 'vs/workbench/browser/actions';\nimport { CompositeDragAndDropObserver, toggleDropEffect } from 'vs/workbench/browser/dnd';\nimport { ViewPane } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { Component } from 'vs/workbench/common/component';\nimport { PANEL_SECTION_BORDER, PANEL_SECTION_DRAG_AND_DROP_BACKGROUND, PANEL_SECTION_HEADER_BACKGROUND, PANEL_SECTION_HEADER_BORDER, PANEL_SECTION_HEADER_FOREGROUND, SIDE_BAR_DRAG_AND_DROP_BACKGROUND, SIDE_BAR_SECTION_HEADER_BACKGROUND, SIDE_BAR_SECTION_HEADER_BORDER, SIDE_BAR_SECTION_HEADER_FOREGROUND } from 'vs/workbench/common/theme';\nimport { IAddedViewDescriptorRef, ICustomViewDescriptor, IView, IViewContainerModel, IViewDescriptor, IViewDescriptorRef, IViewDescriptorService, IViewPaneContainer, IViewsService, ViewContainer, ViewContainerLocation, ViewContainerLocationToString, ViewVisibilityState } from 'vs/workbench/common/views';\nimport { FocusedViewContext } from 'vs/workbench/common/contextkeys';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { IWorkbenchLayoutService, Position } from 'vs/workbench/services/layout/browser/layoutService';\n\nexport const ViewsSubMenu = new MenuId('Views');\nMenuRegistry.appendMenuItem(MenuId.ViewContainerTitle, <ISubmenuItem>{\n\tsubmenu: ViewsSubMenu,\n\ttitle: nls.localize('views', \"Views\"),\n\torder: 1,\n\twhen: ContextKeyExpr.equals('viewContainerLocation', ViewContainerLocationToString(ViewContainerLocation.Sidebar)),\n});\n\nexport interface IViewPaneContainerOptions extends IPaneViewOptions {\n\tmergeViewWithContainerWhenSingleView: boolean;\n}\n\ninterface IViewPaneItem {\n\tpane: ViewPane;\n\tdisposable: IDisposable;\n}\n\nconst enum DropDirection {\n\tUP,\n\tDOWN,\n\tLEFT,\n\tRIGHT\n}\n\ntype BoundingRect = { top: number; left: number; bottom: number; right: number };\n\nclass ViewPaneDropOverlay extends Themable {\n\n\tprivate static readonly OVERLAY_ID = 'monaco-pane-drop-overlay';\n\n\tprivate container!: HTMLElement;\n\tprivate overlay!: HTMLElement;\n\n\tprivate _currentDropOperation: DropDirection | undefined;\n\n\t// private currentDropOperation: IDropOperation | undefined;\n\tprivate _disposed: boolean | undefined;\n\n\tprivate cleanupOverlayScheduler: RunOnceScheduler;\n\n\tget currentDropOperation(): DropDirection | undefined {\n\t\treturn this._currentDropOperation;\n\t}\n\n\tconstructor(\n\t\tprivate paneElement: HTMLElement,\n\t\tprivate orientation: Orientation | undefined,\n\t\tprivate bounds: BoundingRect | undefined,\n\t\tprotected location: ViewContainerLocation,\n\t\tthemeService: IThemeService,\n\t) {\n\t\tsuper(themeService);\n\t\tthis.cleanupOverlayScheduler = this._register(new RunOnceScheduler(() => this.dispose(), 300));\n\n\t\tthis.create();\n\t}\n\n\tget disposed(): boolean {\n\t\treturn !!this._disposed;\n\t}\n\n\tprivate create(): void {\n\t\t// Container\n\t\tthis.container = document.createElement('div');\n\t\tthis.container.id = ViewPaneDropOverlay.OVERLAY_ID;\n\t\tthis.container.style.top = '0px';\n\n\t\t// Parent\n\t\tthis.paneElement.appendChild(this.container);\n\t\tthis.paneElement.classList.add('dragged-over');\n\t\tthis._register(toDisposable(() => {\n\t\t\tthis.paneElement.removeChild(this.container);\n\t\t\tthis.paneElement.classList.remove('dragged-over');\n\t\t}));\n\n\t\t// Overlay\n\t\tthis.overlay = document.createElement('div');\n\t\tthis.overlay.classList.add('pane-overlay-indicator');\n\t\tthis.container.appendChild(this.overlay);\n\n\t\t// Overlay Event Handling\n\t\tthis.registerListeners();\n\n\t\t// Styles\n\t\tthis.updateStyles();\n\t}\n\n\toverride updateStyles(): void {\n\n\t\t// Overlay drop background\n\t\tthis.overlay.style.backgroundColor = this.getColor(this.location === ViewContainerLocation.Panel ? PANEL_SECTION_DRAG_AND_DROP_BACKGROUND : SIDE_BAR_DRAG_AND_DROP_BACKGROUND) || '';\n\n\t\t// Overlay contrast border (if any)\n\t\tconst activeContrastBorderColor = this.getColor(activeContrastBorder);\n\t\tthis.overlay.style.outlineColor = activeContrastBorderColor || '';\n\t\tthis.overlay.style.outlineOffset = activeContrastBorderColor ? '-2px' : '';\n\t\tthis.overlay.style.outlineStyle = activeContrastBorderColor ? 'dashed' : '';\n\t\tthis.overlay.style.outlineWidth = activeContrastBorderColor ? '2px' : '';\n\n\t\tthis.overlay.style.borderColor = activeContrastBorderColor || '';\n\t\tthis.overlay.style.borderStyle = 'solid' || '';\n\t\tthis.overlay.style.borderWidth = '0px';\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(new DragAndDropObserver(this.container, {\n\t\t\tonDragEnter: e => undefined,\n\t\t\tonDragOver: e => {\n\n\t\t\t\t// Position overlay\n\t\t\t\tthis.positionOverlay(e.offsetX, e.offsetY);\n\n\t\t\t\t// Make sure to stop any running cleanup scheduler to remove the overlay\n\t\t\t\tif (this.cleanupOverlayScheduler.isScheduled()) {\n\t\t\t\t\tthis.cleanupOverlayScheduler.cancel();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonDragLeave: e => this.dispose(),\n\t\t\tonDragEnd: e => this.dispose(),\n\n\t\t\tonDrop: e => {\n\t\t\t\t// Dispose overlay\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this.container, EventType.MOUSE_OVER, () => {\n\t\t\t// Under some circumstances we have seen reports where the drop overlay is not being\n\t\t\t// cleaned up and as such the editor area remains under the overlay so that you cannot\n\t\t\t// type into the editor anymore. This seems related to using VMs and DND via host and\n\t\t\t// guest OS, though some users also saw it without VMs.\n\t\t\t// To protect against this issue we always destroy the overlay as soon as we detect a\n\t\t\t// mouse event over it. The delay is used to guarantee we are not interfering with the\n\t\t\t// actual DROP event that can also trigger a mouse over event.\n\t\t\tif (!this.cleanupOverlayScheduler.isScheduled()) {\n\t\t\t\tthis.cleanupOverlayScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate positionOverlay(mousePosX: number, mousePosY: number): void {\n\t\tconst paneWidth = this.paneElement.clientWidth;\n\t\tconst paneHeight = this.paneElement.clientHeight;\n\n\t\tconst splitWidthThreshold = paneWidth / 2;\n\t\tconst splitHeightThreshold = paneHeight / 2;\n\n\t\tlet dropDirection: DropDirection | undefined;\n\n\t\tif (this.orientation === Orientation.VERTICAL) {\n\t\t\tif (mousePosY < splitHeightThreshold) {\n\t\t\t\tdropDirection = DropDirection.UP;\n\t\t\t} else if (mousePosY >= splitHeightThreshold) {\n\t\t\t\tdropDirection = DropDirection.DOWN;\n\t\t\t}\n\t\t} else if (this.orientation === Orientation.HORIZONTAL) {\n\t\t\tif (mousePosX < splitWidthThreshold) {\n\t\t\t\tdropDirection = DropDirection.LEFT;\n\t\t\t} else if (mousePosX >= splitWidthThreshold) {\n\t\t\t\tdropDirection = DropDirection.RIGHT;\n\t\t\t}\n\t\t}\n\n\t\t// Draw overlay based on split direction\n\t\tswitch (dropDirection) {\n\t\t\tcase DropDirection.UP:\n\t\t\t\tthis.doPositionOverlay({ top: '0', left: '0', width: '100%', height: '50%' });\n\t\t\t\tbreak;\n\t\t\tcase DropDirection.DOWN:\n\t\t\t\tthis.doPositionOverlay({ bottom: '0', left: '0', width: '100%', height: '50%' });\n\t\t\t\tbreak;\n\t\t\tcase DropDirection.LEFT:\n\t\t\t\tthis.doPositionOverlay({ top: '0', left: '0', width: '50%', height: '100%' });\n\t\t\t\tbreak;\n\t\t\tcase DropDirection.RIGHT:\n\t\t\t\tthis.doPositionOverlay({ top: '0', right: '0', width: '50%', height: '100%' });\n\t\t\t\tbreak;\n\t\t\tdefault: {\n\t\t\t\t// const top = this.bounds?.top || 0;\n\t\t\t\t// const left = this.bounds?.bottom || 0;\n\n\t\t\t\tlet top = '0';\n\t\t\t\tlet left = '0';\n\t\t\t\tlet width = '100%';\n\t\t\t\tlet height = '100%';\n\t\t\t\tif (this.bounds) {\n\t\t\t\t\tconst boundingRect = this.container.getBoundingClientRect();\n\t\t\t\t\ttop = `${this.bounds.top - boundingRect.top}px`;\n\t\t\t\t\tleft = `${this.bounds.left - boundingRect.left}px`;\n\t\t\t\t\theight = `${this.bounds.bottom - this.bounds.top}px`;\n\t\t\t\t\twidth = `${this.bounds.right - this.bounds.left}px`;\n\t\t\t\t}\n\n\t\t\t\tthis.doPositionOverlay({ top, left, width, height });\n\t\t\t}\n\t\t}\n\n\t\tif ((this.orientation === Orientation.VERTICAL && paneHeight <= 25) ||\n\t\t\t(this.orientation === Orientation.HORIZONTAL && paneWidth <= 25)) {\n\t\t\tthis.doUpdateOverlayBorder(dropDirection);\n\t\t} else {\n\t\t\tthis.doUpdateOverlayBorder(undefined);\n\t\t}\n\n\t\t// Make sure the overlay is visible now\n\t\tthis.overlay.style.opacity = '1';\n\n\t\t// Enable transition after a timeout to prevent initial animation\n\t\tsetTimeout(() => this.overlay.classList.add('overlay-move-transition'), 0);\n\n\t\t// Remember as current split direction\n\t\tthis._currentDropOperation = dropDirection;\n\t}\n\n\tprivate doUpdateOverlayBorder(direction: DropDirection | undefined): void {\n\t\tthis.overlay.style.borderTopWidth = direction === DropDirection.UP ? '2px' : '0px';\n\t\tthis.overlay.style.borderLeftWidth = direction === DropDirection.LEFT ? '2px' : '0px';\n\t\tthis.overlay.style.borderBottomWidth = direction === DropDirection.DOWN ? '2px' : '0px';\n\t\tthis.overlay.style.borderRightWidth = direction === DropDirection.RIGHT ? '2px' : '0px';\n\t}\n\n\tprivate doPositionOverlay(options: { top?: string; bottom?: string; left?: string; right?: string; width: string; height: string }): void {\n\n\t\t// Container\n\t\tthis.container.style.height = '100%';\n\n\t\t// Overlay\n\t\tthis.overlay.style.top = options.top || '';\n\t\tthis.overlay.style.left = options.left || '';\n\t\tthis.overlay.style.bottom = options.bottom || '';\n\t\tthis.overlay.style.right = options.right || '';\n\t\tthis.overlay.style.width = options.width;\n\t\tthis.overlay.style.height = options.height;\n\t}\n\n\n\tcontains(element: HTMLElement): boolean {\n\t\treturn element === this.container || element === this.overlay;\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\n\t\tthis._disposed = true;\n\t}\n}\n\nclass ViewContainerMenuActions extends CompositeMenuActions {\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tviewContainer: ViewContainer,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IMenuService menuService: IMenuService,\n\t) {\n\t\tconst scopedContextKeyService = contextKeyService.createScoped(element);\n\t\tscopedContextKeyService.createKey('viewContainer', viewContainer.id);\n\t\tconst viewContainerLocationKey = scopedContextKeyService.createKey('viewContainerLocation', ViewContainerLocationToString(viewDescriptorService.getViewContainerLocation(viewContainer)!));\n\t\tsuper(MenuId.ViewContainerTitle, MenuId.ViewContainerTitleContext, { shouldForwardArgs: true }, scopedContextKeyService, menuService);\n\t\tthis._register(scopedContextKeyService);\n\t\tthis._register(Event.filter(viewDescriptorService.onDidChangeContainerLocation, e => e.viewContainer === viewContainer)(() => viewContainerLocationKey.set(ViewContainerLocationToString(viewDescriptorService.getViewContainerLocation(viewContainer)!))));\n\t}\n}\n\nexport class ViewPaneContainer extends Component implements IViewPaneContainer {\n\n\treadonly viewContainer: ViewContainer;\n\tprivate lastFocusedPane: ViewPane | undefined;\n\tprivate lastMergedCollapsedPane: ViewPane | undefined;\n\tprivate paneItems: IViewPaneItem[] = [];\n\tprivate paneview?: PaneView;\n\n\tprivate visible: boolean = false;\n\n\tprivate areExtensionsReady: boolean = false;\n\n\tprivate didLayout = false;\n\tprivate dimension: Dimension | undefined;\n\tprivate _boundarySashes: IBoundarySashes | undefined;\n\n\tprivate readonly visibleViewsCountFromCache: number | undefined;\n\tprivate readonly visibleViewsStorageId: string;\n\tprotected readonly viewContainerModel: IViewContainerModel;\n\tprivate viewDisposables: IDisposable[] = [];\n\n\tprivate readonly _onTitleAreaUpdate: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onTitleAreaUpdate: Event<void> = this._onTitleAreaUpdate.event;\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<boolean>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tprivate readonly _onDidAddViews = this._register(new Emitter<IView[]>());\n\treadonly onDidAddViews = this._onDidAddViews.event;\n\n\tprivate readonly _onDidRemoveViews = this._register(new Emitter<IView[]>());\n\treadonly onDidRemoveViews = this._onDidRemoveViews.event;\n\n\tprivate readonly _onDidChangeViewVisibility = this._register(new Emitter<IView>());\n\treadonly onDidChangeViewVisibility = this._onDidChangeViewVisibility.event;\n\n\tprivate readonly _onDidFocusView = this._register(new Emitter<IView>());\n\treadonly onDidFocusView = this._onDidFocusView.event;\n\n\tprivate readonly _onDidBlurView = this._register(new Emitter<IView>());\n\treadonly onDidBlurView = this._onDidBlurView.event;\n\n\tget onDidSashChange(): Event<number> {\n\t\treturn assertIsDefined(this.paneview).onDidSashChange;\n\t}\n\n\tget panes(): ViewPane[] {\n\t\treturn this.paneItems.map(i => i.pane);\n\t}\n\n\tget views(): IView[] {\n\t\treturn this.panes;\n\t}\n\n\tget length(): number {\n\t\treturn this.paneItems.length;\n\t}\n\n\tprivate _menuActions?: ViewContainerMenuActions;\n\tget menuActions(): CompositeMenuActions | undefined {\n\t\treturn this._menuActions;\n\t}\n\n\tconstructor(\n\t\tid: string,\n\t\tprivate options: IViewPaneContainerOptions,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService,\n\t\t@IConfigurationService protected configurationService: IConfigurationService,\n\t\t@IWorkbenchLayoutService protected layoutService: IWorkbenchLayoutService,\n\t\t@IContextMenuService protected contextMenuService: IContextMenuService,\n\t\t@ITelemetryService protected telemetryService: ITelemetryService,\n\t\t@IExtensionService protected extensionService: IExtensionService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService protected storageService: IStorageService,\n\t\t@IWorkspaceContextService protected contextService: IWorkspaceContextService,\n\t\t@IViewDescriptorService protected viewDescriptorService: IViewDescriptorService,\n\t) {\n\n\t\tsuper(id, themeService, storageService);\n\n\t\tconst container = this.viewDescriptorService.getViewContainerById(id);\n\t\tif (!container) {\n\t\t\tthrow new Error('Could not find container');\n\t\t}\n\n\n\t\tthis.viewContainer = container;\n\t\tthis.visibleViewsStorageId = `${id}.numberOfVisibleViews`;\n\t\tthis.visibleViewsCountFromCache = this.storageService.getNumber(this.visibleViewsStorageId, StorageScope.WORKSPACE, undefined);\n\t\tthis._register(toDisposable(() => this.viewDisposables = dispose(this.viewDisposables)));\n\t\tthis.viewContainerModel = this.viewDescriptorService.getViewContainerModel(container);\n\t}\n\n\tcreate(parent: HTMLElement): void {\n\t\tconst options = this.options as IPaneViewOptions;\n\t\toptions.orientation = this.orientation;\n\t\tthis.paneview = this._register(new PaneView(parent, this.options));\n\n\t\tif (this._boundarySashes) {\n\t\t\tthis.paneview.setBoundarySashes(this._boundarySashes);\n\t\t}\n\n\t\tthis._register(this.paneview.onDidDrop(({ from, to }) => this.movePane(from as ViewPane, to as ViewPane)));\n\t\tthis._register(this.paneview.onDidScroll(_ => this.onDidScrollPane()));\n\t\tthis._register(this.paneview.onDidSashReset((index) => this.onDidSashReset(index)));\n\t\tthis._register(addDisposableListener(parent, EventType.CONTEXT_MENU, (e: MouseEvent) => this.showContextMenu(new StandardMouseEvent(e))));\n\t\tthis._register(Gesture.addTarget(parent));\n\t\tthis._register(addDisposableListener(parent, TouchEventType.Contextmenu, (e: MouseEvent) => this.showContextMenu(new StandardMouseEvent(e))));\n\n\t\tthis._menuActions = this._register(this.instantiationService.createInstance(ViewContainerMenuActions, this.paneview.element, this.viewContainer));\n\t\tthis._register(this._menuActions.onDidChange(() => this.updateTitleArea()));\n\n\t\tlet overlay: ViewPaneDropOverlay | undefined;\n\t\tconst getOverlayBounds: () => BoundingRect = () => {\n\t\t\tconst fullSize = parent.getBoundingClientRect();\n\t\t\tconst lastPane = this.panes[this.panes.length - 1].element.getBoundingClientRect();\n\t\t\tconst top = this.orientation === Orientation.VERTICAL ? lastPane.bottom : fullSize.top;\n\t\t\tconst left = this.orientation === Orientation.HORIZONTAL ? lastPane.right : fullSize.left;\n\n\t\t\treturn {\n\t\t\t\ttop,\n\t\t\t\tbottom: fullSize.bottom,\n\t\t\t\tleft,\n\t\t\t\tright: fullSize.right,\n\t\t\t};\n\t\t};\n\n\t\tconst inBounds = (bounds: BoundingRect, pos: { x: number; y: number }) => {\n\t\t\treturn pos.x >= bounds.left && pos.x <= bounds.right && pos.y >= bounds.top && pos.y <= bounds.bottom;\n\t\t};\n\n\n\t\tlet bounds: BoundingRect;\n\n\t\tthis._register(CompositeDragAndDropObserver.INSTANCE.registerTarget(parent, {\n\t\t\tonDragEnter: (e) => {\n\t\t\t\tbounds = getOverlayBounds();\n\t\t\t\tif (overlay && overlay.disposed) {\n\t\t\t\t\toverlay = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (!overlay && inBounds(bounds, e.eventData)) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tif (dropData.type === 'view') {\n\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && (!viewDescriptor || !viewDescriptor.canMoveView || this.viewContainer.rejectAddedViews)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(parent, undefined, bounds, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst viewsToMove = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\n\t\t\t\t\t\tif (!viewsToMove.some(v => !v.canMoveView) && viewsToMove.length > 0) {\n\t\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(parent, undefined, bounds, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e) => {\n\t\t\t\tif (overlay && overlay.disposed) {\n\t\t\t\t\toverlay = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (overlay && !inBounds(bounds, e.eventData)) {\n\t\t\t\t\toverlay.dispose();\n\t\t\t\t\toverlay = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (inBounds(bounds, e.eventData)) {\n\t\t\t\t\ttoggleDropEffect(e.eventData.dataTransfer, 'move', overlay !== undefined);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragLeave: (e) => {\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t},\n\t\t\tonDrop: (e) => {\n\t\t\t\tif (overlay) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tconst viewsToMove: IViewDescriptor[] = [];\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst allViews = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\t\t\t\t\t\tif (!allViews.some(v => !v.canMoveView)) {\n\t\t\t\t\t\t\tviewsToMove.push(...allViews);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dropData.type === 'view') {\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && viewDescriptor && viewDescriptor.canMoveView) {\n\t\t\t\t\t\t\tthis.viewDescriptorService.moveViewsToContainer([viewDescriptor], this.viewContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst paneCount = this.panes.length;\n\n\t\t\t\t\tif (viewsToMove.length > 0) {\n\t\t\t\t\t\tthis.viewDescriptorService.moveViewsToContainer(viewsToMove, this.viewContainer);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (paneCount > 0) {\n\t\t\t\t\t\tfor (const view of viewsToMove) {\n\t\t\t\t\t\t\tconst paneToMove = this.panes.find(p => p.id === view.id);\n\t\t\t\t\t\t\tif (paneToMove) {\n\t\t\t\t\t\t\t\tthis.movePane(paneToMove, this.panes[this.panes.length - 1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.onDidSashChange(() => this.saveViewSizes()));\n\t\tthis._register(this.viewContainerModel.onDidAddVisibleViewDescriptors(added => this.onDidAddViewDescriptors(added)));\n\t\tthis._register(this.viewContainerModel.onDidRemoveVisibleViewDescriptors(removed => this.onDidRemoveViewDescriptors(removed)));\n\t\tconst addedViews: IAddedViewDescriptorRef[] = this.viewContainerModel.visibleViewDescriptors.map((viewDescriptor, index) => {\n\t\t\tconst size = this.viewContainerModel.getSize(viewDescriptor.id);\n\t\t\tconst collapsed = this.viewContainerModel.isCollapsed(viewDescriptor.id);\n\t\t\treturn ({ viewDescriptor, index, size, collapsed });\n\t\t});\n\t\tif (addedViews.length) {\n\t\t\tthis.onDidAddViewDescriptors(addedViews);\n\t\t}\n\n\t\t// Update headers after and title contributed views after available, since we read from cache in the beginning to know if the viewlet has single view or not. Ref #29609\n\t\tthis.extensionService.whenInstalledExtensionsRegistered().then(() => {\n\t\t\tthis.areExtensionsReady = true;\n\t\t\tif (this.panes.length) {\n\t\t\t\tthis.updateTitleArea();\n\t\t\t\tthis.updateViewHeaders();\n\t\t\t}\n\t\t});\n\n\t\tthis._register(this.viewContainerModel.onDidChangeActiveViewDescriptors(() => this._onTitleAreaUpdate.fire()));\n\t}\n\n\tgetTitle(): string {\n\t\tconst containerTitle = this.viewContainerModel.title;\n\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\tconst paneItemTitle = this.paneItems[0].pane.title;\n\t\t\tif (containerTitle === paneItemTitle) {\n\t\t\t\treturn this.paneItems[0].pane.title;\n\t\t\t}\n\t\t\treturn paneItemTitle ? `${containerTitle}: ${paneItemTitle}` : containerTitle;\n\t\t}\n\n\t\treturn containerTitle;\n\t}\n\n\tprivate showContextMenu(event: StandardMouseEvent): void {\n\t\tfor (const paneItem of this.paneItems) {\n\t\t\t// Do not show context menu if target is coming from inside pane views\n\t\t\tif (isAncestor(event.target, paneItem.pane.element)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => event,\n\t\t\tgetActions: () => this.menuActions?.getContextMenuActions() ?? []\n\t\t});\n\t}\n\n\tgetActionsContext(): unknown {\n\t\treturn undefined;\n\t}\n\n\tgetActionViewItem(action: IAction): IActionViewItem | undefined {\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\treturn this.paneItems[0].pane.getActionViewItem(action);\n\t\t}\n\t\treturn createActionViewItem(this.instantiationService, action);\n\t}\n\n\tfocus(): void {\n\t\tif (this.lastFocusedPane) {\n\t\t\tthis.lastFocusedPane.focus();\n\t\t} else if (this.paneItems.length > 0) {\n\t\t\tfor (const { pane: pane } of this.paneItems) {\n\t\t\t\tif (pane.isExpanded()) {\n\t\t\t\t\tpane.focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate get orientation(): Orientation {\n\t\tswitch (this.viewDescriptorService.getViewContainerLocation(this.viewContainer)) {\n\t\t\tcase ViewContainerLocation.Sidebar:\n\t\t\tcase ViewContainerLocation.AuxiliaryBar:\n\t\t\t\treturn Orientation.VERTICAL;\n\t\t\tcase ViewContainerLocation.Panel:\n\t\t\t\treturn this.layoutService.getPanelPosition() === Position.BOTTOM ? Orientation.HORIZONTAL : Orientation.VERTICAL;\n\t\t}\n\n\t\treturn Orientation.VERTICAL;\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tif (this.paneview) {\n\t\t\tif (this.paneview.orientation !== this.orientation) {\n\t\t\t\tthis.paneview.flipOrientation(dimension.height, dimension.width);\n\t\t\t}\n\n\t\t\tthis.paneview.layout(dimension.height, dimension.width);\n\t\t}\n\n\t\tthis.dimension = dimension;\n\t\tif (this.didLayout) {\n\t\t\tthis.saveViewSizes();\n\t\t} else {\n\t\t\tthis.didLayout = true;\n\t\t\tthis.restoreViewSizes();\n\t\t}\n\t}\n\n\tsetBoundarySashes(sashes: IBoundarySashes): void {\n\t\tthis._boundarySashes = sashes;\n\t\tthis.paneview?.setBoundarySashes(sashes);\n\t}\n\n\tgetOptimalWidth(): number {\n\t\tconst additionalMargin = 16;\n\t\tconst optimalWidth = Math.max(...this.panes.map(view => view.getOptimalWidth() || 0));\n\t\treturn optimalWidth + additionalMargin;\n\t}\n\n\taddPanes(panes: { pane: ViewPane; size: number; index?: number }[]): void {\n\t\tconst wasMerged = this.isViewMergedWithContainer();\n\n\t\tfor (const { pane: pane, size, index } of panes) {\n\t\t\tthis.addPane(pane, size, index);\n\t\t}\n\n\t\tthis.updateViewHeaders();\n\t\tif (this.isViewMergedWithContainer() !== wasMerged) {\n\t\t\tthis.updateTitleArea();\n\t\t}\n\n\t\tthis._onDidAddViews.fire(panes.map(({ pane }) => pane));\n\t}\n\n\tsetVisible(visible: boolean): void {\n\t\tif (this.visible !== !!visible) {\n\t\t\tthis.visible = visible;\n\n\t\t\tthis._onDidChangeVisibility.fire(visible);\n\t\t}\n\n\t\tthis.panes.filter(view => view.isVisible() !== visible)\n\t\t\t.map((view) => view.setVisible(visible));\n\t}\n\n\tisVisible(): boolean {\n\t\treturn this.visible;\n\t}\n\n\tprotected updateTitleArea(): void {\n\t\tthis._onTitleAreaUpdate.fire();\n\t}\n\n\tprotected createView(viewDescriptor: IViewDescriptor, options: IViewletViewOptions): ViewPane {\n\t\treturn (this.instantiationService as any).createInstance(viewDescriptor.ctorDescriptor.ctor, ...(viewDescriptor.ctorDescriptor.staticArguments || []), options) as ViewPane;\n\t}\n\n\tgetView(id: string): ViewPane | undefined {\n\t\treturn this.panes.filter(view => view.id === id)[0];\n\t}\n\n\tprivate saveViewSizes(): void {\n\t\t// Save size only when the layout has happened\n\t\tif (this.didLayout) {\n\t\t\tthis.viewContainerModel.setSizes(this.panes.map(view => ({ id: view.id, size: this.getPaneSize(view) })));\n\t\t}\n\t}\n\n\tprivate restoreViewSizes(): void {\n\t\t// Restore sizes only when the layout has happened\n\t\tif (this.didLayout) {\n\t\t\tlet initialSizes;\n\t\t\tfor (let i = 0; i < this.viewContainerModel.visibleViewDescriptors.length; i++) {\n\t\t\t\tconst pane = this.panes[i];\n\t\t\t\tconst viewDescriptor = this.viewContainerModel.visibleViewDescriptors[i];\n\t\t\t\tconst size = this.viewContainerModel.getSize(viewDescriptor.id);\n\n\t\t\t\tif (typeof size === 'number') {\n\t\t\t\t\tthis.resizePane(pane, size);\n\t\t\t\t} else {\n\t\t\t\t\tinitialSizes = initialSizes ? initialSizes : this.computeInitialSizes();\n\t\t\t\t\tthis.resizePane(pane, initialSizes.get(pane.id) || 200);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate computeInitialSizes(): Map<string, number> {\n\t\tconst sizes: Map<string, number> = new Map<string, number>();\n\t\tif (this.dimension) {\n\t\t\tconst totalWeight = this.viewContainerModel.visibleViewDescriptors.reduce((totalWeight, { weight }) => totalWeight + (weight || 20), 0);\n\t\t\tfor (const viewDescriptor of this.viewContainerModel.visibleViewDescriptors) {\n\t\t\t\tif (this.orientation === Orientation.VERTICAL) {\n\t\t\t\t\tsizes.set(viewDescriptor.id, this.dimension.height * (viewDescriptor.weight || 20) / totalWeight);\n\t\t\t\t} else {\n\t\t\t\t\tsizes.set(viewDescriptor.id, this.dimension.width * (viewDescriptor.weight || 20) / totalWeight);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn sizes;\n\t}\n\n\tprotected override saveState(): void {\n\t\tthis.panes.forEach((view) => view.saveState());\n\t\tthis.storageService.store(this.visibleViewsStorageId, this.length, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t}\n\n\tprivate onContextMenu(event: StandardMouseEvent, viewPane: ViewPane): void {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tconst actions: IAction[] = viewPane.menuActions.getContextMenuActions();\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => event,\n\t\t\tgetActions: () => actions\n\t\t});\n\t}\n\n\topenView(id: string, focus?: boolean): IView | undefined {\n\t\tlet view = this.getView(id);\n\t\tif (!view) {\n\t\t\tthis.toggleViewVisibility(id);\n\t\t}\n\t\tview = this.getView(id);\n\t\tif (view) {\n\t\t\tview.setExpanded(true);\n\t\t\tif (focus) {\n\t\t\t\tview.focus();\n\t\t\t}\n\t\t}\n\t\treturn view;\n\t}\n\n\tprotected onDidAddViewDescriptors(added: IAddedViewDescriptorRef[]): ViewPane[] {\n\t\tconst panesToAdd: { pane: ViewPane; size: number; index: number }[] = [];\n\n\t\tfor (const { viewDescriptor, collapsed, index, size } of added) {\n\t\t\tconst pane = this.createView(viewDescriptor,\n\t\t\t\t{\n\t\t\t\t\tid: viewDescriptor.id,\n\t\t\t\t\ttitle: viewDescriptor.name,\n\t\t\t\t\tfromExtensionId: (viewDescriptor as Partial<ICustomViewDescriptor>).extensionId,\n\t\t\t\t\texpanded: !collapsed\n\t\t\t\t});\n\n\t\t\tpane.render();\n\t\t\tconst contextMenuDisposable = addDisposableListener(pane.draggableElement, 'contextmenu', e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.onContextMenu(new StandardMouseEvent(e), pane);\n\t\t\t});\n\n\t\t\tconst collapseDisposable = Event.latch(Event.map(pane.onDidChange, () => !pane.isExpanded()))(collapsed => {\n\t\t\t\tthis.viewContainerModel.setCollapsed(viewDescriptor.id, collapsed);\n\t\t\t});\n\n\t\t\tthis.viewDisposables.splice(index, 0, combinedDisposable(contextMenuDisposable, collapseDisposable));\n\t\t\tpanesToAdd.push({ pane, size: size || pane.minimumSize, index });\n\t\t}\n\n\t\tthis.addPanes(panesToAdd);\n\t\tthis.restoreViewSizes();\n\n\t\tconst panes: ViewPane[] = [];\n\t\tfor (const { pane } of panesToAdd) {\n\t\t\tpane.setVisible(this.isVisible());\n\t\t\tpanes.push(pane);\n\t\t}\n\t\treturn panes;\n\t}\n\n\tprivate onDidRemoveViewDescriptors(removed: IViewDescriptorRef[]): void {\n\t\tremoved = removed.sort((a, b) => b.index - a.index);\n\t\tconst panesToRemove: ViewPane[] = [];\n\t\tfor (const { index } of removed) {\n\t\t\tconst [disposable] = this.viewDisposables.splice(index, 1);\n\t\t\tdisposable.dispose();\n\t\t\tpanesToRemove.push(this.panes[index]);\n\t\t}\n\t\tthis.removePanes(panesToRemove);\n\n\t\tfor (const pane of panesToRemove) {\n\t\t\tpane.setVisible(false);\n\t\t}\n\t}\n\n\ttoggleViewVisibility(viewId: string): void {\n\t\t// Check if view is active\n\t\tif (this.viewContainerModel.activeViewDescriptors.some(viewDescriptor => viewDescriptor.id === viewId)) {\n\t\t\tconst visible = !this.viewContainerModel.isVisible(viewId);\n\t\t\tthis.viewContainerModel.setVisible(viewId, visible);\n\t\t}\n\t}\n\n\tprivate addPane(pane: ViewPane, size: number, index = this.paneItems.length - 1): void {\n\t\tconst onDidFocus = pane.onDidFocus(() => {\n\t\t\tthis._onDidFocusView.fire(pane);\n\t\t\tthis.lastFocusedPane = pane;\n\t\t});\n\t\tconst onDidBlur = pane.onDidBlur(() => this._onDidBlurView.fire(pane));\n\t\tconst onDidChangeTitleArea = pane.onDidChangeTitleArea(() => {\n\t\t\tif (this.isViewMergedWithContainer()) {\n\t\t\t\tthis.updateTitleArea();\n\t\t\t}\n\t\t});\n\n\t\tconst onDidChangeVisibility = pane.onDidChangeBodyVisibility(() => this._onDidChangeViewVisibility.fire(pane));\n\t\tconst onDidChange = pane.onDidChange(() => {\n\t\t\tif (pane === this.lastFocusedPane && !pane.isExpanded()) {\n\t\t\t\tthis.lastFocusedPane = undefined;\n\t\t\t}\n\t\t});\n\n\t\tconst isPanel = this.viewDescriptorService.getViewContainerLocation(this.viewContainer) === ViewContainerLocation.Panel;\n\t\tpane.style({\n\t\t\theaderForeground: asCssVariable(isPanel ? PANEL_SECTION_HEADER_FOREGROUND : SIDE_BAR_SECTION_HEADER_FOREGROUND),\n\t\t\theaderBackground: asCssVariable(isPanel ? PANEL_SECTION_HEADER_BACKGROUND : SIDE_BAR_SECTION_HEADER_BACKGROUND),\n\t\t\theaderBorder: asCssVariable(isPanel ? PANEL_SECTION_HEADER_BORDER : SIDE_BAR_SECTION_HEADER_BORDER),\n\t\t\tdropBackground: asCssVariable(isPanel ? PANEL_SECTION_DRAG_AND_DROP_BACKGROUND : SIDE_BAR_DRAG_AND_DROP_BACKGROUND),\n\t\t\tleftBorder: isPanel ? asCssVariable(PANEL_SECTION_BORDER) : undefined\n\t\t});\n\n\t\tconst store = new DisposableStore();\n\t\tstore.add(combinedDisposable(pane, onDidFocus, onDidBlur, onDidChangeTitleArea, onDidChange, onDidChangeVisibility));\n\t\tconst paneItem: IViewPaneItem = { pane, disposable: store };\n\n\t\tthis.paneItems.splice(index, 0, paneItem);\n\t\tassertIsDefined(this.paneview).addPane(pane, size, index);\n\n\t\tlet overlay: ViewPaneDropOverlay | undefined;\n\n\t\tstore.add(CompositeDragAndDropObserver.INSTANCE.registerDraggable(pane.draggableElement, () => { return { type: 'view', id: pane.id }; }, {}));\n\n\t\tstore.add(CompositeDragAndDropObserver.INSTANCE.registerTarget(pane.dropTargetElement, {\n\t\t\tonDragEnter: (e) => {\n\t\t\t\tif (!overlay) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tif (dropData.type === 'view' && dropData.id !== pane.id) {\n\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && (!viewDescriptor || !viewDescriptor.canMoveView || this.viewContainer.rejectAddedViews)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(pane.dropTargetElement, this.orientation ?? Orientation.VERTICAL, undefined, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id && !this.viewContainer.rejectAddedViews) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst viewsToMove = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\n\t\t\t\t\t\tif (!viewsToMove.some(v => !v.canMoveView) && viewsToMove.length > 0) {\n\t\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(pane.dropTargetElement, this.orientation ?? Orientation.VERTICAL, undefined, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e) => {\n\t\t\t\ttoggleDropEffect(e.eventData.dataTransfer, 'move', overlay !== undefined);\n\t\t\t},\n\t\t\tonDragLeave: (e) => {\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t},\n\t\t\tonDrop: (e) => {\n\t\t\t\tif (overlay) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tconst viewsToMove: IViewDescriptor[] = [];\n\t\t\t\t\tlet anchorView: IViewDescriptor | undefined;\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id && !this.viewContainer.rejectAddedViews) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst allViews = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\n\t\t\t\t\t\tif (allViews.length > 0 && !allViews.some(v => !v.canMoveView)) {\n\t\t\t\t\t\t\tviewsToMove.push(...allViews);\n\t\t\t\t\t\t\tanchorView = allViews[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dropData.type === 'view') {\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && viewDescriptor && viewDescriptor.canMoveView && !this.viewContainer.rejectAddedViews) {\n\t\t\t\t\t\t\tviewsToMove.push(viewDescriptor);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (viewDescriptor) {\n\t\t\t\t\t\t\tanchorView = viewDescriptor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (viewsToMove) {\n\t\t\t\t\t\tthis.viewDescriptorService.moveViewsToContainer(viewsToMove, this.viewContainer);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (anchorView) {\n\t\t\t\t\t\tif (overlay.currentDropOperation === DropDirection.DOWN ||\n\t\t\t\t\t\t\toverlay.currentDropOperation === DropDirection.RIGHT) {\n\n\t\t\t\t\t\t\tconst fromIndex = this.panes.findIndex(p => p.id === anchorView!.id);\n\t\t\t\t\t\t\tlet toIndex = this.panes.findIndex(p => p.id === pane.id);\n\n\t\t\t\t\t\t\tif (fromIndex >= 0 && toIndex >= 0) {\n\t\t\t\t\t\t\t\tif (fromIndex > toIndex) {\n\t\t\t\t\t\t\t\t\ttoIndex++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (toIndex < this.panes.length && toIndex !== fromIndex) {\n\t\t\t\t\t\t\t\t\tthis.movePane(this.panes[fromIndex], this.panes[toIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (overlay.currentDropOperation === DropDirection.UP ||\n\t\t\t\t\t\t\toverlay.currentDropOperation === DropDirection.LEFT) {\n\t\t\t\t\t\t\tconst fromIndex = this.panes.findIndex(p => p.id === anchorView!.id);\n\t\t\t\t\t\t\tlet toIndex = this.panes.findIndex(p => p.id === pane.id);\n\n\t\t\t\t\t\t\tif (fromIndex >= 0 && toIndex >= 0) {\n\t\t\t\t\t\t\t\tif (fromIndex < toIndex) {\n\t\t\t\t\t\t\t\t\ttoIndex--;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (toIndex >= 0 && toIndex !== fromIndex) {\n\t\t\t\t\t\t\t\t\tthis.movePane(this.panes[fromIndex], this.panes[toIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (viewsToMove.length > 1) {\n\t\t\t\t\t\t\tviewsToMove.slice(1).forEach(view => {\n\t\t\t\t\t\t\t\tlet toIndex = this.panes.findIndex(p => p.id === anchorView!.id);\n\t\t\t\t\t\t\t\tconst fromIndex = this.panes.findIndex(p => p.id === view.id);\n\t\t\t\t\t\t\t\tif (fromIndex >= 0 && toIndex >= 0) {\n\t\t\t\t\t\t\t\t\tif (fromIndex > toIndex) {\n\t\t\t\t\t\t\t\t\t\ttoIndex++;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (toIndex < this.panes.length && toIndex !== fromIndex) {\n\t\t\t\t\t\t\t\t\t\tthis.movePane(this.panes[fromIndex], this.panes[toIndex]);\n\t\t\t\t\t\t\t\t\t\tanchorView = view;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t}\n\t\t}));\n\t}\n\n\tremovePanes(panes: ViewPane[]): void {\n\t\tconst wasMerged = this.isViewMergedWithContainer();\n\n\t\tpanes.forEach(pane => this.removePane(pane));\n\n\t\tthis.updateViewHeaders();\n\t\tif (wasMerged !== this.isViewMergedWithContainer()) {\n\t\t\tthis.updateTitleArea();\n\t\t}\n\n\t\tthis._onDidRemoveViews.fire(panes);\n\t}\n\n\tprivate removePane(pane: ViewPane): void {\n\t\tconst index = this.paneItems.findIndex(i => i.pane === pane);\n\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.lastFocusedPane === pane) {\n\t\t\tthis.lastFocusedPane = undefined;\n\t\t}\n\n\t\tassertIsDefined(this.paneview).removePane(pane);\n\t\tconst [paneItem] = this.paneItems.splice(index, 1);\n\t\tpaneItem.disposable.dispose();\n\n\t}\n\n\tmovePane(from: ViewPane, to: ViewPane): void {\n\t\tconst fromIndex = this.paneItems.findIndex(item => item.pane === from);\n\t\tconst toIndex = this.paneItems.findIndex(item => item.pane === to);\n\n\t\tconst fromViewDescriptor = this.viewContainerModel.visibleViewDescriptors[fromIndex];\n\t\tconst toViewDescriptor = this.viewContainerModel.visibleViewDescriptors[toIndex];\n\n\t\tif (fromIndex < 0 || fromIndex >= this.paneItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (toIndex < 0 || toIndex >= this.paneItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [paneItem] = this.paneItems.splice(fromIndex, 1);\n\t\tthis.paneItems.splice(toIndex, 0, paneItem);\n\n\t\tassertIsDefined(this.paneview).movePane(from, to);\n\n\t\tthis.viewContainerModel.move(fromViewDescriptor.id, toViewDescriptor.id);\n\n\t\tthis.updateTitleArea();\n\t}\n\n\tresizePane(pane: ViewPane, size: number): void {\n\t\tassertIsDefined(this.paneview).resizePane(pane, size);\n\t}\n\n\tgetPaneSize(pane: ViewPane): number {\n\t\treturn assertIsDefined(this.paneview).getPaneSize(pane);\n\t}\n\n\tprivate updateViewHeaders(): void {\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\tif (this.paneItems[0].pane.isExpanded()) {\n\t\t\t\tthis.lastMergedCollapsedPane = undefined;\n\t\t\t} else {\n\t\t\t\tthis.lastMergedCollapsedPane = this.paneItems[0].pane;\n\t\t\t\tthis.paneItems[0].pane.setExpanded(true);\n\t\t\t}\n\t\t\tthis.paneItems[0].pane.headerVisible = false;\n\t\t} else {\n\t\t\tthis.paneItems.forEach(i => {\n\t\t\t\ti.pane.headerVisible = true;\n\t\t\t\tif (i.pane === this.lastMergedCollapsedPane) {\n\t\t\t\t\ti.pane.setExpanded(false);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.lastMergedCollapsedPane = undefined;\n\t\t}\n\t}\n\n\tisViewMergedWithContainer(): boolean {\n\t\tif (!(this.options.mergeViewWithContainerWhenSingleView && this.paneItems.length === 1)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.areExtensionsReady) {\n\t\t\tif (this.visibleViewsCountFromCache === undefined) {\n\t\t\t\treturn this.paneItems[0].pane.isExpanded();\n\t\t\t}\n\t\t\t// Check in cache so that view do not jump. See #29609\n\t\t\treturn this.visibleViewsCountFromCache === 1;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate onDidScrollPane() {\n\t\tfor (const pane of this.panes) {\n\t\t\tpane.onDidScrollRoot();\n\t\t}\n\t}\n\n\tprivate onDidSashReset(index: number) {\n\t\tlet firstPane = undefined;\n\t\tlet secondPane = undefined;\n\n\t\t// Deal with collapsed views: to be clever, we split the space taken by the nearest uncollapsed views\n\t\tfor (let i = index; i >= 0; i--) {\n\t\t\tif (this.paneItems[i].pane?.isVisible() && this.paneItems[i]?.pane.isExpanded()) {\n\t\t\t\tfirstPane = this.paneItems[i].pane;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = index + 1; i < this.paneItems.length; i++) {\n\t\t\tif (this.paneItems[i].pane?.isVisible() && this.paneItems[i]?.pane.isExpanded()) {\n\t\t\t\tsecondPane = this.paneItems[i].pane;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (firstPane && secondPane) {\n\t\t\tconst firstPaneSize = this.getPaneSize(firstPane);\n\t\t\tconst secondPaneSize = this.getPaneSize(secondPane);\n\n\t\t\t// Avoid rounding errors and be consistent when resizing\n\t\t\t// The first pane always get half rounded up and the second is half rounded down\n\t\t\tconst newFirstPaneSize = Math.ceil((firstPaneSize + secondPaneSize) / 2);\n\t\t\tconst newSecondPaneSize = Math.floor((firstPaneSize + secondPaneSize) / 2);\n\n\t\t\t// Shrink the larger pane first, then grow the smaller pane\n\t\t\t// This prevents interfering with other view sizes\n\t\t\tif (firstPaneSize > secondPaneSize) {\n\t\t\t\tthis.resizePane(firstPane, newFirstPaneSize);\n\t\t\t\tthis.resizePane(secondPane, newSecondPaneSize);\n\t\t\t} else {\n\t\t\t\tthis.resizePane(secondPane, newSecondPaneSize);\n\t\t\t\tthis.resizePane(firstPane, newFirstPaneSize);\n\t\t\t}\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.paneItems.forEach(i => i.disposable.dispose());\n\t\tif (this.paneview) {\n\t\t\tthis.paneview.dispose();\n\t\t}\n\t}\n}\n\nexport abstract class ViewPaneContainerAction<T extends IViewPaneContainer> extends Action2 {\n\toverride readonly desc: Readonly<IAction2Options> & { viewPaneContainerId: string };\n\tconstructor(desc: Readonly<IAction2Options> & { viewPaneContainerId: string }) {\n\t\tsuper(desc);\n\t\tthis.desc = desc;\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\tconst viewPaneContainer = accessor.get(IViewsService).getActiveViewPaneContainerWithId(this.desc.viewPaneContainerId);\n\t\tif (viewPaneContainer) {\n\t\t\treturn this.runInViewPaneContainer(accessor, <T>viewPaneContainer, ...args);\n\t\t}\n\t}\n\n\tabstract runInViewPaneContainer(accessor: ServicesAccessor, viewPaneContainer: T, ...args: any[]): any;\n}\n\nclass MoveViewPosition extends Action2 {\n\tconstructor(desc: Readonly<IAction2Options>, private readonly offset: number) {\n\t\tsuper(desc);\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst viewDescriptorService = accessor.get(IViewDescriptorService);\n\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\n\t\tconst viewId = FocusedViewContext.getValue(contextKeyService);\n\t\tif (viewId === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewContainer = viewDescriptorService.getViewContainerByViewId(viewId)!;\n\t\tconst model = viewDescriptorService.getViewContainerModel(viewContainer);\n\n\t\tconst viewDescriptor = model.visibleViewDescriptors.find(vd => vd.id === viewId)!;\n\t\tconst currentIndex = model.visibleViewDescriptors.indexOf(viewDescriptor);\n\t\tif (currentIndex + this.offset < 0 || currentIndex + this.offset >= model.visibleViewDescriptors.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newPosition = model.visibleViewDescriptors[currentIndex + this.offset];\n\n\t\tmodel.move(viewDescriptor.id, newPosition.id);\n\t}\n}\n\nregisterAction2(\n\tclass MoveViewUp extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewUp',\n\t\t\t\ttitle: nls.localize('viewMoveUp', \"Move View Up\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.UpArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, -1);\n\t\t}\n\t}\n);\n\nregisterAction2(\n\tclass MoveViewLeft extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewLeft',\n\t\t\t\ttitle: nls.localize('viewMoveLeft', \"Move View Left\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.LeftArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, -1);\n\t\t}\n\t}\n);\n\nregisterAction2(\n\tclass MoveViewDown extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewDown',\n\t\t\t\ttitle: nls.localize('viewMoveDown', \"Move View Down\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.DownArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\t}\n);\n\nregisterAction2(\n\tclass MoveViewRight extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewRight',\n\t\t\t\ttitle: nls.localize('viewMoveRight', \"Move View Right\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.RightArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\t}\n);\n\n\nregisterAction2(class MoveViews extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'vscode.moveViews',\n\t\t\ttitle: nls.localize('viewsMove', \"Move Views\"),\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, options: { viewIds: string[]; destinationId: string }): Promise<void> {\n\t\tif (!Array.isArray(options?.viewIds) || typeof options?.destinationId !== 'string') {\n\t\t\treturn Promise.reject('Invalid arguments');\n\t\t}\n\n\t\tconst viewDescriptorService = accessor.get(IViewDescriptorService);\n\n\t\tconst destination = viewDescriptorService.getViewContainerById(options.destinationId);\n\t\tif (!destination) {\n\t\t\treturn;\n\t\t}\n\n\t\t// FYI, don't use `moveViewsToContainer` in 1 shot, because it expects all views to have the same current location\n\t\tfor (const viewId of options.viewIds) {\n\t\t\tconst viewDescriptor = viewDescriptorService.getViewDescriptorById(viewId);\n\t\t\tif (viewDescriptor?.canMoveView) {\n\t\t\t\tviewDescriptorService.moveViewsToContainer([viewDescriptor], destination, ViewVisibilityState.Default);\n\t\t\t}\n\t\t}\n\n\t\tawait accessor.get(IViewsService).openViewContainer(destination.id, true);\n\t}\n});\n"]}
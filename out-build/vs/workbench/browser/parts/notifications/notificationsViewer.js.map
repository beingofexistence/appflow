{"version":3,"sources":["vs/workbench/browser/parts/notifications/notificationsViewer.ts"],"names":[],"mappings":"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","file":"notificationsViewer.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IListVirtualDelegate, IListRenderer } from 'vs/base/browser/ui/list/list';\nimport { clearNode, addDisposableListener, EventType, EventHelper, $, isEventLike } from 'vs/base/browser/dom';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { URI } from 'vs/base/common/uri';\nimport { localize } from 'vs/nls';\nimport { ButtonBar, IButtonOptions } from 'vs/base/browser/ui/button/button';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { ActionRunner, IAction, IActionRunner } from 'vs/base/common/actions';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { dispose, DisposableStore, Disposable } from 'vs/base/common/lifecycle';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { INotificationViewItem, NotificationViewItem, NotificationViewItemContentChangeKind, INotificationMessage, ChoiceAction } from 'vs/workbench/common/notifications';\nimport { ClearNotificationAction, ExpandNotificationAction, CollapseNotificationAction, ConfigureNotificationAction } from 'vs/workbench/browser/parts/notifications/notificationsActions';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { ProgressBar } from 'vs/base/browser/ui/progressbar/progressbar';\nimport { Severity } from 'vs/platform/notification/common/notification';\nimport { isNonEmptyArray } from 'vs/base/common/arrays';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { DropdownMenuActionViewItem } from 'vs/base/browser/ui/dropdown/dropdownActionViewItem';\nimport { DomEmitter } from 'vs/base/browser/event';\nimport { Gesture, EventType as GestureEventType } from 'vs/base/browser/touch';\nimport { Event } from 'vs/base/common/event';\nimport { defaultButtonStyles, defaultProgressBarStyles } from 'vs/platform/theme/browser/defaultStyles';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\n\nexport class NotificationsListDelegate implements IListVirtualDelegate<INotificationViewItem> {\n\n\tprivate static readonly ROW_HEIGHT = 42;\n\tprivate static readonly LINE_HEIGHT = 22;\n\n\tprivate offsetHelper: HTMLElement;\n\n\tconstructor(container: HTMLElement) {\n\t\tthis.offsetHelper = this.createOffsetHelper(container);\n\t}\n\n\tprivate createOffsetHelper(container: HTMLElement): HTMLElement {\n\t\tconst offsetHelper = document.createElement('div');\n\t\toffsetHelper.classList.add('notification-offset-helper');\n\n\t\tcontainer.appendChild(offsetHelper);\n\n\t\treturn offsetHelper;\n\t}\n\n\tgetHeight(notification: INotificationViewItem): number {\n\t\tif (!notification.expanded) {\n\t\t\treturn NotificationsListDelegate.ROW_HEIGHT; // return early if there are no more rows to show\n\t\t}\n\n\t\t// First row: message and actions\n\t\tlet expandedHeight = NotificationsListDelegate.ROW_HEIGHT;\n\n\t\t// Dynamic height: if message overflows\n\t\tconst preferredMessageHeight = this.computePreferredHeight(notification);\n\t\tconst messageOverflows = NotificationsListDelegate.LINE_HEIGHT < preferredMessageHeight;\n\t\tif (messageOverflows) {\n\t\t\tconst overflow = preferredMessageHeight - NotificationsListDelegate.LINE_HEIGHT;\n\t\t\texpandedHeight += overflow;\n\t\t}\n\n\t\t// Last row: source and buttons if we have any\n\t\tif (notification.source || isNonEmptyArray(notification.actions && notification.actions.primary)) {\n\t\t\texpandedHeight += NotificationsListDelegate.ROW_HEIGHT;\n\t\t}\n\n\t\t// If the expanded height is same as collapsed, unset the expanded state\n\t\t// but skip events because there is no change that has visual impact\n\t\tif (expandedHeight === NotificationsListDelegate.ROW_HEIGHT) {\n\t\t\tnotification.collapse(true /* skip events, no change in height */);\n\t\t}\n\n\t\treturn expandedHeight;\n\t}\n\n\tprivate computePreferredHeight(notification: INotificationViewItem): number {\n\n\t\t// Prepare offset helper depending on toolbar actions count\n\t\tlet actions = 0;\n\t\tif (!notification.hasProgress) {\n\t\t\tactions++; // close\n\t\t}\n\t\tif (notification.canCollapse) {\n\t\t\tactions++; // expand/collapse\n\t\t}\n\t\tif (isNonEmptyArray(notification.actions && notification.actions.secondary)) {\n\t\t\tactions++; // secondary actions\n\t\t}\n\t\tthis.offsetHelper.style.width = `${450 /* notifications container width */ - (10 /* padding */ + 30 /* severity icon */ + (actions * 30) /* actions */ - (Math.max(actions - 1, 0) * 4) /* less padding for actions > 1 */)}px`;\n\n\t\t// Render message into offset helper\n\t\tconst renderedMessage = NotificationMessageRenderer.render(notification.message);\n\t\tthis.offsetHelper.appendChild(renderedMessage);\n\n\t\t// Compute height\n\t\tconst preferredHeight = Math.max(this.offsetHelper.offsetHeight, this.offsetHelper.scrollHeight);\n\n\t\t// Always clear offset helper after use\n\t\tclearNode(this.offsetHelper);\n\n\t\treturn preferredHeight;\n\t}\n\n\tgetTemplateId(element: INotificationViewItem): string {\n\t\tif (element instanceof NotificationViewItem) {\n\t\t\treturn NotificationRenderer.TEMPLATE_ID;\n\t\t}\n\n\t\tthrow new Error('unknown element type: ' + element);\n\t}\n}\n\nexport interface INotificationTemplateData {\n\tcontainer: HTMLElement;\n\ttoDispose: DisposableStore;\n\n\tmainRow: HTMLElement;\n\ticon: HTMLElement;\n\tmessage: HTMLElement;\n\ttoolbar: ActionBar;\n\n\tdetailsRow: HTMLElement;\n\tsource: HTMLElement;\n\tbuttonsContainer: HTMLElement;\n\tprogress: ProgressBar;\n\n\trenderer: NotificationTemplateRenderer;\n}\n\ninterface IMessageActionHandler {\n\treadonly toDispose: DisposableStore;\n\n\tcallback: (href: string) => void;\n}\n\nclass NotificationMessageRenderer {\n\n\tstatic render(message: INotificationMessage, actionHandler?: IMessageActionHandler): HTMLElement {\n\t\tconst messageContainer = document.createElement('span');\n\n\t\tfor (const node of message.linkedText.nodes) {\n\t\t\tif (typeof node === 'string') {\n\t\t\t\tmessageContainer.appendChild(document.createTextNode(node));\n\t\t\t} else {\n\t\t\t\tlet title = node.title;\n\n\t\t\t\tif (!title && node.href.startsWith('command:')) {\n\t\t\t\t\ttitle = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substr('command:'.length));\n\t\t\t\t} else if (!title) {\n\t\t\t\t\ttitle = node.href;\n\t\t\t\t}\n\n\t\t\t\tconst anchor = $('a', { href: node.href, title, tabIndex: 0 }, node.label);\n\n\t\t\t\tif (actionHandler) {\n\t\t\t\t\tconst handleOpen = (e: unknown) => {\n\t\t\t\t\t\tif (isEventLike(e)) {\n\t\t\t\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tactionHandler.callback(node.href);\n\t\t\t\t\t};\n\n\t\t\t\t\tconst onClick = actionHandler.toDispose.add(new DomEmitter(anchor, EventType.CLICK)).event;\n\n\t\t\t\t\tconst onKeydown = actionHandler.toDispose.add(new DomEmitter(anchor, EventType.KEY_DOWN)).event;\n\t\t\t\t\tconst onSpaceOrEnter = Event.chain(onKeydown, $ => $.filter(e => {\n\t\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\n\t\t\t\t\t\treturn event.equals(KeyCode.Space) || event.equals(KeyCode.Enter);\n\t\t\t\t\t}));\n\n\t\t\t\t\tactionHandler.toDispose.add(Gesture.addTarget(anchor));\n\t\t\t\t\tconst onTap = actionHandler.toDispose.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n\n\t\t\t\t\tEvent.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.toDispose);\n\t\t\t\t}\n\n\t\t\t\tmessageContainer.appendChild(anchor);\n\t\t\t}\n\t\t}\n\n\t\treturn messageContainer;\n\t}\n}\n\nexport class NotificationRenderer implements IListRenderer<INotificationViewItem, INotificationTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'notification';\n\n\tconstructor(\n\t\tprivate actionRunner: IActionRunner,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t}\n\n\tget templateId() {\n\t\treturn NotificationRenderer.TEMPLATE_ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): INotificationTemplateData {\n\t\tconst data: INotificationTemplateData = Object.create(null);\n\t\tdata.toDispose = new DisposableStore();\n\n\t\t// Container\n\t\tdata.container = document.createElement('div');\n\t\tdata.container.classList.add('notification-list-item');\n\n\t\t// Main Row\n\t\tdata.mainRow = document.createElement('div');\n\t\tdata.mainRow.classList.add('notification-list-item-main-row');\n\n\t\t// Icon\n\t\tdata.icon = document.createElement('div');\n\t\tdata.icon.classList.add('notification-list-item-icon', 'codicon');\n\n\t\t// Message\n\t\tdata.message = document.createElement('div');\n\t\tdata.message.classList.add('notification-list-item-message');\n\n\t\t// Toolbar\n\t\tconst toolbarContainer = document.createElement('div');\n\t\ttoolbarContainer.classList.add('notification-list-item-toolbar-container');\n\t\tdata.toolbar = new ActionBar(\n\t\t\ttoolbarContainer,\n\t\t\t{\n\t\t\t\tariaLabel: localize('notificationActions', \"Notification Actions\"),\n\t\t\t\tactionViewItemProvider: action => {\n\t\t\t\t\tif (action && action instanceof ConfigureNotificationAction) {\n\t\t\t\t\t\tconst item = new DropdownMenuActionViewItem(action, action.configurationActions, this.contextMenuService, { actionRunner: this.actionRunner, classNames: action.class });\n\t\t\t\t\t\tdata.toDispose.add(item);\n\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t\tactionRunner: this.actionRunner\n\t\t\t}\n\t\t);\n\t\tdata.toDispose.add(data.toolbar);\n\n\t\t// Details Row\n\t\tdata.detailsRow = document.createElement('div');\n\t\tdata.detailsRow.classList.add('notification-list-item-details-row');\n\n\t\t// Source\n\t\tdata.source = document.createElement('div');\n\t\tdata.source.classList.add('notification-list-item-source');\n\n\t\t// Buttons Container\n\t\tdata.buttonsContainer = document.createElement('div');\n\t\tdata.buttonsContainer.classList.add('notification-list-item-buttons-container');\n\n\t\tcontainer.appendChild(data.container);\n\n\t\t// the details row appears first in order for better keyboard access to notification buttons\n\t\tdata.container.appendChild(data.detailsRow);\n\t\tdata.detailsRow.appendChild(data.source);\n\t\tdata.detailsRow.appendChild(data.buttonsContainer);\n\n\t\t// main row\n\t\tdata.container.appendChild(data.mainRow);\n\t\tdata.mainRow.appendChild(data.icon);\n\t\tdata.mainRow.appendChild(data.message);\n\t\tdata.mainRow.appendChild(toolbarContainer);\n\n\t\t// Progress: below the rows to span the entire width of the item\n\t\tdata.progress = new ProgressBar(container, defaultProgressBarStyles);\n\t\tdata.toDispose.add(data.progress);\n\n\t\t// Renderer\n\t\tdata.renderer = this.instantiationService.createInstance(NotificationTemplateRenderer, data, this.actionRunner);\n\t\tdata.toDispose.add(data.renderer);\n\n\t\treturn data;\n\t}\n\n\trenderElement(notification: INotificationViewItem, index: number, data: INotificationTemplateData): void {\n\t\tdata.renderer.setInput(notification);\n\t}\n\n\tdisposeTemplate(templateData: INotificationTemplateData): void {\n\t\tdispose(templateData.toDispose);\n\t}\n}\n\nexport class NotificationTemplateRenderer extends Disposable {\n\n\tprivate static closeNotificationAction: ClearNotificationAction;\n\tprivate static expandNotificationAction: ExpandNotificationAction;\n\tprivate static collapseNotificationAction: CollapseNotificationAction;\n\n\tprivate static readonly SEVERITIES = [Severity.Info, Severity.Warning, Severity.Error];\n\n\tprivate readonly inputDisposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate template: INotificationTemplateData,\n\t\tprivate actionRunner: IActionRunner,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t) {\n\t\tsuper();\n\n\t\tif (!NotificationTemplateRenderer.closeNotificationAction) {\n\t\t\tNotificationTemplateRenderer.closeNotificationAction = instantiationService.createInstance(ClearNotificationAction, ClearNotificationAction.ID, ClearNotificationAction.LABEL);\n\t\t\tNotificationTemplateRenderer.expandNotificationAction = instantiationService.createInstance(ExpandNotificationAction, ExpandNotificationAction.ID, ExpandNotificationAction.LABEL);\n\t\t\tNotificationTemplateRenderer.collapseNotificationAction = instantiationService.createInstance(CollapseNotificationAction, CollapseNotificationAction.ID, CollapseNotificationAction.LABEL);\n\t\t}\n\t}\n\n\tsetInput(notification: INotificationViewItem): void {\n\t\tthis.inputDisposables.clear();\n\n\t\tthis.render(notification);\n\t}\n\n\tprivate render(notification: INotificationViewItem): void {\n\n\t\t// Container\n\t\tthis.template.container.classList.toggle('expanded', notification.expanded);\n\t\tthis.inputDisposables.add(addDisposableListener(this.template.container, EventType.MOUSE_UP, e => {\n\t\t\tif (e.button === 1 /* Middle Button */) {\n\t\t\t\t// Prevent firing the 'paste' event in the editor textarea - #109322\n\t\t\t\tEventHelper.stop(e, true);\n\t\t\t}\n\t\t}));\n\t\tthis.inputDisposables.add(addDisposableListener(this.template.container, EventType.AUXCLICK, e => {\n\t\t\tif (!notification.hasProgress && e.button === 1 /* Middle Button */) {\n\t\t\t\tEventHelper.stop(e, true);\n\n\t\t\t\tnotification.close();\n\t\t\t}\n\t\t}));\n\n\t\t// Severity Icon\n\t\tthis.renderSeverity(notification);\n\n\t\t// Message\n\t\tconst messageOverflows = this.renderMessage(notification);\n\n\t\t// Secondary Actions\n\t\tthis.renderSecondaryActions(notification, messageOverflows);\n\n\t\t// Source\n\t\tthis.renderSource(notification);\n\n\t\t// Buttons\n\t\tthis.renderButtons(notification);\n\n\t\t// Progress\n\t\tthis.renderProgress(notification);\n\n\t\t// Label Change Events that we can handle directly\n\t\t// (changes to actions require an entire redraw of\n\t\t// the notification because it has an impact on\n\t\t// epxansion state)\n\t\tthis.inputDisposables.add(notification.onDidChangeContent(event => {\n\t\t\tswitch (event.kind) {\n\t\t\t\tcase NotificationViewItemContentChangeKind.SEVERITY:\n\t\t\t\t\tthis.renderSeverity(notification);\n\t\t\t\t\tbreak;\n\t\t\t\tcase NotificationViewItemContentChangeKind.PROGRESS:\n\t\t\t\t\tthis.renderProgress(notification);\n\t\t\t\t\tbreak;\n\t\t\t\tcase NotificationViewItemContentChangeKind.MESSAGE:\n\t\t\t\t\tthis.renderMessage(notification);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate renderSeverity(notification: INotificationViewItem): void {\n\t\t// first remove, then set as the codicon class names overlap\n\t\tNotificationTemplateRenderer.SEVERITIES.forEach(severity => {\n\t\t\tif (notification.severity !== severity) {\n\t\t\t\tthis.template.icon.classList.remove(...ThemeIcon.asClassNameArray(this.toSeverityIcon(severity)));\n\t\t\t}\n\t\t});\n\t\tthis.template.icon.classList.add(...ThemeIcon.asClassNameArray(this.toSeverityIcon(notification.severity)));\n\t}\n\n\tprivate renderMessage(notification: INotificationViewItem): boolean {\n\t\tclearNode(this.template.message);\n\t\tthis.template.message.appendChild(NotificationMessageRenderer.render(notification.message, {\n\t\t\tcallback: link => this.openerService.open(URI.parse(link), { allowCommands: true }),\n\t\t\ttoDispose: this.inputDisposables\n\t\t}));\n\n\t\tconst messageOverflows = notification.canCollapse && !notification.expanded && this.template.message.scrollWidth > this.template.message.clientWidth;\n\t\tif (messageOverflows) {\n\t\t\tthis.template.message.title = this.template.message.textContent + '';\n\t\t} else {\n\t\t\tthis.template.message.removeAttribute('title');\n\t\t}\n\n\t\treturn messageOverflows;\n\t}\n\n\tprivate renderSecondaryActions(notification: INotificationViewItem, messageOverflows: boolean): void {\n\t\tconst actions: IAction[] = [];\n\n\t\t// Secondary Actions\n\t\tconst secondaryActions = notification.actions ? notification.actions.secondary : undefined;\n\t\tif (isNonEmptyArray(secondaryActions)) {\n\t\t\tconst configureNotificationAction = this.instantiationService.createInstance(ConfigureNotificationAction, ConfigureNotificationAction.ID, ConfigureNotificationAction.LABEL, secondaryActions);\n\t\t\tactions.push(configureNotificationAction);\n\t\t\tthis.inputDisposables.add(configureNotificationAction);\n\t\t}\n\n\t\t// Expand / Collapse\n\t\tlet showExpandCollapseAction = false;\n\t\tif (notification.canCollapse) {\n\t\t\tif (notification.expanded) {\n\t\t\t\tshowExpandCollapseAction = true; // allow to collapse an expanded message\n\t\t\t} else if (notification.source) {\n\t\t\t\tshowExpandCollapseAction = true; // allow to expand to details row\n\t\t\t} else if (messageOverflows) {\n\t\t\t\tshowExpandCollapseAction = true; // allow to expand if message overflows\n\t\t\t}\n\t\t}\n\n\t\tif (showExpandCollapseAction) {\n\t\t\tactions.push(notification.expanded ? NotificationTemplateRenderer.collapseNotificationAction : NotificationTemplateRenderer.expandNotificationAction);\n\t\t}\n\n\t\t// Close (unless progress is showing)\n\t\tif (!notification.hasProgress) {\n\t\t\tactions.push(NotificationTemplateRenderer.closeNotificationAction);\n\t\t}\n\n\t\tthis.template.toolbar.clear();\n\t\tthis.template.toolbar.context = notification;\n\t\tactions.forEach(action => this.template.toolbar.push(action, { icon: true, label: false, keybinding: this.getKeybindingLabel(action) }));\n\t}\n\n\tprivate renderSource(notification: INotificationViewItem): void {\n\t\tif (notification.expanded && notification.source) {\n\t\t\tthis.template.source.textContent = localize('notificationSource', \"Source: {0}\", notification.source);\n\t\t\tthis.template.source.title = notification.source;\n\t\t} else {\n\t\t\tthis.template.source.textContent = '';\n\t\t\tthis.template.source.removeAttribute('title');\n\t\t}\n\t}\n\n\tprivate renderButtons(notification: INotificationViewItem): void {\n\t\tclearNode(this.template.buttonsContainer);\n\n\t\tconst primaryActions = notification.actions ? notification.actions.primary : undefined;\n\t\tif (notification.expanded && isNonEmptyArray(primaryActions)) {\n\t\t\tconst that = this;\n\n\t\t\tconst actionRunner: IActionRunner = new class extends ActionRunner {\n\t\t\t\tprotected override async runAction(action: IAction): Promise<void> {\n\n\t\t\t\t\t// Run action\n\t\t\t\t\tthat.actionRunner.run(action, notification);\n\n\t\t\t\t\t// Hide notification (unless explicitly prevented)\n\t\t\t\t\tif (!(action instanceof ChoiceAction) || !action.keepOpen) {\n\t\t\t\t\t\tnotification.close();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}();\n\n\t\t\tconst buttonToolbar = this.inputDisposables.add(new ButtonBar(this.template.buttonsContainer));\n\t\t\tfor (let i = 0; i < primaryActions.length; i++) {\n\t\t\t\tconst action = primaryActions[i];\n\n\t\t\t\tconst options: IButtonOptions = {\n\t\t\t\t\ttitle: true,  // assign titles to buttons in case they overflow\n\t\t\t\t\tsecondary: i > 0,\n\t\t\t\t\t...defaultButtonStyles\n\t\t\t\t};\n\n\t\t\t\tconst dropdownActions = action instanceof ChoiceAction ? action.menu : undefined;\n\t\t\t\tconst button = this.inputDisposables.add(dropdownActions ?\n\t\t\t\t\tbuttonToolbar.addButtonWithDropdown({\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\tcontextMenuProvider: this.contextMenuService,\n\t\t\t\t\t\tactions: dropdownActions,\n\t\t\t\t\t\tactionRunner\n\t\t\t\t\t}) :\n\t\t\t\t\tbuttonToolbar.addButton(options)\n\t\t\t\t);\n\n\t\t\t\tbutton.label = action.label;\n\n\t\t\t\tthis.inputDisposables.add(button.onDidClick(e => {\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tactionRunner.run(action);\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate renderProgress(notification: INotificationViewItem): void {\n\n\t\t// Return early if the item has no progress\n\t\tif (!notification.hasProgress) {\n\t\t\tthis.template.progress.stop().hide();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Infinite\n\t\tconst state = notification.progress.state;\n\t\tif (state.infinite) {\n\t\t\tthis.template.progress.infinite().show();\n\t\t}\n\n\t\t// Total / Worked\n\t\telse if (typeof state.total === 'number' || typeof state.worked === 'number') {\n\t\t\tif (typeof state.total === 'number' && !this.template.progress.hasTotal()) {\n\t\t\t\tthis.template.progress.total(state.total);\n\t\t\t}\n\n\t\t\tif (typeof state.worked === 'number') {\n\t\t\t\tthis.template.progress.setWorked(state.worked).show();\n\t\t\t}\n\t\t}\n\n\t\t// Done\n\t\telse {\n\t\t\tthis.template.progress.done().hide();\n\t\t}\n\t}\n\n\tprivate toSeverityIcon(severity: Severity): ThemeIcon {\n\t\tswitch (severity) {\n\t\t\tcase Severity.Warning:\n\t\t\t\treturn Codicon.warning;\n\t\t\tcase Severity.Error:\n\t\t\t\treturn Codicon.error;\n\t\t}\n\t\treturn Codicon.info;\n\t}\n\n\tprivate getKeybindingLabel(action: IAction): string | null {\n\t\tconst keybinding = this.keybindingService.lookupKeybinding(action.id);\n\n\t\treturn keybinding ? keybinding.getLabel() : null;\n\t}\n}\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/browser/parts/dialogs/dialog.web.contribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IAiBzF,IAAM,IAAI,GAAV,MAAM,IAA0B,SAAQ,eAAG;QAMjD,YACyB,CAAkB,EAC7B,UAAe,EACZ,aAAkB,EACd,iBAAsB,EACnB,oBAAyB,EAC/B,cAAmB,EACjB,gBAAqB;YAExC,KAAK,EAAE,CAAC;YARgB,MAAC,GAAD,CAAC,CAAiB;YAU1C,IAAI,CAAC,CAAC,GAAM,IAAI,oBAAI,CAAiB,UAAU,EAAE,aAAa,EAAE,iBAAiB,EAAE,oBAAoB,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC;YAE3I,IAAI,CAAC,CAAC,GAAQ,IAAI,CAAC,CAA+B,CAAC,KAAK,CAAC;YAEzD,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,CAAC,CAAK,gBAAgB,CAAC,GAAG,EAAE;gBAC/C,IAAI,CAAC,IAAI,CAAC,CAAC,EAAc;oBACxB,IAAI,CAAC,CAAC,EAAe,CAAC;iBACtB;YACF,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,CAAC,EAAe,CAAC;QACvB,CAAC;QAEO,KAAK,CAAC,CAAC;YACd,OAAO,IAAI,CAAC,CAAC,CAAK,OAAO,CAAC,MAAM,EAAE;gBACjC,IAAI,CAAC,CAAC,GAAe,IAAI,CAAC,CAAC,CAAK,OAAO,CAAC,CAAC,CAAC,CAAC;gBAE3C,IAAI,MAAM,GAA8B,SAAS,CAAC;gBAClD,IAAI,IAAI,CAAC,CAAC,CAAa,IAAI,CAAC,WAAW,EAAE;oBACxC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAa,IAAI,CAAC,WAAW,CAAC;oBACjD,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC,CAAI,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACpD;qBAAM,IAAI,IAAI,CAAC,CAAC,CAAa,IAAI,CAAC,SAAS,EAAE;oBAC7C,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAa,IAAI,CAAC,SAAS,CAAC;oBAC/C,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC,CAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3C;qBAAM,IAAI,IAAI,CAAC,CAAC,CAAa,IAAI,CAAC,UAAU,EAAE;oBAC9C,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAa,IAAI,CAAC,UAAU,CAAC;oBAChD,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC,CAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC7C;qBAAM;oBACN,MAAM,IAAI,CAAC,CAAC,CAAI,KAAK,EAAE,CAAC;iBACxB;gBAED,IAAI,CAAC,CAAC,CAAa,KAAK,CAAC,MAAM,CAAC,CAAC;gBACjC,IAAI,CAAC,CAAC,GAAe,SAAS,CAAC;aAC/B;QACF,CAAC;KACD,CAAA;IApDY,oBAAI;mBAAJ,IAAI;QAOd,WAAA,aAAG,CAAA;QACH,WAAA,SAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,gBAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,oBAAG,CAAA;QACH,WAAA,sBAAG,CAAA;OAbO,IAAI,CAoDhB;IAED,MAAM,iBAAiB,GAAG,cAAG,CAAM,EAAE,CAAkC,0BAAmB,CAAC,SAAS,CAAC,CAAC;IACtG,iBAAiB,CAAC,6BAA6B,CAAC,IAAI,kCAA+C,CAAC","file":"dialog.web.contribution.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IClipboardService } from 'vs/platform/clipboard/common/clipboardService';\nimport { IDialogHandler, IDialogResult, IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { ILayoutService } from 'vs/platform/layout/browser/layoutService';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IWorkbenchContribution, IWorkbenchContributionsRegistry, Extensions as WorkbenchExtensions } from 'vs/workbench/common/contributions';\nimport { IDialogsModel, IDialogViewItem } from 'vs/workbench/common/dialogs';\nimport { BrowserDialogHandler } from 'vs/workbench/browser/parts/dialogs/dialogHandler';\nimport { DialogService } from 'vs/workbench/services/dialogs/common/dialogService';\nimport { LifecyclePhase } from 'vs/workbench/services/lifecycle/common/lifecycle';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\n\nexport class DialogHandlerContribution extends Disposable implements IWorkbenchContribution {\n\tprivate readonly model: IDialogsModel;\n\tprivate readonly impl: IDialogHandler;\n\n\tprivate currentDialog: IDialogViewItem | undefined;\n\n\tconstructor(\n\t\t@IDialogService private dialogService: IDialogService,\n\t\t@ILogService logService: ILogService,\n\t\t@ILayoutService layoutService: ILayoutService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IProductService productService: IProductService,\n\t\t@IClipboardService clipboardService: IClipboardService\n\t) {\n\t\tsuper();\n\n\t\tthis.impl = new BrowserDialogHandler(logService, layoutService, keybindingService, instantiationService, productService, clipboardService);\n\n\t\tthis.model = (this.dialogService as DialogService).model;\n\n\t\tthis._register(this.model.onWillShowDialog(() => {\n\t\t\tif (!this.currentDialog) {\n\t\t\t\tthis.processDialogs();\n\t\t\t}\n\t\t}));\n\n\t\tthis.processDialogs();\n\t}\n\n\tprivate async processDialogs(): Promise<void> {\n\t\twhile (this.model.dialogs.length) {\n\t\t\tthis.currentDialog = this.model.dialogs[0];\n\n\t\t\tlet result: IDialogResult | undefined = undefined;\n\t\t\tif (this.currentDialog.args.confirmArgs) {\n\t\t\t\tconst args = this.currentDialog.args.confirmArgs;\n\t\t\t\tresult = await this.impl.confirm(args.confirmation);\n\t\t\t} else if (this.currentDialog.args.inputArgs) {\n\t\t\t\tconst args = this.currentDialog.args.inputArgs;\n\t\t\t\tresult = await this.impl.input(args.input);\n\t\t\t} else if (this.currentDialog.args.promptArgs) {\n\t\t\t\tconst args = this.currentDialog.args.promptArgs;\n\t\t\t\tresult = await this.impl.prompt(args.prompt);\n\t\t\t} else {\n\t\t\t\tawait this.impl.about();\n\t\t\t}\n\n\t\t\tthis.currentDialog.close(result);\n\t\t\tthis.currentDialog = undefined;\n\t\t}\n\t}\n}\n\nconst workbenchRegistry = Registry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench);\nworkbenchRegistry.registerWorkbenchContribution(DialogHandlerContribution, LifecyclePhase.Starting);\n"]}
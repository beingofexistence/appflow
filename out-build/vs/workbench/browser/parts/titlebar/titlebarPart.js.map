{"version":3,"sources":["vs/workbench/browser/parts/titlebar/titlebarPart.ts"],"names":[],"mappings":"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","file":"titlebarPart.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/titlebarpart';\nimport { localize } from 'vs/nls';\nimport { Part } from 'vs/workbench/browser/part';\nimport { ITitleService, ITitleProperties } from 'vs/workbench/services/title/common/titleService';\nimport { getZoomFactor, isWCOEnabled } from 'vs/base/browser/browser';\nimport { MenuBarVisibility, getTitleBarStyle, getMenuBarVisibility } from 'vs/platform/window/common/window';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { IConfigurationService, IConfigurationChangeEvent } from 'vs/platform/configuration/common/configuration';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { IBrowserWorkbenchEnvironmentService } from 'vs/workbench/services/environment/browser/environmentService';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { TITLE_BAR_ACTIVE_BACKGROUND, TITLE_BAR_ACTIVE_FOREGROUND, TITLE_BAR_INACTIVE_FOREGROUND, TITLE_BAR_INACTIVE_BACKGROUND, TITLE_BAR_BORDER, WORKBENCH_BACKGROUND } from 'vs/workbench/common/theme';\nimport { isMacintosh, isWindows, isLinux, isWeb, isNative, platformLocale } from 'vs/base/common/platform';\nimport { Color } from 'vs/base/common/color';\nimport { EventType, EventHelper, Dimension, append, $, addDisposableListener, prepend, reset } from 'vs/base/browser/dom';\nimport { CustomMenubarControl } from 'vs/workbench/browser/parts/titlebar/menubarControl';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { Parts, IWorkbenchLayoutService } from 'vs/workbench/services/layout/browser/layoutService';\nimport { createActionViewItem } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { Action2, MenuId, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { ContextKeyExpr, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IHostService } from 'vs/workbench/services/host/browser/host';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { getIconRegistry } from 'vs/platform/theme/common/iconRegistry';\nimport { WindowTitle } from 'vs/workbench/browser/parts/titlebar/windowTitle';\nimport { CommandCenterControl } from 'vs/workbench/browser/parts/titlebar/commandCenterControl';\nimport { IHoverDelegate } from 'vs/base/browser/ui/iconLabel/iconHoverDelegate';\nimport { IHoverService } from 'vs/workbench/services/hover/browser/hover';\nimport { Categories } from 'vs/platform/action/common/actionCommonCategories';\nimport { MenuWorkbenchToolBar } from 'vs/platform/actions/browser/toolbar';\n\nexport class TitlebarPart extends Part implements ITitleService {\n\n\tprivate static readonly configCommandCenter = 'window.commandCenter';\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\t//#region IView\n\n\treadonly minimumWidth: number = 0;\n\treadonly maximumWidth: number = Number.POSITIVE_INFINITY;\n\tget minimumHeight(): number {\n\t\tconst value = this.isCommandCenterVisible || (isWeb && isWCOEnabled()) ? 35 : 30;\n\t\treturn value / (this.useCounterZoom ? getZoomFactor() : 1);\n\t}\n\n\tget maximumHeight(): number { return this.minimumHeight; }\n\n\t//#endregion\n\n\tprivate _onMenubarVisibilityChange = this._register(new Emitter<boolean>());\n\treadonly onMenubarVisibilityChange = this._onMenubarVisibilityChange.event;\n\n\tprivate readonly _onDidChangeCommandCenterVisibility = new Emitter<void>();\n\treadonly onDidChangeCommandCenterVisibility: Event<void> = this._onDidChangeCommandCenterVisibility.event;\n\n\tprotected rootContainer!: HTMLElement;\n\tprotected primaryWindowControls: HTMLElement | undefined;\n\tprotected dragRegion: HTMLElement | undefined;\n\tprotected title!: HTMLElement;\n\n\tprivate leftContent!: HTMLElement;\n\tprivate centerContent!: HTMLElement;\n\tprivate rightContent!: HTMLElement;\n\n\tprotected customMenubar: CustomMenubarControl | undefined;\n\tprotected appIcon: HTMLElement | undefined;\n\tprivate appIconBadge: HTMLElement | undefined;\n\tprotected menubar?: HTMLElement;\n\tprotected layoutControls: HTMLElement | undefined;\n\tprotected lastLayoutDimensions: Dimension | undefined;\n\n\tprivate hoverDelegate: IHoverDelegate;\n\n\tprivate readonly titleDisposables = this._register(new DisposableStore());\n\tprivate titleBarStyle: 'native' | 'custom';\n\n\tprivate isInactive: boolean = false;\n\n\tprivate readonly windowTitle: WindowTitle;\n\n\tconstructor(\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IConfigurationService protected readonly configurationService: IConfigurationService,\n\t\t@IBrowserWorkbenchEnvironmentService protected readonly environmentService: IBrowserWorkbenchEnvironmentService,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IHoverService hoverService: IHoverService\n\t) {\n\t\tsuper(Parts.TITLEBAR_PART, { hasTitle: false }, themeService, storageService, layoutService);\n\t\tthis.windowTitle = this._register(instantiationService.createInstance(WindowTitle));\n\n\t\tthis.titleBarStyle = getTitleBarStyle(this.configurationService);\n\n\t\tthis.hoverDelegate = new class implements IHoverDelegate {\n\n\t\t\tprivate _lastHoverHideTime: number = 0;\n\n\t\t\treadonly showHover = hoverService.showHover.bind(hoverService);\n\t\t\treadonly placement = 'element';\n\n\t\t\tget delay(): number {\n\t\t\t\treturn Date.now() - this._lastHoverHideTime < 200\n\t\t\t\t\t? 0  // show instantly when a hover was recently shown\n\t\t\t\t\t: configurationService.getValue<number>('workbench.hover.delay');\n\t\t\t}\n\n\t\t\tonDidHideHover() {\n\t\t\t\tthis._lastHoverHideTime = Date.now();\n\t\t\t}\n\t\t};\n\n\t\tthis.registerListeners();\n\t}\n\n\tupdateProperties(properties: ITitleProperties): void {\n\t\tthis.windowTitle.updateProperties(properties);\n\t}\n\n\tget isCommandCenterVisible() {\n\t\treturn this.configurationService.getValue<boolean>(TitlebarPart.configCommandCenter);\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.hostService.onDidChangeFocus(focused => focused ? this.onFocus() : this.onBlur()));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationChanged(e)));\n\t}\n\n\tprivate onBlur(): void {\n\t\tthis.isInactive = true;\n\t\tthis.updateStyles();\n\t}\n\n\tprivate onFocus(): void {\n\t\tthis.isInactive = false;\n\t\tthis.updateStyles();\n\t}\n\n\tprotected onConfigurationChanged(event: IConfigurationChangeEvent): void {\n\n\t\tif (this.titleBarStyle !== 'native' && (!isMacintosh || isWeb)) {\n\t\t\tif (event.affectsConfiguration('window.menuBarVisibility')) {\n\t\t\t\tif (this.currentMenubarVisibility === 'compact') {\n\t\t\t\t\tthis.uninstallMenubar();\n\t\t\t\t} else {\n\t\t\t\t\tthis.installMenubar();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.titleBarStyle !== 'native' && this.layoutControls && event.affectsConfiguration('workbench.layoutControl.enabled')) {\n\t\t\tthis.layoutControls.classList.toggle('show-layout-control', this.layoutControlEnabled);\n\t\t\tthis._onDidChange.fire(undefined);\n\t\t}\n\n\t\tif (event.affectsConfiguration(TitlebarPart.configCommandCenter)) {\n\t\t\tthis.updateTitle();\n\t\t\tthis._onDidChangeCommandCenterVisibility.fire();\n\t\t\tthis._onDidChange.fire(undefined);\n\t\t}\n\t}\n\n\tprotected onMenubarVisibilityChanged(visible: boolean): void {\n\t\tif (isWeb || isWindows || isLinux) {\n\t\t\tif (this.lastLayoutDimensions) {\n\t\t\t\tthis.layout(this.lastLayoutDimensions.width, this.lastLayoutDimensions.height);\n\t\t\t}\n\n\t\t\tthis._onMenubarVisibilityChange.fire(visible);\n\t\t}\n\t}\n\n\n\tprivate uninstallMenubar(): void {\n\t\tif (this.customMenubar) {\n\t\t\tthis.customMenubar.dispose();\n\t\t\tthis.customMenubar = undefined;\n\t\t}\n\n\t\tif (this.menubar) {\n\t\t\tthis.menubar.remove();\n\t\t\tthis.menubar = undefined;\n\t\t}\n\n\t\tthis.onMenubarVisibilityChanged(false);\n\t}\n\n\tprotected installMenubar(): void {\n\t\t// If the menubar is already installed, skip\n\t\tif (this.menubar) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.customMenubar = this._register(this.instantiationService.createInstance(CustomMenubarControl));\n\n\t\tthis.menubar = append(this.leftContent, $('div.menubar'));\n\t\tthis.menubar.setAttribute('role', 'menubar');\n\n\t\tthis._register(this.customMenubar.onVisibilityChange(e => this.onMenubarVisibilityChanged(e)));\n\n\t\tthis.customMenubar.create(this.menubar);\n\t}\n\n\tprivate updateTitle(): void {\n\t\tthis.titleDisposables.clear();\n\t\tif (!this.isCommandCenterVisible) {\n\t\t\t// Text Title\n\t\t\tthis.title.innerText = this.windowTitle.value;\n\t\t\tthis.titleDisposables.add(this.windowTitle.onDidChange(() => {\n\t\t\t\tthis.title.innerText = this.windowTitle.value;\n\t\t\t}));\n\t\t} else {\n\t\t\t// Menu Title\n\t\t\tconst commandCenter = this.instantiationService.createInstance(CommandCenterControl, this.windowTitle, this.hoverDelegate);\n\t\t\treset(this.title, commandCenter.element);\n\t\t\tthis.titleDisposables.add(commandCenter);\n\t\t}\n\t}\n\n\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\tthis.element = parent;\n\t\tthis.rootContainer = append(parent, $('.titlebar-container'));\n\n\t\tthis.leftContent = append(this.rootContainer, $('.titlebar-left'));\n\t\tthis.centerContent = append(this.rootContainer, $('.titlebar-center'));\n\t\tthis.rightContent = append(this.rootContainer, $('.titlebar-right'));\n\n\t\t// App Icon (Native Windows/Linux and Web)\n\t\tif (!isMacintosh && !isWeb) {\n\t\t\tthis.appIcon = prepend(this.leftContent, $('a.window-appicon'));\n\n\t\t\t// Web-only home indicator and menu\n\t\t\tif (isWeb) {\n\t\t\t\tconst homeIndicator = this.environmentService.options?.homeIndicator;\n\t\t\t\tif (homeIndicator) {\n\t\t\t\t\tconst icon: ThemeIcon = getIconRegistry().getIcon(homeIndicator.icon) ? { id: homeIndicator.icon } : Codicon.code;\n\n\t\t\t\t\tthis.appIcon.setAttribute('href', homeIndicator.href);\n\t\t\t\t\tthis.appIcon.classList.add(...ThemeIcon.asClassNameArray(icon));\n\t\t\t\t\tthis.appIconBadge = document.createElement('div');\n\t\t\t\t\tthis.appIconBadge.classList.add('home-bar-icon-badge');\n\t\t\t\t\tthis.appIcon.appendChild(this.appIconBadge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Draggable region that we can manipulate for #52522\n\t\tthis.dragRegion = prepend(this.rootContainer, $('div.titlebar-drag-region'));\n\n\t\t// Menubar: install a custom menu bar depending on configuration\n\t\t// and when not in activity bar\n\t\tif (this.titleBarStyle !== 'native'\n\t\t\t&& (!isMacintosh || isWeb)\n\t\t\t&& this.currentMenubarVisibility !== 'compact') {\n\t\t\tthis.installMenubar();\n\t\t}\n\n\t\t// Title\n\t\tthis.title = append(this.centerContent, $('div.window-title'));\n\t\tthis.updateTitle();\n\n\t\tif (this.titleBarStyle !== 'native') {\n\t\t\tthis.layoutControls = append(this.rightContent, $('div.layout-controls-container'));\n\t\t\tthis.layoutControls.classList.toggle('show-layout-control', this.layoutControlEnabled);\n\n\t\t\tthis._register(this.instantiationService.createInstance(MenuWorkbenchToolBar, this.layoutControls, MenuId.LayoutControlMenu, {\n\t\t\t\tcontextMenu: MenuId.TitleBarContext,\n\t\t\t\ttoolbarOptions: { primaryGroup: () => true },\n\t\t\t\tactionViewItemProvider: action => {\n\t\t\t\t\treturn createActionViewItem(this.instantiationService, action, { hoverDelegate: this.hoverDelegate });\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tlet primaryControlLocation = isMacintosh ? 'left' : 'right';\n\t\tif (isMacintosh && isNative) {\n\t\t\t// Check if the locale is RTL, macOS will move traffic lights in RTL locales\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/textInfo\n\t\t\tconst localeInfo = new Intl.Locale(platformLocale) as any;\n\t\t\tif (localeInfo?.textInfo?.direction === 'rtl') {\n\t\t\t\tprimaryControlLocation = 'right';\n\t\t\t}\n\t\t}\n\n\t\tthis.primaryWindowControls = append(primaryControlLocation === 'left' ? this.leftContent : this.rightContent, $('div.window-controls-container.primary'));\n\t\tappend(primaryControlLocation === 'left' ? this.rightContent : this.leftContent, $('div.window-controls-container.secondary'));\n\n\t\t// Context menu on title\n\t\t[EventType.CONTEXT_MENU, EventType.MOUSE_DOWN].forEach(event => {\n\t\t\tthis._register(addDisposableListener(this.rootContainer, event, e => {\n\t\t\t\tif (e.type === EventType.CONTEXT_MENU || (e.target === this.title && e.metaKey)) {\n\t\t\t\t\tEventHelper.stop(e);\n\t\t\t\t\tthis.onContextMenu(e, e.target === this.title ? MenuId.TitleBarTitleContext : MenuId.TitleBarContext);\n\t\t\t\t}\n\t\t\t}));\n\t\t});\n\n\t\tthis.updateStyles();\n\n\t\tconst that = this;\n\t\tregisterAction2(class FocusTitleBar extends Action2 {\n\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.action.focusTitleBar`,\n\t\t\t\t\ttitle: { value: localize('focusTitleBar', \"Focus Title Bar\"), original: 'Focus Title Bar' },\n\t\t\t\t\tcategory: Categories.View,\n\t\t\t\t\tf1: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trun(): void {\n\t\t\t\tif (that.customMenubar) {\n\t\t\t\t\tthat.customMenubar.toggleFocus();\n\t\t\t\t} else {\n\t\t\t\t\t(that.element.querySelector('[tabindex]:not([tabindex=\"-1\"])') as HTMLElement).focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn this.element;\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\t// Part container\n\t\tif (this.element) {\n\t\t\tif (this.isInactive) {\n\t\t\t\tthis.element.classList.add('inactive');\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove('inactive');\n\t\t\t}\n\n\t\t\tconst titleBackground = this.getColor(this.isInactive ? TITLE_BAR_INACTIVE_BACKGROUND : TITLE_BAR_ACTIVE_BACKGROUND, (color, theme) => {\n\t\t\t\t// LCD Rendering Support: the title bar part is a defining its own GPU layer.\n\t\t\t\t// To benefit from LCD font rendering, we must ensure that we always set an\n\t\t\t\t// opaque background color. As such, we compute an opaque color given we know\n\t\t\t\t// the background color is the workbench background.\n\t\t\t\treturn color.isOpaque() ? color : color.makeOpaque(WORKBENCH_BACKGROUND(theme));\n\t\t\t}) || '';\n\t\t\tthis.element.style.backgroundColor = titleBackground;\n\n\t\t\tif (this.appIconBadge) {\n\t\t\t\tthis.appIconBadge.style.backgroundColor = titleBackground;\n\t\t\t}\n\n\t\t\tif (titleBackground && Color.fromHex(titleBackground).isLighter()) {\n\t\t\t\tthis.element.classList.add('light');\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove('light');\n\t\t\t}\n\n\t\t\tconst titleForeground = this.getColor(this.isInactive ? TITLE_BAR_INACTIVE_FOREGROUND : TITLE_BAR_ACTIVE_FOREGROUND);\n\t\t\tthis.element.style.color = titleForeground || '';\n\n\t\t\tconst titleBorder = this.getColor(TITLE_BAR_BORDER);\n\t\t\tthis.element.style.borderBottom = titleBorder ? `1px solid ${titleBorder}` : '';\n\t\t}\n\t}\n\n\tprotected onContextMenu(e: MouseEvent, menuId: MenuId): void {\n\t\t// Find target anchor\n\t\tconst event = new StandardMouseEvent(e);\n\n\t\t// Show it\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => event,\n\t\t\tmenuId,\n\t\t\tcontextKeyService: this.contextKeyService,\n\t\t\tdomForShadowRoot: isMacintosh && isNative ? event.target : undefined\n\t\t});\n\t}\n\n\tprotected get currentMenubarVisibility(): MenuBarVisibility {\n\t\treturn getMenuBarVisibility(this.configurationService);\n\t}\n\n\tprivate get layoutControlEnabled(): boolean {\n\t\treturn this.configurationService.getValue<boolean>('workbench.layoutControl.enabled');\n\t}\n\n\tprotected get useCounterZoom(): boolean {\n\t\t// Prevent zooming behavior if any of the following conditions are met:\n\t\t// 1. Shrinking below the window control size (zoom < 1)\n\t\t// 2. No custom items are present in the title bar\n\t\tconst zoomFactor = getZoomFactor();\n\n\t\tconst noMenubar = this.currentMenubarVisibility === 'hidden' || (!isWeb && isMacintosh);\n\t\tconst noCommandCenter = !this.isCommandCenterVisible;\n\t\tconst noLayoutControls = !this.layoutControlEnabled;\n\t\treturn zoomFactor < 1 || (noMenubar && noCommandCenter && noLayoutControls);\n\t}\n\n\tupdateLayout(dimension: Dimension): void {\n\t\tthis.lastLayoutDimensions = dimension;\n\n\t\tif (getTitleBarStyle(this.configurationService) === 'custom') {\n\t\t\tconst zoomFactor = getZoomFactor();\n\n\t\t\tthis.element.style.setProperty('--zoom-factor', zoomFactor.toString());\n\t\t\tthis.rootContainer.classList.toggle('counter-zoom', this.useCounterZoom);\n\n\t\t\tif (this.customMenubar) {\n\t\t\t\tconst menubarDimension = new Dimension(0, dimension.height);\n\t\t\t\tthis.customMenubar.layout(menubarDimension);\n\t\t\t}\n\t\t}\n\t}\n\n\toverride layout(width: number, height: number): void {\n\t\tthis.updateLayout(new Dimension(width, height));\n\n\t\tsuper.layoutContents(width, height);\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.TITLEBAR_PART\n\t\t};\n\t}\n}\n\n\nclass ToogleConfigAction extends Action2 {\n\n\tconstructor(private readonly section: string, title: string, order: number) {\n\t\tsuper({\n\t\t\tid: `toggle.${section}`,\n\t\t\ttitle,\n\t\t\ttoggled: ContextKeyExpr.equals(`config.${section}`, true),\n\t\t\tmenu: { id: MenuId.TitleBarContext, order }\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: any[]): void {\n\t\tconst configService = accessor.get(IConfigurationService);\n\t\tconst value = configService.getValue(this.section);\n\t\tconfigService.updateValue(this.section, !value);\n\t}\n}\n\nregisterAction2(class ToogleCommandCenter extends ToogleConfigAction {\n\tconstructor() {\n\t\tsuper('window.commandCenter', localize('toggle.commandCenter', 'Command Center'), 1);\n\t}\n});\n\nregisterAction2(class ToogleLayoutControl extends ToogleConfigAction {\n\tconstructor() {\n\t\tsuper('workbench.layoutControl.enabled', localize('toggle.layout', 'Layout Controls'), 2);\n\t}\n});\n"]}
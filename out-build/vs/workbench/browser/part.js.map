{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/browser/part.ts"],"names":[],"mappings":"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","file":"part.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/part';\nimport { Component } from 'vs/workbench/common/component';\nimport { IThemeService, IColorTheme } from 'vs/platform/theme/common/themeService';\nimport { Dimension, size, IDimension } from 'vs/base/browser/dom';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { ISerializableView, IViewSize } from 'vs/base/browser/ui/grid/grid';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { IWorkbenchLayoutService } from 'vs/workbench/services/layout/browser/layoutService';\nimport { assertIsDefined } from 'vs/base/common/types';\n\nexport interface IPartOptions {\n\treadonly hasTitle?: boolean;\n\treadonly borderWidth?: () => number;\n}\n\nexport interface ILayoutContentResult {\n\treadonly titleSize: IDimension;\n\treadonly contentSize: IDimension;\n}\n\n/**\n * Parts are layed out in the workbench and have their own layout that\n * arranges an optional title and mandatory content area to show content.\n */\nexport abstract class Part extends Component implements ISerializableView {\n\n\tprivate _dimension: Dimension | undefined;\n\tget dimension(): Dimension | undefined { return this._dimension; }\n\n\tprotected _onDidVisibilityChange = this._register(new Emitter<boolean>());\n\treadonly onDidVisibilityChange = this._onDidVisibilityChange.event;\n\n\tprivate parent: HTMLElement | undefined;\n\tprivate titleArea: HTMLElement | undefined;\n\tprivate contentArea: HTMLElement | undefined;\n\tprivate partLayout: PartLayout | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\tprivate options: IPartOptions,\n\t\tthemeService: IThemeService,\n\t\tstorageService: IStorageService,\n\t\tprotected readonly layoutService: IWorkbenchLayoutService\n\t) {\n\t\tsuper(id, themeService, storageService);\n\n\t\tlayoutService.registerPart(this);\n\t}\n\n\tprotected override onThemeChange(theme: IColorTheme): void {\n\n\t\t// only call if our create() method has been called\n\t\tif (this.parent) {\n\t\t\tsuper.onThemeChange(theme);\n\t\t}\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to create title and content area of the part.\n\t */\n\tcreate(parent: HTMLElement, options?: object): void {\n\t\tthis.parent = parent;\n\t\tthis.titleArea = this.createTitleArea(parent, options);\n\t\tthis.contentArea = this.createContentArea(parent, options);\n\n\t\tthis.partLayout = new PartLayout(this.options, this.contentArea);\n\n\t\tthis.updateStyles();\n\t}\n\n\t/**\n\t * Returns the overall part container.\n\t */\n\tgetContainer(): HTMLElement | undefined {\n\t\treturn this.parent;\n\t}\n\n\t/**\n\t * Subclasses override to provide a title area implementation.\n\t */\n\tprotected createTitleArea(parent: HTMLElement, options?: object): HTMLElement | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Returns the title area container.\n\t */\n\tprotected getTitleArea(): HTMLElement | undefined {\n\t\treturn this.titleArea;\n\t}\n\n\t/**\n\t * Subclasses override to provide a content area implementation.\n\t */\n\tprotected createContentArea(parent: HTMLElement, options?: object): HTMLElement | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Returns the content area container.\n\t */\n\tprotected getContentArea(): HTMLElement | undefined {\n\t\treturn this.contentArea;\n\t}\n\n\t/**\n\t * Layout title and content area in the given dimension.\n\t */\n\tprotected layoutContents(width: number, height: number): ILayoutContentResult {\n\t\tconst partLayout = assertIsDefined(this.partLayout);\n\n\t\treturn partLayout.layout(width, height);\n\t}\n\n\t//#region ISerializableView\n\n\tprotected _onDidChange = this._register(new Emitter<IViewSize | undefined>());\n\tget onDidChange(): Event<IViewSize | undefined> { return this._onDidChange.event; }\n\n\telement!: HTMLElement;\n\n\tabstract minimumWidth: number;\n\tabstract maximumWidth: number;\n\tabstract minimumHeight: number;\n\tabstract maximumHeight: number;\n\n\tlayout(width: number, height: number, _top: number, _left: number): void {\n\t\tthis._dimension = new Dimension(width, height);\n\t}\n\n\tsetVisible(visible: boolean) {\n\t\tthis._onDidVisibilityChange.fire(visible);\n\t}\n\n\tabstract toJSON(): object;\n\n\t//#endregion\n}\n\nclass PartLayout {\n\n\tprivate static readonly TITLE_HEIGHT = 35;\n\n\tconstructor(private options: IPartOptions, private contentArea: HTMLElement | undefined) { }\n\n\tlayout(width: number, height: number): ILayoutContentResult {\n\n\t\t// Title Size: Width (Fill), Height (Variable)\n\t\tlet titleSize: Dimension;\n\t\tif (this.options.hasTitle) {\n\t\t\ttitleSize = new Dimension(width, Math.min(height, PartLayout.TITLE_HEIGHT));\n\t\t} else {\n\t\t\ttitleSize = Dimension.None;\n\t\t}\n\n\t\tlet contentWidth = width;\n\t\tif (this.options && typeof this.options.borderWidth === 'function') {\n\t\t\tcontentWidth -= this.options.borderWidth(); // adjust for border size\n\t\t}\n\n\t\t// Content Size: Width (Fill), Height (Variable)\n\t\tconst contentSize = new Dimension(contentWidth, height - titleSize.height);\n\n\t\t// Content\n\t\tif (this.contentArea) {\n\t\t\tsize(this.contentArea, contentSize.width, contentSize.height);\n\t\t}\n\n\t\treturn { titleSize, contentSize };\n\t}\n}\n"]}
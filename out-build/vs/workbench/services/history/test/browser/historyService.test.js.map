{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/services/history/test/browser/historyService.test.ts"],"names":[],"mappings":"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","file":"historyService.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite, toResource } from 'vs/base/test/common/utils';\nimport { URI } from 'vs/base/common/uri';\nimport { workbenchInstantiationService, TestFileEditorInput, registerTestEditor, createEditorPart, registerTestFileEditor, TestServiceAccessor, TestTextFileEditor, workbenchTeardown } from 'vs/workbench/test/browser/workbenchTestServices';\nimport { EditorPart } from 'vs/workbench/browser/parts/editor/editorPart';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { IEditorGroupsService, GroupDirection } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { EditorNavigationStack, HistoryService } from 'vs/workbench/services/history/browser/historyService';\nimport { IEditorService, SIDE_GROUP } from 'vs/workbench/services/editor/common/editorService';\nimport { EditorService } from 'vs/workbench/services/editor/browser/editorService';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { GoFilter, GoScope, IHistoryService } from 'vs/workbench/services/history/common/history';\nimport { DeferredPromise, timeout } from 'vs/base/common/async';\nimport { Event } from 'vs/base/common/event';\nimport { EditorPaneSelectionChangeReason, isResourceEditorInput, IUntypedEditorInput } from 'vs/workbench/common/editor';\nimport { IResourceEditorInput, ITextEditorOptions } from 'vs/platform/editor/common/editor';\nimport { EditorInput } from 'vs/workbench/common/editor/editorInput';\nimport { IResolvedTextFileEditorModel, ITextFileService } from 'vs/workbench/services/textfile/common/textfiles';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { FileChangesEvent, FileChangeType, FileOperation, FileOperationEvent } from 'vs/platform/files/common/files';\nimport { isLinux } from 'vs/base/common/platform';\nimport { Selection } from 'vs/editor/common/core/selection';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { TestConfigurationService } from 'vs/platform/configuration/test/common/testConfigurationService';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\n\nsuite('HistoryService', function () {\n\n\tconst TEST_EDITOR_ID = 'MyTestEditorForEditorHistory';\n\tconst TEST_EDITOR_INPUT_ID = 'testEditorInputForHistoyService';\n\n\tasync function createServices(scope = GoScope.DEFAULT): Promise<[EditorPart, HistoryService, EditorService, ITextFileService, IInstantiationService]> {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst part = await createEditorPart(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, part);\n\n\t\tconst editorService = disposables.add(instantiationService.createInstance(EditorService));\n\t\tinstantiationService.stub(IEditorService, editorService);\n\n\t\tconst configurationService = new TestConfigurationService();\n\t\tif (scope === GoScope.EDITOR_GROUP) {\n\t\t\tconfigurationService.setUserConfiguration('workbench.editor.navigationScope', 'editorGroup');\n\t\t} else if (scope === GoScope.EDITOR) {\n\t\t\tconfigurationService.setUserConfiguration('workbench.editor.navigationScope', 'editor');\n\t\t}\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\n\t\tconst historyService = disposables.add(instantiationService.createInstance(HistoryService));\n\t\tinstantiationService.stub(IHistoryService, historyService);\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\n\t\treturn [part, historyService, editorService, accessor.textFileService, instantiationService];\n\t}\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => {\n\t\tdisposables.add(registerTestEditor(TEST_EDITOR_ID, [new SyncDescriptor(TestFileEditorInput)]));\n\t\tdisposables.add(registerTestFileEditor());\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('back / forward: basics', async () => {\n\t\tconst [part, historyService] = await createServices();\n\n\t\tconst input1 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar1'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input1, { pinned: true });\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input1);\n\n\t\tconst input2 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar2'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input2, { pinned: true });\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\n\t\tawait historyService.goBack();\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input1);\n\n\t\tawait historyService.goForward();\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\t});\n\n\ttest('back / forward: is editor group aware', async function () {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource: URI = toResource.call(this, '/path/index.txt');\n\t\tconst otherResource: URI = toResource.call(this, '/path/other.html');\n\n\t\tconst pane1 = await editorService.openEditor({ resource, options: { pinned: true } });\n\t\tconst pane2 = await editorService.openEditor({ resource, options: { pinned: true } }, SIDE_GROUP);\n\n\t\t// [index.txt] | [>index.txt<]\n\n\t\tassert.notStrictEqual(pane1, pane2);\n\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } }, pane2?.group);\n\n\t\t// [index.txt] | [index.txt] [>other.html<]\n\n\t\tawait historyService.goBack();\n\n\t\t// [index.txt] | [>index.txt<] [other.html]\n\n\t\tassert.strictEqual(part.activeGroup.id, pane2?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource.toString());\n\n\t\tawait historyService.goBack();\n\n\t\t// [>index.txt<] | [index.txt] [other.html]\n\n\t\tassert.strictEqual(part.activeGroup.id, pane1?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource.toString());\n\n\t\tawait historyService.goForward();\n\n\t\t// [index.txt] | [>index.txt<] [other.html]\n\n\t\tassert.strictEqual(part.activeGroup.id, pane2?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource.toString());\n\n\t\tawait historyService.goForward();\n\n\t\t// [index.txt] | [index.txt] [>other.html<]\n\n\t\tassert.strictEqual(part.activeGroup.id, pane2?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), otherResource.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: in-editor text selection changes (user)', async function () {\n\t\tconst [, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } }) as TestTextFileEditor;\n\n\t\tawait setTextSelection(historyService, pane, new Selection(1, 2, 1, 2));\n\t\tawait setTextSelection(historyService, pane, new Selection(15, 1, 15, 1)); // will be merged and dropped\n\t\tawait setTextSelection(historyService, pane, new Selection(16, 1, 16, 1)); // will be merged and dropped\n\t\tawait setTextSelection(historyService, pane, new Selection(17, 1, 17, 1));\n\t\tawait setTextSelection(historyService, pane, new Selection(30, 5, 30, 8));\n\t\tawait setTextSelection(historyService, pane, new Selection(40, 1, 40, 1));\n\n\t\tawait historyService.goBack(GoFilter.NONE);\n\t\tassertTextSelection(new Selection(30, 5, 30, 8), pane);\n\n\t\tawait historyService.goBack(GoFilter.NONE);\n\t\tassertTextSelection(new Selection(17, 1, 17, 1), pane);\n\n\t\tawait historyService.goBack(GoFilter.NONE);\n\t\tassertTextSelection(new Selection(1, 2, 1, 2), pane);\n\n\t\tawait historyService.goForward(GoFilter.NONE);\n\t\tassertTextSelection(new Selection(17, 1, 17, 1), pane);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: in-editor text selection changes (navigation)', async function () {\n\t\tconst [, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } }) as TestTextFileEditor;\n\n\t\tawait setTextSelection(historyService, pane, new Selection(2, 2, 2, 10)); // this is our starting point\n\t\tawait setTextSelection(historyService, pane, new Selection(5, 3, 5, 20), EditorPaneSelectionChangeReason.NAVIGATION); // this is our first target definition\n\t\tawait setTextSelection(historyService, pane, new Selection(120, 8, 120, 18), EditorPaneSelectionChangeReason.NAVIGATION); // this is our second target definition\n\t\tawait setTextSelection(historyService, pane, new Selection(300, 3, 300, 20)); // unrelated user navigation\n\t\tawait setTextSelection(historyService, pane, new Selection(500, 3, 500, 20)); // unrelated user navigation\n\t\tawait setTextSelection(historyService, pane, new Selection(200, 3, 200, 20)); // unrelated user navigation\n\n\t\tawait historyService.goBack(GoFilter.NAVIGATION); // this should reveal the last navigation entry because we are not at it currently\n\t\tassertTextSelection(new Selection(120, 8, 120, 18), pane);\n\n\t\tawait historyService.goBack(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goBack(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goForward(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(120, 8, 120, 18), pane);\n\n\t\tawait historyService.goPrevious(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goPrevious(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(120, 8, 120, 18), pane);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: in-editor text selection changes (jump)', async function () {\n\t\tconst [, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } }) as TestTextFileEditor;\n\n\t\tawait setTextSelection(historyService, pane, new Selection(2, 2, 2, 10), EditorPaneSelectionChangeReason.USER);\n\t\tawait setTextSelection(historyService, pane, new Selection(5, 3, 5, 20), EditorPaneSelectionChangeReason.JUMP);\n\t\tawait setTextSelection(historyService, pane, new Selection(120, 8, 120, 18), EditorPaneSelectionChangeReason.JUMP);\n\n\t\tawait historyService.goBack(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goBack(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(2, 2, 2, 10), pane);\n\n\t\tawait historyService.goForward(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goLast(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(120, 8, 120, 18), pane);\n\n\t\tawait historyService.goPrevious(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goPrevious(GoFilter.NAVIGATION);\n\t\tassertTextSelection(new Selection(120, 8, 120, 18), pane);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: selection changes with JUMP or NAVIGATION source are not merged (#143833)', async function () {\n\t\tconst [, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } }) as TestTextFileEditor;\n\n\t\tawait setTextSelection(historyService, pane, new Selection(2, 2, 2, 10), EditorPaneSelectionChangeReason.USER);\n\t\tawait setTextSelection(historyService, pane, new Selection(5, 3, 5, 20), EditorPaneSelectionChangeReason.JUMP);\n\t\tawait setTextSelection(historyService, pane, new Selection(6, 3, 6, 20), EditorPaneSelectionChangeReason.NAVIGATION);\n\n\t\tawait historyService.goBack(GoFilter.NONE);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goBack(GoFilter.NONE);\n\t\tassertTextSelection(new Selection(2, 2, 2, 10), pane);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: edit selection changes', async function () {\n\t\tconst [, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } }) as TestTextFileEditor;\n\n\t\tawait setTextSelection(historyService, pane, new Selection(2, 2, 2, 10));\n\t\tawait setTextSelection(historyService, pane, new Selection(50, 3, 50, 20), EditorPaneSelectionChangeReason.EDIT);\n\t\tawait setTextSelection(historyService, pane, new Selection(300, 3, 300, 20)); // unrelated user navigation\n\t\tawait setTextSelection(historyService, pane, new Selection(500, 3, 500, 20)); // unrelated user navigation\n\t\tawait setTextSelection(historyService, pane, new Selection(200, 3, 200, 20)); // unrelated user navigation\n\t\tawait setTextSelection(historyService, pane, new Selection(5, 3, 5, 20), EditorPaneSelectionChangeReason.EDIT);\n\t\tawait setTextSelection(historyService, pane, new Selection(200, 3, 200, 20)); // unrelated user navigation\n\n\t\tawait historyService.goBack(GoFilter.EDITS); // this should reveal the last navigation entry because we are not at it currently\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\tawait historyService.goBack(GoFilter.EDITS);\n\t\tassertTextSelection(new Selection(50, 3, 50, 20), pane);\n\n\t\tawait historyService.goForward(GoFilter.EDITS);\n\t\tassertTextSelection(new Selection(5, 3, 5, 20), pane);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\tasync function setTextSelection(historyService: IHistoryService, pane: TestTextFileEditor, selection: Selection, reason = EditorPaneSelectionChangeReason.USER): Promise<void> {\n\t\tconst promise = Event.toPromise((historyService as HistoryService).onDidChangeEditorNavigationStack);\n\t\tpane.setSelection(selection, reason);\n\t\tawait promise;\n\t}\n\n\tfunction assertTextSelection(expected: Selection, pane: EditorPane): void {\n\t\tconst options: ITextEditorOptions | undefined = pane.options;\n\t\tif (!options) {\n\t\t\tassert.fail('EditorPane has no selection');\n\t\t}\n\n\t\tassert.strictEqual(options.selection?.startLineNumber, expected.startLineNumber);\n\t\tassert.strictEqual(options.selection?.startColumn, expected.startColumn);\n\t\tassert.strictEqual(options.selection?.endLineNumber, expected.endLineNumber);\n\t\tassert.strictEqual(options.selection?.endColumn, expected.endColumn);\n\t}\n\n\ttest('back / forward: tracks editor moves across groups', async function () {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource1: URI = toResource.call(this, '/path/one.txt');\n\t\tconst resource2: URI = toResource.call(this, '/path/two.html');\n\n\t\tconst pane1 = await editorService.openEditor({ resource: resource1, options: { pinned: true } });\n\t\tawait editorService.openEditor({ resource: resource2, options: { pinned: true } });\n\n\t\t// [one.txt] [>two.html<]\n\n\t\tconst sideGroup = part.addGroup(part.activeGroup, GroupDirection.RIGHT);\n\n\t\t// [one.txt] [>two.html<] | <empty>\n\n\t\tconst editorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\tpane1?.group?.moveEditor(pane1.input!, sideGroup);\n\t\tawait editorChangePromise;\n\n\t\t// [one.txt] | [>two.html<]\n\n\t\tawait historyService.goBack();\n\n\t\t// [>one.txt<] | [two.html]\n\n\t\tassert.strictEqual(part.activeGroup.id, pane1?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource1.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: tracks group removals', async function () {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource1 = toResource.call(this, '/path/one.txt');\n\t\tconst resource2 = toResource.call(this, '/path/two.html');\n\n\t\tconst pane1 = await editorService.openEditor({ resource: resource1, options: { pinned: true } });\n\t\tconst pane2 = await editorService.openEditor({ resource: resource2, options: { pinned: true } }, SIDE_GROUP);\n\n\t\t// [one.txt] | [>two.html<]\n\n\t\tassert.notStrictEqual(pane1, pane2);\n\n\t\tawait pane1?.group?.closeAllEditors();\n\n\t\t// [>two.html<]\n\n\t\tawait historyService.goBack();\n\n\t\t// [>two.html<]\n\n\t\tassert.strictEqual(part.activeGroup.id, pane2?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource2.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: editor navigation stack - navigation', async function () {\n\t\tconst [, , editorService, , instantiationService] = await createServices();\n\n\t\tconst stack = instantiationService.createInstance(EditorNavigationStack, GoFilter.NONE, GoScope.DEFAULT);\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\t\tconst otherResource = toResource.call(this, '/path/index.html');\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } });\n\n\t\tlet changed = false;\n\t\tdisposables.add(stack.onDidChange(() => changed = true));\n\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tassert.strictEqual(stack.canGoForward(), false);\n\t\tassert.strictEqual(stack.canGoLast(), false);\n\n\t\t// Opening our first editor emits change event\n\t\tstack.notifyNavigation(pane, { reason: EditorPaneSelectionChangeReason.USER });\n\t\tassert.strictEqual(changed, true);\n\t\tchanged = false;\n\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tassert.strictEqual(stack.canGoLast(), true);\n\n\t\t// Opening same editor is not treated as new history stop\n\t\tstack.notifyNavigation(pane, { reason: EditorPaneSelectionChangeReason.USER });\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\n\t\t// Opening different editor allows to go back\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\n\t\tstack.notifyNavigation(pane, { reason: EditorPaneSelectionChangeReason.USER });\n\t\tassert.strictEqual(changed, true);\n\t\tchanged = false;\n\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\n\t\tawait stack.goBack();\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tassert.strictEqual(stack.canGoForward(), true);\n\t\tassert.strictEqual(stack.canGoLast(), true);\n\n\t\tawait stack.goForward();\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tassert.strictEqual(stack.canGoForward(), false);\n\n\t\tawait stack.goPrevious();\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tassert.strictEqual(stack.canGoForward(), true);\n\n\t\tawait stack.goPrevious();\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tassert.strictEqual(stack.canGoForward(), false);\n\n\t\tawait stack.goBack();\n\t\tawait stack.goLast();\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tassert.strictEqual(stack.canGoForward(), false);\n\n\t\tstack.dispose();\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: editor navigation stack - mutations', async function () {\n\t\tconst [, , editorService, , instantiationService] = await createServices();\n\n\t\tconst stack = disposables.add(instantiationService.createInstance(EditorNavigationStack, GoFilter.NONE, GoScope.DEFAULT));\n\n\t\tconst resource: URI = toResource.call(this, '/path/index.txt');\n\t\tconst otherResource: URI = toResource.call(this, '/path/index.html');\n\t\tconst pane = await editorService.openEditor({ resource, options: { pinned: true } });\n\n\t\tstack.notifyNavigation(pane);\n\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\n\t\t// Clear\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tstack.clear();\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\n\t\tawait editorService.openEditor({ resource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\n\t\t// Remove (via internal event)\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tstack.remove(new FileOperationEvent(resource, FileOperation.DELETE));\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tstack.clear();\n\n\t\tawait editorService.openEditor({ resource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\n\t\t// Remove (via external event)\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tstack.remove(new FileChangesEvent([{ resource, type: FileChangeType.DELETED }], !isLinux));\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tstack.clear();\n\n\t\tawait editorService.openEditor({ resource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\n\t\t// Remove (via editor)\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tstack.remove(pane!.input!);\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tstack.clear();\n\n\t\tawait editorService.openEditor({ resource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\n\t\t// Remove (via group)\n\t\tassert.strictEqual(stack.canGoBack(), true);\n\t\tstack.remove(pane!.group!.id);\n\t\tassert.strictEqual(stack.canGoBack(), false);\n\t\tstack.clear();\n\n\t\tawait editorService.openEditor({ resource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\t\tawait editorService.openEditor({ resource: otherResource, options: { pinned: true } });\n\t\tstack.notifyNavigation(pane);\n\n\t\t// Move\n\t\tconst stat = {\n\t\t\tctime: 0,\n\t\t\tetag: '',\n\t\t\tmtime: 0,\n\t\t\tisDirectory: false,\n\t\t\tisFile: true,\n\t\t\tisSymbolicLink: false,\n\t\t\tname: 'other.txt',\n\t\t\treadonly: false,\n\t\t\tlocked: false,\n\t\t\tsize: 0,\n\t\t\tresource: toResource.call(this, '/path/other.txt'),\n\t\t\tchildren: undefined\n\t\t};\n\t\tstack.move(new FileOperationEvent(resource, FileOperation.MOVE, stat));\n\t\tawait stack.goBack();\n\t\tassert.strictEqual(pane?.input?.resource?.toString(), stat.resource.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: editor group scope', async function () {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices(GoScope.EDITOR_GROUP);\n\n\t\tconst resource1 = toResource.call(this, '/path/one.txt');\n\t\tconst resource2 = toResource.call(this, '/path/two.html');\n\t\tconst resource3 = toResource.call(this, '/path/three.html');\n\n\t\tconst pane1 = await editorService.openEditor({ resource: resource1, options: { pinned: true } });\n\t\tawait editorService.openEditor({ resource: resource2, options: { pinned: true } });\n\t\tawait editorService.openEditor({ resource: resource3, options: { pinned: true } });\n\n\t\t// [one.txt] [two.html] [>three.html<]\n\n\t\tconst sideGroup = part.addGroup(part.activeGroup, GroupDirection.RIGHT);\n\n\t\t// [one.txt] [two.html] [>three.html<] | <empty>\n\n\t\tconst pane2 = await editorService.openEditor({ resource: resource1, options: { pinned: true } }, sideGroup);\n\t\tawait editorService.openEditor({ resource: resource2, options: { pinned: true } });\n\t\tawait editorService.openEditor({ resource: resource3, options: { pinned: true } });\n\n\t\t// [one.txt] [two.html] [>three.html<] | [one.txt] [two.html] [>three.html<]\n\n\t\tawait historyService.goBack();\n\t\tawait historyService.goBack();\n\t\tawait historyService.goBack();\n\n\t\tassert.strictEqual(part.activeGroup.id, pane2?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource1.toString());\n\n\t\t// [one.txt] [two.html] [>three.html<] | [>one.txt<] [two.html] [three.html]\n\n\t\tawait editorService.openEditor({ resource: resource3, options: { pinned: true } }, pane1?.group);\n\n\t\tawait historyService.goBack();\n\t\tawait historyService.goBack();\n\t\tawait historyService.goBack();\n\n\t\tassert.strictEqual(part.activeGroup.id, pane1?.group?.id);\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource1.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('back / forward: editor  scope', async function () {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices(GoScope.EDITOR);\n\n\t\tconst resource1 = toResource.call(this, '/path/one.txt');\n\t\tconst resource2 = toResource.call(this, '/path/two.html');\n\n\t\tconst pane = await editorService.openEditor({ resource: resource1, options: { pinned: true } }) as TestTextFileEditor;\n\n\t\tawait setTextSelection(historyService, pane, new Selection(2, 2, 2, 10));\n\t\tawait setTextSelection(historyService, pane, new Selection(50, 3, 50, 20));\n\n\t\tawait editorService.openEditor({ resource: resource2, options: { pinned: true } });\n\t\tawait setTextSelection(historyService, pane, new Selection(12, 2, 12, 10));\n\t\tawait setTextSelection(historyService, pane, new Selection(150, 3, 150, 20));\n\n\t\tawait historyService.goBack();\n\t\tassertTextSelection(new Selection(12, 2, 12, 10), pane);\n\n\t\tawait historyService.goBack();\n\t\tassertTextSelection(new Selection(12, 2, 12, 10), pane); // no change\n\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource2.toString());\n\n\t\tawait editorService.openEditor({ resource: resource1, options: { pinned: true } });\n\n\t\tawait historyService.goBack();\n\t\tassertTextSelection(new Selection(2, 2, 2, 10), pane);\n\n\t\tawait historyService.goBack();\n\t\tassertTextSelection(new Selection(2, 2, 2, 10), pane); // no change\n\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource?.toString(), resource1.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\n\ttest('go to last edit location', async function () {\n\t\tconst [, historyService, editorService, textFileService, instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\t\tconst otherResource = toResource.call(this, '/path/index.html');\n\t\tawait editorService.openEditor({ resource });\n\n\t\tconst model = await textFileService.files.resolve(resource) as IResolvedTextFileEditorModel;\n\t\tmodel.textEditorModel.setValue('Hello World');\n\t\tawait timeout(10); // history debounces change events\n\n\t\tawait editorService.openEditor({ resource: otherResource });\n\n\t\tconst onDidActiveEditorChange = new DeferredPromise<void>();\n\t\tdisposables.add(editorService.onDidActiveEditorChange(e => {\n\t\t\tonDidActiveEditorChange.complete(e);\n\t\t}));\n\n\t\thistoryService.goLast(GoFilter.EDITS);\n\t\tawait onDidActiveEditorChange.p;\n\n\t\tassert.strictEqual(editorService.activeEditor?.resource?.toString(), resource.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('reopen closed editor', async function () {\n\t\tconst [, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst resource = toResource.call(this, '/path/index.txt');\n\t\tconst pane = await editorService.openEditor({ resource });\n\n\t\tawait pane?.group?.closeAllEditors();\n\n\t\tconst onDidActiveEditorChange = new DeferredPromise<void>();\n\t\tdisposables.add(editorService.onDidActiveEditorChange(e => {\n\t\t\tonDidActiveEditorChange.complete(e);\n\t\t}));\n\n\t\thistoryService.reopenLastClosedEditor();\n\t\tawait onDidActiveEditorChange.p;\n\n\t\tassert.strictEqual(editorService.activeEditor?.resource?.toString(), resource.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('getHistory', async () => {\n\n\t\tclass TestFileEditorInputWithUntyped extends TestFileEditorInput {\n\n\t\t\toverride toUntyped(): IUntypedEditorInput {\n\t\t\t\treturn {\n\t\t\t\t\tresource: this.resource,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\toverride: 'testOverride'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tconst [part, historyService, , , instantiationService] = await createServices();\n\n\t\tlet history = historyService.getHistory();\n\t\tassert.strictEqual(history.length, 0);\n\n\t\tconst input1 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar1'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input1, { pinned: true });\n\n\t\tconst input2 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar2'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input2, { pinned: true });\n\n\t\tconst input3 = disposables.add(new TestFileEditorInputWithUntyped(URI.parse('foo://bar3'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input3, { pinned: true });\n\n\t\tconst input4 = disposables.add(new TestFileEditorInputWithUntyped(URI.file('bar4'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input4, { pinned: true });\n\n\t\thistory = historyService.getHistory();\n\t\tassert.strictEqual(history.length, 4);\n\n\t\t// first entry is untyped because it implements `toUntyped` and has a supported scheme\n\t\tassert.strictEqual(isResourceEditorInput(history[0]) && !(history[0] instanceof EditorInput), true);\n\t\tassert.strictEqual((history[0] as IResourceEditorInput).options?.override, 'testOverride');\n\t\t// second entry is not untyped even though it implements `toUntyped` but has unsupported scheme\n\t\tassert.strictEqual(history[1] instanceof EditorInput, true);\n\t\tassert.strictEqual(history[2] instanceof EditorInput, true);\n\t\tassert.strictEqual(history[3] instanceof EditorInput, true);\n\n\t\thistoryService.removeFromHistory(input2);\n\t\thistory = historyService.getHistory();\n\t\tassert.strictEqual(history.length, 3);\n\t\tassert.strictEqual(history[0].resource?.toString(), input4.resource.toString());\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('getLastActiveFile', async () => {\n\t\tconst [part, historyService] = await createServices();\n\n\t\tassert.ok(!historyService.getLastActiveFile('foo'));\n\n\t\tconst input1 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar1'), TEST_EDITOR_INPUT_ID));\n\t\tawait part.activeGroup.openEditor(input1, { pinned: true });\n\n\t\tassert.strictEqual(historyService.getLastActiveFile('foo')?.toString(), input1.resource.toString());\n\t});\n\n\ttest('open next/previous recently used editor (single group)', async () => {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst input1 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar1'), TEST_EDITOR_INPUT_ID));\n\t\tconst input2 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar2'), TEST_EDITOR_INPUT_ID));\n\n\t\tawait part.activeGroup.openEditor(input1, { pinned: true });\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input1);\n\n\t\tawait part.activeGroup.openEditor(input2, { pinned: true });\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\n\t\tlet editorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openPreviouslyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input1);\n\n\t\teditorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openNextRecentlyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\n\t\teditorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openPreviouslyUsedEditor(part.activeGroup.id);\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input1);\n\n\t\teditorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openNextRecentlyUsedEditor(part.activeGroup.id);\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('open next/previous recently used editor (multi group)', async () => {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices();\n\t\tconst rootGroup = part.activeGroup;\n\n\t\tconst input1 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar1'), TEST_EDITOR_INPUT_ID));\n\t\tconst input2 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar2'), TEST_EDITOR_INPUT_ID));\n\n\t\tconst sideGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\t\tawait sideGroup.openEditor(input2, { pinned: true });\n\n\t\tlet editorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openPreviouslyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup, rootGroup);\n\t\tassert.strictEqual(rootGroup.activeEditor, input1);\n\n\t\teditorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openNextRecentlyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup, sideGroup);\n\t\tassert.strictEqual(sideGroup.activeEditor, input2);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\ttest('open next/previous recently is reset when other input opens', async () => {\n\t\tconst [part, historyService, editorService, , instantiationService] = await createServices();\n\n\t\tconst input1 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar1'), TEST_EDITOR_INPUT_ID));\n\t\tconst input2 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar2'), TEST_EDITOR_INPUT_ID));\n\t\tconst input3 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar3'), TEST_EDITOR_INPUT_ID));\n\t\tconst input4 = disposables.add(new TestFileEditorInput(URI.parse('foo://bar4'), TEST_EDITOR_INPUT_ID));\n\n\t\tawait part.activeGroup.openEditor(input1, { pinned: true });\n\t\tawait part.activeGroup.openEditor(input2, { pinned: true });\n\t\tawait part.activeGroup.openEditor(input3, { pinned: true });\n\n\t\tlet editorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openPreviouslyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\n\t\tawait timeout(0);\n\t\tawait part.activeGroup.openEditor(input4, { pinned: true });\n\n\t\teditorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openPreviouslyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input2);\n\n\t\teditorChangePromise = Event.toPromise(editorService.onDidActiveEditorChange);\n\t\thistoryService.openNextRecentlyUsedEditor();\n\t\tawait editorChangePromise;\n\t\tassert.strictEqual(part.activeGroup.activeEditor, input4);\n\n\t\treturn workbenchTeardown(instantiationService);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}
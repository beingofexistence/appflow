{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/services/textMate/test/browser/arrayOperation.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;IAKhG,KAAK,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,SAAS,GAAG,CAAC,KAAa,EAAE,GAAW;YACtC,MAAM,MAAM,GAAa,EAAE,CAAC;YAC5B,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACf;YACD,OAAO,MAAM,CAAC;QACf,CAAC;QAED,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;YACnB,MAAM,IAAI,GAAG,IAAI,qBAAI,CAAM;gBAC1B,IAAI,qBAAI,CAAY,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC5B,IAAI,qBAAI,CAAY,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC5B,IAAI,qBAAI,CAAY,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aAC5B,CAAC,CAAC;YAEH,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC5C,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC;YAE3B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC1B,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE;gBAC9B,OAAO;gBACP,OAAO;gBACP,OAAO;gBACP,OAAO;gBACP,SAAS;gBACT,SAAS;gBACT,OAAO;gBACP,SAAS;gBACT,SAAS;gBACT,OAAO;gBACP,QAAQ;gBACR,QAAQ;gBACR,QAAQ;gBACR,QAAQ;aACR,CAAC,CAAC;YAEH,MAAM,WAAW,GAAG,IAAI,qBAAI,CAAuB,IAAI,CAAC,CAAC;YACzD,MAAM,CAAC,eAAe,CACrB,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gBACpB,MAAM,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;gBACnC,IAAI,CAAC,KAAK,SAAS,EAAE;oBACpB,CAAC,IAAI,UAAU,CAAC,MAAM,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;iBAClC;qBAAM;oBACN,CAAC,IAAI,WAAW,CAAC;iBACjB;gBACD,OAAO,CAAC,CAAC;YACV,CAAC,CAAC,EACF;gBACC,mCAAmC;gBACnC,mCAAmC;gBACnC,mCAAmC;gBACnC,mCAAmC;gBACnC,4BAA4B;gBAC5B,4BAA4B;gBAC5B,4BAA4B;gBAC5B,mCAAmC;gBACnC,mCAAmC;gBACnC,4BAA4B;gBAC5B,8BAA8B;gBAC9B,uCAAuC;gBACvC,uCAAuC;gBACvC,uCAAuC;gBACvC,uCAAuC;aACvC,CACD,CAAC;QACH,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","file":"arrayOperation.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { ArrayEdit, MonotonousIndexTransformer, SingleArrayEdit } from 'vs/workbench/services/textMate/browser/arrayOperation';\n\nsuite('array operation', () => {\n\tfunction seq(start: number, end: number) {\n\t\tconst result: number[] = [];\n\t\tfor (let i = start; i < end; i++) {\n\t\t\tresult.push(i);\n\t\t}\n\t\treturn result;\n\t}\n\n\ttest('simple', () => {\n\t\tconst edit = new ArrayEdit([\n\t\t\tnew SingleArrayEdit(4, 3, 2),\n\t\t\tnew SingleArrayEdit(8, 0, 2),\n\t\t\tnew SingleArrayEdit(9, 2, 0),\n\t\t]);\n\n\t\tconst arr = seq(0, 15).map(x => `item${x}`);\n\t\tconst newArr = arr.slice();\n\n\t\tedit.applyToArray(newArr);\n\t\tassert.deepStrictEqual(newArr, [\n\t\t\t'item0',\n\t\t\t'item1',\n\t\t\t'item2',\n\t\t\t'item3',\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t'item7',\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t'item8',\n\t\t\t'item11',\n\t\t\t'item12',\n\t\t\t'item13',\n\t\t\t'item14',\n\t\t]);\n\n\t\tconst transformer = new MonotonousIndexTransformer(edit);\n\t\tassert.deepStrictEqual(\n\t\t\tseq(0, 15).map((x) => {\n\t\t\t\tconst t = transformer.transform(x);\n\t\t\t\tlet r = `arr[${x}]: ${arr[x]} -> `;\n\t\t\t\tif (t !== undefined) {\n\t\t\t\t\tr += `newArr[${t}]: ${newArr[t]}`;\n\t\t\t\t} else {\n\t\t\t\t\tr += 'undefined';\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t}),\n\t\t\t[\n\t\t\t\t'arr[0]: item0 -> newArr[0]: item0',\n\t\t\t\t'arr[1]: item1 -> newArr[1]: item1',\n\t\t\t\t'arr[2]: item2 -> newArr[2]: item2',\n\t\t\t\t'arr[3]: item3 -> newArr[3]: item3',\n\t\t\t\t'arr[4]: item4 -> undefined',\n\t\t\t\t'arr[5]: item5 -> undefined',\n\t\t\t\t'arr[6]: item6 -> undefined',\n\t\t\t\t'arr[7]: item7 -> newArr[6]: item7',\n\t\t\t\t'arr[8]: item8 -> newArr[9]: item8',\n\t\t\t\t'arr[9]: item9 -> undefined',\n\t\t\t\t'arr[10]: item10 -> undefined',\n\t\t\t\t'arr[11]: item11 -> newArr[10]: item11',\n\t\t\t\t'arr[12]: item12 -> newArr[11]: item12',\n\t\t\t\t'arr[13]: item13 -> newArr[12]: item13',\n\t\t\t\t'arr[14]: item14 -> newArr[13]: item14',\n\t\t\t]\n\t\t);\n\t});\n});\n"]}
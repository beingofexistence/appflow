{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/services/issue/electron-sandbox/issueService.ts"],"names":[],"mappings":"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","file":"issueService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IssueReporterStyles, IssueReporterData, ProcessExplorerData, IssueReporterExtensionData, IIssueMainService } from 'vs/platform/issue/common/issue';\nimport { IColorTheme, IThemeService } from 'vs/platform/theme/common/themeService';\nimport { textLinkForeground, inputBackground, inputBorder, inputForeground, buttonBackground, buttonHoverBackground, buttonForeground, inputValidationErrorBorder, foreground, inputActiveOptionBorder, scrollbarSliderActiveBackground, scrollbarSliderBackground, scrollbarSliderHoverBackground, editorBackground, editorForeground, listHoverBackground, listHoverForeground, textLinkActiveForeground, inputValidationErrorBackground, inputValidationErrorForeground, listActiveSelectionBackground, listActiveSelectionForeground, listFocusOutline, listFocusBackground, listFocusForeground, activeContrastBorder, scrollbarShadow } from 'vs/platform/theme/common/colorRegistry';\nimport { SIDE_BAR_BACKGROUND } from 'vs/workbench/common/theme';\nimport { IExtensionManagementService } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IWorkbenchExtensionEnablementService } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { getZoomLevel } from 'vs/base/browser/browser';\nimport { IIssueUriRequestHandler, IWorkbenchIssueService } from 'vs/workbench/services/issue/common/issue';\nimport { INativeWorkbenchEnvironmentService } from 'vs/workbench/services/environment/electron-sandbox/environmentService';\nimport { ExtensionType } from 'vs/platform/extensions/common/extensions';\nimport { platform } from 'vs/base/common/process';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { IWorkbenchAssignmentService } from 'vs/workbench/services/assignment/common/assignmentService';\nimport { IAuthenticationService } from 'vs/workbench/services/authentication/common/authentication';\nimport { IWorkspaceTrustManagementService } from 'vs/platform/workspace/common/workspaceTrust';\nimport { IIntegrityService } from 'vs/workbench/services/integrity/common/integrity';\nimport { ipcRenderer } from 'vs/base/parts/sandbox/electron-sandbox/globals';\nimport { IDisposable } from 'vs/base/common/lifecycle';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { URI } from 'vs/base/common/uri';\nimport { InstantiationType, registerSingleton } from 'vs/platform/instantiation/common/extensions';\n\nexport class NativeIssueService implements IWorkbenchIssueService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _handlers = new Map<string, IIssueUriRequestHandler>();\n\n\tconstructor(\n\t\t@IIssueMainService private readonly issueMainService: IIssueMainService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IExtensionManagementService private readonly extensionManagementService: IExtensionManagementService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@INativeWorkbenchEnvironmentService private readonly environmentService: INativeWorkbenchEnvironmentService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IWorkbenchAssignmentService private readonly experimentService: IWorkbenchAssignmentService,\n\t\t@IAuthenticationService private readonly authenticationService: IAuthenticationService,\n\t\t@IIntegrityService private readonly integrityService: IIntegrityService,\n\t) {\n\t\tipcRenderer.on('vscode:triggerIssueUriRequestHandler', async (event: unknown, request: { replyChannel: string; extensionId: string }) => {\n\t\t\tconst result = await this.getIssueReporterUri(request.extensionId, CancellationToken.None);\n\t\t\tipcRenderer.send(request.replyChannel, result.toString());\n\t\t});\n\t}\n\n\tasync openReporter(dataOverrides: Partial<IssueReporterData> = {}): Promise<void> {\n\t\tconst extensionData: IssueReporterExtensionData[] = [];\n\t\ttry {\n\t\t\tconst extensions = await this.extensionManagementService.getInstalled();\n\t\t\tconst enabledExtensions = extensions.filter(extension => this.extensionEnablementService.isEnabled(extension) || (dataOverrides.extensionId && extension.identifier.id === dataOverrides.extensionId));\n\t\t\textensionData.push(...enabledExtensions.map((extension): IssueReporterExtensionData => {\n\t\t\t\tconst { manifest } = extension;\n\t\t\t\tconst manifestKeys = manifest.contributes ? Object.keys(manifest.contributes) : [];\n\t\t\t\tconst isTheme = !manifest.main && !manifest.browser && manifestKeys.length === 1 && manifestKeys[0] === 'themes';\n\t\t\t\tconst isBuiltin = extension.type === ExtensionType.System;\n\t\t\t\treturn {\n\t\t\t\t\tname: manifest.name,\n\t\t\t\t\tpublisher: manifest.publisher,\n\t\t\t\t\tversion: manifest.version,\n\t\t\t\t\trepositoryUrl: manifest.repository && manifest.repository.url,\n\t\t\t\t\tbugsUrl: manifest.bugs && manifest.bugs.url,\n\t\t\t\t\thasIssueUriRequestHandler: this._handlers.has(extension.identifier.id.toLowerCase()),\n\t\t\t\t\tdisplayName: manifest.displayName,\n\t\t\t\t\tid: extension.identifier.id,\n\t\t\t\t\tisTheme,\n\t\t\t\t\tisBuiltin,\n\t\t\t\t};\n\t\t\t}));\n\t\t} catch (e) {\n\t\t\textensionData.push({\n\t\t\t\tname: 'Workbench Issue Service',\n\t\t\t\tpublisher: 'Unknown',\n\t\t\t\tversion: '0.0.0',\n\t\t\t\trepositoryUrl: undefined,\n\t\t\t\tbugsUrl: undefined,\n\t\t\t\tdisplayName: `Extensions not loaded: ${e}`,\n\t\t\t\tid: 'workbench.issue',\n\t\t\t\tisTheme: false,\n\t\t\t\tisBuiltin: true\n\t\t\t});\n\t\t}\n\t\tconst experiments = await this.experimentService.getCurrentExperiments();\n\n\t\tlet githubAccessToken = '';\n\t\ttry {\n\t\t\tconst githubSessions = await this.authenticationService.getSessions('github');\n\t\t\tconst potentialSessions = githubSessions.filter(session => session.scopes.includes('repo'));\n\t\t\tgithubAccessToken = potentialSessions[0]?.accessToken;\n\t\t} catch (e) {\n\t\t\t// Ignore\n\t\t}\n\n\t\t// air on the side of caution and have false be the default\n\t\tlet isUnsupported = false;\n\t\ttry {\n\t\t\tisUnsupported = !(await this.integrityService.isPure()).isPure;\n\t\t} catch (e) {\n\t\t\t// Ignore\n\t\t}\n\n\t\tconst theme = this.themeService.getColorTheme();\n\t\tconst issueReporterData: IssueReporterData = Object.assign({\n\t\t\tstyles: getIssueReporterStyles(theme),\n\t\t\tzoomLevel: getZoomLevel(),\n\t\t\tenabledExtensions: extensionData,\n\t\t\texperiments: experiments?.join('\\n'),\n\t\t\trestrictedMode: !this.workspaceTrustManagementService.isWorkspaceTrusted(),\n\t\t\tisUnsupported,\n\t\t\tgithubAccessToken\n\t\t}, dataOverrides);\n\t\treturn this.issueMainService.openReporter(issueReporterData);\n\t}\n\n\topenProcessExplorer(): Promise<void> {\n\t\tconst theme = this.themeService.getColorTheme();\n\t\tconst data: ProcessExplorerData = {\n\t\t\tpid: this.environmentService.mainPid,\n\t\t\tzoomLevel: getZoomLevel(),\n\t\t\tstyles: {\n\t\t\t\tbackgroundColor: getColor(theme, editorBackground),\n\t\t\t\tcolor: getColor(theme, editorForeground),\n\t\t\t\tlistHoverBackground: getColor(theme, listHoverBackground),\n\t\t\t\tlistHoverForeground: getColor(theme, listHoverForeground),\n\t\t\t\tlistFocusBackground: getColor(theme, listFocusBackground),\n\t\t\t\tlistFocusForeground: getColor(theme, listFocusForeground),\n\t\t\t\tlistFocusOutline: getColor(theme, listFocusOutline),\n\t\t\t\tlistActiveSelectionBackground: getColor(theme, listActiveSelectionBackground),\n\t\t\t\tlistActiveSelectionForeground: getColor(theme, listActiveSelectionForeground),\n\t\t\t\tlistHoverOutline: getColor(theme, activeContrastBorder),\n\t\t\t\tscrollbarShadowColor: getColor(theme, scrollbarShadow),\n\t\t\t\tscrollbarSliderActiveBackgroundColor: getColor(theme, scrollbarSliderActiveBackground),\n\t\t\t\tscrollbarSliderBackgroundColor: getColor(theme, scrollbarSliderBackground),\n\t\t\t\tscrollbarSliderHoverBackgroundColor: getColor(theme, scrollbarSliderHoverBackground),\n\t\t\t},\n\t\t\tplatform: platform,\n\t\t\tapplicationName: this.productService.applicationName\n\t\t};\n\t\treturn this.issueMainService.openProcessExplorer(data);\n\t}\n\n\tregisterIssueUriRequestHandler(extensionId: string, handler: IIssueUriRequestHandler): IDisposable {\n\t\tthis._handlers.set(extensionId.toLowerCase(), handler);\n\t\treturn {\n\t\t\tdispose: () => this._handlers.delete(extensionId)\n\t\t};\n\t}\n\n\tprivate async getIssueReporterUri(extensionId: string, token: CancellationToken): Promise<URI> {\n\t\tconst handler = this._handlers.get(extensionId);\n\t\tif (!handler) {\n\t\t\tthrow new Error(`No issue uri request handler registered for extension '${extensionId}'`);\n\t\t}\n\t\treturn handler.provideIssueUrl(token);\n\t}\n}\n\nexport function getIssueReporterStyles(theme: IColorTheme): IssueReporterStyles {\n\treturn {\n\t\tbackgroundColor: getColor(theme, SIDE_BAR_BACKGROUND),\n\t\tcolor: getColor(theme, foreground),\n\t\ttextLinkColor: getColor(theme, textLinkForeground),\n\t\ttextLinkActiveForeground: getColor(theme, textLinkActiveForeground),\n\t\tinputBackground: getColor(theme, inputBackground),\n\t\tinputForeground: getColor(theme, inputForeground),\n\t\tinputBorder: getColor(theme, inputBorder),\n\t\tinputActiveBorder: getColor(theme, inputActiveOptionBorder),\n\t\tinputErrorBorder: getColor(theme, inputValidationErrorBorder),\n\t\tinputErrorBackground: getColor(theme, inputValidationErrorBackground),\n\t\tinputErrorForeground: getColor(theme, inputValidationErrorForeground),\n\t\tbuttonBackground: getColor(theme, buttonBackground),\n\t\tbuttonForeground: getColor(theme, buttonForeground),\n\t\tbuttonHoverBackground: getColor(theme, buttonHoverBackground),\n\t\tsliderActiveColor: getColor(theme, scrollbarSliderActiveBackground),\n\t\tsliderBackgroundColor: getColor(theme, scrollbarSliderBackground),\n\t\tsliderHoverColor: getColor(theme, scrollbarSliderHoverBackground),\n\t};\n}\n\nfunction getColor(theme: IColorTheme, key: string): string | undefined {\n\tconst color = theme.getColor(key);\n\treturn color ? color.toString() : undefined;\n}\n\nregisterSingleton(IWorkbenchIssueService, NativeIssueService, InstantiationType.Delayed);\n"]}
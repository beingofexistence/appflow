{"version":3,"sources":["vs/workbench/services/hover/browser/hoverWidget.ts"],"names":[],"mappings":"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","file":"hoverWidget.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport * as dom from 'vs/base/browser/dom';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IHoverTarget, IHoverOptions } from 'vs/workbench/services/hover/browser/hover';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { EDITOR_FONT_DEFAULTS, IEditorOptions } from 'vs/editor/common/config/editorOptions';\nimport { HoverAction, HoverPosition, HoverWidget as BaseHoverWidget, getHoverAccessibleViewHint } from 'vs/base/browser/ui/hover/hoverWidget';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { AnchorPosition } from 'vs/base/browser/ui/contextview/contextview';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { MarkdownRenderer, openLinkFromMarkdown } from 'vs/editor/contrib/markdownRenderer/browser/markdownRenderer';\nimport { isMarkdownString } from 'vs/base/common/htmlContent';\nimport { localize } from 'vs/nls';\nimport { isMacintosh } from 'vs/base/common/platform';\nimport { IAccessibilityService } from 'vs/platform/accessibility/common/accessibility';\nimport { status } from 'vs/base/browser/ui/aria/aria';\n\nconst $ = dom.$;\ntype TargetRect = {\n\tleft: number;\n\tright: number;\n\ttop: number;\n\tbottom: number;\n\twidth: number;\n\theight: number;\n\tcenter: { x: number; y: number };\n};\n\nconst enum Constants {\n\tPointerSize = 3,\n\tHoverBorderWidth = 2,\n\tHoverWindowEdgeMargin = 2,\n}\n\nexport class HoverWidget extends Widget {\n\tprivate readonly _messageListeners = new DisposableStore();\n\tprivate readonly _lockMouseTracker: CompositeMouseTracker;\n\n\tprivate readonly _hover: BaseHoverWidget;\n\tprivate readonly _hoverPointer: HTMLElement | undefined;\n\tprivate readonly _hoverContainer: HTMLElement;\n\tprivate readonly _target: IHoverTarget;\n\tprivate readonly _linkHandler: (url: string) => any;\n\n\tprivate _isDisposed: boolean = false;\n\tprivate _hoverPosition: HoverPosition;\n\tprivate _forcePosition: boolean = false;\n\tprivate _x: number = 0;\n\tprivate _y: number = 0;\n\tprivate _isLocked: boolean = false;\n\tprivate _enableFocusTraps: boolean = false;\n\tprivate _addedFocusTrap: boolean = false;\n\n\tget isDisposed(): boolean { return this._isDisposed; }\n\tget isMouseIn(): boolean { return this._lockMouseTracker.isMouseIn; }\n\tget domNode(): HTMLElement { return this._hover.containerDomNode; }\n\n\tprivate readonly _onDispose = this._register(new Emitter<void>());\n\tget onDispose(): Event<void> { return this._onDispose.event; }\n\tprivate readonly _onRequestLayout = this._register(new Emitter<void>());\n\tget onRequestLayout(): Event<void> { return this._onRequestLayout.event; }\n\n\tget anchor(): AnchorPosition { return this._hoverPosition === HoverPosition.BELOW ? AnchorPosition.BELOW : AnchorPosition.ABOVE; }\n\tget x(): number { return this._x; }\n\tget y(): number { return this._y; }\n\n\t/**\n\t * Whether the hover is \"locked\" by holding the alt/option key. When locked, the hover will not\n\t * hide and can be hovered regardless of whether the `hideOnHover` hover option is set.\n\t */\n\tget isLocked(): boolean { return this._isLocked; }\n\tset isLocked(value: boolean) {\n\t\tif (this._isLocked === value) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isLocked = value;\n\t\tthis._hoverContainer.classList.toggle('locked', this._isLocked);\n\t}\n\n\tconstructor(\n\t\toptions: IHoverOptions,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService\n\t) {\n\t\tsuper();\n\n\t\tthis._linkHandler = options.linkHandler || (url => {\n\t\t\treturn openLinkFromMarkdown(this._openerService, url, isMarkdownString(options.content) ? options.content.isTrusted : undefined);\n\t\t});\n\n\t\tthis._target = 'targetElements' in options.target ? options.target : new ElementHoverTarget(options.target);\n\n\t\tthis._hoverPointer = options.showPointer ? $('div.workbench-hover-pointer') : undefined;\n\t\tthis._hover = this._register(new BaseHoverWidget());\n\t\tthis._hover.containerDomNode.classList.add('workbench-hover', 'fadeIn');\n\t\tif (options.compact) {\n\t\t\tthis._hover.containerDomNode.classList.add('workbench-hover', 'compact');\n\t\t}\n\t\tif (options.skipFadeInAnimation) {\n\t\t\tthis._hover.containerDomNode.classList.add('skip-fade-in');\n\t\t}\n\t\tif (options.additionalClasses) {\n\t\t\tthis._hover.containerDomNode.classList.add(...options.additionalClasses);\n\t\t}\n\t\tif (options.forcePosition) {\n\t\t\tthis._forcePosition = true;\n\t\t}\n\t\tif (options.trapFocus) {\n\t\t\tthis._enableFocusTraps = true;\n\t\t}\n\n\t\tthis._hoverPosition = options.hoverPosition ?? HoverPosition.ABOVE;\n\n\t\t// Don't allow mousedown out of the widget, otherwise preventDefault will call and text will\n\t\t// not be selected.\n\t\tthis.onmousedown(this._hover.containerDomNode, e => e.stopPropagation());\n\n\t\t// Hide hover on escape\n\t\tthis.onkeydown(this._hover.containerDomNode, e => {\n\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t});\n\n\t\t// Hide when the window loses focus\n\t\tthis._register(dom.addDisposableListener(window, 'blur', () => this.dispose()));\n\n\t\tconst rowElement = $('div.hover-row.markdown-hover');\n\t\tconst contentsElement = $('div.hover-contents');\n\t\tif (typeof options.content === 'string') {\n\t\t\tcontentsElement.textContent = options.content;\n\t\t\tcontentsElement.style.whiteSpace = 'pre-wrap';\n\n\t\t} else if (options.content instanceof HTMLElement) {\n\t\t\tcontentsElement.appendChild(options.content);\n\t\t\tcontentsElement.classList.add('html-hover-contents');\n\n\t\t} else {\n\t\t\tconst markdown = options.content;\n\t\t\tconst mdRenderer = this._instantiationService.createInstance(\n\t\t\t\tMarkdownRenderer,\n\t\t\t\t{ codeBlockFontFamily: this._configurationService.getValue<IEditorOptions>('editor').fontFamily || EDITOR_FONT_DEFAULTS.fontFamily }\n\t\t\t);\n\n\t\t\tconst { element } = mdRenderer.render(markdown, {\n\t\t\t\tactionHandler: {\n\t\t\t\t\tcallback: (content) => this._linkHandler(content),\n\t\t\t\t\tdisposables: this._messageListeners\n\t\t\t\t},\n\t\t\t\tasyncRenderCallback: () => {\n\t\t\t\t\tcontentsElement.classList.add('code-hover-contents');\n\t\t\t\t\tthis.layout();\n\t\t\t\t\t// This changes the dimensions of the hover so trigger a layout\n\t\t\t\t\tthis._onRequestLayout.fire();\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontentsElement.appendChild(element);\n\t\t}\n\t\trowElement.appendChild(contentsElement);\n\t\tthis._hover.contentsDomNode.appendChild(rowElement);\n\n\t\tif (options.actions && options.actions.length > 0) {\n\t\t\tconst statusBarElement = $('div.hover-row.status-bar');\n\t\t\tconst actionsElement = $('div.actions');\n\t\t\toptions.actions.forEach(action => {\n\t\t\t\tconst keybinding = this._keybindingService.lookupKeybinding(action.commandId);\n\t\t\t\tconst keybindingLabel = keybinding ? keybinding.getLabel() : null;\n\t\t\t\tHoverAction.render(actionsElement, {\n\t\t\t\t\tlabel: action.label,\n\t\t\t\t\tcommandId: action.commandId,\n\t\t\t\t\trun: e => {\n\t\t\t\t\t\taction.run(e);\n\t\t\t\t\t\tthis.dispose();\n\t\t\t\t\t},\n\t\t\t\t\ticonClass: action.iconClass\n\t\t\t\t}, keybindingLabel);\n\t\t\t});\n\t\t\tstatusBarElement.appendChild(actionsElement);\n\t\t\tthis._hover.containerDomNode.appendChild(statusBarElement);\n\t\t}\n\n\t\tthis._hoverContainer = $('div.workbench-hover-container');\n\t\tif (this._hoverPointer) {\n\t\t\tthis._hoverContainer.appendChild(this._hoverPointer);\n\t\t}\n\t\tthis._hoverContainer.appendChild(this._hover.containerDomNode);\n\n\t\t// Determine whether to hide on hover\n\t\tlet hideOnHover: boolean;\n\t\tif (options.actions && options.actions.length > 0) {\n\t\t\t// If there are actions, require hover so they can be accessed\n\t\t\thideOnHover = false;\n\t\t} else {\n\t\t\tif (options.hideOnHover === undefined) {\n\t\t\t\t// When unset, will default to true when it's a string or when it's markdown that\n\t\t\t\t// appears to have a link using a naive check for '](' and '</a>'\n\t\t\t\thideOnHover = typeof options.content === 'string' ||\n\t\t\t\t\tisMarkdownString(options.content) && !options.content.value.includes('](') && !options.content.value.includes('</a>');\n\t\t\t} else {\n\t\t\t\t// It's set explicitly\n\t\t\t\thideOnHover = options.hideOnHover;\n\t\t\t}\n\t\t}\n\n\t\t// Show the hover hint if needed\n\t\tif (hideOnHover && options.showHoverHint) {\n\t\t\tconst statusBarElement = $('div.hover-row.status-bar');\n\t\t\tconst infoElement = $('div.info');\n\t\t\tinfoElement.textContent = localize('hoverhint', 'Hold {0} key to mouse over', isMacintosh ? 'Option' : 'Alt');\n\t\t\tstatusBarElement.appendChild(infoElement);\n\t\t\tthis._hover.containerDomNode.appendChild(statusBarElement);\n\t\t}\n\n\t\tconst mouseTrackerTargets = [...this._target.targetElements];\n\t\tif (!hideOnHover) {\n\t\t\tmouseTrackerTargets.push(this._hoverContainer);\n\t\t}\n\t\tconst mouseTracker = this._register(new CompositeMouseTracker(mouseTrackerTargets));\n\t\tthis._register(mouseTracker.onMouseOut(() => {\n\t\t\tif (!this._isLocked) {\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\n\t\t// Setup another mouse tracker when hideOnHover is set in order to track the hover as well\n\t\t// when it is locked. This ensures the hover will hide on mouseout after alt has been\n\t\t// released to unlock the element.\n\t\tif (hideOnHover) {\n\t\t\tconst mouseTracker2Targets = [...this._target.targetElements, this._hoverContainer];\n\t\t\tthis._lockMouseTracker = this._register(new CompositeMouseTracker(mouseTracker2Targets));\n\t\t\tthis._register(this._lockMouseTracker.onMouseOut(() => {\n\t\t\t\tif (!this._isLocked) {\n\t\t\t\t\tthis.dispose();\n\t\t\t\t}\n\t\t\t}));\n\t\t} else {\n\t\t\tthis._lockMouseTracker = mouseTracker;\n\t\t}\n\t}\n\n\tprivate addFocusTrap() {\n\t\tif (!this._enableFocusTraps || this._addedFocusTrap) {\n\t\t\treturn;\n\t\t}\n\t\tthis._addedFocusTrap = true;\n\n\t\t// Add a hover tab loop if the hover has at least one element with a valid tabIndex\n\t\tconst firstContainerFocusElement = this._hover.containerDomNode;\n\t\tconst lastContainerFocusElement = this.findLastFocusableChild(this._hover.containerDomNode);\n\t\tif (lastContainerFocusElement) {\n\t\t\tconst beforeContainerFocusElement = dom.prepend(this._hoverContainer, $('div'));\n\t\t\tconst afterContainerFocusElement = dom.append(this._hoverContainer, $('div'));\n\t\t\tbeforeContainerFocusElement.tabIndex = 0;\n\t\t\tafterContainerFocusElement.tabIndex = 0;\n\t\t\tthis._register(dom.addDisposableListener(afterContainerFocusElement, 'focus', (e) => {\n\t\t\t\tfirstContainerFocusElement.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}));\n\t\t\tthis._register(dom.addDisposableListener(beforeContainerFocusElement, 'focus', (e) => {\n\t\t\t\tlastContainerFocusElement.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate findLastFocusableChild(root: Node): HTMLElement | undefined {\n\t\tif (root.hasChildNodes()) {\n\t\t\tfor (let i = 0; i < root.childNodes.length; i++) {\n\t\t\t\tconst node = root.childNodes.item(root.childNodes.length - i - 1);\n\t\t\t\tif (node.nodeType === node.ELEMENT_NODE) {\n\t\t\t\t\tconst parsedNode = node as HTMLElement;\n\t\t\t\t\tif (typeof parsedNode.tabIndex === 'number' && parsedNode.tabIndex >= 0) {\n\t\t\t\t\t\treturn parsedNode;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst recursivelyFoundElement = this.findLastFocusableChild(node);\n\t\t\t\tif (recursivelyFoundElement) {\n\t\t\t\t\treturn recursivelyFoundElement;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic render(container: HTMLElement): void {\n\t\tcontainer.appendChild(this._hoverContainer);\n\t\tconst accessibleViewHint = getHoverAccessibleViewHint(this._configurationService.getValue('accessibility.verbosity.hover') === true && this._accessibilityService.isScreenReaderOptimized(), this._keybindingService.lookupKeybinding('editor.action.accessibleView')?.getAriaLabel());\n\t\tif (accessibleViewHint) {\n\n\t\t\tstatus(accessibleViewHint);\n\t\t}\n\t\tthis.layout();\n\t\tthis.addFocusTrap();\n\t}\n\n\tpublic layout() {\n\t\tthis._hover.containerDomNode.classList.remove('right-aligned');\n\t\tthis._hover.contentsDomNode.style.maxHeight = '';\n\n\t\tconst getZoomAccountedBoundingClientRect = (e: HTMLElement) => {\n\t\t\tconst zoom = dom.getDomNodeZoomLevel(e);\n\n\t\t\tconst boundingRect = e.getBoundingClientRect();\n\t\t\treturn {\n\t\t\t\ttop: boundingRect.top * zoom,\n\t\t\t\tbottom: boundingRect.bottom * zoom,\n\t\t\t\tright: boundingRect.right * zoom,\n\t\t\t\tleft: boundingRect.left * zoom,\n\t\t\t};\n\t\t};\n\n\t\tconst targetBounds = this._target.targetElements.map(e => getZoomAccountedBoundingClientRect(e));\n\t\tconst top = Math.min(...targetBounds.map(e => e.top));\n\t\tconst right = Math.max(...targetBounds.map(e => e.right));\n\t\tconst bottom = Math.max(...targetBounds.map(e => e.bottom));\n\t\tconst left = Math.min(...targetBounds.map(e => e.left));\n\t\tconst width = right - left;\n\t\tconst height = bottom - top;\n\n\t\tconst targetRect: TargetRect = {\n\t\t\ttop, right, bottom, left, width, height,\n\t\t\tcenter: {\n\t\t\t\tx: left + (width / 2),\n\t\t\t\ty: top + (height / 2)\n\t\t\t}\n\t\t};\n\n\t\t// These calls adjust the position depending on spacing.\n\t\tthis.adjustHorizontalHoverPosition(targetRect);\n\t\tthis.adjustVerticalHoverPosition(targetRect);\n\t\t// This call limits the maximum height of the hover.\n\t\tthis.adjustHoverMaxHeight(targetRect);\n\n\t\t// Offset the hover position if there is a pointer so it aligns with the target element\n\t\tthis._hoverContainer.style.padding = '';\n\t\tthis._hoverContainer.style.margin = '';\n\t\tif (this._hoverPointer) {\n\t\t\tswitch (this._hoverPosition) {\n\t\t\t\tcase HoverPosition.RIGHT:\n\t\t\t\t\ttargetRect.left += Constants.PointerSize;\n\t\t\t\t\ttargetRect.right += Constants.PointerSize;\n\t\t\t\t\tthis._hoverContainer.style.paddingLeft = `${Constants.PointerSize}px`;\n\t\t\t\t\tthis._hoverContainer.style.marginLeft = `${-Constants.PointerSize}px`;\n\t\t\t\t\tbreak;\n\t\t\t\tcase HoverPosition.LEFT:\n\t\t\t\t\ttargetRect.left -= Constants.PointerSize;\n\t\t\t\t\ttargetRect.right -= Constants.PointerSize;\n\t\t\t\t\tthis._hoverContainer.style.paddingRight = `${Constants.PointerSize}px`;\n\t\t\t\t\tthis._hoverContainer.style.marginRight = `${-Constants.PointerSize}px`;\n\t\t\t\t\tbreak;\n\t\t\t\tcase HoverPosition.BELOW:\n\t\t\t\t\ttargetRect.top += Constants.PointerSize;\n\t\t\t\t\ttargetRect.bottom += Constants.PointerSize;\n\t\t\t\t\tthis._hoverContainer.style.paddingTop = `${Constants.PointerSize}px`;\n\t\t\t\t\tthis._hoverContainer.style.marginTop = `${-Constants.PointerSize}px`;\n\t\t\t\t\tbreak;\n\t\t\t\tcase HoverPosition.ABOVE:\n\t\t\t\t\ttargetRect.top -= Constants.PointerSize;\n\t\t\t\t\ttargetRect.bottom -= Constants.PointerSize;\n\t\t\t\t\tthis._hoverContainer.style.paddingBottom = `${Constants.PointerSize}px`;\n\t\t\t\t\tthis._hoverContainer.style.marginBottom = `${-Constants.PointerSize}px`;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\ttargetRect.center.x = targetRect.left + (width / 2);\n\t\t\ttargetRect.center.y = targetRect.top + (height / 2);\n\t\t}\n\n\t\tthis.computeXCordinate(targetRect);\n\t\tthis.computeYCordinate(targetRect);\n\n\t\tif (this._hoverPointer) {\n\t\t\t// reset\n\t\t\tthis._hoverPointer.classList.remove('top');\n\t\t\tthis._hoverPointer.classList.remove('left');\n\t\t\tthis._hoverPointer.classList.remove('right');\n\t\t\tthis._hoverPointer.classList.remove('bottom');\n\n\t\t\tthis.setHoverPointerPosition(targetRect);\n\t\t}\n\n\t\tthis._hover.onContentsChanged();\n\t}\n\n\tprivate computeXCordinate(target: TargetRect): void {\n\t\tconst hoverWidth = this._hover.containerDomNode.clientWidth + Constants.HoverBorderWidth;\n\n\t\tif (this._target.x !== undefined) {\n\t\t\tthis._x = this._target.x;\n\t\t}\n\n\t\telse if (this._hoverPosition === HoverPosition.RIGHT) {\n\t\t\tthis._x = target.right;\n\t\t}\n\n\t\telse if (this._hoverPosition === HoverPosition.LEFT) {\n\t\t\tthis._x = target.left - hoverWidth;\n\t\t}\n\n\t\telse {\n\t\t\tif (this._hoverPointer) {\n\t\t\t\tthis._x = target.center.x - (this._hover.containerDomNode.clientWidth / 2);\n\t\t\t} else {\n\t\t\t\tthis._x = target.left;\n\t\t\t}\n\n\t\t\t// Hover is going beyond window towards right end\n\t\t\tif (this._x + hoverWidth >= document.documentElement.clientWidth) {\n\t\t\t\tthis._hover.containerDomNode.classList.add('right-aligned');\n\t\t\t\tthis._x = Math.max(document.documentElement.clientWidth - hoverWidth - Constants.HoverWindowEdgeMargin, document.documentElement.clientLeft);\n\t\t\t}\n\t\t}\n\n\t\t// Hover is going beyond window towards left end\n\t\tif (this._x < document.documentElement.clientLeft) {\n\t\t\tthis._x = target.left + Constants.HoverWindowEdgeMargin;\n\t\t}\n\n\t}\n\n\tprivate computeYCordinate(target: TargetRect): void {\n\t\tif (this._target.y !== undefined) {\n\t\t\tthis._y = this._target.y;\n\t\t}\n\n\t\telse if (this._hoverPosition === HoverPosition.ABOVE) {\n\t\t\tthis._y = target.top;\n\t\t}\n\n\t\telse if (this._hoverPosition === HoverPosition.BELOW) {\n\t\t\tthis._y = target.bottom - 2;\n\t\t}\n\n\t\telse {\n\t\t\tif (this._hoverPointer) {\n\t\t\t\tthis._y = target.center.y + (this._hover.containerDomNode.clientHeight / 2);\n\t\t\t} else {\n\t\t\t\tthis._y = target.bottom;\n\t\t\t}\n\t\t}\n\n\t\t// Hover on bottom is going beyond window\n\t\tif (this._y > window.innerHeight) {\n\t\t\tthis._y = target.bottom;\n\t\t}\n\t}\n\n\tprivate adjustHorizontalHoverPosition(target: TargetRect): void {\n\t\t// Do not adjust horizontal hover position if x cordiante is provided\n\t\tif (this._target.x !== undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// When force position is enabled, restrict max width\n\t\tif (this._forcePosition) {\n\t\t\tconst padding = (this._hoverPointer ? Constants.PointerSize : 0) + Constants.HoverBorderWidth;\n\t\t\tif (this._hoverPosition === HoverPosition.RIGHT) {\n\t\t\t\tthis._hover.containerDomNode.style.maxWidth = `${document.documentElement.clientWidth - target.right - padding}px`;\n\t\t\t} else if (this._hoverPosition === HoverPosition.LEFT) {\n\t\t\t\tthis._hover.containerDomNode.style.maxWidth = `${target.left - padding}px`;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Position hover on right to target\n\t\tif (this._hoverPosition === HoverPosition.RIGHT) {\n\t\t\tconst roomOnRight = document.documentElement.clientWidth - target.right;\n\t\t\t// Hover on the right is going beyond window.\n\t\t\tif (roomOnRight < this._hover.containerDomNode.clientWidth) {\n\t\t\t\tconst roomOnLeft = target.left;\n\t\t\t\t// There's enough room on the left, flip the hover position\n\t\t\t\tif (roomOnLeft >= this._hover.containerDomNode.clientWidth) {\n\t\t\t\t\tthis._hoverPosition = HoverPosition.LEFT;\n\t\t\t\t}\n\t\t\t\t// Hover on the left would go beyond window too\n\t\t\t\telse {\n\t\t\t\t\tthis._hoverPosition = HoverPosition.BELOW;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Position hover on left to target\n\t\telse if (this._hoverPosition === HoverPosition.LEFT) {\n\n\t\t\tconst roomOnLeft = target.left;\n\t\t\t// Hover on the left is going beyond window.\n\t\t\tif (roomOnLeft < this._hover.containerDomNode.clientWidth) {\n\t\t\t\tconst roomOnRight = document.documentElement.clientWidth - target.right;\n\t\t\t\t// There's enough room on the right, flip the hover position\n\t\t\t\tif (roomOnRight >= this._hover.containerDomNode.clientWidth) {\n\t\t\t\t\tthis._hoverPosition = HoverPosition.RIGHT;\n\t\t\t\t}\n\t\t\t\t// Hover on the right would go beyond window too\n\t\t\t\telse {\n\t\t\t\t\tthis._hoverPosition = HoverPosition.BELOW;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Hover on the left is going beyond window.\n\t\t\tif (target.left - this._hover.containerDomNode.clientWidth <= document.documentElement.clientLeft) {\n\t\t\t\tthis._hoverPosition = HoverPosition.RIGHT;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate adjustVerticalHoverPosition(target: TargetRect): void {\n\t\t// Do not adjust vertical hover position if the y coordinate is provided\n\t\t// or the position is forced\n\t\tif (this._target.y !== undefined || this._forcePosition) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Position hover on top of the target\n\t\tif (this._hoverPosition === HoverPosition.ABOVE) {\n\t\t\t// Hover on top is going beyond window\n\t\t\tif (target.top - this._hover.containerDomNode.clientHeight < 0) {\n\t\t\t\tthis._hoverPosition = HoverPosition.BELOW;\n\t\t\t}\n\t\t}\n\n\t\t// Position hover below the target\n\t\telse if (this._hoverPosition === HoverPosition.BELOW) {\n\t\t\t// Hover on bottom is going beyond window\n\t\t\tif (target.bottom + this._hover.containerDomNode.clientHeight > window.innerHeight) {\n\t\t\t\tthis._hoverPosition = HoverPosition.ABOVE;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate adjustHoverMaxHeight(target: TargetRect): void {\n\t\tlet maxHeight = window.innerHeight / 2;\n\n\t\t// When force position is enabled, restrict max height\n\t\tif (this._forcePosition) {\n\t\t\tconst padding = (this._hoverPointer ? Constants.PointerSize : 0) + Constants.HoverBorderWidth;\n\t\t\tif (this._hoverPosition === HoverPosition.ABOVE) {\n\t\t\t\tmaxHeight = Math.min(maxHeight, target.top - padding);\n\t\t\t} else if (this._hoverPosition === HoverPosition.BELOW) {\n\t\t\t\tmaxHeight = Math.min(maxHeight, window.innerHeight - target.bottom - padding);\n\t\t\t}\n\t\t}\n\n\t\tthis._hover.containerDomNode.style.maxHeight = `${maxHeight}px`;\n\t\tif (this._hover.contentsDomNode.clientHeight < this._hover.contentsDomNode.scrollHeight) {\n\t\t\t// Add padding for a vertical scrollbar\n\t\t\tconst extraRightPadding = `${this._hover.scrollbar.options.verticalScrollbarSize}px`;\n\t\t\tif (this._hover.contentsDomNode.style.paddingRight !== extraRightPadding) {\n\t\t\t\tthis._hover.contentsDomNode.style.paddingRight = extraRightPadding;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setHoverPointerPosition(target: TargetRect): void {\n\t\tif (!this._hoverPointer) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (this._hoverPosition) {\n\t\t\tcase HoverPosition.LEFT:\n\t\t\tcase HoverPosition.RIGHT: {\n\t\t\t\tthis._hoverPointer.classList.add(this._hoverPosition === HoverPosition.LEFT ? 'right' : 'left');\n\t\t\t\tconst hoverHeight = this._hover.containerDomNode.clientHeight;\n\n\t\t\t\t// If hover is taller than target, then show the pointer at the center of target\n\t\t\t\tif (hoverHeight > target.height) {\n\t\t\t\t\tthis._hoverPointer.style.top = `${target.center.y - (this._y - hoverHeight) - Constants.PointerSize}px`;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise show the pointer at the center of hover\n\t\t\t\telse {\n\t\t\t\t\tthis._hoverPointer.style.top = `${Math.round((hoverHeight / 2)) - Constants.PointerSize}px`;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase HoverPosition.ABOVE:\n\t\t\tcase HoverPosition.BELOW: {\n\t\t\t\tthis._hoverPointer.classList.add(this._hoverPosition === HoverPosition.ABOVE ? 'bottom' : 'top');\n\t\t\t\tconst hoverWidth = this._hover.containerDomNode.clientWidth;\n\n\t\t\t\t// Position pointer at the center of the hover\n\t\t\t\tlet pointerLeftPosition = Math.round((hoverWidth / 2)) - Constants.PointerSize;\n\n\t\t\t\t// If pointer goes beyond target then position it at the center of the target\n\t\t\t\tconst pointerX = this._x + pointerLeftPosition;\n\t\t\t\tif (pointerX < target.left || pointerX > target.right) {\n\t\t\t\t\tpointerLeftPosition = target.center.x - this._x - Constants.PointerSize;\n\t\t\t\t}\n\n\t\t\t\tthis._hoverPointer.style.left = `${pointerLeftPosition}px`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic focus() {\n\t\tthis._hover.containerDomNode.focus();\n\t}\n\n\tpublic hide(): void {\n\t\tthis.dispose();\n\t}\n\n\tpublic override dispose(): void {\n\t\tif (!this._isDisposed) {\n\t\t\tthis._onDispose.fire();\n\t\t\tthis._hoverContainer.remove();\n\t\t\tthis._messageListeners.dispose();\n\t\t\tthis._target.dispose();\n\t\t\tsuper.dispose();\n\t\t}\n\t\tthis._isDisposed = true;\n\t}\n}\n\nclass CompositeMouseTracker extends Widget {\n\tprivate _isMouseIn: boolean = true;\n\tprivate _mouseTimeout: number | undefined;\n\n\tprivate readonly _onMouseOut = this._register(new Emitter<void>());\n\tget onMouseOut(): Event<void> { return this._onMouseOut.event; }\n\n\tget isMouseIn(): boolean { return this._isMouseIn; }\n\n\tconstructor(\n\t\tprivate _elements: HTMLElement[]\n\t) {\n\t\tsuper();\n\t\tthis._elements.forEach(n => this.onmouseover(n, () => this._onTargetMouseOver()));\n\t\tthis._elements.forEach(n => this.onmouseleave(n, () => this._onTargetMouseLeave()));\n\t}\n\n\tprivate _onTargetMouseOver(): void {\n\t\tthis._isMouseIn = true;\n\t\tthis._clearEvaluateMouseStateTimeout();\n\t}\n\n\tprivate _onTargetMouseLeave(): void {\n\t\tthis._isMouseIn = false;\n\t\tthis._evaluateMouseState();\n\t}\n\n\tprivate _evaluateMouseState(): void {\n\t\tthis._clearEvaluateMouseStateTimeout();\n\t\t// Evaluate whether the mouse is still outside asynchronously such that other mouse targets\n\t\t// have the opportunity to first their mouse in event.\n\t\tthis._mouseTimeout = window.setTimeout(() => this._fireIfMouseOutside(), 0);\n\t}\n\n\tprivate _clearEvaluateMouseStateTimeout(): void {\n\t\tif (this._mouseTimeout) {\n\t\t\tclearTimeout(this._mouseTimeout);\n\t\t\tthis._mouseTimeout = undefined;\n\t\t}\n\t}\n\n\tprivate _fireIfMouseOutside(): void {\n\t\tif (!this._isMouseIn) {\n\t\t\tthis._onMouseOut.fire();\n\t\t}\n\t}\n}\n\nclass ElementHoverTarget implements IHoverTarget {\n\treadonly targetElements: readonly HTMLElement[];\n\n\tconstructor(\n\t\tprivate _element: HTMLElement\n\t) {\n\t\tthis.targetElements = [this._element];\n\t}\n\n\tdispose(): void {\n\t}\n}\n"]}
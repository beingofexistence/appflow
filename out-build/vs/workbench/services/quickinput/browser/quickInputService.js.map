{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/services/quickinput/browser/quickInputService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IAgBzF,IAAM,IAAI,GAAV,MAAM,IAAkB,SAAQ,wBAAqB;QAK3D,YACwB,CAA0C,EAC1C,oBAAyB,EAC5B,CAAuC,EACvC,iBAAsB,EAC3B,YAAiB,EAChB,aAAkB,EACnB,CAAmC;YAElD,KAAK,CAAC,oBAAoB,EAAE,iBAAiB,EAAE,YAAY,EAAE,aAAa,CAAC,CAAC;YARpC,MAAC,GAAD,CAAC,CAAwB;YAE5B,MAAC,GAAD,CAAC,CAAqB;YAI3B,MAAC,GAAD,CAAC,CAAiB;YAVlC,MAAC,GAAe,IAAI,uBAAuB,CAAC,IAAI,CAAC,CAAC,EAAqB,IAAI,CAAC,CAAC,CAAY,CAAC;YAC1F,MAAC,GAAqB,kBAAI,CAAkB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAiB,CAAC;YAa3F,IAAI,CAAC,CAAC,EAAkB,CAAC;QAC1B,CAAC;QAEO,CAAC;YACR,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAmB,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtE,IAAI,CAAC,CAAC,CAAS,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAmB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACxE,CAAC;QAEkB,CAAC;YACnB,OAAO,KAAK,CAAC,CAAC,CAAgB,IAAI,CAAC,CAAC,EAAc;gBACjD,cAAc,EAAE,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAoB,QAAQ,CAAC,sCAAsC,CAAC;gBACjG,mBAAmB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAiB,gBAAgB,CAAC,iCAAiC,CAAC,EAAE,QAAQ,EAAE,IAAI,SAAS;gBAC9H,aAAa,EAAE,IAAI,CAAC,CAAC;aACrB,CAAC,CAAC;QACJ,CAAC;KACD,CAAA;IA/BY,oBAAI;mBAAJ,IAAI;QAMd,WAAA,mBAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,gBAAG,CAAA;QACH,WAAA,gBAAG,CAAA;QACH,WAAA,kBAAG,CAAA;QACH,WAAA,mBAAG,CAAA;QACH,WAAA,YAAI,CAAA;OAZM,IAAI,CA+BhB;IAED,MAAM,uBAAuB;QAI5B,IAAI,KAAK;YACR,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,GAAmB,GAAG,EAAE;gBAC9C,OAAO,CAAC,CAAC,CAAC,iDAAiD;aAC3D;YAED,OAAO,IAAI,CAAC,CAAC,CAAoB,QAAQ,CAAS,uBAAuB,CAAC,CAAC;QAC5E,CAAC;QAED,YACkB,CAAyB,EACzB,CAAkB;YADlB,MAAC,GAAD,CAAC,CAAwB;YACzB,MAAC,GAAD,CAAC,CAAiB;YAb5B,MAAC,GAAmB,CAAC,CAAC;YACrB,cAAS,GAAG,SAAS,CAAC;QAa3B,CAAC;QAEL,SAAS,CAAC,OAA8B,EAAE,KAAe;YACxD,OAAO,IAAI,CAAC,CAAC,CAAY,SAAS,CAAC;gBAClC,GAAG,OAAO;gBACV,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,KAAK;gBACpB,mBAAmB,EAAE,IAAI;aACzB,EAAE,KAAK,CAAC,CAAC;QACX,CAAC;QAED,cAAc;YACb,IAAI,CAAC,CAAC,GAAmB,IAAI,CAAC,GAAG,EAAE,CAAC;QACrC,CAAC;KACD;IAED,IAAA,gBAAG,EAAe,gBAAG,EAAiB,IAAI,oCAAyC,CAAC","file":"quickInputService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILayoutService } from 'vs/platform/layout/browser/layoutService';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { QuickInputController } from 'vs/platform/quickinput/browser/quickInputController';\nimport { QuickInputService as BaseQuickInputService } from 'vs/platform/quickinput/browser/quickInputService';\nimport { InstantiationType, registerSingleton } from 'vs/platform/instantiation/common/extensions';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { InQuickPickContextKey } from 'vs/workbench/browser/quickaccess';\nimport { IHoverService } from 'vs/workbench/services/hover/browser/hover';\nimport { IHoverDelegate, IHoverDelegateOptions, IHoverWidget } from 'vs/base/browser/ui/iconLabel/iconHoverDelegate';\n\nexport class QuickInputService extends BaseQuickInputService {\n\n\tprivate readonly hoverDelegate = new QuickInputHoverDelegate(this.configurationService, this.hoverService);\n\tprivate readonly inQuickInputContext = InQuickPickContextKey.bindTo(this.contextKeyService);\n\n\tconstructor(\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ILayoutService layoutService: ILayoutService,\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) {\n\t\tsuper(instantiationService, contextKeyService, themeService, layoutService);\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.onShow(() => this.inQuickInputContext.set(true)));\n\t\tthis._register(this.onHide(() => this.inQuickInputContext.set(false)));\n\t}\n\n\tprotected override createController(): QuickInputController {\n\t\treturn super.createController(this.layoutService, {\n\t\t\tignoreFocusOut: () => !this.configurationService.getValue('workbench.quickOpen.closeOnFocusLost'),\n\t\t\tbackKeybindingLabel: () => this.keybindingService.lookupKeybinding('workbench.action.quickInputBack')?.getLabel() || undefined,\n\t\t\thoverDelegate: this.hoverDelegate\n\t\t});\n\t}\n}\n\nclass QuickInputHoverDelegate implements IHoverDelegate {\n\tprivate lastHoverHideTime = 0;\n\treadonly placement = 'element';\n\n\tget delay() {\n\t\tif (Date.now() - this.lastHoverHideTime < 200) {\n\t\t\treturn 0; // show instantly when a hover was recently shown\n\t\t}\n\n\t\treturn this.configurationService.getValue<number>('workbench.hover.delay');\n\t}\n\n\tconstructor(\n\t\tprivate readonly configurationService: IConfigurationService,\n\t\tprivate readonly hoverService: IHoverService\n\t) { }\n\n\tshowHover(options: IHoverDelegateOptions, focus?: boolean): IHoverWidget | undefined {\n\t\treturn this.hoverService.showHover({\n\t\t\t...options,\n\t\t\tshowHoverHint: true,\n\t\t\thideOnKeyDown: false,\n\t\t\tskipFadeInAnimation: true,\n\t\t}, focus);\n\t}\n\n\tonDidHideHover(): void {\n\t\tthis.lastHoverHideTime = Date.now();\n\t}\n}\n\nregisterSingleton(IQuickInputService, QuickInputService, InstantiationType.Delayed);\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/services/outline/browser/outlineService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;IAUhG,MAAM,cAAc;QAApB;YAIkB,MAAC,GAAY,IAAI,gBAAG,EAAoC,CAAC;YAEzD,MAAC,GAAc,IAAI,WAAG,EAAY,CAAC;YAC3C,gBAAW,GAAgB,IAAI,CAAC,CAAC,CAAY,KAAK,CAAC;QA4B7D,CAAC;QA1BA,gBAAgB,CAAC,IAAiB;YACjC,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,CAAC,EAAW;gBACtC,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBAC1B,OAAO,IAAI,CAAC;iBACZ;aACD;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAED,KAAK,CAAC,aAAa,CAAC,IAAiB,EAAE,MAAqB,EAAE,KAAwB;YACrF,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,CAAC,EAAW;gBACtC,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBAC1B,OAAO,MAAM,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;iBACxD;aACD;YACD,OAAO,SAAS,CAAC;QAClB,CAAC;QAED,sBAAsB,CAAC,OAAkC;YACxD,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAU,IAAI,CAAC,OAAO,CAAC,CAAC;YACzC,IAAI,CAAC,CAAC,CAAY,IAAI,EAAE,CAAC;YACzB,OAAO,IAAA,eAAG,EAAU,GAAG,EAAE;gBACxB,EAAE,EAAE,CAAC;gBACL,IAAI,CAAC,CAAC,CAAY,IAAI,EAAE,CAAC;YAC1B,CAAC,CAAC,CAAC;QACJ,CAAC;KACD;IAGD,IAAA,gBAAG,EAAe,cAAI,EAAa,cAAc,oCAA4B,CAAC","file":"outlineService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { IDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { LinkedList } from 'vs/base/common/linkedList';\nimport { InstantiationType, registerSingleton } from 'vs/platform/instantiation/common/extensions';\nimport { IEditorPane } from 'vs/workbench/common/editor';\nimport { IOutline, IOutlineCreator, IOutlineService, OutlineTarget } from 'vs/workbench/services/outline/browser/outline';\nimport { Event, Emitter } from 'vs/base/common/event';\n\nclass OutlineService implements IOutlineService {\n\n\tdeclare _serviceBrand: undefined;\n\n\tprivate readonly _factories = new LinkedList<IOutlineCreator<any, any>>();\n\n\tprivate readonly _onDidChange = new Emitter<void>();\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tcanCreateOutline(pane: IEditorPane): boolean {\n\t\tfor (const factory of this._factories) {\n\t\t\tif (factory.matches(pane)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tasync createOutline(pane: IEditorPane, target: OutlineTarget, token: CancellationToken): Promise<IOutline<any> | undefined> {\n\t\tfor (const factory of this._factories) {\n\t\t\tif (factory.matches(pane)) {\n\t\t\t\treturn await factory.createOutline(pane, target, token);\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tregisterOutlineCreator(creator: IOutlineCreator<any, any>): IDisposable {\n\t\tconst rm = this._factories.push(creator);\n\t\tthis._onDidChange.fire();\n\t\treturn toDisposable(() => {\n\t\t\trm();\n\t\t\tthis._onDidChange.fire();\n\t\t});\n\t}\n}\n\n\nregisterSingleton(IOutlineService, OutlineService, InstantiationType.Delayed);\n"]}
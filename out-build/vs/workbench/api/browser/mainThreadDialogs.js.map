{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/api/browser/mainThreadDialogs.ts"],"names":[],"mappings":"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","file":"mainThreadDialogs.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from 'vs/base/common/uri';\nimport { MainThreadDiaglogsShape, MainContext, MainThreadDialogOpenOptions, MainThreadDialogSaveOptions } from '../common/extHost.protocol';\nimport { extHostNamedCustomer, IExtHostContext } from 'vs/workbench/services/extensions/common/extHostCustomers';\nimport { IFileDialogService, IOpenDialogOptions, ISaveDialogOptions } from 'vs/platform/dialogs/common/dialogs';\nimport { Schemas } from 'vs/base/common/network';\n\n@extHostNamedCustomer(MainContext.MainThreadDialogs)\nexport class MainThreadDialogs implements MainThreadDiaglogsShape {\n\n\tconstructor(\n\t\tcontext: IExtHostContext,\n\t\t@IFileDialogService private readonly _fileDialogService: IFileDialogService,\n\t) {\n\t\t//\n\t}\n\n\tdispose(): void {\n\t\t//\n\t}\n\n\tasync $showOpenDialog(options?: MainThreadDialogOpenOptions): Promise<URI[] | undefined> {\n\t\tconst convertedOptions = MainThreadDialogs._convertOpenOptions(options);\n\t\tif (!convertedOptions.defaultUri) {\n\t\t\tconvertedOptions.defaultUri = await this._fileDialogService.defaultFilePath();\n\t\t}\n\t\treturn Promise.resolve(this._fileDialogService.showOpenDialog(convertedOptions));\n\t}\n\n\tasync $showSaveDialog(options?: MainThreadDialogSaveOptions): Promise<URI | undefined> {\n\t\tconst convertedOptions = MainThreadDialogs._convertSaveOptions(options);\n\t\tif (!convertedOptions.defaultUri) {\n\t\t\tconvertedOptions.defaultUri = await this._fileDialogService.defaultFilePath();\n\t\t}\n\t\treturn Promise.resolve(this._fileDialogService.showSaveDialog(convertedOptions));\n\t}\n\n\tprivate static _convertOpenOptions(options?: MainThreadDialogOpenOptions): IOpenDialogOptions {\n\t\tconst result: IOpenDialogOptions = {\n\t\t\topenLabel: options?.openLabel || undefined,\n\t\t\tcanSelectFiles: options?.canSelectFiles || (!options?.canSelectFiles && !options?.canSelectFolders),\n\t\t\tcanSelectFolders: options?.canSelectFolders,\n\t\t\tcanSelectMany: options?.canSelectMany,\n\t\t\tdefaultUri: options?.defaultUri ? URI.revive(options.defaultUri) : undefined,\n\t\t\ttitle: options?.title || undefined,\n\t\t\tavailableFileSystems: options?.allowUIResources ? [Schemas.vscodeRemote, Schemas.file] : []\n\t\t};\n\t\tif (options?.filters) {\n\t\t\tresult.filters = [];\n\t\t\tfor (const [key, value] of Object.entries(options.filters)) {\n\t\t\t\tresult.filters!.push({ name: key, extensions: value });\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate static _convertSaveOptions(options?: MainThreadDialogSaveOptions): ISaveDialogOptions {\n\t\tconst result: ISaveDialogOptions = {\n\t\t\tdefaultUri: options?.defaultUri ? URI.revive(options.defaultUri) : undefined,\n\t\t\tsaveLabel: options?.saveLabel || undefined,\n\t\t\ttitle: options?.title || undefined\n\t\t};\n\t\tif (options?.filters) {\n\t\t\tresult.filters = [];\n\t\t\tfor (const [key, value] of Object.entries(options.filters)) {\n\t\t\t\tresult.filters.push({ name: key, extensions: value });\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n"]}
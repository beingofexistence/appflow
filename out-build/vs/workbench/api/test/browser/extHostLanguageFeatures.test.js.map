{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/api/test/browser/extHostLanguageFeatures.test.ts"],"names":[],"mappings":"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","file":"extHostLanguageFeatures.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { TestInstantiationService } from 'vs/platform/instantiation/test/common/instantiationServiceMock';\nimport { setUnexpectedErrorHandler, errorHandler } from 'vs/base/common/errors';\nimport { URI } from 'vs/base/common/uri';\nimport * as types from 'vs/workbench/api/common/extHostTypes';\nimport { createTextModel } from 'vs/editor/test/common/testTextModel';\nimport { Position as EditorPosition, Position } from 'vs/editor/common/core/position';\nimport { Range as EditorRange } from 'vs/editor/common/core/range';\nimport { TestRPCProtocol } from 'vs/workbench/api/test/common/testRPCProtocol';\nimport { IMarkerService } from 'vs/platform/markers/common/markers';\nimport { MarkerService } from 'vs/platform/markers/common/markerService';\nimport { ExtHostLanguageFeatures } from 'vs/workbench/api/common/extHostLanguageFeatures';\nimport { MainThreadLanguageFeatures } from 'vs/workbench/api/browser/mainThreadLanguageFeatures';\nimport { ExtHostCommands } from 'vs/workbench/api/common/extHostCommands';\nimport { MainThreadCommands } from 'vs/workbench/api/browser/mainThreadCommands';\nimport { ExtHostDocuments } from 'vs/workbench/api/common/extHostDocuments';\nimport { ExtHostDocumentsAndEditors } from 'vs/workbench/api/common/extHostDocumentsAndEditors';\nimport * as languages from 'vs/editor/common/languages';\nimport { getCodeLensModel } from 'vs/editor/contrib/codelens/browser/codelens';\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition, getReferencesAtPosition } from 'vs/editor/contrib/gotoSymbol/browser/goToSymbol';\nimport { getHoverPromise } from 'vs/editor/contrib/hover/browser/getHover';\nimport { getOccurrencesAtPosition } from 'vs/editor/contrib/wordHighlighter/browser/wordHighlighter';\nimport { getCodeActions } from 'vs/editor/contrib/codeAction/browser/codeAction';\nimport { getWorkspaceSymbols } from 'vs/workbench/contrib/search/common/search';\nimport { rename } from 'vs/editor/contrib/rename/browser/rename';\nimport { provideSignatureHelp } from 'vs/editor/contrib/parameterHints/browser/provideSignatureHelp';\nimport { provideSuggestionItems, CompletionOptions } from 'vs/editor/contrib/suggest/browser/suggest';\nimport { getDocumentFormattingEditsUntilResult, getDocumentRangeFormattingEditsUntilResult, getOnTypeFormattingEdits } from 'vs/editor/contrib/format/browser/format';\nimport { getLinks } from 'vs/editor/contrib/links/browser/getLinks';\nimport { MainContext, ExtHostContext } from 'vs/workbench/api/common/extHost.protocol';\nimport { ExtHostDiagnostics } from 'vs/workbench/api/common/extHostDiagnostics';\nimport type * as vscode from 'vscode';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { NullLogService } from 'vs/platform/log/common/log';\nimport { ITextModel, EndOfLineSequence } from 'vs/editor/common/model';\nimport { getColors } from 'vs/editor/contrib/colorPicker/browser/color';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { nullExtensionDescription as defaultExtension } from 'vs/workbench/services/extensions/common/extensions';\nimport { provideSelectionRanges } from 'vs/editor/contrib/smartSelect/browser/smartSelect';\nimport { mock } from 'vs/base/test/common/mock';\nimport { IEditorWorkerService } from 'vs/editor/common/services/editorWorker';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { NullApiDeprecationService } from 'vs/workbench/api/common/extHostApiDeprecationService';\nimport { Progress } from 'vs/platform/progress/common/progress';\nimport { IExtHostFileSystemInfo } from 'vs/workbench/api/common/extHostFileSystemInfo';\nimport { URITransformerService } from 'vs/workbench/api/common/extHostUriTransformerService';\nimport { OutlineModel } from 'vs/editor/contrib/documentSymbols/browser/outlineModel';\nimport { ILanguageFeaturesService } from 'vs/editor/common/services/languageFeatures';\nimport { LanguageFeaturesService } from 'vs/editor/common/services/languageFeaturesService';\nimport { CodeActionTriggerSource } from 'vs/editor/contrib/codeAction/common/types';\nimport { IUriIdentityService } from 'vs/platform/uriIdentity/common/uriIdentity';\nimport { IExtHostTelemetry } from 'vs/workbench/api/common/extHostTelemetry';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\n\nsuite('ExtHostLanguageFeatures', function () {\n\n\tconst defaultSelector = { scheme: 'far' };\n\tlet model: ITextModel;\n\tlet extHost: ExtHostLanguageFeatures;\n\tlet mainThread: MainThreadLanguageFeatures;\n\tconst disposables = new DisposableStore();\n\tlet rpcProtocol: TestRPCProtocol;\n\tlet languageFeaturesService: ILanguageFeaturesService;\n\tlet originalErrorHandler: (e: any) => any;\n\tlet instantiationService: TestInstantiationService;\n\n\tsetup(() => {\n\n\t\tmodel = createTextModel(\n\t\t\t[\n\t\t\t\t'This is the first line',\n\t\t\t\t'This is the second line',\n\t\t\t\t'This is the third line',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\tURI.parse('far://testing/file.a'));\n\n\t\trpcProtocol = new TestRPCProtocol();\n\n\t\tlanguageFeaturesService = new LanguageFeaturesService();\n\n\t\t// Use IInstantiationService to get typechecking when instantiating\n\t\tlet inst: IInstantiationService;\n\t\t{\n\t\t\tinstantiationService = new TestInstantiationService();\n\t\t\tinstantiationService.stub(IMarkerService, MarkerService);\n\t\t\tinstantiationService.set(ILanguageFeaturesService, languageFeaturesService);\n\t\t\tinstantiationService.set(IUriIdentityService, new class extends mock<IUriIdentityService>() {\n\t\t\t\toverride asCanonicalUri(uri: URI): URI {\n\t\t\t\t\treturn uri;\n\t\t\t\t}\n\t\t\t});\n\t\t\tinst = instantiationService;\n\t\t}\n\n\t\toriginalErrorHandler = errorHandler.getUnexpectedErrorHandler();\n\t\tsetUnexpectedErrorHandler(() => { });\n\n\t\tconst extHostDocumentsAndEditors = new ExtHostDocumentsAndEditors(rpcProtocol, new NullLogService());\n\t\textHostDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({\n\t\t\taddedDocuments: [{\n\t\t\t\tisDirty: false,\n\t\t\t\tversionId: model.getVersionId(),\n\t\t\t\tlanguageId: model.getLanguageId(),\n\t\t\t\turi: model.uri,\n\t\t\t\tlines: model.getValue().split(model.getEOL()),\n\t\t\t\tEOL: model.getEOL(),\n\t\t\t}]\n\t\t});\n\t\tconst extHostDocuments = new ExtHostDocuments(rpcProtocol, extHostDocumentsAndEditors);\n\t\trpcProtocol.set(ExtHostContext.ExtHostDocuments, extHostDocuments);\n\n\t\tconst commands = new ExtHostCommands(rpcProtocol, new NullLogService(), new class extends mock<IExtHostTelemetry>() {\n\t\t\toverride onExtensionError(): boolean {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\trpcProtocol.set(ExtHostContext.ExtHostCommands, commands);\n\t\trpcProtocol.set(MainContext.MainThreadCommands, disposables.add(inst.createInstance(MainThreadCommands, rpcProtocol)));\n\n\t\tconst diagnostics = new ExtHostDiagnostics(rpcProtocol, new NullLogService(), new class extends mock<IExtHostFileSystemInfo>() { }, extHostDocumentsAndEditors);\n\t\trpcProtocol.set(ExtHostContext.ExtHostDiagnostics, diagnostics);\n\n\t\textHost = new ExtHostLanguageFeatures(rpcProtocol, new URITransformerService(null), extHostDocuments, commands, diagnostics, new NullLogService(), NullApiDeprecationService, new class extends mock<IExtHostTelemetry>() {\n\t\t\toverride onExtensionError(): boolean {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\trpcProtocol.set(ExtHostContext.ExtHostLanguageFeatures, extHost);\n\n\t\tmainThread = rpcProtocol.set(MainContext.MainThreadLanguageFeatures, disposables.add(inst.createInstance(MainThreadLanguageFeatures, rpcProtocol)));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\n\t\tsetUnexpectedErrorHandler(originalErrorHandler);\n\t\tmodel.dispose();\n\t\tmainThread.dispose();\n\t\tinstantiationService.dispose();\n\n\t\treturn rpcProtocol.sync();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t// --- outline\n\n\ttest('DocumentSymbols, register/deregister', async () => {\n\t\tassert.strictEqual(languageFeaturesService.documentSymbolProvider.all(model).length, 0);\n\t\tconst d1 = extHost.registerDocumentSymbolProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentSymbolProvider {\n\t\t\tprovideDocumentSymbols() {\n\t\t\t\treturn <vscode.SymbolInformation[]>[];\n\t\t\t}\n\t\t});\n\n\t\tawait rpcProtocol.sync();\n\t\tassert.strictEqual(languageFeaturesService.documentSymbolProvider.all(model).length, 1);\n\t\td1.dispose();\n\t\treturn rpcProtocol.sync();\n\n\t});\n\n\ttest('DocumentSymbols, evil provider', async () => {\n\t\tdisposables.add(extHost.registerDocumentSymbolProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentSymbolProvider {\n\t\t\tprovideDocumentSymbols(): any {\n\t\t\t\tthrow new Error('evil document symbol provider');\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDocumentSymbolProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentSymbolProvider {\n\t\t\tprovideDocumentSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('test', types.SymbolKind.Field, new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await OutlineModel.create(languageFeaturesService.documentSymbolProvider, model, CancellationToken.None)).asListOfDocumentSymbols();\n\t\tassert.strictEqual(value.length, 1);\n\t});\n\n\ttest('DocumentSymbols, data conversion', async () => {\n\t\tdisposables.add(extHost.registerDocumentSymbolProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentSymbolProvider {\n\t\t\tprovideDocumentSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('test', types.SymbolKind.Field, new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await OutlineModel.create(languageFeaturesService.documentSymbolProvider, model, CancellationToken.None)).asListOfDocumentSymbols();\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst entry = value[0];\n\t\tassert.strictEqual(entry.name, 'test');\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t});\n\n\ttest('Quick Outline uses a not ideal sorting, #138502', async function () {\n\t\tconst symbols = [\n\t\t\t{ name: 'containers', range: { startLineNumber: 1, startColumn: 1, endLineNumber: 4, endColumn: 26 } },\n\t\t\t{ name: 'container 0', range: { startLineNumber: 2, startColumn: 5, endLineNumber: 5, endColumn: 1 } },\n\t\t\t{ name: 'name', range: { startLineNumber: 2, startColumn: 5, endLineNumber: 2, endColumn: 16 } },\n\t\t\t{ name: 'ports', range: { startLineNumber: 3, startColumn: 5, endLineNumber: 5, endColumn: 1 } },\n\t\t\t{ name: 'ports 0', range: { startLineNumber: 4, startColumn: 9, endLineNumber: 4, endColumn: 26 } },\n\t\t\t{ name: 'containerPort', range: { startLineNumber: 4, startColumn: 9, endLineNumber: 4, endColumn: 26 } }\n\t\t];\n\n\t\tdisposables.add(extHost.registerDocumentSymbolProvider(defaultExtension, defaultSelector, {\n\t\t\tprovideDocumentSymbols: (doc, token): any => {\n\t\t\t\treturn symbols.map(s => {\n\t\t\t\t\treturn new types.SymbolInformation(\n\t\t\t\t\t\ts.name,\n\t\t\t\t\t\ttypes.SymbolKind.Object,\n\t\t\t\t\t\tnew types.Range(s.range.startLineNumber - 1, s.range.startColumn - 1, s.range.endLineNumber - 1, s.range.endColumn - 1)\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\n\t\tconst value = (await OutlineModel.create(languageFeaturesService.documentSymbolProvider, model, CancellationToken.None)).asListOfDocumentSymbols();\n\n\t\tassert.strictEqual(value.length, 6);\n\t\tassert.deepStrictEqual(value.map(s => s.name), ['containers', 'container 0', 'name', 'ports', 'ports 0', 'containerPort']);\n\t});\n\n\t// --- code lens\n\n\ttest('CodeLens, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerCodeLensProvider(defaultExtension, defaultSelector, new class implements vscode.CodeLensProvider {\n\t\t\tprovideCodeLenses(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerCodeLensProvider(defaultExtension, defaultSelector, new class implements vscode.CodeLensProvider {\n\t\t\tprovideCodeLenses() {\n\t\t\t\treturn [new types.CodeLens(new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeLensModel(languageFeaturesService.codeLensProvider, model, CancellationToken.None);\n\t\tassert.strictEqual(value.lenses.length, 1);\n\t\tvalue.dispose();\n\t});\n\n\ttest('CodeLens, do not resolve a resolved lens', async () => {\n\n\t\tdisposables.add(extHost.registerCodeLensProvider(defaultExtension, defaultSelector, new class implements vscode.CodeLensProvider {\n\t\t\tprovideCodeLenses(): any {\n\t\t\t\treturn [new types.CodeLens(\n\t\t\t\t\tnew types.Range(0, 0, 0, 0),\n\t\t\t\t\t{ command: 'id', title: 'Title' })];\n\t\t\t}\n\t\t\tresolveCodeLens(): any {\n\t\t\t\tassert.ok(false, 'do not resolve');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeLensModel(languageFeaturesService.codeLensProvider, model, CancellationToken.None);\n\t\tassert.strictEqual(value.lenses.length, 1);\n\t\tconst [data] = value.lenses;\n\t\tconst symbol = await Promise.resolve(data.provider.resolveCodeLens!(model, data.symbol, CancellationToken.None));\n\t\tassert.strictEqual(symbol!.command!.id, 'id');\n\t\tassert.strictEqual(symbol!.command!.title, 'Title');\n\t\tvalue.dispose();\n\t});\n\n\ttest('CodeLens, missing command', async () => {\n\n\t\tdisposables.add(extHost.registerCodeLensProvider(defaultExtension, defaultSelector, new class implements vscode.CodeLensProvider {\n\t\t\tprovideCodeLenses() {\n\t\t\t\treturn [new types.CodeLens(new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeLensModel(languageFeaturesService.codeLensProvider, model, CancellationToken.None);\n\t\tassert.strictEqual(value.lenses.length, 1);\n\t\tconst [data] = value.lenses;\n\t\tconst symbol = await Promise.resolve(data.provider.resolveCodeLens!(model, data.symbol, CancellationToken.None));\n\t\tassert.strictEqual(symbol!.command!.id, 'missing');\n\t\tassert.strictEqual(symbol!.command!.title, '!!MISSING: command!!');\n\t\tvalue.dispose();\n\t});\n\n\t// --- definition\n\n\ttest('Definition, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Range(1, 2, 3, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 2, startColumn: 3, endLineNumber: 4, endColumn: 5 });\n\t\tassert.strictEqual(entry.uri.toString(), model.uri.toString());\n\t});\n\n\ttest('Definition, one or many', async () => {\n\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Range(1, 1, 1, 1))];\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\treturn new types.Location(model.uri, new types.Range(2, 1, 1, 1));\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 2);\n\t});\n\n\ttest('Definition, registration order', async () => {\n\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\treturn [new types.Location(URI.parse('far://first'), new types.Range(2, 3, 4, 5))];\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\treturn new types.Location(URI.parse('far://second'), new types.Range(1, 2, 3, 4));\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 2);\n\t\t// let [first, second] = value;\n\t\tassert.strictEqual(value[0].uri.authority, 'second');\n\t\tassert.strictEqual(value[1].uri.authority, 'first');\n\t});\n\n\ttest('Definition, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\tthrow new Error('evil provider');\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.DefinitionProvider {\n\t\t\tprovideDefinition(): any {\n\t\t\t\treturn new types.Location(model.uri, new types.Range(1, 1, 1, 1));\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t});\n\n\t// -- declaration\n\n\ttest('Declaration, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerDeclarationProvider(defaultExtension, defaultSelector, new class implements vscode.DeclarationProvider {\n\t\t\tprovideDeclaration(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Range(1, 2, 3, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 2, startColumn: 3, endLineNumber: 4, endColumn: 5 });\n\t\tassert.strictEqual(entry.uri.toString(), model.uri.toString());\n\t});\n\n\t// --- implementation\n\n\ttest('Implementation, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerImplementationProvider(defaultExtension, defaultSelector, new class implements vscode.ImplementationProvider {\n\t\t\tprovideImplementation(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Range(1, 2, 3, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 2, startColumn: 3, endLineNumber: 4, endColumn: 5 });\n\t\tassert.strictEqual(entry.uri.toString(), model.uri.toString());\n\t});\n\n\t// --- type definition\n\n\ttest('Type Definition, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerTypeDefinitionProvider(defaultExtension, defaultSelector, new class implements vscode.TypeDefinitionProvider {\n\t\t\tprovideTypeDefinition(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Range(1, 2, 3, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 2, startColumn: 3, endLineNumber: 4, endColumn: 5 });\n\t\tassert.strictEqual(entry.uri.toString(), model.uri.toString());\n\t});\n\n\t// --- extra info\n\n\ttest('HoverProvider, word range at pos', async () => {\n\n\t\tdisposables.add(extHost.registerHoverProvider(defaultExtension, defaultSelector, new class implements vscode.HoverProvider {\n\t\t\tprovideHover(): any {\n\t\t\t\treturn new types.Hover('Hello');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst hovers = await getHoverPromise(languageFeaturesService.hoverProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(hovers.length, 1);\n\t\tconst [entry] = hovers;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 5 });\n\t});\n\n\n\ttest('HoverProvider, given range', async () => {\n\n\t\tdisposables.add(extHost.registerHoverProvider(defaultExtension, defaultSelector, new class implements vscode.HoverProvider {\n\t\t\tprovideHover(): any {\n\t\t\t\treturn new types.Hover('Hello', new types.Range(3, 0, 8, 7));\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst hovers = await getHoverPromise(languageFeaturesService.hoverProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(hovers.length, 1);\n\t\tconst [entry] = hovers;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 4, startColumn: 1, endLineNumber: 9, endColumn: 8 });\n\t});\n\n\n\ttest('HoverProvider, registration order', async () => {\n\t\tdisposables.add(extHost.registerHoverProvider(defaultExtension, defaultSelector, new class implements vscode.HoverProvider {\n\t\t\tprovideHover(): any {\n\t\t\t\treturn new types.Hover('registered first');\n\t\t\t}\n\t\t}));\n\n\n\t\tdisposables.add(extHost.registerHoverProvider(defaultExtension, defaultSelector, new class implements vscode.HoverProvider {\n\t\t\tprovideHover(): any {\n\t\t\t\treturn new types.Hover('registered second');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getHoverPromise(languageFeaturesService.hoverProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(value.length, 2);\n\t\tconst [first, second] = (value as languages.Hover[]);\n\t\tassert.strictEqual(first.contents[0].value, 'registered second');\n\t\tassert.strictEqual(second.contents[0].value, 'registered first');\n\t});\n\n\n\ttest('HoverProvider, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerHoverProvider(defaultExtension, defaultSelector, new class implements vscode.HoverProvider {\n\t\t\tprovideHover(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerHoverProvider(defaultExtension, defaultSelector, new class implements vscode.HoverProvider {\n\t\t\tprovideHover(): any {\n\t\t\t\treturn new types.Hover('Hello');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst hovers = await getHoverPromise(languageFeaturesService.hoverProvider, model, new EditorPosition(1, 1), CancellationToken.None);\n\t\tassert.strictEqual(hovers.length, 1);\n\t});\n\n\t// --- occurrences\n\n\ttest('Occurrences, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\treturn [new types.DocumentHighlight(new types.Range(0, 0, 0, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, new EditorPosition(1, 2), CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 5 });\n\t\tassert.strictEqual(entry.kind, languages.DocumentHighlightKind.Text);\n\t});\n\n\ttest('Occurrences, order 1/2', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, '*', new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\treturn [new types.DocumentHighlight(new types.Range(0, 0, 0, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, new EditorPosition(1, 2), CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 5 });\n\t\tassert.strictEqual(entry.kind, languages.DocumentHighlightKind.Text);\n\t});\n\n\ttest('Occurrences, order 2/2', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\treturn [new types.DocumentHighlight(new types.Range(0, 0, 0, 2))];\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, '*', new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\treturn [new types.DocumentHighlight(new types.Range(0, 0, 0, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, new EditorPosition(1, 2), CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [entry] = value;\n\t\tassert.deepStrictEqual(entry.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 3 });\n\t\tassert.strictEqual(entry.kind, languages.DocumentHighlightKind.Text);\n\t});\n\n\ttest('Occurrences, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerDocumentHighlightProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentHighlightProvider {\n\t\t\tprovideDocumentHighlights(): any {\n\t\t\t\treturn [new types.DocumentHighlight(new types.Range(0, 0, 0, 4))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, new EditorPosition(1, 2), CancellationToken.None);\n\t\tassert.strictEqual(value!.length, 1);\n\t});\n\n\t// --- references\n\n\ttest('References, registration order', async () => {\n\n\t\tdisposables.add(extHost.registerReferenceProvider(defaultExtension, defaultSelector, new class implements vscode.ReferenceProvider {\n\t\t\tprovideReferences(): any {\n\t\t\t\treturn [new types.Location(URI.parse('far://register/first'), new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerReferenceProvider(defaultExtension, defaultSelector, new class implements vscode.ReferenceProvider {\n\t\t\tprovideReferences(): any {\n\t\t\t\treturn [new types.Location(URI.parse('far://register/second'), new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, new EditorPosition(1, 2), false, CancellationToken.None);\n\t\tassert.strictEqual(value.length, 2);\n\t\tconst [first, second] = value;\n\t\tassert.strictEqual(first.uri.path, '/second');\n\t\tassert.strictEqual(second.uri.path, '/first');\n\t});\n\n\ttest('References, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerReferenceProvider(defaultExtension, defaultSelector, new class implements vscode.ReferenceProvider {\n\t\t\tprovideReferences(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Position(0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, new EditorPosition(1, 2), false, CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [item] = value;\n\t\tassert.deepStrictEqual(item.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t\tassert.strictEqual(item.uri.toString(), model.uri.toString());\n\t});\n\n\ttest('References, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerReferenceProvider(defaultExtension, defaultSelector, new class implements vscode.ReferenceProvider {\n\t\t\tprovideReferences(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerReferenceProvider(defaultExtension, defaultSelector, new class implements vscode.ReferenceProvider {\n\t\t\tprovideReferences(): any {\n\t\t\t\treturn [new types.Location(model.uri, new types.Range(0, 0, 0, 0))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, new EditorPosition(1, 2), false, CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t});\n\n\t// --- quick fix\n\n\ttest('Quick Fix, command data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerCodeActionProvider(defaultExtension, defaultSelector, {\n\t\t\tprovideCodeActions(): vscode.Command[] {\n\t\t\t\treturn [\n\t\t\t\t\t{ command: 'test1', title: 'Testing1' },\n\t\t\t\t\t{ command: 'test2', title: 'Testing2' }\n\t\t\t\t];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeActions(languageFeaturesService.codeActionProvider, model, model.getFullModelRange(), { type: languages.CodeActionTriggerType.Invoke, triggerAction: CodeActionTriggerSource.QuickFix }, Progress.None, CancellationToken.None);\n\t\tconst { validActions: actions } = value;\n\t\tassert.strictEqual(actions.length, 2);\n\t\tconst [first, second] = actions;\n\t\tassert.strictEqual(first.action.title, 'Testing1');\n\t\tassert.strictEqual(first.action.command!.id, 'test1');\n\t\tassert.strictEqual(second.action.title, 'Testing2');\n\t\tassert.strictEqual(second.action.command!.id, 'test2');\n\t\tvalue.dispose();\n\t});\n\n\ttest('Quick Fix, code action data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerCodeActionProvider(defaultExtension, defaultSelector, {\n\t\t\tprovideCodeActions(): vscode.CodeAction[] {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Testing1',\n\t\t\t\t\t\tcommand: { title: 'Testing1Command', command: 'test1' },\n\t\t\t\t\t\tkind: types.CodeActionKind.Empty.append('test.scope')\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeActions(languageFeaturesService.codeActionProvider, model, model.getFullModelRange(), { type: languages.CodeActionTriggerType.Invoke, triggerAction: CodeActionTriggerSource.Default }, Progress.None, CancellationToken.None);\n\t\tconst { validActions: actions } = value;\n\t\tassert.strictEqual(actions.length, 1);\n\t\tconst [first] = actions;\n\t\tassert.strictEqual(first.action.title, 'Testing1');\n\t\tassert.strictEqual(first.action.command!.title, 'Testing1Command');\n\t\tassert.strictEqual(first.action.command!.id, 'test1');\n\t\tassert.strictEqual(first.action.kind, 'test.scope');\n\t\tvalue.dispose();\n\t});\n\n\n\ttest('Cannot read property \\'id\\' of undefined, #29469', async () => {\n\n\t\tdisposables.add(extHost.registerCodeActionProvider(defaultExtension, defaultSelector, new class implements vscode.CodeActionProvider {\n\t\t\tprovideCodeActions(): any {\n\t\t\t\treturn [\n\t\t\t\t\tundefined,\n\t\t\t\t\tnull,\n\t\t\t\t\t{ command: 'test', title: 'Testing' }\n\t\t\t\t];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeActions(languageFeaturesService.codeActionProvider, model, model.getFullModelRange(), { type: languages.CodeActionTriggerType.Invoke, triggerAction: CodeActionTriggerSource.Default }, Progress.None, CancellationToken.None);\n\t\tconst { validActions: actions } = value;\n\t\tassert.strictEqual(actions.length, 1);\n\t\tvalue.dispose();\n\t});\n\n\ttest('Quick Fix, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerCodeActionProvider(defaultExtension, defaultSelector, new class implements vscode.CodeActionProvider {\n\t\t\tprovideCodeActions(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerCodeActionProvider(defaultExtension, defaultSelector, new class implements vscode.CodeActionProvider {\n\t\t\tprovideCodeActions(): any {\n\t\t\t\treturn [{ command: 'test', title: 'Testing' }];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getCodeActions(languageFeaturesService.codeActionProvider, model, model.getFullModelRange(), { type: languages.CodeActionTriggerType.Invoke, triggerAction: CodeActionTriggerSource.QuickFix }, Progress.None, CancellationToken.None);\n\t\tconst { validActions: actions } = value;\n\t\tassert.strictEqual(actions.length, 1);\n\t\tvalue.dispose();\n\t});\n\n\t// --- navigate types\n\n\ttest('Navigate types, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerWorkspaceSymbolProvider(defaultExtension, new class implements vscode.WorkspaceSymbolProvider {\n\t\t\tprovideWorkspaceSymbols(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerWorkspaceSymbolProvider(defaultExtension, new class implements vscode.WorkspaceSymbolProvider {\n\t\t\tprovideWorkspaceSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('testing', types.SymbolKind.Array, new types.Range(0, 0, 1, 1))];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getWorkspaceSymbols('');\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [first] = value;\n\t\tassert.strictEqual(first.symbol.name, 'testing');\n\t});\n\n\ttest('Navigate types, de-duplicate results', async () => {\n\t\tconst uri = URI.from({ scheme: 'foo', path: '/some/path' });\n\t\tdisposables.add(extHost.registerWorkspaceSymbolProvider(defaultExtension, new class implements vscode.WorkspaceSymbolProvider {\n\t\t\tprovideWorkspaceSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('ONE', types.SymbolKind.Array, undefined, new types.Location(uri, new types.Range(0, 0, 1, 1)))];\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerWorkspaceSymbolProvider(defaultExtension, new class implements vscode.WorkspaceSymbolProvider {\n\t\t\tprovideWorkspaceSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('ONE', types.SymbolKind.Array, undefined, new types.Location(uri, new types.Range(0, 0, 1, 1)))]; // get de-duped\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerWorkspaceSymbolProvider(defaultExtension, new class implements vscode.WorkspaceSymbolProvider {\n\t\t\tprovideWorkspaceSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('ONE', types.SymbolKind.Array, undefined, new types.Location(uri, undefined!))]; // NO dedupe because of resolve\n\t\t\t}\n\t\t\tresolveWorkspaceSymbol(a: vscode.SymbolInformation) {\n\t\t\t\treturn a;\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerWorkspaceSymbolProvider(defaultExtension, new class implements vscode.WorkspaceSymbolProvider {\n\t\t\tprovideWorkspaceSymbols(): any {\n\t\t\t\treturn [new types.SymbolInformation('ONE', types.SymbolKind.Struct, undefined, new types.Location(uri, new types.Range(0, 0, 1, 1)))]; // NO dedupe because of kind\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getWorkspaceSymbols('');\n\t\tassert.strictEqual(value.length, 3);\n\t});\n\n\t// --- rename\n\n\ttest('Rename, evil provider 0/2', async () => {\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprovideRenameEdits(): any {\n\t\t\t\tthrow new class Foo { };\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\ttry {\n\t\t\tawait rename(languageFeaturesService.renameProvider, model, new EditorPosition(1, 1), 'newName');\n\t\t\tthrow Error();\n\t\t}\n\t\tcatch (err) {\n\t\t\t// expected\n\t\t}\n\t});\n\n\ttest('Rename, evil provider 1/2', async () => {\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprovideRenameEdits(): any {\n\t\t\t\tthrow Error('evil');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await rename(languageFeaturesService.renameProvider, model, new EditorPosition(1, 1), 'newName');\n\t\tassert.strictEqual(value.rejectReason, 'evil');\n\t});\n\n\ttest('Rename, evil provider 2/2', async () => {\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, '*', new class implements vscode.RenameProvider {\n\t\t\tprovideRenameEdits(): any {\n\t\t\t\tthrow Error('evil');\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprovideRenameEdits(): any {\n\t\t\t\tconst edit = new types.WorkspaceEdit();\n\t\t\t\tedit.replace(model.uri, new types.Range(0, 0, 0, 0), 'testing');\n\t\t\t\treturn edit;\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await rename(languageFeaturesService.renameProvider, model, new EditorPosition(1, 1), 'newName');\n\t\tassert.strictEqual(value.edits.length, 1);\n\t});\n\n\ttest('Rename, ordering', async () => {\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, '*', new class implements vscode.RenameProvider {\n\t\t\tprovideRenameEdits(): any {\n\t\t\t\tconst edit = new types.WorkspaceEdit();\n\t\t\t\tedit.replace(model.uri, new types.Range(0, 0, 0, 0), 'testing');\n\t\t\t\tedit.replace(model.uri, new types.Range(1, 0, 1, 0), 'testing');\n\t\t\t\treturn edit;\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprovideRenameEdits(): any {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await rename(languageFeaturesService.renameProvider, model, new EditorPosition(1, 1), 'newName');\n\t\t// least relevant rename provider\n\t\tassert.strictEqual(value.edits.length, 2);\n\t});\n\n\ttest('Multiple RenameProviders don\\'t respect all possible PrepareRename handlers 1/2, #98352', async function () {\n\n\t\tconst called = [false, false, false, false];\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprepareRename(document: vscode.TextDocument, position: vscode.Position,): vscode.ProviderResult<vscode.Range> {\n\t\t\t\tcalled[0] = true;\n\t\t\t\tconst range = document.getWordRangeAtPosition(position);\n\t\t\t\treturn range;\n\t\t\t}\n\n\t\t\tprovideRenameEdits(): vscode.ProviderResult<vscode.WorkspaceEdit> {\n\t\t\t\tcalled[1] = true;\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprepareRename(document: vscode.TextDocument, position: vscode.Position,): vscode.ProviderResult<vscode.Range> {\n\t\t\t\tcalled[2] = true;\n\t\t\t\treturn Promise.reject('Cannot rename this symbol2.');\n\t\t\t}\n\t\t\tprovideRenameEdits(): vscode.ProviderResult<vscode.WorkspaceEdit> {\n\t\t\t\tcalled[3] = true;\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tawait rename(languageFeaturesService.renameProvider, model, new EditorPosition(1, 1), 'newName');\n\n\t\tassert.deepStrictEqual(called, [true, true, true, false]);\n\t});\n\n\ttest('Multiple RenameProviders don\\'t respect all possible PrepareRename handlers 2/2, #98352', async function () {\n\n\t\tconst called = [false, false, false];\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\t\t\tprepareRename(document: vscode.TextDocument, position: vscode.Position,): vscode.ProviderResult<vscode.Range> {\n\t\t\t\tcalled[0] = true;\n\t\t\t\tconst range = document.getWordRangeAtPosition(position);\n\t\t\t\treturn range;\n\t\t\t}\n\n\t\t\tprovideRenameEdits(): vscode.ProviderResult<vscode.WorkspaceEdit> {\n\t\t\t\tcalled[1] = true;\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerRenameProvider(defaultExtension, defaultSelector, new class implements vscode.RenameProvider {\n\n\t\t\tprovideRenameEdits(document: vscode.TextDocument, position: vscode.Position, newName: string,): vscode.ProviderResult<vscode.WorkspaceEdit> {\n\t\t\t\tcalled[2] = true;\n\t\t\t\treturn new types.WorkspaceEdit();\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tawait rename(languageFeaturesService.renameProvider, model, new EditorPosition(1, 1), 'newName');\n\n\t\t// first provider has NO prepare which means it is taken by default\n\t\tassert.deepStrictEqual(called, [false, false, true]);\n\t});\n\n\t// --- parameter hints\n\n\ttest('Parameter Hints, order', async () => {\n\n\t\tdisposables.add(extHost.registerSignatureHelpProvider(defaultExtension, defaultSelector, new class implements vscode.SignatureHelpProvider {\n\t\t\tprovideSignatureHelp(): any {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}, []));\n\n\t\tdisposables.add(extHost.registerSignatureHelpProvider(defaultExtension, defaultSelector, new class implements vscode.SignatureHelpProvider {\n\t\t\tprovideSignatureHelp(): vscode.SignatureHelp {\n\t\t\t\treturn {\n\t\t\t\t\tsignatures: [],\n\t\t\t\t\tactiveParameter: 0,\n\t\t\t\t\tactiveSignature: 0\n\t\t\t\t};\n\t\t\t}\n\t\t}, []));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await provideSignatureHelp(languageFeaturesService.signatureHelpProvider, model, new EditorPosition(1, 1), { triggerKind: languages.SignatureHelpTriggerKind.Invoke, isRetrigger: false }, CancellationToken.None);\n\t\tassert.ok(value);\n\t});\n\n\ttest('Parameter Hints, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerSignatureHelpProvider(defaultExtension, defaultSelector, new class implements vscode.SignatureHelpProvider {\n\t\t\tprovideSignatureHelp(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}, []));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await provideSignatureHelp(languageFeaturesService.signatureHelpProvider, model, new EditorPosition(1, 1), { triggerKind: languages.SignatureHelpTriggerKind.Invoke, isRetrigger: false }, CancellationToken.None);\n\t\tassert.strictEqual(value, undefined);\n\t});\n\n\t// --- suggestions\n\n\ttest('Suggest, order 1/3', async () => {\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, '*', new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn [new types.CompletionItem('testing1')];\n\t\t\t}\n\t\t}, []));\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn [new types.CompletionItem('testing2')];\n\t\t\t}\n\t\t}, []));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await provideSuggestionItems(languageFeaturesService.completionProvider, model, new EditorPosition(1, 1), new CompletionOptions(undefined, new Set<languages.CompletionItemKind>().add(languages.CompletionItemKind.Snippet)));\n\t\tassert.strictEqual(value.items.length, 1);\n\t\tassert.strictEqual(value.items[0].completion.insertText, 'testing2');\n\t\tvalue.disposable.dispose();\n\t});\n\n\ttest('Suggest, order 2/3', async () => {\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, '*', new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn [new types.CompletionItem('weak-selector')]; // weaker selector but result\n\t\t\t}\n\t\t}, []));\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn []; // stronger selector but not a good result;\n\t\t\t}\n\t\t}, []));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await provideSuggestionItems(languageFeaturesService.completionProvider, model, new EditorPosition(1, 1), new CompletionOptions(undefined, new Set<languages.CompletionItemKind>().add(languages.CompletionItemKind.Snippet)));\n\t\tassert.strictEqual(value.items.length, 1);\n\t\tassert.strictEqual(value.items[0].completion.insertText, 'weak-selector');\n\t\tvalue.disposable.dispose();\n\t});\n\n\ttest('Suggest, order 3/3', async () => {\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn [new types.CompletionItem('strong-1')];\n\t\t\t}\n\t\t}, []));\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn [new types.CompletionItem('strong-2')];\n\t\t\t}\n\t\t}, []));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await provideSuggestionItems(languageFeaturesService.completionProvider, model, new EditorPosition(1, 1), new CompletionOptions(undefined, new Set<languages.CompletionItemKind>().add(languages.CompletionItemKind.Snippet)));\n\t\tassert.strictEqual(value.items.length, 2);\n\t\tassert.strictEqual(value.items[0].completion.insertText, 'strong-1'); // sort by label\n\t\tassert.strictEqual(value.items[1].completion.insertText, 'strong-2');\n\t\tvalue.disposable.dispose();\n\t});\n\n\ttest('Suggest, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}, []));\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn [new types.CompletionItem('testing')];\n\t\t\t}\n\t\t}, []));\n\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await provideSuggestionItems(languageFeaturesService.completionProvider, model, new EditorPosition(1, 1), new CompletionOptions(undefined, new Set<languages.CompletionItemKind>().add(languages.CompletionItemKind.Snippet)));\n\t\tassert.strictEqual(value.items[0].container.incomplete, false);\n\t\tvalue.disposable.dispose();\n\n\t});\n\n\ttest('Suggest, CompletionList', async () => {\n\n\t\tdisposables.add(extHost.registerCompletionItemProvider(defaultExtension, defaultSelector, new class implements vscode.CompletionItemProvider {\n\t\t\tprovideCompletionItems(): any {\n\t\t\t\treturn new types.CompletionList([<any>new types.CompletionItem('hello')], true);\n\t\t\t}\n\t\t}, []));\n\n\t\tawait rpcProtocol.sync();\n\t\tawait provideSuggestionItems(languageFeaturesService.completionProvider, model, new EditorPosition(1, 1), new CompletionOptions(undefined, new Set<languages.CompletionItemKind>().add(languages.CompletionItemKind.Snippet))).then(model => {\n\t\t\tassert.strictEqual(model.items[0].container.incomplete, true);\n\t\t\tmodel.disposable.dispose();\n\t\t});\n\t});\n\n\t// --- format\n\n\tconst NullWorkerService = new class extends mock<IEditorWorkerService>() {\n\t\toverride computeMoreMinimalEdits(resource: URI, edits: languages.TextEdit[] | null | undefined): Promise<languages.TextEdit[] | undefined> {\n\t\t\treturn Promise.resolve(edits ?? undefined);\n\t\t}\n\t};\n\n\ttest('Format Doc, data conversion', async () => {\n\t\tdisposables.add(extHost.registerDocumentFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentFormattingEditProvider {\n\t\t\tprovideDocumentFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(0, 0, 0, 0), 'testing'), types.TextEdit.setEndOfLine(types.EndOfLine.LF)];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getDocumentFormattingEditsUntilResult(NullWorkerService, languageFeaturesService, model, { insertSpaces: true, tabSize: 4 }, CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 2);\n\t\tconst [first, second] = value;\n\t\tassert.strictEqual(first.text, 'testing');\n\t\tassert.deepStrictEqual(first.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t\tassert.strictEqual(second.eol, EndOfLineSequence.LF);\n\t\tassert.strictEqual(second.text, '');\n\t\tassert.deepStrictEqual(second.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t});\n\n\ttest('Format Doc, evil provider', async () => {\n\t\tdisposables.add(extHost.registerDocumentFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentFormattingEditProvider {\n\t\t\tprovideDocumentFormattingEdits(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\treturn getDocumentFormattingEditsUntilResult(NullWorkerService, languageFeaturesService, model, { insertSpaces: true, tabSize: 4 }, CancellationToken.None);\n\t});\n\n\ttest('Format Doc, order', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentFormattingEditProvider {\n\t\t\tprovideDocumentFormattingEdits(): any {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerDocumentFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentFormattingEditProvider {\n\t\t\tprovideDocumentFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(0, 0, 0, 0), 'testing')];\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerDocumentFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentFormattingEditProvider {\n\t\t\tprovideDocumentFormattingEdits(): any {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getDocumentFormattingEditsUntilResult(NullWorkerService, languageFeaturesService, model, { insertSpaces: true, tabSize: 4 }, CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [first] = value;\n\t\tassert.strictEqual(first.text, 'testing');\n\t\tassert.deepStrictEqual(first.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t});\n\n\ttest('Format Range, data conversion', async () => {\n\t\tdisposables.add(extHost.registerDocumentRangeFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentRangeFormattingEditProvider {\n\t\t\tprovideDocumentRangeFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(0, 0, 0, 0), 'testing')];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getDocumentRangeFormattingEditsUntilResult(NullWorkerService, languageFeaturesService, model, new EditorRange(1, 1, 1, 1), { insertSpaces: true, tabSize: 4 }, CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [first] = value;\n\t\tassert.strictEqual(first.text, 'testing');\n\t\tassert.deepStrictEqual(first.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t});\n\n\ttest('Format Range, + format_doc', async () => {\n\t\tdisposables.add(extHost.registerDocumentRangeFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentRangeFormattingEditProvider {\n\t\t\tprovideDocumentRangeFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(0, 0, 0, 0), 'range')];\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDocumentRangeFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentRangeFormattingEditProvider {\n\t\t\tprovideDocumentRangeFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(2, 3, 4, 5), 'range2')];\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(extHost.registerDocumentFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentFormattingEditProvider {\n\t\t\tprovideDocumentFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(0, 0, 1, 1), 'doc')];\n\t\t\t}\n\t\t}));\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getDocumentRangeFormattingEditsUntilResult(NullWorkerService, languageFeaturesService, model, new EditorRange(1, 1, 1, 1), { insertSpaces: true, tabSize: 4 }, CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [first] = value;\n\t\tassert.strictEqual(first.text, 'range2');\n\t\tassert.strictEqual(first.range.startLineNumber, 3);\n\t\tassert.strictEqual(first.range.startColumn, 4);\n\t\tassert.strictEqual(first.range.endLineNumber, 5);\n\t\tassert.strictEqual(first.range.endColumn, 6);\n\t});\n\n\ttest('Format Range, evil provider', async () => {\n\t\tdisposables.add(extHost.registerDocumentRangeFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentRangeFormattingEditProvider {\n\t\t\tprovideDocumentRangeFormattingEdits(): any {\n\t\t\t\tthrow new Error('evil');\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\treturn getDocumentRangeFormattingEditsUntilResult(NullWorkerService, languageFeaturesService, model, new EditorRange(1, 1, 1, 1), { insertSpaces: true, tabSize: 4 }, CancellationToken.None);\n\t});\n\n\ttest('Format on Type, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerOnTypeFormattingEditProvider(defaultExtension, defaultSelector, new class implements vscode.OnTypeFormattingEditProvider {\n\t\t\tprovideOnTypeFormattingEdits(): any {\n\t\t\t\treturn [new types.TextEdit(new types.Range(0, 0, 0, 0), arguments[2])];\n\t\t\t}\n\t\t}, [';']));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = (await getOnTypeFormattingEdits(NullWorkerService, languageFeaturesService, model, new EditorPosition(1, 1), ';', { insertSpaces: true, tabSize: 2 }, CancellationToken.None))!;\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [first] = value;\n\t\tassert.strictEqual(first.text, ';');\n\t\tassert.deepStrictEqual(first.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 });\n\t});\n\n\ttest('Links, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentLinkProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentLinkProvider {\n\t\t\tprovideDocumentLinks() {\n\t\t\t\tconst link = new types.DocumentLink(new types.Range(0, 0, 1, 1), URI.parse('foo:bar#3'));\n\t\t\t\tlink.tooltip = 'tooltip';\n\t\t\t\treturn [link];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst { links } = disposables.add(await getLinks(languageFeaturesService.linkProvider, model, CancellationToken.None));\n\t\tassert.strictEqual(links.length, 1);\n\t\tconst [first] = links;\n\t\tassert.strictEqual(first.url?.toString(), 'foo:bar#3');\n\t\tassert.deepStrictEqual(first.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 2, endColumn: 2 });\n\t\tassert.strictEqual(first.tooltip, 'tooltip');\n\t});\n\n\ttest('Links, evil provider', async () => {\n\n\t\tdisposables.add(extHost.registerDocumentLinkProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentLinkProvider {\n\t\t\tprovideDocumentLinks() {\n\t\t\t\treturn [new types.DocumentLink(new types.Range(0, 0, 1, 1), URI.parse('foo:bar#3'))];\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(extHost.registerDocumentLinkProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentLinkProvider {\n\t\t\tprovideDocumentLinks(): any {\n\t\t\t\tthrow new Error();\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst { links } = disposables.add(await getLinks(languageFeaturesService.linkProvider, model, CancellationToken.None));\n\t\tassert.strictEqual(links.length, 1);\n\t\tconst [first] = links;\n\t\tassert.strictEqual(first.url?.toString(), 'foo:bar#3');\n\t\tassert.deepStrictEqual(first.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 2, endColumn: 2 });\n\t});\n\n\ttest('Document colors, data conversion', async () => {\n\n\t\tdisposables.add(extHost.registerColorProvider(defaultExtension, defaultSelector, new class implements vscode.DocumentColorProvider {\n\t\t\tprovideDocumentColors(): vscode.ColorInformation[] {\n\t\t\t\treturn [new types.ColorInformation(new types.Range(0, 0, 0, 20), new types.Color(0.1, 0.2, 0.3, 0.4))];\n\t\t\t}\n\t\t\tprovideColorPresentations(color: vscode.Color, context: { range: vscode.Range; document: vscode.TextDocument }): vscode.ColorPresentation[] {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\t\tconst value = await getColors(languageFeaturesService.colorProvider, model, CancellationToken.None);\n\t\tassert.strictEqual(value.length, 1);\n\t\tconst [first] = value;\n\t\tassert.deepStrictEqual(first.colorInfo.color, { red: 0.1, green: 0.2, blue: 0.3, alpha: 0.4 });\n\t\tassert.deepStrictEqual(first.colorInfo.range, { startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 21 });\n\t});\n\n\t// -- selection ranges\n\n\ttest('Selection Ranges, data conversion', async () => {\n\t\tdisposables.add(extHost.registerSelectionRangeProvider(defaultExtension, defaultSelector, new class implements vscode.SelectionRangeProvider {\n\t\t\tprovideSelectionRanges() {\n\t\t\t\treturn [\n\t\t\t\t\tnew types.SelectionRange(new types.Range(0, 10, 0, 18), new types.SelectionRange(new types.Range(0, 2, 0, 20))),\n\t\t\t\t];\n\t\t\t}\n\t\t}));\n\n\t\tawait rpcProtocol.sync();\n\n\t\tprovideSelectionRanges(languageFeaturesService.selectionRangeProvider, model, [new Position(1, 17)], { selectLeadingAndTrailingWhitespace: true, selectSubwords: true }, CancellationToken.None).then(ranges => {\n\t\t\tassert.strictEqual(ranges.length, 1);\n\t\t\tassert.ok(ranges[0].length >= 2);\n\t\t});\n\t});\n\n\ttest('Selection Ranges, bad data', async () => {\n\n\t\ttry {\n\t\t\tconst _a = new types.SelectionRange(new types.Range(0, 10, 0, 18),\n\t\t\t\tnew types.SelectionRange(new types.Range(0, 11, 0, 18))\n\t\t\t);\n\t\t\tassert.ok(false, String(_a));\n\t\t} catch (err) {\n\t\t\tassert.ok(true);\n\t\t}\n\n\t});\n});\n"]}
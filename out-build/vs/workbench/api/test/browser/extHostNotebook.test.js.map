{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/api/test/browser/extHostNotebook.test.ts"],"names":[],"mappings":"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","file":"extHostNotebook.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport * as vscode from 'vscode';\nimport { ExtHostDocumentsAndEditors } from 'vs/workbench/api/common/extHostDocumentsAndEditors';\nimport { TestRPCProtocol } from 'vs/workbench/api/test/common/testRPCProtocol';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { NullLogService } from 'vs/platform/log/common/log';\nimport { mock } from 'vs/base/test/common/mock';\nimport { IModelAddedData, MainContext, MainThreadCommandsShape, MainThreadNotebookShape, NotebookCellsChangedEventDto, NotebookOutputItemDto } from 'vs/workbench/api/common/extHost.protocol';\nimport { ExtHostNotebookController } from 'vs/workbench/api/common/extHostNotebook';\nimport { ExtHostNotebookDocument } from 'vs/workbench/api/common/extHostNotebookDocument';\nimport { CellKind, CellUri, NotebookCellsChangeType } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { URI } from 'vs/base/common/uri';\nimport { ExtHostDocuments } from 'vs/workbench/api/common/extHostDocuments';\nimport { ExtHostCommands } from 'vs/workbench/api/common/extHostCommands';\nimport { nullExtensionDescription } from 'vs/workbench/services/extensions/common/extensions';\nimport { isEqual } from 'vs/base/common/resources';\nimport { Event } from 'vs/base/common/event';\nimport { ExtHostNotebookDocuments } from 'vs/workbench/api/common/extHostNotebookDocuments';\nimport { SerializableObjectWithBuffers } from 'vs/workbench/services/extensions/common/proxyIdentifier';\nimport { VSBuffer } from 'vs/base/common/buffer';\nimport { IExtHostTelemetry } from 'vs/workbench/api/common/extHostTelemetry';\nimport { ExtHostConsumerFileSystem } from 'vs/workbench/api/common/extHostFileSystemConsumer';\nimport { ExtHostFileSystemInfo } from 'vs/workbench/api/common/extHostFileSystemInfo';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\n\nsuite('NotebookCell#Document', function () {\n\tlet rpcProtocol: TestRPCProtocol;\n\tlet notebook: ExtHostNotebookDocument;\n\tlet extHostDocumentsAndEditors: ExtHostDocumentsAndEditors;\n\tlet extHostDocuments: ExtHostDocuments;\n\tlet extHostNotebooks: ExtHostNotebookController;\n\tlet extHostNotebookDocuments: ExtHostNotebookDocuments;\n\tlet extHostConsumerFileSystem: ExtHostConsumerFileSystem;\n\n\tconst notebookUri = URI.parse('test:///notebook.file');\n\tconst disposables = new DisposableStore();\n\n\tteardown(function () {\n\t\tdisposables.clear();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(async function () {\n\t\trpcProtocol = new TestRPCProtocol();\n\t\trpcProtocol.set(MainContext.MainThreadCommands, new class extends mock<MainThreadCommandsShape>() {\n\t\t\toverride $registerCommand() { }\n\t\t});\n\t\trpcProtocol.set(MainContext.MainThreadNotebook, new class extends mock<MainThreadNotebookShape>() {\n\t\t\toverride async $registerNotebookSerializer() { }\n\t\t\toverride async $unregisterNotebookSerializer() { }\n\t\t});\n\t\textHostDocumentsAndEditors = new ExtHostDocumentsAndEditors(rpcProtocol, new NullLogService());\n\t\textHostDocuments = new ExtHostDocuments(rpcProtocol, extHostDocumentsAndEditors);\n\t\textHostConsumerFileSystem = new ExtHostConsumerFileSystem(rpcProtocol, new ExtHostFileSystemInfo());\n\t\textHostNotebooks = new ExtHostNotebookController(rpcProtocol, new ExtHostCommands(rpcProtocol, new NullLogService(), new class extends mock<IExtHostTelemetry>() {\n\t\t\toverride onExtensionError(): boolean {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}), extHostDocumentsAndEditors, extHostDocuments, extHostConsumerFileSystem);\n\t\textHostNotebookDocuments = new ExtHostNotebookDocuments(extHostNotebooks);\n\n\t\tconst reg = extHostNotebooks.registerNotebookSerializer(nullExtensionDescription, 'test', new class extends mock<vscode.NotebookSerializer>() { });\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({\n\t\t\taddedDocuments: [{\n\t\t\t\turi: notebookUri,\n\t\t\t\tviewType: 'test',\n\t\t\t\tversionId: 0,\n\t\t\t\tcells: [{\n\t\t\t\t\thandle: 0,\n\t\t\t\t\turi: CellUri.generate(notebookUri, 0),\n\t\t\t\t\tsource: ['### Heading'],\n\t\t\t\t\teol: '\\n',\n\t\t\t\t\tlanguage: 'markdown',\n\t\t\t\t\tcellKind: CellKind.Markup,\n\t\t\t\t\toutputs: [],\n\t\t\t\t}, {\n\t\t\t\t\thandle: 1,\n\t\t\t\t\turi: CellUri.generate(notebookUri, 1),\n\t\t\t\t\tsource: ['console.log(\"aaa\")', 'console.log(\"bbb\")'],\n\t\t\t\t\teol: '\\n',\n\t\t\t\t\tlanguage: 'javascript',\n\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\toutputs: [],\n\t\t\t\t}],\n\t\t\t}],\n\t\t\taddedEditors: [{\n\t\t\t\tdocumentUri: notebookUri,\n\t\t\t\tid: '_notebook_editor_0',\n\t\t\t\tselections: [{ start: 0, end: 1 }],\n\t\t\t\tvisibleRanges: []\n\t\t\t}]\n\t\t}));\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({ newActiveEditor: '_notebook_editor_0' }));\n\n\t\tnotebook = extHostNotebooks.notebookDocuments[0]!;\n\n\t\tdisposables.add(reg);\n\t\tdisposables.add(notebook);\n\t\tdisposables.add(extHostDocuments);\n\t});\n\n\n\ttest('cell document is vscode.TextDocument', async function () {\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 2);\n\n\t\tconst [c1, c2] = notebook.apiNotebook.getCells();\n\t\tconst d1 = extHostDocuments.getDocument(c1.document.uri);\n\n\t\tassert.ok(d1);\n\t\tassert.strictEqual(d1.languageId, c1.document.languageId);\n\t\tassert.strictEqual(d1.version, 1);\n\n\t\tconst d2 = extHostDocuments.getDocument(c2.document.uri);\n\t\tassert.ok(d2);\n\t\tassert.strictEqual(d2.languageId, c2.document.languageId);\n\t\tassert.strictEqual(d2.version, 1);\n\t});\n\n\ttest('cell document goes when notebook closes', async function () {\n\t\tconst cellUris: string[] = [];\n\t\tfor (const cell of notebook.apiNotebook.getCells()) {\n\t\t\tassert.ok(extHostDocuments.getDocument(cell.document.uri));\n\t\t\tcellUris.push(cell.document.uri.toString());\n\t\t}\n\n\t\tconst removedCellUris: string[] = [];\n\t\tconst reg = extHostDocuments.onDidRemoveDocument(doc => {\n\t\t\tremovedCellUris.push(doc.uri.toString());\n\t\t});\n\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({ removedDocuments: [notebook.uri] }));\n\t\treg.dispose();\n\n\t\tassert.strictEqual(removedCellUris.length, 2);\n\t\tassert.deepStrictEqual(removedCellUris.sort(), cellUris.sort());\n\t});\n\n\ttest('cell document is vscode.TextDocument after changing it', async function () {\n\n\t\tconst p = new Promise<void>((resolve, reject) => {\n\n\t\t\tdisposables.add(extHostNotebookDocuments.onDidChangeNotebookDocument(e => {\n\t\t\t\ttry {\n\t\t\t\t\tassert.strictEqual(e.contentChanges.length, 1);\n\t\t\t\t\tassert.strictEqual(e.contentChanges[0].addedCells.length, 2);\n\n\t\t\t\t\tconst [first, second] = e.contentChanges[0].addedCells;\n\n\t\t\t\t\tconst doc1 = extHostDocuments.getAllDocumentData().find(data => isEqual(data.document.uri, first.document.uri));\n\t\t\t\t\tassert.ok(doc1);\n\t\t\t\t\tassert.strictEqual(doc1?.document === first.document, true);\n\n\t\t\t\t\tconst doc2 = extHostDocuments.getAllDocumentData().find(data => isEqual(data.document.uri, second.document.uri));\n\t\t\t\t\tassert.ok(doc2);\n\t\t\t\t\tassert.strictEqual(doc2?.document === second.document, true);\n\n\t\t\t\t\tresolve();\n\n\t\t\t\t} catch (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t});\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebookUri, new SerializableObjectWithBuffers({\n\t\t\tversionId: notebook.apiNotebook.version + 1,\n\t\t\trawEvents: [\n\t\t\t\t{\n\t\t\t\t\tkind: NotebookCellsChangeType.ModelChange,\n\t\t\t\t\tchanges: [[0, 0, [{\n\t\t\t\t\t\thandle: 2,\n\t\t\t\t\t\turi: CellUri.generate(notebookUri, 2),\n\t\t\t\t\t\tsource: ['Hello', 'World', 'Hello World!'],\n\t\t\t\t\t\teol: '\\n',\n\t\t\t\t\t\tlanguage: 'test',\n\t\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t}, {\n\t\t\t\t\t\thandle: 3,\n\t\t\t\t\t\turi: CellUri.generate(notebookUri, 3),\n\t\t\t\t\t\tsource: ['Hallo', 'Welt', 'Hallo Welt!'],\n\t\t\t\t\t\teol: '\\n',\n\t\t\t\t\t\tlanguage: 'test',\n\t\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t}]]]\n\t\t\t\t}\n\t\t\t]\n\t\t}), false);\n\n\t\tawait p;\n\n\t});\n\n\ttest('cell document stays open when notebook is still open', async function () {\n\n\t\tconst docs: vscode.TextDocument[] = [];\n\t\tconst addData: IModelAddedData[] = [];\n\t\tfor (const cell of notebook.apiNotebook.getCells()) {\n\t\t\tconst doc = extHostDocuments.getDocument(cell.document.uri);\n\t\t\tassert.ok(doc);\n\t\t\tassert.strictEqual(extHostDocuments.getDocument(cell.document.uri).isClosed, false);\n\t\t\tdocs.push(doc);\n\t\t\taddData.push({\n\t\t\t\tEOL: '\\n',\n\t\t\t\tisDirty: doc.isDirty,\n\t\t\t\tlines: doc.getText().split('\\n'),\n\t\t\t\tlanguageId: doc.languageId,\n\t\t\t\turi: doc.uri,\n\t\t\t\tversionId: doc.version\n\t\t\t});\n\t\t}\n\n\t\t// this call happens when opening a document on the main side\n\t\textHostDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({ addedDocuments: addData });\n\n\t\t// this call happens when closing a document from the main side\n\t\textHostDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({ removedDocuments: docs.map(d => d.uri) });\n\n\t\t// notebook is still open -> cell documents stay open\n\t\tfor (const cell of notebook.apiNotebook.getCells()) {\n\t\t\tassert.ok(extHostDocuments.getDocument(cell.document.uri));\n\t\t\tassert.strictEqual(extHostDocuments.getDocument(cell.document.uri).isClosed, false);\n\t\t}\n\n\t\t// close notebook -> docs are closed\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({ removedDocuments: [notebook.uri] }));\n\t\tfor (const cell of notebook.apiNotebook.getCells()) {\n\t\t\tassert.throws(() => extHostDocuments.getDocument(cell.document.uri));\n\t\t}\n\t\tfor (const doc of docs) {\n\t\t\tassert.strictEqual(doc.isClosed, true);\n\t\t}\n\t});\n\n\ttest('cell document goes when cell is removed', async function () {\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 2);\n\t\tconst [cell1, cell2] = notebook.apiNotebook.getCells();\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: 2,\n\t\t\trawEvents: [\n\t\t\t\t{\n\t\t\t\t\tkind: NotebookCellsChangeType.ModelChange,\n\t\t\t\t\tchanges: [[0, 1, []]]\n\t\t\t\t}\n\t\t\t]\n\t\t}), false);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 1);\n\t\tassert.strictEqual(cell1.document.isClosed, true); // ref still alive!\n\t\tassert.strictEqual(cell2.document.isClosed, false);\n\n\t\tassert.throws(() => extHostDocuments.getDocument(cell1.document.uri));\n\t});\n\n\ttest('cell#index', function () {\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 2);\n\t\tconst [first, second] = notebook.apiNotebook.getCells();\n\t\tassert.strictEqual(first.index, 0);\n\t\tassert.strictEqual(second.index, 1);\n\n\t\t// remove first cell\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: notebook.apiNotebook.version + 1,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ModelChange,\n\t\t\t\tchanges: [[0, 1, []]]\n\t\t\t}]\n\t\t}), false);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 1);\n\t\tassert.strictEqual(second.index, 0);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebookUri, new SerializableObjectWithBuffers({\n\t\t\tversionId: notebook.apiNotebook.version + 1,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ModelChange,\n\t\t\t\tchanges: [[0, 0, [{\n\t\t\t\t\thandle: 2,\n\t\t\t\t\turi: CellUri.generate(notebookUri, 2),\n\t\t\t\t\tsource: ['Hello', 'World', 'Hello World!'],\n\t\t\t\t\teol: '\\n',\n\t\t\t\t\tlanguage: 'test',\n\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\toutputs: [],\n\t\t\t\t}, {\n\t\t\t\t\thandle: 3,\n\t\t\t\t\turi: CellUri.generate(notebookUri, 3),\n\t\t\t\t\tsource: ['Hallo', 'Welt', 'Hallo Welt!'],\n\t\t\t\t\teol: '\\n',\n\t\t\t\t\tlanguage: 'test',\n\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\toutputs: [],\n\t\t\t\t}]]]\n\t\t\t}]\n\t\t}), false);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 3);\n\t\tassert.strictEqual(second.index, 2);\n\t});\n\n\ttest('ERR MISSING extHostDocument for notebook cell: #116711', async function () {\n\n\t\tconst p = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\n\t\t// DON'T call this, make sure the cell-documents have not been created yet\n\t\t// assert.strictEqual(notebook.notebookDocument.cellCount, 2);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: 100,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ModelChange,\n\t\t\t\tchanges: [[0, 2, [{\n\t\t\t\t\thandle: 3,\n\t\t\t\t\turi: CellUri.generate(notebookUri, 3),\n\t\t\t\t\tsource: ['### Heading'],\n\t\t\t\t\teol: '\\n',\n\t\t\t\t\tlanguage: 'markdown',\n\t\t\t\t\tcellKind: CellKind.Markup,\n\t\t\t\t\toutputs: [],\n\t\t\t\t}, {\n\t\t\t\t\thandle: 4,\n\t\t\t\t\turi: CellUri.generate(notebookUri, 4),\n\t\t\t\t\tsource: ['console.log(\"aaa\")', 'console.log(\"bbb\")'],\n\t\t\t\t\teol: '\\n',\n\t\t\t\t\tlanguage: 'javascript',\n\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\toutputs: [],\n\t\t\t\t}]]]\n\t\t\t}]\n\t\t}), false);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellCount, 2);\n\n\t\tconst event = await p;\n\n\t\tassert.strictEqual(event.notebook === notebook.apiNotebook, true);\n\t\tassert.strictEqual(event.contentChanges.length, 1);\n\t\tassert.strictEqual(event.contentChanges[0].range.end - event.contentChanges[0].range.start, 2);\n\t\tassert.strictEqual(event.contentChanges[0].removedCells[0].document.isClosed, true);\n\t\tassert.strictEqual(event.contentChanges[0].removedCells[1].document.isClosed, true);\n\t\tassert.strictEqual(event.contentChanges[0].addedCells.length, 2);\n\t\tassert.strictEqual(event.contentChanges[0].addedCells[0].document.isClosed, false);\n\t\tassert.strictEqual(event.contentChanges[0].addedCells[1].document.isClosed, false);\n\t});\n\n\n\ttest('Opening a notebook results in VS Code firing the event onDidChangeActiveNotebookEditor twice #118470', function () {\n\t\tlet count = 0;\n\t\tdisposables.add(extHostNotebooks.onDidChangeActiveNotebookEditor(() => count += 1));\n\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({\n\t\t\taddedEditors: [{\n\t\t\t\tdocumentUri: notebookUri,\n\t\t\t\tid: '_notebook_editor_2',\n\t\t\t\tselections: [{ start: 0, end: 1 }],\n\t\t\t\tvisibleRanges: []\n\t\t\t}]\n\t\t}));\n\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({\n\t\t\tnewActiveEditor: '_notebook_editor_2'\n\t\t}));\n\n\t\tassert.strictEqual(count, 1);\n\t});\n\n\ttest('unset active notebook editor', function () {\n\n\t\tconst editor = extHostNotebooks.activeNotebookEditor;\n\t\tassert.ok(editor !== undefined);\n\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({ newActiveEditor: undefined }));\n\t\tassert.ok(extHostNotebooks.activeNotebookEditor === editor);\n\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({}));\n\t\tassert.ok(extHostNotebooks.activeNotebookEditor === editor);\n\n\t\textHostNotebooks.$acceptDocumentAndEditorsDelta(new SerializableObjectWithBuffers({ newActiveEditor: null }));\n\t\tassert.ok(extHostNotebooks.activeNotebookEditor === undefined);\n\t});\n\n\ttest('change cell language triggers onDidChange events', async function () {\n\n\t\tconst first = notebook.apiNotebook.cellAt(0);\n\n\t\tassert.strictEqual(first.document.languageId, 'markdown');\n\n\t\tconst removed = Event.toPromise(extHostDocuments.onDidRemoveDocument);\n\t\tconst added = Event.toPromise(extHostDocuments.onDidAddDocument);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: 12, rawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ChangeCellLanguage,\n\t\t\t\tindex: 0,\n\t\t\t\tlanguage: 'fooLang'\n\t\t\t}]\n\t\t}), false);\n\n\t\tconst removedDoc = await removed;\n\t\tconst addedDoc = await added;\n\n\t\tassert.strictEqual(first.document.languageId, 'fooLang');\n\t\tassert.ok(removedDoc === addedDoc);\n\t});\n\n\ttest('onDidChangeNotebook-event, cell changes', async function () {\n\n\t\tconst p = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: 12, rawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ChangeCellMetadata,\n\t\t\t\tindex: 0,\n\t\t\t\tmetadata: { foo: 1 }\n\t\t\t}, {\n\t\t\t\tkind: NotebookCellsChangeType.ChangeCellMetadata,\n\t\t\t\tindex: 1,\n\t\t\t\tmetadata: { foo: 2 },\n\t\t\t}, {\n\t\t\t\tkind: NotebookCellsChangeType.Output,\n\t\t\t\tindex: 1,\n\t\t\t\toutputs: [\n\t\t\t\t\t{\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tvalueBytes: VSBuffer.fromByteArray([0, 2, 3]),\n\t\t\t\t\t\t\tmime: 'text/plain'\n\t\t\t\t\t\t}],\n\t\t\t\t\t\toutputId: '1'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}]\n\t\t}), false, undefined);\n\n\n\t\tconst event = await p;\n\n\t\tassert.strictEqual(event.notebook === notebook.apiNotebook, true);\n\t\tassert.strictEqual(event.contentChanges.length, 0);\n\t\tassert.strictEqual(event.cellChanges.length, 2);\n\n\t\tconst [first, second] = event.cellChanges;\n\t\tassert.deepStrictEqual(first.metadata, first.cell.metadata);\n\t\tassert.deepStrictEqual(first.executionSummary, undefined);\n\t\tassert.deepStrictEqual(first.outputs, undefined);\n\t\tassert.deepStrictEqual(first.document, undefined);\n\n\t\tassert.deepStrictEqual(second.outputs, second.cell.outputs);\n\t\tassert.deepStrictEqual(second.metadata, second.cell.metadata);\n\t\tassert.deepStrictEqual(second.executionSummary, undefined);\n\t\tassert.deepStrictEqual(second.document, undefined);\n\t});\n\n\ttest('onDidChangeNotebook-event, notebook metadata', async function () {\n\n\t\tconst p = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({ versionId: 12, rawEvents: [] }), false, { foo: 2 });\n\n\t\tconst event = await p;\n\n\t\tassert.strictEqual(event.notebook === notebook.apiNotebook, true);\n\t\tassert.strictEqual(event.contentChanges.length, 0);\n\t\tassert.strictEqual(event.cellChanges.length, 0);\n\t\tassert.deepStrictEqual(event.metadata, { foo: 2 });\n\t});\n\n\ttest('onDidChangeNotebook-event, froozen data', async function () {\n\n\t\tconst p = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({ versionId: 12, rawEvents: [] }), false, { foo: 2 });\n\n\t\tconst event = await p;\n\n\t\tassert.ok(Object.isFrozen(event));\n\t\tassert.ok(Object.isFrozen(event.cellChanges));\n\t\tassert.ok(Object.isFrozen(event.contentChanges));\n\t\tassert.ok(Object.isFrozen(event.notebook));\n\t\tassert.ok(!Object.isFrozen(event.metadata));\n\t});\n\n\ttest('change cell language and onDidChangeNotebookDocument', async function () {\n\n\t\tconst p = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\n\t\tconst first = notebook.apiNotebook.cellAt(0);\n\t\tassert.strictEqual(first.document.languageId, 'markdown');\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: 12,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ChangeCellLanguage,\n\t\t\t\tindex: 0,\n\t\t\t\tlanguage: 'fooLang'\n\t\t\t}]\n\t\t}), false);\n\n\t\tconst event = await p;\n\n\t\tassert.strictEqual(event.notebook === notebook.apiNotebook, true);\n\t\tassert.strictEqual(event.contentChanges.length, 0);\n\t\tassert.strictEqual(event.cellChanges.length, 1);\n\n\t\tconst [cellChange] = event.cellChanges;\n\n\t\tassert.strictEqual(cellChange.cell === first, true);\n\t\tassert.ok(cellChange.document === first.document);\n\t\tassert.ok(cellChange.executionSummary === undefined);\n\t\tassert.ok(cellChange.metadata === undefined);\n\t\tassert.ok(cellChange.outputs === undefined);\n\t});\n\n\ttest('change notebook cell document and onDidChangeNotebookDocument', async function () {\n\n\t\tconst p = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\n\t\tconst first = notebook.apiNotebook.cellAt(0);\n\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers({\n\t\t\tversionId: 12,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.ChangeCellContent,\n\t\t\t\tindex: 0\n\t\t\t}]\n\t\t}), false);\n\n\t\tconst event = await p;\n\n\t\tassert.strictEqual(event.notebook === notebook.apiNotebook, true);\n\t\tassert.strictEqual(event.contentChanges.length, 0);\n\t\tassert.strictEqual(event.cellChanges.length, 1);\n\n\t\tconst [cellChange] = event.cellChanges;\n\n\t\tassert.strictEqual(cellChange.cell === first, true);\n\t\tassert.ok(cellChange.document === first.document);\n\t\tassert.ok(cellChange.executionSummary === undefined);\n\t\tassert.ok(cellChange.metadata === undefined);\n\t\tassert.ok(cellChange.outputs === undefined);\n\t});\n\n\tasync function replaceOutputs(cellIndex: number, outputId: string, outputItems: NotebookOutputItemDto[]) {\n\t\tconst changeEvent = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers<NotebookCellsChangedEventDto>({\n\t\t\tversionId: notebook.apiNotebook.version + 1,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.Output,\n\t\t\t\tindex: cellIndex,\n\t\t\t\toutputs: [{ outputId, items: outputItems }]\n\t\t\t}]\n\t\t}), false);\n\t\tawait changeEvent;\n\t}\n\tasync function appendOutputItem(cellIndex: number, outputId: string, outputItems: NotebookOutputItemDto[]) {\n\t\tconst changeEvent = Event.toPromise(extHostNotebookDocuments.onDidChangeNotebookDocument);\n\t\textHostNotebookDocuments.$acceptModelChanged(notebook.uri, new SerializableObjectWithBuffers<NotebookCellsChangedEventDto>({\n\t\t\tversionId: notebook.apiNotebook.version + 1,\n\t\t\trawEvents: [{\n\t\t\t\tkind: NotebookCellsChangeType.OutputItem,\n\t\t\t\tindex: cellIndex,\n\t\t\t\tappend: true,\n\t\t\t\toutputId,\n\t\t\t\toutputItems\n\t\t\t}]\n\t\t}), false);\n\t\tawait changeEvent;\n\t}\n\ttest('Append multiple text/plain output items', async function () {\n\t\tawait replaceOutputs(1, '1', [{ mime: 'text/plain', valueBytes: VSBuffer.fromString('foo') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'text/plain', valueBytes: VSBuffer.fromString('bar') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'text/plain', valueBytes: VSBuffer.fromString('baz') }]);\n\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items.length, 3);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[0].mime, 'text/plain');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[0].data).toString(), 'foo');\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[1].mime, 'text/plain');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[1].data).toString(), 'bar');\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[2].mime, 'text/plain');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[2].data).toString(), 'baz');\n\t});\n\ttest('Append multiple stdout stream output items to an output with another mime', async function () {\n\t\tawait replaceOutputs(1, '1', [{ mime: 'text/plain', valueBytes: VSBuffer.fromString('foo') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('bar') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('baz') }]);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items.length, 3);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[0].mime, 'text/plain');\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[1].mime, 'application/vnd.code.notebook.stdout');\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[2].mime, 'application/vnd.code.notebook.stdout');\n\t});\n\ttest('Compress multiple stdout stream output items', async function () {\n\t\tawait replaceOutputs(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('foo') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('bar') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('baz') }]);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[0].mime, 'application/vnd.code.notebook.stdout');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[0].data).toString(), 'foobarbaz');\n\t});\n\ttest('Compress multiple stdout stream output items (with support for terminal escape code -> \\u001b[A)', async function () {\n\t\tawait replaceOutputs(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('\\nfoo') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString(`${String.fromCharCode(27)}[Abar`) }]);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[0].mime, 'application/vnd.code.notebook.stdout');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[0].data).toString(), 'bar');\n\t});\n\ttest('Compress multiple stdout stream output items (with support for terminal escape code -> \\r character)', async function () {\n\t\tawait replaceOutputs(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString('foo') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stdout', valueBytes: VSBuffer.fromString(`\\rbar`) }]);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[0].mime, 'application/vnd.code.notebook.stdout');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[0].data).toString(), 'bar');\n\t});\n\ttest('Compress multiple stderr stream output items', async function () {\n\t\tawait replaceOutputs(1, '1', [{ mime: 'application/vnd.code.notebook.stderr', valueBytes: VSBuffer.fromString('foo') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stderr', valueBytes: VSBuffer.fromString('bar') }]);\n\t\tawait appendOutputItem(1, '1', [{ mime: 'application/vnd.code.notebook.stderr', valueBytes: VSBuffer.fromString('baz') }]);\n\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items.length, 1);\n\t\tassert.strictEqual(notebook.apiNotebook.cellAt(1).outputs[0].items[0].mime, 'application/vnd.code.notebook.stderr');\n\t\tassert.strictEqual(VSBuffer.wrap(notebook.apiNotebook.cellAt(1).outputs[0].items[0].data).toString(), 'foobarbaz');\n\t});\n});\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/api/common/extHostNotebookEditor.ts"],"names":[],"mappings":"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","file":"extHostNotebookEditor.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { illegalArgument } from 'vs/base/common/errors';\nimport { MainThreadNotebookEditorsShape } from 'vs/workbench/api/common/extHost.protocol';\nimport * as extHostConverter from 'vs/workbench/api/common/extHostTypeConverters';\nimport * as extHostTypes from 'vs/workbench/api/common/extHostTypes';\nimport * as vscode from 'vscode';\nimport { ExtHostNotebookDocument } from './extHostNotebookDocument';\n\nexport class ExtHostNotebookEditor {\n\n\tpublic static readonly apiEditorsToExtHost = new WeakMap<vscode.NotebookEditor, ExtHostNotebookEditor>();\n\n\tprivate _selections: vscode.NotebookRange[] = [];\n\tprivate _visibleRanges: vscode.NotebookRange[] = [];\n\tprivate _viewColumn?: vscode.ViewColumn;\n\n\tprivate _visible: boolean = false;\n\n\tprivate _editor?: vscode.NotebookEditor;\n\n\tconstructor(\n\t\treadonly id: string,\n\t\tprivate readonly _proxy: MainThreadNotebookEditorsShape,\n\t\treadonly notebookData: ExtHostNotebookDocument,\n\t\tvisibleRanges: vscode.NotebookRange[],\n\t\tselections: vscode.NotebookRange[],\n\t\tviewColumn: vscode.ViewColumn | undefined\n\t) {\n\t\tthis._selections = selections;\n\t\tthis._visibleRanges = visibleRanges;\n\t\tthis._viewColumn = viewColumn;\n\t}\n\n\tget apiEditor(): vscode.NotebookEditor {\n\t\tif (!this._editor) {\n\t\t\tconst that = this;\n\t\t\tthis._editor = {\n\t\t\t\tget notebook() {\n\t\t\t\t\treturn that.notebookData.apiNotebook;\n\t\t\t\t},\n\t\t\t\tget selection() {\n\t\t\t\t\treturn that._selections[0];\n\t\t\t\t},\n\t\t\t\tset selection(selection: vscode.NotebookRange) {\n\t\t\t\t\tthis.selections = [selection];\n\t\t\t\t},\n\t\t\t\tget selections() {\n\t\t\t\t\treturn that._selections;\n\t\t\t\t},\n\t\t\t\tset selections(value: vscode.NotebookRange[]) {\n\t\t\t\t\tif (!Array.isArray(value) || !value.every(extHostTypes.NotebookRange.isNotebookRange)) {\n\t\t\t\t\t\tthrow illegalArgument('selections');\n\t\t\t\t\t}\n\t\t\t\t\tthat._selections = value;\n\t\t\t\t\tthat._trySetSelections(value);\n\t\t\t\t},\n\t\t\t\tget visibleRanges() {\n\t\t\t\t\treturn that._visibleRanges;\n\t\t\t\t},\n\t\t\t\trevealRange(range, revealType) {\n\t\t\t\t\tthat._proxy.$tryRevealRange(\n\t\t\t\t\t\tthat.id,\n\t\t\t\t\t\textHostConverter.NotebookRange.from(range),\n\t\t\t\t\t\trevealType ?? extHostTypes.NotebookEditorRevealType.Default\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tget viewColumn() {\n\t\t\t\t\treturn that._viewColumn;\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tExtHostNotebookEditor.apiEditorsToExtHost.set(this._editor, this);\n\t\t}\n\t\treturn this._editor;\n\t}\n\n\tget visible(): boolean {\n\t\treturn this._visible;\n\t}\n\n\t_acceptVisibility(value: boolean) {\n\t\tthis._visible = value;\n\t}\n\n\t_acceptVisibleRanges(value: vscode.NotebookRange[]): void {\n\t\tthis._visibleRanges = value;\n\t}\n\n\t_acceptSelections(selections: vscode.NotebookRange[]): void {\n\t\tthis._selections = selections;\n\t}\n\n\tprivate _trySetSelections(value: vscode.NotebookRange[]): void {\n\t\tthis._proxy.$trySetSelections(this.id, value.map(extHostConverter.NotebookRange.from));\n\t}\n\n\t_acceptViewColumn(value: vscode.ViewColumn | undefined) {\n\t\tthis._viewColumn = value;\n\t}\n}\n"]}
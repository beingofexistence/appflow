{"version":3,"sources":["vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane.ts"],"names":[],"mappings":"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","file":"bulkEditPane.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./bulkEdit';\nimport { WorkbenchAsyncDataTree, IOpenEvent } from 'vs/platform/list/browser/listService';\nimport { BulkEditElement, BulkEditDelegate, TextEditElementRenderer, FileElementRenderer, BulkEditDataSource, BulkEditIdentityProvider, FileElement, TextEditElement, BulkEditAccessibilityProvider, CategoryElementRenderer, BulkEditNaviLabelProvider, CategoryElement, BulkEditSorter } from 'vs/workbench/contrib/bulkEdit/browser/preview/bulkEditTree';\nimport { FuzzyScore } from 'vs/base/common/filters';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { localize } from 'vs/nls';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { ACTIVE_GROUP, IEditorService, SIDE_GROUP } from 'vs/workbench/services/editor/common/editorService';\nimport { BulkEditPreviewProvider, BulkFileOperations, BulkFileOperationType } from 'vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { ITextModelService } from 'vs/editor/common/services/resolverService';\nimport { URI } from 'vs/base/common/uri';\nimport { ViewPane } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IContextKeyService, RawContextKey, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { ResourceLabels, IResourceLabelsContainer } from 'vs/workbench/browser/labels';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { basename, dirname } from 'vs/base/common/resources';\nimport { MenuId } from 'vs/platform/actions/common/actions';\nimport { ITreeContextMenuEvent } from 'vs/base/browser/ui/tree/tree';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { ITextEditorOptions } from 'vs/platform/editor/common/editor';\nimport type { IAsyncDataTreeViewState } from 'vs/base/browser/ui/tree/asyncDataTree';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IViewDescriptorService } from 'vs/workbench/common/views';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { ResourceEdit } from 'vs/editor/browser/services/bulkEditService';\nimport { ButtonBar } from 'vs/base/browser/ui/button/button';\nimport { defaultButtonStyles } from 'vs/platform/theme/browser/defaultStyles';\nimport { Mutable } from 'vs/base/common/types';\n\nconst enum State {\n\tData = 'data',\n\tMessage = 'message'\n}\n\nexport class BulkEditPane extends ViewPane {\n\n\tstatic readonly ID = 'refactorPreview';\n\n\tstatic readonly ctxHasCategories = new RawContextKey('refactorPreview.hasCategories', false);\n\tstatic readonly ctxGroupByFile = new RawContextKey('refactorPreview.groupByFile', true);\n\tstatic readonly ctxHasCheckedChanges = new RawContextKey('refactorPreview.hasCheckedChanges', true);\n\n\tprivate static readonly _memGroupByFile = `${BulkEditPane.ID}.groupByFile`;\n\n\tprivate _tree!: WorkbenchAsyncDataTree<BulkFileOperations, BulkEditElement, FuzzyScore>;\n\tprivate _treeDataSource!: BulkEditDataSource;\n\tprivate _treeViewStates = new Map<boolean, IAsyncDataTreeViewState>();\n\tprivate _message!: HTMLSpanElement;\n\n\tprivate readonly _ctxHasCategories: IContextKey<boolean>;\n\tprivate readonly _ctxGroupByFile: IContextKey<boolean>;\n\tprivate readonly _ctxHasCheckedChanges: IContextKey<boolean>;\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _sessionDisposables = new DisposableStore();\n\tprivate _currentResolve?: (edit?: ResourceEdit[]) => void;\n\tprivate _currentInput?: BulkFileOperations;\n\tprivate _currentProvider?: BulkEditPreviewProvider;\n\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IInstantiationService private readonly _instaService: IInstantiationService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ILabelService private readonly _labelService: ILabelService,\n\t\t@ITextModelService private readonly _textModelService: ITextModelService,\n\t\t@IDialogService private readonly _dialogService: IDialogService,\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t) {\n\t\tsuper(\n\t\t\t{ ...options, titleMenuId: MenuId.BulkEditTitle },\n\t\t\tkeybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, _instaService, openerService, themeService, telemetryService\n\t\t);\n\n\t\tthis.element.classList.add('bulk-edit-panel', 'show-file-icons');\n\t\tthis._ctxHasCategories = BulkEditPane.ctxHasCategories.bindTo(contextKeyService);\n\t\tthis._ctxGroupByFile = BulkEditPane.ctxGroupByFile.bindTo(contextKeyService);\n\t\tthis._ctxHasCheckedChanges = BulkEditPane.ctxHasCheckedChanges.bindTo(contextKeyService);\n\t}\n\n\toverride dispose(): void {\n\t\tthis._tree.dispose();\n\t\tthis._disposables.dispose();\n\t}\n\n\tprotected override renderBody(parent: HTMLElement): void {\n\t\tsuper.renderBody(parent);\n\n\t\tconst resourceLabels = this._instaService.createInstance(\n\t\t\tResourceLabels,\n\t\t\t<IResourceLabelsContainer>{ onDidChangeVisibility: this.onDidChangeBodyVisibility }\n\t\t);\n\t\tthis._disposables.add(resourceLabels);\n\n\t\tconst contentContainer = document.createElement('div');\n\t\tcontentContainer.className = 'content';\n\t\tparent.appendChild(contentContainer);\n\n\t\t// tree\n\t\tconst treeContainer = document.createElement('div');\n\t\tcontentContainer.appendChild(treeContainer);\n\n\t\tthis._treeDataSource = this._instaService.createInstance(BulkEditDataSource);\n\t\tthis._treeDataSource.groupByFile = this._storageService.getBoolean(BulkEditPane._memGroupByFile, StorageScope.PROFILE, true);\n\t\tthis._ctxGroupByFile.set(this._treeDataSource.groupByFile);\n\n\t\tthis._tree = <WorkbenchAsyncDataTree<BulkFileOperations, BulkEditElement, FuzzyScore>>this._instaService.createInstance(\n\t\t\tWorkbenchAsyncDataTree, this.id, treeContainer,\n\t\t\tnew BulkEditDelegate(),\n\t\t\t[this._instaService.createInstance(TextEditElementRenderer), this._instaService.createInstance(FileElementRenderer, resourceLabels), this._instaService.createInstance(CategoryElementRenderer)],\n\t\t\tthis._treeDataSource,\n\t\t\t{\n\t\t\t\taccessibilityProvider: this._instaService.createInstance(BulkEditAccessibilityProvider),\n\t\t\t\tidentityProvider: new BulkEditIdentityProvider(),\n\t\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tkeyboardNavigationLabelProvider: new BulkEditNaviLabelProvider(),\n\t\t\t\tsorter: new BulkEditSorter(),\n\t\t\t\tselectionNavigation: true\n\t\t\t}\n\t\t);\n\n\t\tthis._disposables.add(this._tree.onContextMenu(this._onContextMenu, this));\n\t\tthis._disposables.add(this._tree.onDidOpen(e => this._openElementAsEditor(e)));\n\n\t\t// buttons\n\t\tconst buttonsContainer = document.createElement('div');\n\t\tbuttonsContainer.className = 'buttons';\n\t\tcontentContainer.appendChild(buttonsContainer);\n\t\tconst buttonBar = new ButtonBar(buttonsContainer);\n\t\tthis._disposables.add(buttonBar);\n\n\t\tconst btnConfirm = buttonBar.addButton({ supportIcons: true, ...defaultButtonStyles });\n\t\tbtnConfirm.label = localize('ok', 'Apply');\n\t\tbtnConfirm.onDidClick(() => this.accept(), this, this._disposables);\n\n\t\tconst btnCancel = buttonBar.addButton({ ...defaultButtonStyles, secondary: true });\n\t\tbtnCancel.label = localize('cancel', 'Discard');\n\t\tbtnCancel.onDidClick(() => this.discard(), this, this._disposables);\n\n\t\t// message\n\t\tthis._message = document.createElement('span');\n\t\tthis._message.className = 'message';\n\t\tthis._message.innerText = localize('empty.msg', \"Invoke a code action, like rename, to see a preview of its changes here.\");\n\t\tparent.appendChild(this._message);\n\n\t\t//\n\t\tthis._setState(State.Message);\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tconst treeHeight = height - 50;\n\t\tthis._tree.getHTMLElement().parentElement!.style.height = `${treeHeight}px`;\n\t\tthis._tree.layout(treeHeight, width);\n\t}\n\n\tprivate _setState(state: State): void {\n\t\tthis.element.dataset['state'] = state;\n\t}\n\n\tasync setInput(edit: ResourceEdit[], token: CancellationToken): Promise<ResourceEdit[] | undefined> {\n\t\tthis._setState(State.Data);\n\t\tthis._sessionDisposables.clear();\n\t\tthis._treeViewStates.clear();\n\n\t\tif (this._currentResolve) {\n\t\t\tthis._currentResolve(undefined);\n\t\t\tthis._currentResolve = undefined;\n\t\t}\n\n\t\tconst input = await this._instaService.invokeFunction(BulkFileOperations.create, edit);\n\t\tthis._currentProvider = this._instaService.createInstance(BulkEditPreviewProvider, input);\n\t\tthis._sessionDisposables.add(this._currentProvider);\n\t\tthis._sessionDisposables.add(input);\n\n\t\t//\n\t\tconst hasCategories = input.categories.length > 1;\n\t\tthis._ctxHasCategories.set(hasCategories);\n\t\tthis._treeDataSource.groupByFile = !hasCategories || this._treeDataSource.groupByFile;\n\t\tthis._ctxHasCheckedChanges.set(input.checked.checkedCount > 0);\n\n\t\tthis._currentInput = input;\n\n\t\treturn new Promise<ResourceEdit[] | undefined>(resolve => {\n\n\t\t\ttoken.onCancellationRequested(() => resolve(undefined));\n\n\t\t\tthis._currentResolve = resolve;\n\t\t\tthis._setTreeInput(input);\n\n\t\t\t// refresh when check state changes\n\t\t\tthis._sessionDisposables.add(input.checked.onDidChange(() => {\n\t\t\t\tthis._tree.updateChildren();\n\t\t\t\tthis._ctxHasCheckedChanges.set(input.checked.checkedCount > 0);\n\t\t\t}));\n\t\t});\n\t}\n\n\thasInput(): boolean {\n\t\treturn Boolean(this._currentInput);\n\t}\n\n\tprivate async _setTreeInput(input: BulkFileOperations) {\n\n\t\tconst viewState = this._treeViewStates.get(this._treeDataSource.groupByFile);\n\t\tawait this._tree.setInput(input, viewState);\n\t\tthis._tree.domFocus();\n\n\t\tif (viewState) {\n\t\t\treturn;\n\t\t}\n\n\t\t// async expandAll (max=10) is the default when no view state is given\n\t\tconst expand = [...this._tree.getNode(input).children].slice(0, 10);\n\t\twhile (expand.length > 0) {\n\t\t\tconst { element } = expand.shift()!;\n\t\t\tif (element instanceof FileElement) {\n\t\t\t\tawait this._tree.expand(element, true);\n\t\t\t}\n\t\t\tif (element instanceof CategoryElement) {\n\t\t\t\tawait this._tree.expand(element, true);\n\t\t\t\texpand.push(...this._tree.getNode(element).children);\n\t\t\t}\n\t\t}\n\t}\n\n\taccept(): void {\n\n\t\tconst conflicts = this._currentInput?.conflicts.list();\n\n\t\tif (!conflicts || conflicts.length === 0) {\n\t\t\tthis._done(true);\n\t\t\treturn;\n\t\t}\n\n\t\tlet message: string;\n\t\tif (conflicts.length === 1) {\n\t\t\tmessage = localize('conflict.1', \"Cannot apply refactoring because '{0}' has changed in the meantime.\", this._labelService.getUriLabel(conflicts[0], { relative: true }));\n\t\t} else {\n\t\t\tmessage = localize('conflict.N', \"Cannot apply refactoring because {0} other files have changed in the meantime.\", conflicts.length);\n\t\t}\n\n\t\tthis._dialogService.warn(message).finally(() => this._done(false));\n\t}\n\n\tdiscard() {\n\t\tthis._done(false);\n\t}\n\n\tprivate _done(accept: boolean): void {\n\t\tthis._currentResolve?.(accept ? this._currentInput?.getWorkspaceEdit() : undefined);\n\t\tthis._currentInput = undefined;\n\t\tthis._setState(State.Message);\n\t\tthis._sessionDisposables.clear();\n\t}\n\n\ttoggleChecked() {\n\t\tconst [first] = this._tree.getFocus();\n\t\tif ((first instanceof FileElement || first instanceof TextEditElement) && !first.isDisabled()) {\n\t\t\tfirst.setChecked(!first.isChecked());\n\t\t} else if (first instanceof CategoryElement) {\n\t\t\tfirst.setChecked(!first.isChecked());\n\t\t}\n\t}\n\n\tgroupByFile(): void {\n\t\tif (!this._treeDataSource.groupByFile) {\n\t\t\tthis.toggleGrouping();\n\t\t}\n\t}\n\n\tgroupByType(): void {\n\t\tif (this._treeDataSource.groupByFile) {\n\t\t\tthis.toggleGrouping();\n\t\t}\n\t}\n\n\ttoggleGrouping() {\n\t\tconst input = this._tree.getInput();\n\t\tif (input) {\n\n\t\t\t// (1) capture view state\n\t\t\tconst oldViewState = this._tree.getViewState();\n\t\t\tthis._treeViewStates.set(this._treeDataSource.groupByFile, oldViewState);\n\n\t\t\t// (2) toggle and update\n\t\t\tthis._treeDataSource.groupByFile = !this._treeDataSource.groupByFile;\n\t\t\tthis._setTreeInput(input);\n\n\t\t\t// (3) remember preference\n\t\t\tthis._storageService.store(BulkEditPane._memGroupByFile, this._treeDataSource.groupByFile, StorageScope.PROFILE, StorageTarget.USER);\n\t\t\tthis._ctxGroupByFile.set(this._treeDataSource.groupByFile);\n\t\t}\n\t}\n\n\tprivate async _openElementAsEditor(e: IOpenEvent<BulkEditElement | undefined>): Promise<void> {\n\n\t\tconst options: Mutable<ITextEditorOptions> = { ...e.editorOptions };\n\t\tlet fileElement: FileElement;\n\t\tif (e.element instanceof TextEditElement) {\n\t\t\tfileElement = e.element.parent;\n\t\t\toptions.selection = e.element.edit.textEdit.textEdit.range;\n\n\t\t} else if (e.element instanceof FileElement) {\n\t\t\tfileElement = e.element;\n\t\t\toptions.selection = e.element.edit.textEdits[0]?.textEdit.textEdit.range;\n\n\t\t} else {\n\t\t\t// invalid event\n\t\t\treturn;\n\t\t}\n\n\t\tconst previewUri = this._currentProvider!.asPreviewUri(fileElement.edit.uri);\n\n\t\tif (fileElement.edit.type & BulkFileOperationType.Delete) {\n\t\t\t// delete -> show single editor\n\t\t\tthis._editorService.openEditor({\n\t\t\t\tlabel: localize('edt.title.del', \"{0} (delete, refactor preview)\", basename(fileElement.edit.uri)),\n\t\t\t\tresource: previewUri,\n\t\t\t\toptions\n\t\t\t});\n\n\t\t} else {\n\t\t\t// rename, create, edits -> show diff editr\n\t\t\tlet leftResource: URI | undefined;\n\t\t\ttry {\n\t\t\t\t(await this._textModelService.createModelReference(fileElement.edit.uri)).dispose();\n\t\t\t\tleftResource = fileElement.edit.uri;\n\t\t\t} catch {\n\t\t\t\tleftResource = BulkEditPreviewProvider.emptyPreview;\n\t\t\t}\n\n\t\t\tlet typeLabel: string | undefined;\n\t\t\tif (fileElement.edit.type & BulkFileOperationType.Rename) {\n\t\t\t\ttypeLabel = localize('rename', \"rename\");\n\t\t\t} else if (fileElement.edit.type & BulkFileOperationType.Create) {\n\t\t\t\ttypeLabel = localize('create', \"create\");\n\t\t\t}\n\n\t\t\tlet label: string;\n\t\t\tif (typeLabel) {\n\t\t\t\tlabel = localize('edt.title.2', \"{0} ({1}, refactor preview)\", basename(fileElement.edit.uri), typeLabel);\n\t\t\t} else {\n\t\t\t\tlabel = localize('edt.title.1', \"{0} (refactor preview)\", basename(fileElement.edit.uri));\n\t\t\t}\n\n\t\t\tthis._editorService.openEditor({\n\t\t\t\toriginal: { resource: leftResource },\n\t\t\t\tmodified: { resource: previewUri },\n\t\t\t\tlabel,\n\t\t\t\tdescription: this._labelService.getUriLabel(dirname(leftResource), { relative: true }),\n\t\t\t\toptions\n\t\t\t}, e.sideBySide ? SIDE_GROUP : ACTIVE_GROUP);\n\t\t}\n\t}\n\n\tprivate _onContextMenu(e: ITreeContextMenuEvent<any>): void {\n\n\t\tthis._contextMenuService.showContextMenu({\n\t\t\tmenuId: MenuId.BulkEditContext,\n\t\t\tcontextKeyService: this.contextKeyService,\n\t\t\tgetAnchor: () => e.anchor\n\t\t});\n\t}\n}\n"]}
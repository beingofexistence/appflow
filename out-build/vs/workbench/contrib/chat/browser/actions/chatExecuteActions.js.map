{"version":3,"sources":["vs/workbench/contrib/chat/browser/actions/chatExecuteActions.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAgBhG,SAAgB,IAAI,CAAmB,KAAc;QACpD,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,IAAI,QAAQ,IAAI,KAAK,CAAC;IACzE,CAAC;IAFD,oBAEC;IAED,MAAa,IAAa,SAAQ,aAAG;iBACpB,OAAE,GAAG,8BAA8B,CAAC;QAEpD;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,IAAI,CAAS,EAAE;gBACnB,KAAK,EAAE;oBACN,KAAK,EAAE,IAAA,cAAQ,EAAC,CAA0B,EAAE,IAAQ,CAAC;oBACrD,QAAQ,EAAE,QAAQ;iBAClB;gBACD,EAAE,EAAE,KAAK;gBACT,QAAQ,EAAE,kBAAI;gBACd,IAAI,EAAE,cAAG,CAAK,IAAI;gBAClB,YAAY,EAAE,sBAAI;gBAClB,IAAI,EAAE;oBACL,EAAE,EAAE,aAAG,CAAI,WAAW;oBACtB,IAAI,EAAE,sBAAI,CAA6B,MAAM,EAAE;oBAC/C,KAAK,EAAE,YAAY;iBACnB;aACD,CAAC,CAAC;QACJ,CAAC;QAED,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAW;YAC7C,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,IAAI,CAAmB,OAAO,CAAC,EAAE;gBACrC,OAAO;aACP;YAED,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAChD,CAAC;;IA7BF,oBA8BC;IAED,SAAgB,IAAI;QACnB,IAAA,aAAG,EAAa,IAAI,CAAS,CAAC;QAE9B,IAAA,aAAG,EAAa,MAAM,YAAa,SAAQ,aAAG;YAC7C;gBACC,KAAK,CAAC;oBACL,EAAE,EAAE,8BAA8B;oBAClC,KAAK,EAAE;wBACN,KAAK,EAAE,IAAA,cAAQ,EAAC,CAA0B,EAAE,IAAQ,CAAC;wBACrD,QAAQ,EAAE,QAAQ;qBAClB;oBACD,EAAE,EAAE,KAAK;oBACT,QAAQ,EAAE,kBAAI;oBACd,IAAI,EAAE,cAAG,CAAK,SAAS;oBACvB,IAAI,EAAE;wBACL,EAAE,EAAE,aAAG,CAAI,WAAW;wBACtB,IAAI,EAAE,sBAAI;wBACV,KAAK,EAAE,YAAY;qBACnB;iBACD,CAAC,CAAC;YACJ,CAAC;YAED,GAAG,CAAC,QAA0B,EAAE,GAAG,IAAW;gBAC7C,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAI,CAAC,IAAI,CAAmB,OAAO,CAAC,EAAE;oBACrC,OAAO;iBACP;gBAED,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,iBAAG,CAAU,CAAC;gBAC/C,IAAI,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE;oBAC7B,WAAW,CAAC,8BAA8B,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;iBAC/E;YACF,CAAC;SACD,CAAC,CAAC;IACJ,CAAC;IAlCD,oBAkCC","file":"chatExecuteActions.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from 'vs/base/common/codicons';\nimport { ServicesAccessor } from 'vs/editor/browser/editorExtensions';\nimport { localize } from 'vs/nls';\nimport { Action2, MenuId, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { CHAT_CATEGORY } from 'vs/workbench/contrib/chat/browser/actions/chatActions';\nimport { IChatWidget } from 'vs/workbench/contrib/chat/browser/chat';\nimport { CONTEXT_CHAT_INPUT_HAS_TEXT, CONTEXT_CHAT_REQUEST_IN_PROGRESS } from 'vs/workbench/contrib/chat/common/chatContextKeys';\nimport { IChatService } from 'vs/workbench/contrib/chat/common/chatService';\n\nexport interface IChatExecuteActionContext {\n\twidget: IChatWidget;\n\tinputValue?: string;\n}\n\nexport function isExecuteActionContext(thing: unknown): thing is IChatExecuteActionContext {\n\treturn typeof thing === 'object' && thing !== null && 'widget' in thing;\n}\n\nexport class SubmitAction extends Action2 {\n\tstatic readonly ID = 'workbench.action.chat.submit';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: SubmitAction.ID,\n\t\t\ttitle: {\n\t\t\t\tvalue: localize('interactive.submit.label', \"Submit\"),\n\t\t\t\toriginal: 'Submit'\n\t\t\t},\n\t\t\tf1: false,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ticon: Codicon.send,\n\t\t\tprecondition: CONTEXT_CHAT_INPUT_HAS_TEXT,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ChatExecute,\n\t\t\t\twhen: CONTEXT_CHAT_REQUEST_IN_PROGRESS.negate(),\n\t\t\t\tgroup: 'navigation',\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\tconst context = args[0];\n\t\tif (!isExecuteActionContext(context)) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontext.widget.acceptInput(context.inputValue);\n\t}\n}\n\nexport function registerChatExecuteActions() {\n\tregisterAction2(SubmitAction);\n\n\tregisterAction2(class CancelAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.cancel',\n\t\t\t\ttitle: {\n\t\t\t\t\tvalue: localize('interactive.cancel.label', \"Cancel\"),\n\t\t\t\t\toriginal: 'Cancel'\n\t\t\t\t},\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.debugStop,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatExecute,\n\t\t\t\t\twhen: CONTEXT_CHAT_REQUEST_IN_PROGRESS,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\t\tconst context = args[0];\n\t\t\tif (!isExecuteActionContext(context)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tif (context.widget.viewModel) {\n\t\t\t\tchatService.cancelCurrentRequestForSession(context.widget.viewModel.sessionId);\n\t\t\t}\n\t\t}\n\t});\n}\n"]}
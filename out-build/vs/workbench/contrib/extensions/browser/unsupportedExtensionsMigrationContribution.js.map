{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/extensions/browser/unsupportedExtensionsMigrationContribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IASzF,IAAM,IAAI,GAAV,MAAM,IAAI;QAEhB,YACoC,gCAAsC,EAC/C,uBAA4B,EAC5B,uBAA4B,EACnB,0BAA+B,EACrD,UAAe;YAE5B,sHAAsH;YACtH,IAAI,gCAAgC,CAAC,+BAA+B,EAAE;gBACrE,IAAA,qCAAI,EAAyB,gCAAgC,CAAC,+BAA+B,CAAC,0BAA0B,EAAE,uBAAuB,EAAE,uBAAuB,EAAE,0BAA0B,EAAE,UAAU,CAAC,CAAC;aACpN;YACD,IAAI,gCAAgC,CAAC,4BAA4B,EAAE;gBAClE,IAAA,qCAAI,EAAyB,gCAAgC,CAAC,4BAA4B,CAAC,0BAA0B,EAAE,uBAAuB,EAAE,uBAAuB,EAAE,0BAA0B,EAAE,UAAU,CAAC,CAAC;aACjN;QACF,CAAC;KAED,CAAA;IAlBY,oBAAI;mBAAJ,IAAI;QAGd,WAAA,0BAAI,CAAA;QACJ,WAAA,yBAAG,CAAA;QACH,WAAA,sBAAG,CAAA;QACH,WAAA,yBAAG,CAAA;QACH,WAAA,SAAG,CAAA;OAPO,IAAI,CAkBhB","file":"unsupportedExtensionsMigrationContribution.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IExtensionGalleryService, IGlobalExtensionEnablementService } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IExtensionStorageService } from 'vs/platform/extensionManagement/common/extensionStorage';\nimport { migrateUnsupportedExtensions } from 'vs/platform/extensionManagement/common/unsupportedExtensionsMigration';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { IWorkbenchContribution } from 'vs/workbench/common/contributions';\nimport { IExtensionManagementServerService } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\n\nexport class UnsupportedExtensionsMigrationContrib implements IWorkbenchContribution {\n\n\tconstructor(\n\t\t@IExtensionManagementServerService extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IExtensionGalleryService extensionGalleryService: IExtensionGalleryService,\n\t\t@IExtensionStorageService extensionStorageService: IExtensionStorageService,\n\t\t@IGlobalExtensionEnablementService extensionEnablementService: IGlobalExtensionEnablementService,\n\t\t@ILogService logService: ILogService,\n\t) {\n\t\t// Unsupported extensions are not migrated for local extension management server, because it is done in shared process\n\t\tif (extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tmigrateUnsupportedExtensions(extensionManagementServerService.remoteExtensionManagementServer.extensionManagementService, extensionGalleryService, extensionStorageService, extensionEnablementService, logService);\n\t\t}\n\t\tif (extensionManagementServerService.webExtensionManagementServer) {\n\t\t\tmigrateUnsupportedExtensions(extensionManagementServerService.webExtensionManagementServer.extensionManagementService, extensionGalleryService, extensionStorageService, extensionEnablementService, logService);\n\t\t}\n\t}\n\n}\n"]}
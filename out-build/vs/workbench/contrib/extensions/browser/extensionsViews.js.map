{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionsViews.ts"],"names":[],"mappings":"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","file":"extensionsViews.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from 'vs/nls';\nimport { Disposable, DisposableStore, toDisposable } from 'vs/base/common/lifecycle';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { isCancellationError, getErrorMessage } from 'vs/base/common/errors';\nimport { createErrorWithActions } from 'vs/base/common/errorMessage';\nimport { PagedModel, IPagedModel, IPager, DelayedPagedModel } from 'vs/base/common/paging';\nimport { SortOrder, IQueryOptions as IGalleryQueryOptions, SortBy as GallerySortBy } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IExtensionManagementServer, IExtensionManagementServerService, EnablementState, IWorkbenchExtensionManagementService, IWorkbenchExtensionEnablementService } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { IExtensionRecommendationsService } from 'vs/workbench/services/extensionRecommendations/common/extensionRecommendations';\nimport { areSameExtensions, getExtensionDependencies } from 'vs/platform/extensionManagement/common/extensionManagementUtil';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { append, $ } from 'vs/base/browser/dom';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { Delegate, Renderer, IExtensionsViewState } from 'vs/workbench/contrib/extensions/browser/extensionsList';\nimport { ExtensionState, IExtension, IExtensionsWorkbenchService, IWorkspaceRecommendedExtensionsView } from 'vs/workbench/contrib/extensions/common/extensions';\nimport { Query } from 'vs/workbench/contrib/extensions/common/extensionQuery';\nimport { IExtensionService, toExtension } from 'vs/workbench/services/extensions/common/extensions';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { CountBadge } from 'vs/base/browser/ui/countBadge/countBadge';\nimport { ManageExtensionAction, getContextMenuActions, ExtensionAction } from 'vs/workbench/contrib/extensions/browser/extensionsActions';\nimport { WorkbenchPagedList } from 'vs/platform/list/browser/listService';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { INotificationService, Severity } from 'vs/platform/notification/common/notification';\nimport { ViewPane, IViewPaneOptions, ViewPaneShowActions } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { coalesce, distinct, flatten } from 'vs/base/common/arrays';\nimport { alert } from 'vs/base/browser/ui/aria/aria';\nimport { IListContextMenuEvent } from 'vs/base/browser/ui/list/list';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { IAction, Action, Separator, ActionRunner } from 'vs/base/common/actions';\nimport { ExtensionIdentifierMap, ExtensionUntrustedWorkspaceSupportType, ExtensionVirtualWorkspaceSupportType, IExtensionDescription, isLanguagePackExtension } from 'vs/platform/extensions/common/extensions';\nimport { CancelablePromise, createCancelablePromise, ThrottledDelayer } from 'vs/base/common/async';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { SeverityIcon } from 'vs/platform/severityIcon/browser/severityIcon';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { SIDE_BAR_BACKGROUND } from 'vs/workbench/common/theme';\nimport { IViewDescriptorService } from 'vs/workbench/common/views';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IPreferencesService } from 'vs/workbench/services/preferences/common/preferences';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IExtensionManifestPropertiesService } from 'vs/workbench/services/extensions/common/extensionManifestPropertiesService';\nimport { isVirtualWorkspace } from 'vs/platform/workspace/common/virtualWorkspace';\nimport { IWorkspaceTrustManagementService } from 'vs/platform/workspace/common/workspaceTrust';\nimport { IWorkbenchLayoutService, Position } from 'vs/workbench/services/layout/browser/layoutService';\nimport { HoverPosition } from 'vs/base/browser/ui/hover/hoverWidget';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { isOfflineError } from 'vs/base/parts/request/common/request';\nimport { defaultCountBadgeStyles } from 'vs/platform/theme/browser/defaultStyles';\n\n// Extensions that are automatically classified as Programming Language extensions, but should be Feature extensions\nconst FORCE_FEATURE_EXTENSIONS = ['vscode.git', 'vscode.git-base', 'vscode.search-result'];\n\nclass ExtensionsViewState extends Disposable implements IExtensionsViewState {\n\n\tprivate readonly _onFocus: Emitter<IExtension> = this._register(new Emitter<IExtension>());\n\treadonly onFocus: Event<IExtension> = this._onFocus.event;\n\n\tprivate readonly _onBlur: Emitter<IExtension> = this._register(new Emitter<IExtension>());\n\treadonly onBlur: Event<IExtension> = this._onBlur.event;\n\n\tprivate currentlyFocusedItems: IExtension[] = [];\n\n\tonFocusChange(extensions: IExtension[]): void {\n\t\tthis.currentlyFocusedItems.forEach(extension => this._onBlur.fire(extension));\n\t\tthis.currentlyFocusedItems = extensions;\n\t\tthis.currentlyFocusedItems.forEach(extension => this._onFocus.fire(extension));\n\t}\n}\n\nexport interface ExtensionsListViewOptions {\n\tserver?: IExtensionManagementServer;\n\tflexibleHeight?: boolean;\n\tonDidChangeTitle?: Event<string>;\n\thideBadge?: boolean;\n}\n\ninterface IQueryResult {\n\tmodel: IPagedModel<IExtension>;\n\treadonly onDidChangeModel?: Event<IPagedModel<IExtension>>;\n\treadonly disposables: DisposableStore;\n}\n\nconst enum LocalSortBy {\n\tUpdateDate = 'UpdateDate',\n}\n\nfunction isLocalSortBy(value: any): value is LocalSortBy {\n\tswitch (value as LocalSortBy) {\n\t\tcase LocalSortBy.UpdateDate: return true;\n\t}\n}\n\ntype SortBy = LocalSortBy | GallerySortBy;\ntype IQueryOptions = Omit<IGalleryQueryOptions, 'sortBy'> & { sortBy?: SortBy };\n\nexport class ExtensionsListView extends ViewPane {\n\n\tprivate static RECENT_UPDATE_DURATION = 7 * 24 * 60 * 60 * 1000; // 7 days\n\n\tprivate bodyTemplate: {\n\t\tmessageContainer: HTMLElement;\n\t\tmessageSeverityIcon: HTMLElement;\n\t\tmessageBox: HTMLElement;\n\t\textensionsList: HTMLElement;\n\t} | undefined;\n\tprivate badge: CountBadge | undefined;\n\tprivate list: WorkbenchPagedList<IExtension> | null = null;\n\tprivate queryRequest: { query: string; request: CancelablePromise<IPagedModel<IExtension>> } | null = null;\n\tprivate queryResult: IQueryResult | undefined;\n\n\tprivate readonly contextMenuActionRunner = this._register(new ActionRunner());\n\n\tconstructor(\n\t\tprotected readonly options: ExtensionsListViewOptions,\n\t\tviewletViewOptions: IViewletViewOptions,\n\t\t@INotificationService protected notificationService: INotificationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionsWorkbenchService protected extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionRecommendationsService protected extensionRecommendationsService: IExtensionRecommendationsService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IWorkspaceContextService protected contextService: IWorkspaceContextService,\n\t\t@IExtensionManagementServerService protected readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t\t@IWorkbenchExtensionManagementService protected readonly extensionManagementService: IWorkbenchExtensionManagementService,\n\t\t@IWorkspaceContextService protected readonly workspaceService: IWorkspaceContextService,\n\t\t@IProductService protected readonly productService: IProductService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@ILogService private readonly logService: ILogService\n\t) {\n\t\tsuper({\n\t\t\t...(viewletViewOptions as IViewPaneOptions),\n\t\t\tshowActions: ViewPaneShowActions.Always,\n\t\t\tmaximumBodySize: options.flexibleHeight ? (storageService.getNumber(`${viewletViewOptions.id}.size`, StorageScope.PROFILE, 0) ? undefined : 0) : undefined\n\t\t}, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService);\n\t\tif (this.options.onDidChangeTitle) {\n\t\t\tthis._register(this.options.onDidChangeTitle(title => this.updateTitle(title)));\n\t\t}\n\n\t\tthis._register(this.contextMenuActionRunner.onDidRun(({ error }) => error && this.notificationService.error(error)));\n\t\tthis.registerActions();\n\t}\n\n\tprotected registerActions(): void { }\n\n\tprotected override renderHeader(container: HTMLElement): void {\n\t\tcontainer.classList.add('extension-view-header');\n\t\tsuper.renderHeader(container);\n\n\t\tif (!this.options.hideBadge) {\n\t\t\tthis.badge = new CountBadge(append(container, $('.count-badge-wrapper')), {}, defaultCountBadgeStyles);\n\t\t}\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tconst extensionsList = append(container, $('.extensions-list'));\n\t\tconst messageContainer = append(container, $('.message-container'));\n\t\tconst messageSeverityIcon = append(messageContainer, $(''));\n\t\tconst messageBox = append(messageContainer, $('.message'));\n\t\tconst delegate = new Delegate();\n\t\tconst extensionsViewState = new ExtensionsViewState();\n\t\tconst renderer = this.instantiationService.createInstance(Renderer, extensionsViewState, { hoverOptions: { position: () => { return this.layoutService.getSideBarPosition() === Position.LEFT ? HoverPosition.RIGHT : HoverPosition.LEFT; } } });\n\t\tthis.list = this.instantiationService.createInstance(WorkbenchPagedList, 'Extensions', extensionsList, delegate, [renderer], {\n\t\t\tmultipleSelectionSupport: false,\n\t\t\tsetRowLineHeight: false,\n\t\t\thorizontalScrolling: false,\n\t\t\taccessibilityProvider: <IListAccessibilityProvider<IExtension | null>>{\n\t\t\t\tgetAriaLabel(extension: IExtension | null): string {\n\t\t\t\t\treturn getAriaLabelForExtension(extension);\n\t\t\t\t},\n\t\t\t\tgetWidgetAriaLabel(): string {\n\t\t\t\t\treturn localize('extensions', \"Extensions\");\n\t\t\t\t}\n\t\t\t},\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: SIDE_BAR_BACKGROUND\n\t\t\t},\n\t\t\topenOnSingleClick: true\n\t\t}) as WorkbenchPagedList<IExtension>;\n\t\tthis._register(this.list.onContextMenu(e => this.onContextMenu(e), this));\n\t\tthis._register(this.list.onDidChangeFocus(e => extensionsViewState.onFocusChange(coalesce(e.elements)), this));\n\t\tthis._register(this.list);\n\t\tthis._register(extensionsViewState);\n\n\t\tthis._register(Event.debounce(Event.filter(this.list.onDidOpen, e => e.element !== null), (_, event) => event, 75, true)(options => {\n\t\t\tthis.openExtension(options.element!, { sideByside: options.sideBySide, ...options.editorOptions });\n\t\t}));\n\n\t\tthis.bodyTemplate = {\n\t\t\textensionsList,\n\t\t\tmessageBox,\n\t\t\tmessageContainer,\n\t\t\tmessageSeverityIcon\n\t\t};\n\n\t\tif (this.queryResult) {\n\t\t\tthis.setModel(this.queryResult.model);\n\t\t}\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tif (this.bodyTemplate) {\n\t\t\tthis.bodyTemplate.extensionsList.style.height = height + 'px';\n\t\t}\n\t\tthis.list?.layout(height, width);\n\t}\n\n\tasync show(query: string, refresh?: boolean): Promise<IPagedModel<IExtension>> {\n\t\tif (this.queryRequest) {\n\t\t\tif (!refresh && this.queryRequest.query === query) {\n\t\t\t\treturn this.queryRequest.request;\n\t\t\t}\n\t\t\tthis.queryRequest.request.cancel();\n\t\t\tthis.queryRequest = null;\n\t\t}\n\n\t\tif (this.queryResult) {\n\t\t\tthis.queryResult.disposables.dispose();\n\t\t\tthis.queryResult = undefined;\n\t\t}\n\n\t\tconst parsedQuery = Query.parse(query);\n\n\t\tconst options: IQueryOptions = {\n\t\t\tsortOrder: SortOrder.Default\n\t\t};\n\n\t\tswitch (parsedQuery.sortBy) {\n\t\t\tcase 'installs': options.sortBy = GallerySortBy.InstallCount; break;\n\t\t\tcase 'rating': options.sortBy = GallerySortBy.WeightedRating; break;\n\t\t\tcase 'name': options.sortBy = GallerySortBy.Title; break;\n\t\t\tcase 'publishedDate': options.sortBy = GallerySortBy.PublishedDate; break;\n\t\t\tcase 'updateDate': options.sortBy = LocalSortBy.UpdateDate; break;\n\t\t}\n\n\t\tconst request = createCancelablePromise(async token => {\n\t\t\ttry {\n\t\t\t\tthis.queryResult = await this.query(parsedQuery, options, token);\n\t\t\t\tconst model = this.queryResult.model;\n\t\t\t\tthis.setModel(model);\n\t\t\t\tif (this.queryResult.onDidChangeModel) {\n\t\t\t\t\tthis.queryResult.disposables.add(this.queryResult.onDidChangeModel(model => {\n\t\t\t\t\t\tif (this.queryResult) {\n\t\t\t\t\t\t\tthis.queryResult.model = model;\n\t\t\t\t\t\t\tthis.updateModel(model);\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\treturn model;\n\t\t\t} catch (e) {\n\t\t\t\tconst model = new PagedModel([]);\n\t\t\t\tif (!isCancellationError(e)) {\n\t\t\t\t\tthis.logService.error(e);\n\t\t\t\t\tthis.setModel(model, e);\n\t\t\t\t}\n\t\t\t\treturn this.list ? this.list.model : model;\n\t\t\t}\n\t\t});\n\n\t\trequest.finally(() => this.queryRequest = null);\n\t\tthis.queryRequest = { query, request };\n\t\treturn request;\n\t}\n\n\tcount(): number {\n\t\treturn this.queryResult?.model.length ?? 0;\n\t}\n\n\tprotected showEmptyModel(): Promise<IPagedModel<IExtension>> {\n\t\tconst emptyModel = new PagedModel([]);\n\t\tthis.setModel(emptyModel);\n\t\treturn Promise.resolve(emptyModel);\n\t}\n\n\tprivate async onContextMenu(e: IListContextMenuEvent<IExtension>): Promise<void> {\n\t\tif (e.element) {\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tconst manageExtensionAction = disposables.add(this.instantiationService.createInstance(ManageExtensionAction));\n\t\t\tconst extension = e.element ? this.extensionsWorkbenchService.local.find(local => areSameExtensions(local.identifier, e.element!.identifier) && (!e.element!.server || e.element!.server === local.server)) || e.element\n\t\t\t\t: e.element;\n\t\t\tmanageExtensionAction.extension = extension;\n\t\t\tlet groups: IAction[][] = [];\n\t\t\tif (manageExtensionAction.enabled) {\n\t\t\t\tgroups = await manageExtensionAction.getActionGroups();\n\t\t\t} else if (extension) {\n\t\t\t\tgroups = await getContextMenuActions(extension, this.contextKeyService, this.instantiationService);\n\t\t\t\tgroups.forEach(group => group.forEach(extensionAction => {\n\t\t\t\t\tif (extensionAction instanceof ExtensionAction) {\n\t\t\t\t\t\textensionAction.extension = extension;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t\tlet actions: IAction[] = [];\n\t\t\tfor (const menuActions of groups) {\n\t\t\t\tactions = [...actions, ...menuActions, new Separator()];\n\t\t\t}\n\t\t\tactions.pop();\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tactionRunner: this.contextMenuActionRunner,\n\t\t\t\tonHide: () => disposables.dispose()\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate async query(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IQueryResult> {\n\t\tconst idRegex = /@id:(([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*))/g;\n\t\tconst ids: string[] = [];\n\t\tlet idMatch;\n\t\twhile ((idMatch = idRegex.exec(query.value)) !== null) {\n\t\t\tconst name = idMatch[1];\n\t\t\tids.push(name);\n\t\t}\n\t\tif (ids.length) {\n\t\t\tconst model = await this.queryByIds(ids, options, token);\n\t\t\treturn { model, disposables: new DisposableStore() };\n\t\t}\n\n\t\tif (ExtensionsListView.isLocalExtensionsQuery(query.value, query.sortBy)) {\n\t\t\treturn this.queryLocal(query, options);\n\t\t}\n\n\t\tif (ExtensionsListView.isSearchPopularQuery(query.value)) {\n\t\t\tquery.value = query.value.replace('@popular', '');\n\t\t\toptions.sortBy = !options.sortBy ? GallerySortBy.InstallCount : options.sortBy;\n\t\t}\n\t\telse if (ExtensionsListView.isSearchRecentlyPublishedQuery(query.value)) {\n\t\t\tquery.value = query.value.replace('@recentlyPublished', '');\n\t\t\toptions.sortBy = !options.sortBy ? GallerySortBy.PublishedDate : options.sortBy;\n\t\t}\n\n\t\tconst galleryQueryOptions: IGalleryQueryOptions = { ...options, sortBy: isLocalSortBy(options.sortBy) ? undefined : options.sortBy };\n\t\tconst model = await this.queryGallery(query, galleryQueryOptions, token);\n\t\treturn { model, disposables: new DisposableStore() };\n\t}\n\n\tprivate async queryByIds(ids: string[], options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst idsSet: Set<string> = ids.reduce((result, id) => { result.add(id.toLowerCase()); return result; }, new Set<string>());\n\t\tconst result = (await this.extensionsWorkbenchService.queryLocal(this.options.server))\n\t\t\t.filter(e => idsSet.has(e.identifier.id.toLowerCase()));\n\n\t\tconst galleryIds = result.length ? ids.filter(id => result.every(r => !areSameExtensions(r.identifier, { id }))) : ids;\n\n\t\tif (galleryIds.length) {\n\t\t\tconst galleryResult = await this.extensionsWorkbenchService.getExtensions(galleryIds.map(id => ({ id })), { source: 'queryById' }, token);\n\t\t\tresult.push(...galleryResult);\n\t\t}\n\n\t\treturn this.getPagedModel(result);\n\t}\n\n\tprivate async queryLocal(query: Query, options: IQueryOptions): Promise<IQueryResult> {\n\t\tconst local = await this.extensionsWorkbenchService.queryLocal(this.options.server);\n\t\tlet { extensions, canIncludeInstalledExtensions } = await this.filterLocal(local, this.extensionService.extensions, query, options);\n\t\tconst disposables = new DisposableStore();\n\t\tconst onDidChangeModel = disposables.add(new Emitter<IPagedModel<IExtension>>());\n\n\t\tif (canIncludeInstalledExtensions) {\n\t\t\tlet isDisposed: boolean = false;\n\t\t\tdisposables.add(toDisposable(() => isDisposed = true));\n\t\t\tdisposables.add(Event.debounce(Event.any(\n\t\t\t\tEvent.filter(this.extensionsWorkbenchService.onChange, e => e?.state === ExtensionState.Installed),\n\t\t\t\tthis.extensionService.onDidChangeExtensions\n\t\t\t), () => undefined)(async () => {\n\t\t\t\tconst local = this.options.server ? this.extensionsWorkbenchService.installed.filter(e => e.server === this.options.server) : this.extensionsWorkbenchService.local;\n\t\t\t\tconst { extensions: newExtensions } = await this.filterLocal(local, this.extensionService.extensions, query, options);\n\t\t\t\tif (!isDisposed) {\n\t\t\t\t\tconst mergedExtensions = this.mergeAddedExtensions(extensions, newExtensions);\n\t\t\t\t\tif (mergedExtensions) {\n\t\t\t\t\t\textensions = mergedExtensions;\n\t\t\t\t\t\tonDidChangeModel.fire(new PagedModel(extensions));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\treturn {\n\t\t\tmodel: new PagedModel(extensions),\n\t\t\tonDidChangeModel: onDidChangeModel.event,\n\t\t\tdisposables\n\t\t};\n\t}\n\n\tprivate async filterLocal(local: IExtension[], runningExtensions: readonly IExtensionDescription[], query: Query, options: IQueryOptions): Promise<{ extensions: IExtension[]; canIncludeInstalledExtensions: boolean }> {\n\t\tconst value = query.value;\n\t\tlet extensions: IExtension[] = [];\n\t\tlet canIncludeInstalledExtensions = true;\n\n\t\tif (/@builtin/i.test(value)) {\n\t\t\textensions = this.filterBuiltinExtensions(local, query, options);\n\t\t\tcanIncludeInstalledExtensions = false;\n\t\t}\n\n\t\telse if (/@installed/i.test(value)) {\n\t\t\textensions = this.filterInstalledExtensions(local, runningExtensions, query, options);\n\t\t}\n\n\t\telse if (/@outdated/i.test(value)) {\n\t\t\textensions = this.filterOutdatedExtensions(local, query, options);\n\t\t}\n\n\t\telse if (/@disabled/i.test(value)) {\n\t\t\textensions = this.filterDisabledExtensions(local, runningExtensions, query, options);\n\t\t}\n\n\t\telse if (/@enabled/i.test(value)) {\n\t\t\textensions = this.filterEnabledExtensions(local, runningExtensions, query, options);\n\t\t}\n\n\t\telse if (/@workspaceUnsupported/i.test(value)) {\n\t\t\textensions = this.filterWorkspaceUnsupportedExtensions(local, query, options);\n\t\t}\n\n\t\telse if (/@deprecated/i.test(query.value)) {\n\t\t\textensions = await this.filterDeprecatedExtensions(local, query, options);\n\t\t}\n\n\t\telse if (/@recentlyUpdated/i.test(query.value)) {\n\t\t\textensions = this.filterRecentlyUpdatedExtensions(local, query, options);\n\t\t}\n\n\t\treturn { extensions, canIncludeInstalledExtensions };\n\t}\n\n\tprivate filterBuiltinExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet value = query.value;\n\t\tconst showThemesOnly = /@builtin:themes/i.test(value);\n\t\tif (showThemesOnly) {\n\t\t\tvalue = value.replace(/@builtin:themes/g, '');\n\t\t}\n\t\tconst showBasicsOnly = /@builtin:basics/i.test(value);\n\t\tif (showBasicsOnly) {\n\t\t\tvalue = value.replace(/@builtin:basics/g, '');\n\t\t}\n\t\tconst showFeaturesOnly = /@builtin:features/i.test(value);\n\t\tif (showFeaturesOnly) {\n\t\t\tvalue = value.replace(/@builtin:features/g, '');\n\t\t}\n\n\t\tvalue = value.replace(/@builtin/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local\n\t\t\t.filter(e => e.isBuiltin && (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1));\n\n\t\tconst isThemeExtension = (e: IExtension): boolean => {\n\t\t\treturn (Array.isArray(e.local?.manifest?.contributes?.themes) && e.local!.manifest!.contributes!.themes.length > 0)\n\t\t\t\t|| (Array.isArray(e.local?.manifest?.contributes?.iconThemes) && e.local!.manifest!.contributes!.iconThemes.length > 0);\n\t\t};\n\t\tif (showThemesOnly) {\n\t\t\tconst themesExtensions = result.filter(isThemeExtension);\n\t\t\treturn this.sortExtensions(themesExtensions, options);\n\t\t}\n\n\t\tconst isLanguageBasicExtension = (e: IExtension): boolean => {\n\t\t\treturn FORCE_FEATURE_EXTENSIONS.indexOf(e.identifier.id) === -1\n\t\t\t\t&& (Array.isArray(e.local?.manifest?.contributes?.grammars) && e.local!.manifest!.contributes!.grammars.length > 0);\n\t\t};\n\t\tif (showBasicsOnly) {\n\t\t\tconst basics = result.filter(isLanguageBasicExtension);\n\t\t\treturn this.sortExtensions(basics, options);\n\t\t}\n\t\tif (showFeaturesOnly) {\n\t\t\tconst others = result.filter(e => {\n\t\t\t\treturn e.local\n\t\t\t\t\t&& e.local.manifest\n\t\t\t\t\t&& !isThemeExtension(e)\n\t\t\t\t\t&& !isLanguageBasicExtension(e);\n\t\t\t});\n\t\t\treturn this.sortExtensions(others, options);\n\t\t}\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate parseCategories(value: string): { value: string; categories: string[] } {\n\t\tconst categories: string[] = [];\n\t\tvalue = value.replace(/\\bcategory:(\"([^\"]*)\"|([^\"]\\S*))(\\s+|\\b|$)/g, (_, quotedCategory, category) => {\n\t\t\tconst entry = (category || quotedCategory || '').toLowerCase();\n\t\t\tif (categories.indexOf(entry) === -1) {\n\t\t\t\tcategories.push(entry);\n\t\t\t}\n\t\t\treturn '';\n\t\t});\n\t\treturn { value, categories };\n\t}\n\n\tprivate filterInstalledExtensions(local: IExtension[], runningExtensions: readonly IExtensionDescription[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value.replace(/@installed/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst matchingText = (e: IExtension) => (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t&& (!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category)));\n\t\tlet result;\n\n\t\tif (options.sortBy !== undefined) {\n\t\t\tresult = local.filter(e => !e.isBuiltin && matchingText(e));\n\t\t\tresult = this.sortExtensions(result, options);\n\t\t} else {\n\t\t\tresult = local.filter(e => (!e.isBuiltin || e.outdated || e.reloadRequiredStatus !== undefined) && matchingText(e));\n\t\t\tconst runningExtensionsById = runningExtensions.reduce((result, e) => { result.set(e.identifier.value, e); return result; }, new ExtensionIdentifierMap<IExtensionDescription>());\n\n\t\t\tconst defaultSort = (e1: IExtension, e2: IExtension) => {\n\t\t\t\tconst running1 = runningExtensionsById.get(e1.identifier.id);\n\t\t\t\tconst isE1Running = !!running1 && this.extensionManagementServerService.getExtensionManagementServer(toExtension(running1)) === e1.server;\n\t\t\t\tconst running2 = runningExtensionsById.get(e2.identifier.id);\n\t\t\t\tconst isE2Running = running2 && this.extensionManagementServerService.getExtensionManagementServer(toExtension(running2)) === e2.server;\n\t\t\t\tif ((isE1Running && isE2Running)) {\n\t\t\t\t\treturn e1.displayName.localeCompare(e2.displayName);\n\t\t\t\t}\n\t\t\t\tconst isE1LanguagePackExtension = e1.local && isLanguagePackExtension(e1.local.manifest);\n\t\t\t\tconst isE2LanguagePackExtension = e2.local && isLanguagePackExtension(e2.local.manifest);\n\t\t\t\tif (!isE1Running && !isE2Running) {\n\t\t\t\t\tif (isE1LanguagePackExtension) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (isE2LanguagePackExtension) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn e1.displayName.localeCompare(e2.displayName);\n\t\t\t\t}\n\t\t\t\tif ((isE1Running && isE2LanguagePackExtension) || (isE2Running && isE1LanguagePackExtension)) {\n\t\t\t\t\treturn e1.displayName.localeCompare(e2.displayName);\n\t\t\t\t}\n\t\t\t\treturn isE1Running ? -1 : 1;\n\t\t\t};\n\n\t\t\tconst outdated: IExtension[] = [];\n\t\t\tconst reloadRequired: IExtension[] = [];\n\t\t\tconst noActionRequired: IExtension[] = [];\n\t\t\tresult.forEach(e => {\n\t\t\t\tif (e.outdated && !e.pinned) {\n\t\t\t\t\toutdated.push(e);\n\t\t\t\t}\n\t\t\t\telse if (e.reloadRequiredStatus) {\n\t\t\t\t\treloadRequired.push(e);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnoActionRequired.push(e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tresult = [...outdated.sort(defaultSort), ...reloadRequired.sort(defaultSort), ...noActionRequired.sort(defaultSort)];\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate filterOutdatedExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value.replace(/@outdated/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local\n\t\t\t.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName))\n\t\t\t.filter(extension => extension.outdated\n\t\t\t\t&& (extension.name.toLowerCase().indexOf(value) > -1 || extension.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => !!extension.local && extension.local.manifest.categories!.some(c => c.toLowerCase() === category))));\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate filterDisabledExtensions(local: IExtension[], runningExtensions: readonly IExtensionDescription[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value.replace(/@disabled/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local\n\t\t\t.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName))\n\t\t\t.filter(e => runningExtensions.every(r => !areSameExtensions({ id: r.identifier.value, uuid: r.uuid }, e.identifier))\n\t\t\t\t&& (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category))));\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate filterEnabledExtensions(local: IExtension[], runningExtensions: readonly IExtensionDescription[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value ? value.replace(/@enabled/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase() : '';\n\n\t\tlocal = local.filter(e => !e.isBuiltin);\n\t\tconst result = local\n\t\t\t.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName))\n\t\t\t.filter(e => runningExtensions.some(r => areSameExtensions({ id: r.identifier.value, uuid: r.uuid }, e.identifier))\n\t\t\t\t&& (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category))));\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate filterWorkspaceUnsupportedExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\t// shows local extensions which are restricted or disabled in the current workspace because of the extension's capability\n\n\t\tconst queryString = query.value; // @sortby is already filtered out\n\n\t\tconst match = queryString.match(/^\\s*@workspaceUnsupported(?::(untrusted|virtual)(Partial)?)?(?:\\s+([^\\s]*))?/i);\n\t\tif (!match) {\n\t\t\treturn [];\n\t\t}\n\t\tconst type = match[1]?.toLowerCase();\n\t\tconst partial = !!match[2];\n\t\tconst nameFilter = match[3]?.toLowerCase();\n\n\t\tif (nameFilter) {\n\t\t\tlocal = local.filter(extension => extension.name.toLowerCase().indexOf(nameFilter) > -1 || extension.displayName.toLowerCase().indexOf(nameFilter) > -1);\n\t\t}\n\n\t\tconst hasVirtualSupportType = (extension: IExtension, supportType: ExtensionVirtualWorkspaceSupportType) => {\n\t\t\treturn extension.local && this.extensionManifestPropertiesService.getExtensionVirtualWorkspaceSupportType(extension.local.manifest) === supportType;\n\t\t};\n\n\t\tconst hasRestrictedSupportType = (extension: IExtension, supportType: ExtensionUntrustedWorkspaceSupportType) => {\n\t\t\tif (!extension.local) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst enablementState = this.extensionEnablementService.getEnablementState(extension.local);\n\t\t\tif (enablementState !== EnablementState.EnabledGlobally && enablementState !== EnablementState.EnabledWorkspace &&\n\t\t\t\tenablementState !== EnablementState.DisabledByTrustRequirement && enablementState !== EnablementState.DisabledByExtensionDependency) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(extension.local.manifest) === supportType) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (supportType === false) {\n\t\t\t\tconst dependencies = getExtensionDependencies(local.map(ext => ext.local!), extension.local);\n\t\t\t\treturn dependencies.some(ext => this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(ext.manifest) === supportType);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tconst inVirtualWorkspace = isVirtualWorkspace(this.workspaceService.getWorkspace());\n\t\tconst inRestrictedWorkspace = !this.workspaceTrustManagementService.isWorkspaceTrusted();\n\n\t\tif (type === 'virtual') {\n\t\t\t// show limited and disabled extensions unless disabled because of a untrusted workspace\n\t\t\tlocal = local.filter(extension => inVirtualWorkspace && hasVirtualSupportType(extension, partial ? 'limited' : false) && !(inRestrictedWorkspace && hasRestrictedSupportType(extension, false)));\n\t\t} else if (type === 'untrusted') {\n\t\t\t// show limited and disabled extensions unless disabled because of a virtual workspace\n\t\t\tlocal = local.filter(extension => hasRestrictedSupportType(extension, partial ? 'limited' : false) && !(inVirtualWorkspace && hasVirtualSupportType(extension, false)));\n\t\t} else {\n\t\t\t// show extensions that are restricted or disabled in the current workspace\n\t\t\tlocal = local.filter(extension => inVirtualWorkspace && !hasVirtualSupportType(extension, true) || inRestrictedWorkspace && !hasRestrictedSupportType(extension, true));\n\t\t}\n\t\treturn this.sortExtensions(local, options);\n\t}\n\n\tprivate async filterDeprecatedExtensions(local: IExtension[], query: Query, options: IQueryOptions): Promise<IExtension[]> {\n\t\tconst value = query.value.replace(/@deprecated/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\t\tconst extensionsControlManifest = await this.extensionManagementService.getExtensionsControlManifest();\n\t\tconst deprecatedExtensionIds = Object.keys(extensionsControlManifest.deprecated);\n\t\tlocal = local.filter(e => deprecatedExtensionIds.includes(e.identifier.id) && (!value || e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1));\n\t\treturn this.sortExtensions(local, options);\n\t}\n\n\tprivate filterRecentlyUpdatedExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\t\tconst currentTime = Date.now();\n\t\tlocal = local.filter(e => !e.isBuiltin && !e.outdated && e.local?.updated && e.local?.installedTimestamp !== undefined && currentTime - e.local.installedTimestamp < ExtensionsListView.RECENT_UPDATE_DURATION);\n\n\t\tvalue = value.replace(/@recentlyUpdated/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local.filter(e =>\n\t\t\t(e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1) &&\n\t\t\t(!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category))));\n\n\t\toptions.sortBy = options.sortBy ?? LocalSortBy.UpdateDate;\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate mergeAddedExtensions(extensions: IExtension[], newExtensions: IExtension[]): IExtension[] | undefined {\n\t\tconst oldExtensions = [...extensions];\n\t\tconst findPreviousExtensionIndex = (from: number): number => {\n\t\t\tlet index = -1;\n\t\t\tconst previousExtensionInNew = newExtensions[from];\n\t\t\tif (previousExtensionInNew) {\n\t\t\t\tindex = oldExtensions.findIndex(e => areSameExtensions(e.identifier, previousExtensionInNew.identifier));\n\t\t\t\tif (index === -1) {\n\t\t\t\t\treturn findPreviousExtensionIndex(from - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn index;\n\t\t};\n\n\t\tlet hasChanged: boolean = false;\n\t\tfor (let index = 0; index < newExtensions.length; index++) {\n\t\t\tconst extension = newExtensions[index];\n\t\t\tif (extensions.every(r => !areSameExtensions(r.identifier, extension.identifier))) {\n\t\t\t\thasChanged = true;\n\t\t\t\textensions.splice(findPreviousExtensionIndex(index - 1) + 1, 0, extension);\n\t\t\t}\n\t\t}\n\n\t\treturn hasChanged ? extensions : undefined;\n\t}\n\n\tprivate async queryGallery(query: Query, options: IGalleryQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst hasUserDefinedSortOrder = options.sortBy !== undefined;\n\t\tif (!hasUserDefinedSortOrder && !query.value.trim()) {\n\t\t\toptions.sortBy = GallerySortBy.InstallCount;\n\t\t}\n\n\t\tif (this.isRecommendationsQuery(query)) {\n\t\t\treturn this.queryRecommendations(query, options, token);\n\t\t}\n\n\t\tconst text = query.value;\n\n\t\tif (/\\bext:([^\\s]+)\\b/g.test(text)) {\n\t\t\toptions.text = text;\n\t\t\toptions.source = 'file-extension-tags';\n\t\t\treturn this.extensionsWorkbenchService.queryGallery(options, token).then(pager => this.getPagedModel(pager));\n\t\t}\n\n\t\tlet preferredResults: string[] = [];\n\t\tif (text) {\n\t\t\toptions.text = text.substring(0, 350);\n\t\t\toptions.source = 'searchText';\n\t\t\tif (!hasUserDefinedSortOrder) {\n\t\t\t\tconst manifest = await this.extensionManagementService.getExtensionsControlManifest();\n\t\t\t\tconst search = manifest.search;\n\t\t\t\tif (Array.isArray(search)) {\n\t\t\t\t\tfor (const s of search) {\n\t\t\t\t\t\tif (s.query && s.query.toLowerCase() === text.toLowerCase() && Array.isArray(s.preferredResults)) {\n\t\t\t\t\t\t\tpreferredResults = s.preferredResults;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\toptions.source = 'viewlet';\n\t\t}\n\n\t\tconst pager = await this.extensionsWorkbenchService.queryGallery(options, token);\n\n\t\tlet positionToUpdate = 0;\n\t\tfor (const preferredResult of preferredResults) {\n\t\t\tfor (let j = positionToUpdate; j < pager.firstPage.length; j++) {\n\t\t\t\tif (areSameExtensions(pager.firstPage[j].identifier, { id: preferredResult })) {\n\t\t\t\t\tif (positionToUpdate !== j) {\n\t\t\t\t\t\tconst preferredExtension = pager.firstPage.splice(j, 1)[0];\n\t\t\t\t\t\tpager.firstPage.splice(positionToUpdate, 0, preferredExtension);\n\t\t\t\t\t\tpositionToUpdate++;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.getPagedModel(pager);\n\n\t}\n\n\tprivate sortExtensions(extensions: IExtension[], options: IQueryOptions): IExtension[] {\n\t\tswitch (options.sortBy) {\n\t\t\tcase GallerySortBy.InstallCount:\n\t\t\t\textensions = extensions.sort((e1, e2) => typeof e2.installCount === 'number' && typeof e1.installCount === 'number' ? e2.installCount - e1.installCount : NaN);\n\t\t\t\tbreak;\n\t\t\tcase LocalSortBy.UpdateDate:\n\t\t\t\textensions = extensions.sort((e1, e2) =>\n\t\t\t\t\ttypeof e2.local?.installedTimestamp === 'number' && typeof e1.local?.installedTimestamp === 'number' ? e2.local.installedTimestamp - e1.local.installedTimestamp :\n\t\t\t\t\t\ttypeof e2.local?.installedTimestamp === 'number' ? 1 :\n\t\t\t\t\t\t\ttypeof e1.local?.installedTimestamp === 'number' ? -1 : NaN);\n\t\t\t\tbreak;\n\t\t\tcase GallerySortBy.AverageRating:\n\t\t\tcase GallerySortBy.WeightedRating:\n\t\t\t\textensions = extensions.sort((e1, e2) => typeof e2.rating === 'number' && typeof e1.rating === 'number' ? e2.rating - e1.rating : NaN);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\textensions = extensions.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName));\n\t\t\t\tbreak;\n\t\t}\n\t\tif (options.sortOrder === SortOrder.Descending) {\n\t\t\textensions = extensions.reverse();\n\t\t}\n\t\treturn extensions;\n\t}\n\n\tprivate isRecommendationsQuery(query: Query): boolean {\n\t\treturn ExtensionsListView.isWorkspaceRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isKeymapsRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isLanguageRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isExeRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isRemoteRecommendedExtensionsQuery(query.value)\n\t\t\t|| /@recommended:all/i.test(query.value)\n\t\t\t|| ExtensionsListView.isSearchRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isRecommendedExtensionsQuery(query.value);\n\t}\n\n\tprivate async queryRecommendations(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\t// Workspace recommendations\n\t\tif (ExtensionsListView.isWorkspaceRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getWorkspaceRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// Keymap recommendations\n\t\tif (ExtensionsListView.isKeymapsRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getKeymapRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// Language recommendations\n\t\tif (ExtensionsListView.isLanguageRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getLanguageRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// Exe recommendations\n\t\tif (ExtensionsListView.isExeRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getExeRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// Remote recommendations\n\t\tif (ExtensionsListView.isRemoteRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getRemoteRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// All recommendations\n\t\tif (/@recommended:all/i.test(query.value)) {\n\t\t\treturn this.getAllRecommendationsModel(options, token);\n\t\t}\n\n\t\t// Search recommendations\n\t\tif (ExtensionsListView.isSearchRecommendedExtensionsQuery(query.value) ||\n\t\t\t(ExtensionsListView.isRecommendedExtensionsQuery(query.value) && options.sortBy !== undefined)) {\n\t\t\treturn this.searchRecommendations(query, options, token);\n\t\t}\n\n\t\t// Other recommendations\n\t\tif (ExtensionsListView.isRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getOtherRecommendationsModel(query, options, token);\n\t\t}\n\n\t\treturn new PagedModel([]);\n\t}\n\n\tprotected async getInstallableRecommendations(recommendations: string[], options: IQueryOptions, token: CancellationToken): Promise<IExtension[]> {\n\t\tconst result: IExtension[] = [];\n\t\tif (recommendations.length) {\n\t\t\tconst extensions = await this.extensionsWorkbenchService.getExtensions(recommendations.map(id => ({ id })), { source: options.source }, token);\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tif (extension.gallery && !extension.deprecationInfo && (await this.extensionManagementService.canInstall(extension.gallery))) {\n\t\t\t\t\tresult.push(extension);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected async getWorkspaceRecommendations(): Promise<string[]> {\n\t\tconst recommendations = await this.extensionRecommendationsService.getWorkspaceRecommendations();\n\t\tconst { important } = await this.extensionRecommendationsService.getConfigBasedRecommendations();\n\t\tfor (const configBasedRecommendation of important) {\n\t\t\tif (!recommendations.find(extensionId => extensionId === configBasedRecommendation)) {\n\t\t\t\trecommendations.push(configBasedRecommendation);\n\t\t\t}\n\t\t}\n\t\treturn recommendations;\n\t}\n\n\tprivate async getWorkspaceRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst recommendations = await this.getWorkspaceRecommendations();\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations-workspace' }, token));\n\t\tconst result: IExtension[] = coalesce(recommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(result);\n\t}\n\n\tprivate async getKeymapRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/@recommended:keymaps/g, '').trim().toLowerCase();\n\t\tconst recommendations = this.extensionRecommendationsService.getKeymapRecommendations();\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations-keymaps' }, token))\n\t\t\t.filter(extension => extension.identifier.id.toLowerCase().indexOf(value) > -1);\n\t\treturn new PagedModel(installableRecommendations);\n\t}\n\n\tprivate async getLanguageRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/@recommended:languages/g, '').trim().toLowerCase();\n\t\tconst recommendations = this.extensionRecommendationsService.getLanguageRecommendations();\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations-languages' }, token))\n\t\t\t.filter(extension => extension.identifier.id.toLowerCase().indexOf(value) > -1);\n\t\treturn new PagedModel(installableRecommendations);\n\t}\n\n\tprivate async getRemoteRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/@recommended:remotes/g, '').trim().toLowerCase();\n\t\tconst recommendations = this.extensionRecommendationsService.getRemoteRecommendations();\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations-remotes' }, token))\n\t\t\t.filter(extension => extension.identifier.id.toLowerCase().indexOf(value) > -1);\n\t\treturn new PagedModel(installableRecommendations);\n\t}\n\n\tprivate async getExeRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst exe = query.value.replace(/@exe:/g, '').trim().toLowerCase();\n\t\tconst { important, others } = await this.extensionRecommendationsService.getExeBasedRecommendations(exe.startsWith('\"') ? exe.substring(1, exe.length - 1) : exe);\n\t\tconst installableRecommendations = await this.getInstallableRecommendations([...important, ...others], { ...options, source: 'recommendations-exe' }, token);\n\t\treturn new PagedModel(installableRecommendations);\n\t}\n\n\tprivate async getOtherRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst otherRecommendations = await this.getOtherRecommendations();\n\t\tconst installableRecommendations = await this.getInstallableRecommendations(otherRecommendations, { ...options, source: 'recommendations-other', sortBy: undefined }, token);\n\t\tconst result = coalesce(otherRecommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(result);\n\t}\n\n\tprivate async getOtherRecommendations(): Promise<string[]> {\n\t\tconst local = (await this.extensionsWorkbenchService.queryLocal(this.options.server))\n\t\t\t.map(e => e.identifier.id.toLowerCase());\n\t\tconst workspaceRecommendations = (await this.getWorkspaceRecommendations())\n\t\t\t.map(extensionId => extensionId.toLowerCase());\n\n\t\treturn distinct(\n\t\t\tflatten(await Promise.all([\n\t\t\t\t// Order is important\n\t\t\t\tthis.extensionRecommendationsService.getImportantRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getFileBasedRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getOtherRecommendations()\n\t\t\t])).filter(extensionId => !local.includes(extensionId.toLowerCase()) && !workspaceRecommendations.includes(extensionId.toLowerCase())\n\t\t\t), extensionId => extensionId.toLowerCase());\n\t}\n\n\t// Get All types of recommendations, trimmed to show a max of 8 at any given time\n\tprivate async getAllRecommendationsModel(options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst local = (await this.extensionsWorkbenchService.queryLocal(this.options.server)).map(e => e.identifier.id.toLowerCase());\n\n\t\tconst allRecommendations = distinct(\n\t\t\tflatten(await Promise.all([\n\t\t\t\t// Order is important\n\t\t\t\tthis.getWorkspaceRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getImportantRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getFileBasedRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getOtherRecommendations()\n\t\t\t])).filter(extensionId => !local.includes(extensionId.toLowerCase())\n\t\t\t), extensionId => extensionId.toLowerCase());\n\n\t\tconst installableRecommendations = await this.getInstallableRecommendations(allRecommendations, { ...options, source: 'recommendations-all', sortBy: undefined }, token);\n\t\tconst result: IExtension[] = coalesce(allRecommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(result.slice(0, 8));\n\t}\n\n\tprivate async searchRecommendations(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/@recommended/g, '').trim().toLowerCase();\n\t\tconst recommendations = distinct([...await this.getWorkspaceRecommendations(), ...await this.getOtherRecommendations()]);\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations', sortBy: undefined }, token))\n\t\t\t.filter(extension => extension.identifier.id.toLowerCase().indexOf(value) > -1);\n\t\tconst result = coalesce(recommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(this.sortExtensions(result, options));\n\t}\n\n\tprivate setModel(model: IPagedModel<IExtension>, error?: any, donotResetScrollTop?: boolean) {\n\t\tif (this.list) {\n\t\t\tthis.list.model = new DelayedPagedModel(model);\n\t\t\tif (!donotResetScrollTop) {\n\t\t\t\tthis.list.scrollTop = 0;\n\t\t\t}\n\t\t\tthis.updateBody(error);\n\t\t}\n\t\tif (this.badge) {\n\t\t\tthis.badge.setCount(this.count());\n\t\t}\n\t}\n\n\tprivate updateModel(model: IPagedModel<IExtension>) {\n\t\tif (this.list) {\n\t\t\tthis.list.model = new DelayedPagedModel(model);\n\t\t\tthis.updateBody();\n\t\t}\n\t\tif (this.badge) {\n\t\t\tthis.badge.setCount(this.count());\n\t\t}\n\t}\n\n\tprivate updateBody(error?: any): void {\n\t\tif (this.bodyTemplate) {\n\n\t\t\tconst count = this.count();\n\t\t\tthis.bodyTemplate.extensionsList.classList.toggle('hidden', count === 0);\n\t\t\tthis.bodyTemplate.messageContainer.classList.toggle('hidden', count > 0);\n\n\t\t\tif (count === 0 && this.isBodyVisible()) {\n\t\t\t\tif (error) {\n\t\t\t\t\tif (isOfflineError(error)) {\n\t\t\t\t\t\tthis.bodyTemplate.messageSeverityIcon.className = SeverityIcon.className(Severity.Warning);\n\t\t\t\t\t\tthis.bodyTemplate.messageBox.textContent = localize('offline error', \"Unable to search the Marketplace when offline, please check your network connection.\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.bodyTemplate.messageSeverityIcon.className = SeverityIcon.className(Severity.Error);\n\t\t\t\t\t\tthis.bodyTemplate.messageBox.textContent = localize('error', \"Error while fetching extensions. {0}\", getErrorMessage(error));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.bodyTemplate.messageSeverityIcon.className = '';\n\t\t\t\t\tthis.bodyTemplate.messageBox.textContent = localize('no extensions found', \"No extensions found.\");\n\t\t\t\t}\n\t\t\t\talert(this.bodyTemplate.messageBox.textContent);\n\t\t\t}\n\t\t}\n\n\t\tthis.updateSize();\n\t}\n\n\tprivate updateSize() {\n\t\tif (this.options.flexibleHeight) {\n\t\t\tthis.maximumBodySize = this.list?.model.length ? Number.POSITIVE_INFINITY : 0;\n\t\t\tthis.storageService.store(`${this.id}.size`, this.list?.model.length || 0, StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t}\n\t}\n\n\tprivate openExtension(extension: IExtension, options: { sideByside?: boolean; preserveFocus?: boolean; pinned?: boolean }): void {\n\t\textension = this.extensionsWorkbenchService.local.filter(e => areSameExtensions(e.identifier, extension.identifier))[0] || extension;\n\t\tthis.extensionsWorkbenchService.open(extension, options).then(undefined, err => this.onError(err));\n\t}\n\n\tprivate onError(err: any): void {\n\t\tif (isCancellationError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = err && err.message || '';\n\n\t\tif (/ECONNREFUSED/.test(message)) {\n\t\t\tconst error = createErrorWithActions(localize('suggestProxyError', \"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.\"), [\n\t\t\t\tnew Action('open user settings', localize('open user settings', \"Open User Settings\"), undefined, true, () => this.preferencesService.openUserSettings())\n\t\t\t]);\n\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n\n\tprivate getPagedModel(arg: IPager<IExtension> | IExtension[]): IPagedModel<IExtension> {\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn new PagedModel(arg);\n\t\t}\n\t\tconst pager = {\n\t\t\ttotal: arg.total,\n\t\t\tpageSize: arg.pageSize,\n\t\t\tfirstPage: arg.firstPage,\n\t\t\tgetPage: (pageIndex: number, cancellationToken: CancellationToken) => arg.getPage(pageIndex, cancellationToken)\n\t\t};\n\t\treturn new PagedModel(pager);\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tif (this.queryRequest) {\n\t\t\tthis.queryRequest.request.cancel();\n\t\t\tthis.queryRequest = null;\n\t\t}\n\t\tif (this.queryResult) {\n\t\t\tthis.queryResult.disposables.dispose();\n\t\t\tthis.queryResult = undefined;\n\t\t}\n\t\tthis.list = null;\n\t}\n\n\tstatic isLocalExtensionsQuery(query: string, sortBy?: string): boolean {\n\t\treturn this.isInstalledExtensionsQuery(query)\n\t\t\t|| this.isOutdatedExtensionsQuery(query)\n\t\t\t|| this.isEnabledExtensionsQuery(query)\n\t\t\t|| this.isDisabledExtensionsQuery(query)\n\t\t\t|| this.isBuiltInExtensionsQuery(query)\n\t\t\t|| this.isSearchBuiltInExtensionsQuery(query)\n\t\t\t|| this.isBuiltInGroupExtensionsQuery(query)\n\t\t\t|| this.isSearchDeprecatedExtensionsQuery(query)\n\t\t\t|| this.isSearchWorkspaceUnsupportedExtensionsQuery(query)\n\t\t\t|| this.isSearchRecentlyUpdatedQuery(query)\n\t\t\t|| this.isSearchExtensionUpdatesQuery(query)\n\t\t\t|| this.isSortInstalledExtensionsQuery(query, sortBy);\n\t}\n\n\tstatic isSearchBuiltInExtensionsQuery(query: string): boolean {\n\t\treturn /@builtin\\s.+/i.test(query);\n\t}\n\n\tstatic isBuiltInExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@builtin$/i.test(query.trim());\n\t}\n\n\tstatic isBuiltInGroupExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@builtin:.+$/i.test(query.trim());\n\t}\n\n\tstatic isSearchWorkspaceUnsupportedExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@workspaceUnsupported(:(untrusted|virtual)(Partial)?)?(\\s|$)/i.test(query);\n\t}\n\n\tstatic isInstalledExtensionsQuery(query: string): boolean {\n\t\treturn /@installed/i.test(query);\n\t}\n\n\tstatic isOutdatedExtensionsQuery(query: string): boolean {\n\t\treturn /@outdated/i.test(query);\n\t}\n\n\tstatic isEnabledExtensionsQuery(query: string): boolean {\n\t\treturn /@enabled/i.test(query);\n\t}\n\n\tstatic isDisabledExtensionsQuery(query: string): boolean {\n\t\treturn /@disabled/i.test(query);\n\t}\n\n\tstatic isSearchDeprecatedExtensionsQuery(query: string): boolean {\n\t\treturn /@deprecated\\s?.*/i.test(query);\n\t}\n\n\tstatic isRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /^@recommended$/i.test(query.trim());\n\t}\n\n\tstatic isSearchRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended\\s.+/i.test(query);\n\t}\n\n\tstatic isWorkspaceRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended:workspace/i.test(query);\n\t}\n\n\tstatic isExeRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@exe:.+/i.test(query);\n\t}\n\n\tstatic isRemoteRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended:remotes/i.test(query);\n\t}\n\n\tstatic isKeymapsRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended:keymaps/i.test(query);\n\t}\n\n\tstatic isLanguageRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended:languages/i.test(query);\n\t}\n\n\tstatic isSortInstalledExtensionsQuery(query: string, sortBy?: string): boolean {\n\t\treturn (sortBy !== undefined && sortBy !== '' && query === '') || (!sortBy && /^@sort:\\S*$/i.test(query));\n\t}\n\n\tstatic isSearchPopularQuery(query: string): boolean {\n\t\treturn /@popular/i.test(query);\n\t}\n\n\tstatic isSearchRecentlyPublishedQuery(query: string): boolean {\n\t\treturn /@recentlyPublished/i.test(query);\n\t}\n\n\tstatic isSearchRecentlyUpdatedQuery(query: string): boolean {\n\t\treturn /@recentlyUpdated/i.test(query);\n\t}\n\n\tstatic isSearchExtensionUpdatesQuery(query: string): boolean {\n\t\treturn /@updates/i.test(query);\n\t}\n\n\tstatic isSortUpdateDateQuery(query: string): boolean {\n\t\treturn /@sort:updateDate/i.test(query);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tif (!this.list) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(this.list.getFocus().length || this.list.getSelection().length)) {\n\t\t\tthis.list.focusNext();\n\t\t}\n\t\tthis.list.domFocus();\n\t}\n}\n\nexport class DefaultPopularExtensionsView extends ExtensionsListView {\n\n\toverride async show(): Promise<IPagedModel<IExtension>> {\n\t\tconst query = this.extensionManagementServerService.webExtensionManagementServer && !this.extensionManagementServerService.localExtensionManagementServer && !this.extensionManagementServerService.remoteExtensionManagementServer ? '@web' : '';\n\t\treturn super.show(query);\n\t}\n\n}\n\nexport class ServerInstalledExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query ? query : '@installed';\n\t\tif (!ExtensionsListView.isLocalExtensionsQuery(query) || ExtensionsListView.isSortInstalledExtensionsQuery(query)) {\n\t\t\tquery = query += ' @installed';\n\t\t}\n\t\treturn super.show(query.trim());\n\t}\n\n}\n\nexport class EnabledExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query || '@enabled';\n\t\treturn ExtensionsListView.isEnabledExtensionsQuery(query) ? super.show(query) :\n\t\t\tExtensionsListView.isSortInstalledExtensionsQuery(query) ? super.show('@enabled ' + query) : this.showEmptyModel();\n\t}\n}\n\nexport class DisabledExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query || '@disabled';\n\t\treturn ExtensionsListView.isDisabledExtensionsQuery(query) ? super.show(query) :\n\t\t\tExtensionsListView.isSortInstalledExtensionsQuery(query) ? super.show('@disabled ' + query) : this.showEmptyModel();\n\t}\n}\n\nexport class OutdatedExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query ? query : '@outdated';\n\t\tif (ExtensionsListView.isSearchExtensionUpdatesQuery(query)) {\n\t\t\tquery = query.replace('@updates', '@outdated');\n\t\t}\n\n\t\tconst model = await super.show(query.trim());\n\t\tthis.setExpanded(model.length > 0);\n\t\treturn model;\n\t}\n\n}\n\nexport class RecentlyUpdatedExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query ? query : '@recentlyUpdated';\n\t\tif (ExtensionsListView.isSearchExtensionUpdatesQuery(query)) {\n\t\t\tquery = query.replace('@updates', '@recentlyUpdated');\n\t\t}\n\t\treturn super.show(query.trim());\n\t}\n\n}\n\nexport class BuiltInFeatureExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@builtin') ? this.showEmptyModel() : super.show('@builtin:features');\n\t}\n}\n\nexport class BuiltInThemesExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@builtin') ? this.showEmptyModel() : super.show('@builtin:themes');\n\t}\n}\n\nexport class BuiltInProgrammingLanguageExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@builtin') ? this.showEmptyModel() : super.show('@builtin:basics');\n\t}\n}\n\nfunction toSpecificWorkspaceUnsupportedQuery(query: string, qualifier: string): string | undefined {\n\tif (!query) {\n\t\treturn '@workspaceUnsupported:' + qualifier;\n\t}\n\tconst match = query.match(new RegExp(`@workspaceUnsupported(:${qualifier})?(\\\\s|$)`, 'i'));\n\tif (match) {\n\t\tif (!match[1]) {\n\t\t\treturn query.replace(/@workspaceUnsupported/gi, '@workspaceUnsupported:' + qualifier);\n\t\t}\n\t\treturn query;\n\t}\n\treturn undefined;\n}\n\n\nexport class UntrustedWorkspaceUnsupportedExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tconst updatedQuery = toSpecificWorkspaceUnsupportedQuery(query, 'untrusted');\n\t\treturn updatedQuery ? super.show(updatedQuery) : this.showEmptyModel();\n\t}\n}\n\nexport class UntrustedWorkspacePartiallySupportedExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tconst updatedQuery = toSpecificWorkspaceUnsupportedQuery(query, 'untrustedPartial');\n\t\treturn updatedQuery ? super.show(updatedQuery) : this.showEmptyModel();\n\t}\n}\n\nexport class VirtualWorkspaceUnsupportedExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tconst updatedQuery = toSpecificWorkspaceUnsupportedQuery(query, 'virtual');\n\t\treturn updatedQuery ? super.show(updatedQuery) : this.showEmptyModel();\n\t}\n}\n\nexport class VirtualWorkspacePartiallySupportedExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tconst updatedQuery = toSpecificWorkspaceUnsupportedQuery(query, 'virtualPartial');\n\t\treturn updatedQuery ? super.show(updatedQuery) : this.showEmptyModel();\n\t}\n}\n\nexport class DeprecatedExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn ExtensionsListView.isSearchDeprecatedExtensionsQuery(query) ? super.show(query) : this.showEmptyModel();\n\t}\n}\n\nexport class SearchMarketplaceExtensionsView extends ExtensionsListView {\n\n\tprivate readonly reportSearchFinishedDelayer = this._register(new ThrottledDelayer(2000));\n\tprivate searchWaitPromise: Promise<void> = Promise.resolve();\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tconst queryPromise = super.show(query);\n\t\tthis.reportSearchFinishedDelayer.trigger(() => this.reportSearchFinished());\n\t\tthis.searchWaitPromise = queryPromise.then(null, null);\n\t\treturn queryPromise;\n\t}\n\n\tprivate async reportSearchFinished(): Promise<void> {\n\t\tawait this.searchWaitPromise;\n\t\tthis.telemetryService.publicLog2('extensionsView:MarketplaceSearchFinished');\n\t}\n}\n\nexport class DefaultRecommendedExtensionsView extends ExtensionsListView {\n\tprivate readonly recommendedExtensionsQuery = '@recommended:all';\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => {\n\t\t\tthis.show('');\n\t\t}));\n\t}\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tif (query && query.trim() !== this.recommendedExtensionsQuery) {\n\t\t\treturn this.showEmptyModel();\n\t\t}\n\t\tconst model = await super.show(this.recommendedExtensionsQuery);\n\t\tif (!this.extensionsWorkbenchService.local.some(e => !e.isBuiltin)) {\n\t\t\t// This is part of popular extensions view. Collapse if no installed extensions.\n\t\t\tthis.setExpanded(model.length > 0);\n\t\t}\n\t\treturn model;\n\t}\n\n}\n\nexport class RecommendedExtensionsView extends ExtensionsListView {\n\tprivate readonly recommendedExtensionsQuery = '@recommended';\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => {\n\t\t\tthis.show('');\n\t\t}));\n\t}\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== this.recommendedExtensionsQuery) ? this.showEmptyModel() : super.show(this.recommendedExtensionsQuery);\n\t}\n}\n\nexport class WorkspaceRecommendedExtensionsView extends ExtensionsListView implements IWorkspaceRecommendedExtensionsView {\n\tprivate readonly recommendedExtensionsQuery = '@recommended:workspace';\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => this.show(this.recommendedExtensionsQuery)));\n\t\tthis._register(this.contextService.onDidChangeWorkbenchState(() => this.show(this.recommendedExtensionsQuery)));\n\t}\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tconst shouldShowEmptyView = query && query.trim() !== '@recommended' && query.trim() !== '@recommended:workspace';\n\t\tconst model = await (shouldShowEmptyView ? this.showEmptyModel() : super.show(this.recommendedExtensionsQuery));\n\t\tthis.setExpanded(model.length > 0);\n\t\treturn model;\n\t}\n\n\tprivate async getInstallableWorkspaceRecommendations() {\n\t\tconst installed = (await this.extensionsWorkbenchService.queryLocal())\n\t\t\t.filter(l => l.enablementState !== EnablementState.DisabledByExtensionKind); // Filter extensions disabled by kind\n\t\tconst recommendations = (await this.getWorkspaceRecommendations())\n\t\t\t.filter(extensionId => installed.every(local => !areSameExtensions({ id: extensionId }, local.identifier)));\n\t\treturn this.getInstallableRecommendations(recommendations, { source: 'install-all-workspace-recommendations' }, CancellationToken.None);\n\t}\n\n\tasync installWorkspaceRecommendations(): Promise<void> {\n\t\tconst installableRecommendations = await this.getInstallableWorkspaceRecommendations();\n\t\tif (installableRecommendations.length) {\n\t\t\tawait this.extensionManagementService.installGalleryExtensions(installableRecommendations.map(i => ({ extension: i.gallery!, options: {} })));\n\t\t} else {\n\t\t\tthis.notificationService.notify({\n\t\t\t\tseverity: Severity.Info,\n\t\t\t\tmessage: localize('no local extensions', \"There are no extensions to install.\")\n\t\t\t});\n\t\t}\n\t}\n\n}\n\nexport function getAriaLabelForExtension(extension: IExtension | null): string {\n\tif (!extension) {\n\t\treturn '';\n\t}\n\tconst publisher = extension.publisherDomain?.verified ? localize('extension.arialabel.verifiedPublisher', \"Verified Publisher {0}\", extension.publisherDisplayName) : localize('extension.arialabel.publisher', \"Publisher {0}\", extension.publisherDisplayName);\n\tconst deprecated = extension?.deprecationInfo ? localize('extension.arialabel.deprecated', \"Deprecated\") : '';\n\tconst rating = extension?.rating ? localize('extension.arialabel.rating', \"Rated {0} out of 5 stars by {1} users\", extension.rating.toFixed(2), extension.ratingCount) : '';\n\treturn `${extension.displayName}, ${deprecated ? `${deprecated}, ` : ''}${extension.version}, ${publisher}, ${extension.description} ${rating ? `, ${rating}` : ''}`;\n}\n"]}
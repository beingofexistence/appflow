{"version":3,"sources":["vs/workbench/contrib/markers/browser/markersView.ts"],"names":[],"mappings":"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","file":"markersView.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/markers';\n\nimport { URI } from 'vs/base/common/uri';\nimport * as dom from 'vs/base/browser/dom';\nimport { IAction, Separator } from 'vs/base/common/actions';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IEditorService, SIDE_GROUP, ACTIVE_GROUP } from 'vs/workbench/services/editor/common/editorService';\nimport { Marker, ResourceMarkers, RelatedInformation, MarkerChangesEvent, MarkersModel, compareMarkersByUri, MarkerElement, MarkerTableItem } from 'vs/workbench/contrib/markers/browser/markersModel';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { MarkersFilters, IMarkersFiltersChangeEvent } from 'vs/workbench/contrib/markers/browser/markersViewActions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport Messages from 'vs/workbench/contrib/markers/browser/messages';\nimport { RangeHighlightDecorations } from 'vs/workbench/browser/codeeditor';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { localize } from 'vs/nls';\nimport { IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { Iterable } from 'vs/base/common/iterator';\nimport { ITreeElement, ITreeNode, ITreeContextMenuEvent, ITreeRenderer, ITreeEvent } from 'vs/base/browser/ui/tree/tree';\nimport { Relay, Event } from 'vs/base/common/event';\nimport { WorkbenchObjectTree, IListService, IWorkbenchObjectTreeOptions, IOpenEvent } from 'vs/platform/list/browser/listService';\nimport { FilterOptions } from 'vs/workbench/contrib/markers/browser/markersFilterOptions';\nimport { IExpression } from 'vs/base/common/glob';\nimport { deepClone } from 'vs/base/common/objects';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { FilterData, Filter, VirtualDelegate, ResourceMarkersRenderer, MarkerRenderer, RelatedInformationRenderer, MarkersWidgetAccessibilityProvider, MarkersViewModel } from 'vs/workbench/contrib/markers/browser/markersTreeViewer';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { MenuId } from 'vs/platform/actions/common/actions';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { StandardKeyboardEvent, IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { ResourceLabels } from 'vs/workbench/browser/labels';\nimport { IMarkerService, MarkerSeverity } from 'vs/platform/markers/common/markers';\nimport { MementoObject, Memento } from 'vs/workbench/common/memento';\nimport { IIdentityProvider, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { IViewPaneOptions, FilterViewPane } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IViewDescriptorService } from 'vs/workbench/common/views';\nimport { IOpenerService, withSelection } from 'vs/platform/opener/common/opener';\nimport { ActionViewItem } from 'vs/base/browser/ui/actionbar/actionViewItems';\nimport { IUriIdentityService } from 'vs/platform/uriIdentity/common/uriIdentity';\nimport { DisposableStore, IDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { groupBy } from 'vs/base/common/arrays';\nimport { ResourceMap } from 'vs/base/common/map';\nimport { EditorResourceAccessor, SideBySideEditor } from 'vs/workbench/common/editor';\nimport { IMarkersView } from 'vs/workbench/contrib/markers/browser/markers';\nimport { ResourceListDnDHandler } from 'vs/workbench/browser/dnd';\nimport { ITableContextMenuEvent, ITableEvent } from 'vs/base/browser/ui/table/table';\nimport { MarkersTable } from 'vs/workbench/contrib/markers/browser/markersTable';\nimport { Markers, MarkersContextKeys, MarkersViewMode } from 'vs/workbench/contrib/markers/common/markers';\nimport { registerNavigableContainer } from 'vs/workbench/browser/actions/widgetNavigationCommands';\n\nfunction createResourceMarkersIterator(resourceMarkers: ResourceMarkers): Iterable<ITreeElement<MarkerElement>> {\n\treturn Iterable.map(resourceMarkers.markers, m => {\n\t\tconst relatedInformationIt = Iterable.from(m.relatedInformation);\n\t\tconst children = Iterable.map(relatedInformationIt, r => ({ element: r }));\n\n\t\treturn { element: m, children };\n\t});\n}\n\nexport interface IProblemsWidget {\n\tget contextKeyService(): IContextKeyService;\n\n\tget onContextMenu(): Event<ITreeContextMenuEvent<MarkerElement | null>> | Event<ITableContextMenuEvent<MarkerTableItem>>;\n\tget onDidChangeFocus(): Event<ITreeEvent<MarkerElement | null>> | Event<ITableEvent<MarkerTableItem>>;\n\tget onDidChangeSelection(): Event<ITreeEvent<MarkerElement | null>> | Event<ITableEvent<MarkerTableItem>>;\n\tget onDidOpen(): Event<IOpenEvent<MarkerElement | MarkerTableItem | undefined>>;\n\n\tcollapseMarkers(): void;\n\tdispose(): void;\n\tdomFocus(): void;\n\tfilterMarkers(resourceMarkers: ResourceMarkers[], filterOptions: FilterOptions): void;\n\tgetFocus(): (MarkerElement | MarkerTableItem | null)[];\n\tgetHTMLElement(): HTMLElement;\n\tgetRelativeTop(location: MarkerElement | MarkerTableItem | null): number | null;\n\tgetSelection(): (MarkerElement | MarkerTableItem | null)[];\n\tgetVisibleItemCount(): number;\n\tlayout(height: number, width: number): void;\n\treset(resourceMarkers: ResourceMarkers[]): void;\n\trevealMarkers(activeResource: ResourceMarkers | null, focus: boolean, lastSelectedRelativeTop: number): void;\n\tsetAriaLabel(label: string): void;\n\tsetMarkerSelection(selection?: Marker[], focus?: Marker[]): void;\n\ttoggleVisibility(hide: boolean): void;\n\tupdate(resourceMarkers: ResourceMarkers[]): void;\n\tupdateMarker(marker: Marker): void;\n}\n\nexport class MarkersView extends FilterViewPane implements IMarkersView {\n\n\tprivate lastSelectedRelativeTop: number = 0;\n\tprivate currentActiveResource: URI | null = null;\n\n\tprivate readonly rangeHighlightDecorations: RangeHighlightDecorations;\n\tprivate readonly markersModel: MarkersModel;\n\tprivate readonly filter: Filter;\n\tprivate readonly onVisibleDisposables = this._register(new DisposableStore());\n\n\tprivate widget!: IProblemsWidget;\n\tprivate widgetDisposables = this._register(new DisposableStore());\n\tprivate widgetContainer!: HTMLElement;\n\tprivate widgetIdentityProvider: IIdentityProvider<MarkerElement | MarkerTableItem>;\n\tprivate widgetAccessibilityProvider: MarkersWidgetAccessibilityProvider;\n\tprivate messageBoxContainer: HTMLElement | undefined;\n\tprivate ariaLabelElement: HTMLElement | undefined;\n\treadonly filters: MarkersFilters;\n\n\tprivate currentHeight = 0;\n\tprivate currentWidth = 0;\n\tprivate readonly panelState: MementoObject;\n\n\tprivate cachedFilterStats: { total: number; filtered: number } | undefined = undefined;\n\n\tprivate currentResourceGotAddedToMarkersData: boolean = false;\n\tprivate readonly markersViewModel: MarkersViewModel;\n\n\treadonly onDidChangeVisibility = this.onDidChangeBodyVisibility;\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IMarkerService private readonly markerService: IMarkerService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t) {\n\t\tconst panelState = new Memento(Markers.MARKERS_VIEW_STORAGE_ID, storageService).getMemento(StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\tsuper({\n\t\t\t...options,\n\t\t\tfilterOptions: {\n\t\t\t\tariaLabel: Messages.MARKERS_PANEL_FILTER_ARIA_LABEL,\n\t\t\t\tplaceholder: Messages.MARKERS_PANEL_FILTER_PLACEHOLDER,\n\t\t\t\tfocusContextKey: MarkersContextKeys.MarkerViewFilterFocusContextKey.key,\n\t\t\t\ttext: panelState['filter'] || '',\n\t\t\t\thistory: panelState['filterHistory'] || []\n\t\t\t}\n\t\t}, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService);\n\t\tthis.panelState = panelState;\n\n\t\tthis.markersModel = this._register(instantiationService.createInstance(MarkersModel));\n\t\tthis.markersViewModel = this._register(instantiationService.createInstance(MarkersViewModel, this.panelState['multiline'], this.panelState['viewMode'] ?? this.getDefaultViewMode()));\n\t\tthis._register(this.onDidChangeVisibility(visible => this.onDidChangeMarkersViewVisibility(visible)));\n\t\tthis._register(this.markersViewModel.onDidChangeViewMode(_ => this.onDidChangeViewMode()));\n\n\t\tthis.widgetAccessibilityProvider = instantiationService.createInstance(MarkersWidgetAccessibilityProvider);\n\t\tthis.widgetIdentityProvider = { getId(element: MarkerElement | MarkerTableItem) { return element.id; } };\n\n\t\tthis.setCurrentActiveEditor();\n\n\t\tthis.filter = new Filter(FilterOptions.EMPTY(uriIdentityService));\n\t\tthis.rangeHighlightDecorations = this._register(this.instantiationService.createInstance(RangeHighlightDecorations));\n\n\t\tthis.filters = this._register(new MarkersFilters({\n\t\t\tfilterHistory: this.panelState['filterHistory'] || [],\n\t\t\tshowErrors: this.panelState['showErrors'] !== false,\n\t\t\tshowWarnings: this.panelState['showWarnings'] !== false,\n\t\t\tshowInfos: this.panelState['showInfos'] !== false,\n\t\t\texcludedFiles: !!this.panelState['useFilesExclude'],\n\t\t\tactiveFile: !!this.panelState['activeFile'],\n\t\t}, this.contextKeyService));\n\n\t\t// Update filter, whenever the \"files.exclude\" setting is changed\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (this.filters.excludedFiles && e.affectsConfiguration('files.exclude')) {\n\t\t\t\tthis.updateFilter();\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride render(): void {\n\t\tsuper.render();\n\t\tthis._register(registerNavigableContainer({\n\t\t\tfocusNotifiers: [this, this.filterWidget],\n\t\t\tfocusNextWidget: () => {\n\t\t\t\tif (this.filterWidget.hasFocus()) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocusPreviousWidget: () => {\n\t\t\t\tif (!this.filterWidget.hasFocus()) {\n\t\t\t\t\tthis.focusFilter();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override renderBody(parent: HTMLElement): void {\n\t\tsuper.renderBody(parent);\n\n\t\tparent.classList.add('markers-panel');\n\t\tthis._register(dom.addDisposableListener(parent, 'keydown', e => {\n\t\t\tif (this.keybindingService.mightProducePrintableCharacter(new StandardKeyboardEvent(e))) {\n\t\t\t\tthis.focusFilter();\n\t\t\t}\n\t\t}));\n\n\t\tconst panelContainer = dom.append(parent, dom.$('.markers-panel-container'));\n\n\t\tthis.createArialLabelElement(panelContainer);\n\n\t\tthis.createMessageBox(panelContainer);\n\n\t\tthis.widgetContainer = dom.append(panelContainer, dom.$('.widget-container'));\n\t\tthis.createWidget(this.widgetContainer);\n\n\t\tthis.updateFilter();\n\t\tthis.renderContent();\n\t}\n\n\tpublic getTitle(): string {\n\t\treturn Messages.MARKERS_PANEL_TITLE_PROBLEMS;\n\t}\n\n\tprotected layoutBodyContent(height: number = this.currentHeight, width: number = this.currentWidth): void {\n\t\tif (this.messageBoxContainer) {\n\t\t\tthis.messageBoxContainer.style.height = `${height}px`;\n\t\t}\n\t\tthis.widget.layout(height, width);\n\n\t\tthis.currentHeight = height;\n\t\tthis.currentWidth = width;\n\t}\n\n\tpublic override focus(): void {\n\t\tif (this.widget.getHTMLElement() === document.activeElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.hasNoProblems()) {\n\t\t\tthis.messageBoxContainer!.focus();\n\t\t} else {\n\t\t\tthis.widget.domFocus();\n\t\t\tthis.widget.setMarkerSelection();\n\t\t}\n\t}\n\n\tpublic focusFilter(): void {\n\t\tthis.filterWidget.focus();\n\t}\n\n\tpublic updateBadge(total: number, filtered: number): void {\n\t\tthis.filterWidget.updateBadge(total === filtered || total === 0 ? undefined : localize('showing filtered problems', \"Showing {0} of {1}\", filtered, total));\n\t}\n\n\tpublic checkMoreFilters(): void {\n\t\tthis.filterWidget.checkMoreFilters(!this.filters.showErrors || !this.filters.showWarnings || !this.filters.showInfos || this.filters.excludedFiles || this.filters.activeFile);\n\t}\n\n\tpublic clearFilterText(): void {\n\t\tthis.filterWidget.setFilterText('');\n\t}\n\n\tpublic showQuickFixes(marker: Marker): void {\n\t\tconst viewModel = this.markersViewModel.getViewModel(marker);\n\t\tif (viewModel) {\n\t\t\tviewModel.quickFixAction.run();\n\t\t}\n\t}\n\n\tpublic openFileAtElement(element: any, preserveFocus: boolean, sideByside: boolean, pinned: boolean): boolean {\n\t\tconst { resource, selection } = element instanceof Marker ? { resource: element.resource, selection: element.range } :\n\t\t\telement instanceof RelatedInformation ? { resource: element.raw.resource, selection: element.raw } :\n\t\t\t\t'marker' in element ? { resource: element.marker.resource, selection: element.marker.range } :\n\t\t\t\t\t{ resource: null, selection: null };\n\t\tif (resource && selection) {\n\t\t\tthis.editorService.openEditor({\n\t\t\t\tresource,\n\t\t\t\toptions: {\n\t\t\t\t\tselection,\n\t\t\t\t\tpreserveFocus,\n\t\t\t\t\tpinned,\n\t\t\t\t\trevealIfVisible: true\n\t\t\t\t},\n\t\t\t}, sideByside ? SIDE_GROUP : ACTIVE_GROUP).then(editor => {\n\t\t\t\tif (editor && preserveFocus) {\n\t\t\t\t\tthis.rangeHighlightDecorations.highlightRange({ resource, range: selection }, <ICodeEditor>editor.getControl());\n\t\t\t\t} else {\n\t\t\t\t\tthis.rangeHighlightDecorations.removeHighlightRange();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.rangeHighlightDecorations.removeHighlightRange();\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate refreshPanel(markerOrChange?: Marker | MarkerChangesEvent): void {\n\t\tif (this.isVisible()) {\n\t\t\tconst hasSelection = this.widget.getSelection().length > 0;\n\n\t\t\tif (markerOrChange) {\n\t\t\t\tif (markerOrChange instanceof Marker) {\n\t\t\t\t\tthis.widget.updateMarker(markerOrChange);\n\t\t\t\t} else {\n\t\t\t\t\tif (markerOrChange.added.size || markerOrChange.removed.size) {\n\t\t\t\t\t\t// Reset complete widget\n\t\t\t\t\t\tthis.resetWidget();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Update resource\n\t\t\t\t\t\tthis.widget.update([...markerOrChange.updated]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Reset complete widget\n\t\t\t\tthis.resetWidget();\n\t\t\t}\n\n\t\t\tif (hasSelection) {\n\t\t\t\tthis.widget.setMarkerSelection();\n\t\t\t}\n\n\t\t\tthis.cachedFilterStats = undefined;\n\t\t\tconst { total, filtered } = this.getFilterStats();\n\t\t\tthis.toggleVisibility(total === 0 || filtered === 0);\n\t\t\tthis.renderMessage();\n\n\t\t\tthis.updateBadge(total, filtered);\n\t\t\tthis.checkMoreFilters();\n\t\t}\n\t}\n\n\tprivate onDidChangeViewState(marker?: Marker): void {\n\t\tthis.refreshPanel(marker);\n\t}\n\n\tprivate resetWidget(): void {\n\t\tthis.widget.reset(this.getResourceMarkers());\n\t}\n\n\tprivate updateFilter() {\n\t\tthis.filter.options = new FilterOptions(this.filterWidget.getFilterText(), this.getFilesExcludeExpressions(), this.filters.showWarnings, this.filters.showErrors, this.filters.showInfos, this.uriIdentityService);\n\t\tthis.widget.filterMarkers(this.getResourceMarkers(), this.filter.options);\n\n\t\tthis.cachedFilterStats = undefined;\n\t\tconst { total, filtered } = this.getFilterStats();\n\t\tthis.toggleVisibility(total === 0 || filtered === 0);\n\t\tthis.renderMessage();\n\n\t\tthis.updateBadge(total, filtered);\n\t\tthis.checkMoreFilters();\n\t}\n\n\tprivate getDefaultViewMode(): MarkersViewMode {\n\t\tswitch (this.configurationService.getValue<string>('problems.defaultViewMode')) {\n\t\t\tcase 'table':\n\t\t\t\treturn MarkersViewMode.Table;\n\t\t\tcase 'tree':\n\t\t\t\treturn MarkersViewMode.Tree;\n\t\t\tdefault:\n\t\t\t\treturn MarkersViewMode.Tree;\n\t\t}\n\t}\n\n\tprivate getFilesExcludeExpressions(): { root: URI; expression: IExpression }[] | IExpression {\n\t\tif (!this.filters.excludedFiles) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst workspaceFolders = this.workspaceContextService.getWorkspace().folders;\n\t\treturn workspaceFolders.length\n\t\t\t? workspaceFolders.map(workspaceFolder => ({ root: workspaceFolder.uri, expression: this.getFilesExclude(workspaceFolder.uri) }))\n\t\t\t: this.getFilesExclude();\n\t}\n\n\tprivate getFilesExclude(resource?: URI): IExpression {\n\t\treturn deepClone(this.configurationService.getValue('files.exclude', { resource })) || {};\n\t}\n\n\tprivate getResourceMarkers(): ResourceMarkers[] {\n\t\tif (!this.filters.activeFile) {\n\t\t\treturn this.markersModel.resourceMarkers;\n\t\t}\n\n\t\tlet resourceMarkers: ResourceMarkers[] = [];\n\t\tif (this.currentActiveResource) {\n\t\t\tconst activeResourceMarkers = this.markersModel.getResourceMarkers(this.currentActiveResource);\n\t\t\tif (activeResourceMarkers) {\n\t\t\t\tresourceMarkers = [activeResourceMarkers];\n\t\t\t}\n\t\t}\n\n\t\treturn resourceMarkers;\n\t}\n\n\tprivate createMessageBox(parent: HTMLElement): void {\n\t\tthis.messageBoxContainer = dom.append(parent, dom.$('.message-box-container'));\n\t\tthis.messageBoxContainer.setAttribute('aria-labelledby', 'markers-panel-arialabel');\n\t}\n\n\tprivate createArialLabelElement(parent: HTMLElement): void {\n\t\tthis.ariaLabelElement = dom.append(parent, dom.$(''));\n\t\tthis.ariaLabelElement.setAttribute('id', 'markers-panel-arialabel');\n\t}\n\n\tprivate createWidget(parent: HTMLElement): void {\n\t\tthis.widget = this.markersViewModel.viewMode === MarkersViewMode.Table ? this.createTable(parent) : this.createTree(parent);\n\t\tthis.widgetDisposables.add(this.widget);\n\n\t\tconst markerFocusContextKey = MarkersContextKeys.MarkerFocusContextKey.bindTo(this.widget.contextKeyService);\n\t\tconst relatedInformationFocusContextKey = MarkersContextKeys.RelatedInformationFocusContextKey.bindTo(this.widget.contextKeyService);\n\t\tthis.widgetDisposables.add(this.widget.onDidChangeFocus(focus => {\n\t\t\tmarkerFocusContextKey.set(focus.elements.some(e => e instanceof Marker));\n\t\t\trelatedInformationFocusContextKey.set(focus.elements.some(e => e instanceof RelatedInformation));\n\t\t}));\n\n\t\tthis.widgetDisposables.add(Event.debounce(this.widget.onDidOpen, (last, event) => event, 75, true)(options => {\n\t\t\tthis.openFileAtElement(options.element, !!options.editorOptions.preserveFocus, options.sideBySide, !!options.editorOptions.pinned);\n\t\t}));\n\n\t\tthis.widgetDisposables.add(Event.any<any>(this.widget.onDidChangeSelection, this.widget.onDidChangeFocus)(() => {\n\t\t\tconst elements = [...this.widget.getSelection(), ...this.widget.getFocus()];\n\t\t\tfor (const element of elements) {\n\t\t\t\tif (element instanceof Marker) {\n\t\t\t\t\tconst viewModel = this.markersViewModel.getViewModel(element);\n\t\t\t\t\tviewModel?.showLightBulb();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.widgetDisposables.add(this.widget.onContextMenu(this.onContextMenu, this));\n\t\tthis.widgetDisposables.add(this.widget.onDidChangeSelection(this.onSelected, this));\n\t}\n\n\tprivate createTable(parent: HTMLElement): IProblemsWidget {\n\t\tconst table = this.instantiationService.createInstance(MarkersTable,\n\t\t\tdom.append(parent, dom.$('.markers-table-container')),\n\t\t\tthis.markersViewModel,\n\t\t\tthis.getResourceMarkers(),\n\t\t\tthis.filter.options,\n\t\t\t{\n\t\t\t\taccessibilityProvider: this.widgetAccessibilityProvider,\n\t\t\t\tdnd: this.instantiationService.createInstance(ResourceListDnDHandler, (element) => {\n\t\t\t\t\tif (element instanceof MarkerTableItem) {\n\t\t\t\t\t\treturn withSelection(element.resource, element.range);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}),\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\tidentityProvider: this.widgetIdentityProvider,\n\t\t\t\tmultipleSelectionSupport: true,\n\t\t\t\tselectionNavigation: true\n\t\t\t},\n\t\t);\n\n\t\treturn table;\n\t}\n\n\tprivate createTree(parent: HTMLElement): IProblemsWidget {\n\t\tconst onDidChangeRenderNodeCount = new Relay<ITreeNode<any, any>>();\n\n\t\tconst treeLabels = this.instantiationService.createInstance(ResourceLabels, this);\n\n\t\tconst virtualDelegate = new VirtualDelegate(this.markersViewModel);\n\t\tconst renderers = [\n\t\t\tthis.instantiationService.createInstance(ResourceMarkersRenderer, treeLabels, onDidChangeRenderNodeCount.event),\n\t\t\tthis.instantiationService.createInstance(MarkerRenderer, this.markersViewModel),\n\t\t\tthis.instantiationService.createInstance(RelatedInformationRenderer)\n\t\t];\n\n\t\tconst tree = this.instantiationService.createInstance(MarkersTree,\n\t\t\t'MarkersView',\n\t\t\tdom.append(parent, dom.$('.tree-container.show-file-icons')),\n\t\t\tvirtualDelegate,\n\t\t\trenderers,\n\t\t\t{\n\t\t\t\tfilter: this.filter,\n\t\t\t\taccessibilityProvider: this.widgetAccessibilityProvider,\n\t\t\t\tidentityProvider: this.widgetIdentityProvider,\n\t\t\t\tdnd: this.instantiationService.createInstance(ResourceListDnDHandler, (element) => {\n\t\t\t\t\tif (element instanceof ResourceMarkers) {\n\t\t\t\t\t\treturn element.resource;\n\t\t\t\t\t}\n\t\t\t\t\tif (element instanceof Marker) {\n\t\t\t\t\t\treturn withSelection(element.resource, element.range);\n\t\t\t\t\t}\n\t\t\t\t\tif (element instanceof RelatedInformation) {\n\t\t\t\t\t\treturn withSelection(element.raw.resource, element.raw);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}),\n\t\t\t\texpandOnlyOnTwistieClick: (e: MarkerElement) => e instanceof Marker && e.relatedInformation.length > 0,\n\t\t\t\toverrideStyles: {\n\t\t\t\t\tlistBackground: this.getBackgroundColor()\n\t\t\t\t},\n\t\t\t\tselectionNavigation: true,\n\t\t\t\tmultipleSelectionSupport: true,\n\t\t\t},\n\t\t);\n\n\t\tonDidChangeRenderNodeCount.input = tree.onDidChangeRenderNodeCount;\n\n\t\treturn tree;\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.widget.collapseMarkers();\n\t}\n\n\tsetMultiline(multiline: boolean): void {\n\t\tthis.markersViewModel.multiline = multiline;\n\t}\n\n\tsetViewMode(viewMode: MarkersViewMode): void {\n\t\tthis.markersViewModel.viewMode = viewMode;\n\t}\n\n\tprivate onDidChangeMarkersViewVisibility(visible: boolean): void {\n\t\tthis.onVisibleDisposables.clear();\n\t\tif (visible) {\n\t\t\tfor (const disposable of this.reInitialize()) {\n\t\t\t\tthis.onVisibleDisposables.add(disposable);\n\t\t\t}\n\t\t\tthis.refreshPanel();\n\t\t}\n\t}\n\n\tprivate reInitialize(): IDisposable[] {\n\t\tconst disposables = [];\n\n\t\t// Markers Model\n\t\tconst readMarkers = (resource?: URI) => this.markerService.read({ resource, severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info });\n\t\tthis.markersModel.setResourceMarkers(groupBy(readMarkers(), compareMarkersByUri).map(group => [group[0].resource, group]));\n\t\tdisposables.push(Event.debounce<readonly URI[], ResourceMap<URI>>(this.markerService.onMarkerChanged, (resourcesMap, resources) => {\n\t\t\tresourcesMap = resourcesMap || new ResourceMap<URI>();\n\t\t\tresources.forEach(resource => resourcesMap!.set(resource, resource));\n\t\t\treturn resourcesMap;\n\t\t}, 64)(resourcesMap => {\n\t\t\tthis.markersModel.setResourceMarkers([...resourcesMap.values()].map(resource => [resource, readMarkers(resource)]));\n\t\t}));\n\t\tdisposables.push(Event.any<MarkerChangesEvent | void>(this.markersModel.onDidChange, this.editorService.onDidActiveEditorChange)(changes => {\n\t\t\tif (changes) {\n\t\t\t\tthis.onDidChangeModel(changes);\n\t\t\t} else {\n\t\t\t\tthis.onActiveEditorChanged();\n\t\t\t}\n\t\t}));\n\t\tdisposables.push(toDisposable(() => this.markersModel.reset()));\n\n\t\t// Markers View Model\n\t\tthis.markersModel.resourceMarkers.forEach(resourceMarker => resourceMarker.markers.forEach(marker => this.markersViewModel.add(marker)));\n\t\tdisposables.push(this.markersViewModel.onDidChange(marker => this.onDidChangeViewState(marker)));\n\t\tdisposables.push(toDisposable(() => this.markersModel.resourceMarkers.forEach(resourceMarker => this.markersViewModel.remove(resourceMarker.resource))));\n\n\t\t// Markers Filters\n\t\tdisposables.push(this.filters.onDidChange((event: IMarkersFiltersChangeEvent) => {\n\t\t\tif (event.activeFile) {\n\t\t\t\tthis.refreshPanel();\n\t\t\t} else if (event.excludedFiles || event.showWarnings || event.showErrors || event.showInfos) {\n\t\t\t\tthis.updateFilter();\n\t\t\t}\n\t\t}));\n\t\tdisposables.push(this.filterWidget.onDidChangeFilterText(e => this.updateFilter()));\n\t\tdisposables.push(toDisposable(() => { this.cachedFilterStats = undefined; }));\n\n\t\tdisposables.push(toDisposable(() => this.rangeHighlightDecorations.removeHighlightRange()));\n\n\t\treturn disposables;\n\t}\n\n\tprivate onDidChangeModel(change: MarkerChangesEvent): void {\n\t\tconst resourceMarkers = [...change.added, ...change.removed, ...change.updated];\n\t\tconst resources: URI[] = [];\n\t\tfor (const { resource } of resourceMarkers) {\n\t\t\tthis.markersViewModel.remove(resource);\n\t\t\tconst resourceMarkers = this.markersModel.getResourceMarkers(resource);\n\t\t\tif (resourceMarkers) {\n\t\t\t\tfor (const marker of resourceMarkers.markers) {\n\t\t\t\t\tthis.markersViewModel.add(marker);\n\t\t\t\t}\n\t\t\t}\n\t\t\tresources.push(resource);\n\t\t}\n\t\tthis.currentResourceGotAddedToMarkersData = this.currentResourceGotAddedToMarkersData || this.isCurrentResourceGotAddedToMarkersData(resources);\n\t\tthis.refreshPanel(change);\n\t\tthis.updateRangeHighlights();\n\t\tif (this.currentResourceGotAddedToMarkersData) {\n\t\t\tthis.autoReveal();\n\t\t\tthis.currentResourceGotAddedToMarkersData = false;\n\t\t}\n\t}\n\n\tprivate onDidChangeViewMode(): void {\n\t\tif (this.widgetContainer && this.widget) {\n\t\t\tthis.widgetContainer.textContent = '';\n\t\t\tthis.widgetDisposables.clear();\n\t\t}\n\n\t\t// Save selection\n\t\tconst selection = new Set<Marker>();\n\t\tfor (const marker of this.widget.getSelection()) {\n\t\t\tif (marker instanceof ResourceMarkers) {\n\t\t\t\tmarker.markers.forEach(m => selection.add(m));\n\t\t\t} else if (marker instanceof Marker || marker instanceof MarkerTableItem) {\n\t\t\t\tselection.add(marker);\n\t\t\t}\n\t\t}\n\n\t\t// Save focus\n\t\tconst focus = new Set<Marker>();\n\t\tfor (const marker of this.widget.getFocus()) {\n\t\t\tif (marker instanceof Marker || marker instanceof MarkerTableItem) {\n\t\t\t\tfocus.add(marker);\n\t\t\t}\n\t\t}\n\n\t\t// Create new widget\n\t\tthis.createWidget(this.widgetContainer);\n\t\tthis.refreshPanel();\n\n\t\t// Restore selection\n\t\tif (selection.size > 0) {\n\t\t\tthis.widget.setMarkerSelection(Array.from(selection), Array.from(focus));\n\t\t\tthis.widget.domFocus();\n\t\t}\n\t}\n\n\tprivate isCurrentResourceGotAddedToMarkersData(changedResources: URI[]) {\n\t\tconst currentlyActiveResource = this.currentActiveResource;\n\t\tif (!currentlyActiveResource) {\n\t\t\treturn false;\n\t\t}\n\t\tconst resourceForCurrentActiveResource = this.getResourceForCurrentActiveResource();\n\t\tif (resourceForCurrentActiveResource) {\n\t\t\treturn false;\n\t\t}\n\t\treturn changedResources.some(r => r.toString() === currentlyActiveResource.toString());\n\t}\n\n\tprivate onActiveEditorChanged(): void {\n\t\tthis.setCurrentActiveEditor();\n\t\tif (this.filters.activeFile) {\n\t\t\tthis.refreshPanel();\n\t\t}\n\t\tthis.autoReveal();\n\t}\n\n\tprivate setCurrentActiveEditor(): void {\n\t\tconst activeEditor = this.editorService.activeEditor;\n\t\tthis.currentActiveResource = activeEditor ? EditorResourceAccessor.getOriginalUri(activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY }) ?? null : null;\n\t}\n\n\tprivate onSelected(): void {\n\t\tconst selection = this.widget.getSelection();\n\t\tif (selection && selection.length > 0) {\n\t\t\tthis.lastSelectedRelativeTop = this.widget.getRelativeTop(selection[0]) || 0;\n\t\t}\n\t}\n\n\tprivate hasNoProblems(): boolean {\n\t\tconst { total, filtered } = this.getFilterStats();\n\t\treturn total === 0 || filtered === 0;\n\t}\n\n\tprivate renderContent(): void {\n\t\tthis.cachedFilterStats = undefined;\n\t\tthis.resetWidget();\n\t\tthis.toggleVisibility(this.hasNoProblems());\n\t\tthis.renderMessage();\n\t}\n\n\tprivate renderMessage(): void {\n\t\tif (!this.messageBoxContainer || !this.ariaLabelElement) {\n\t\t\treturn;\n\t\t}\n\t\tdom.clearNode(this.messageBoxContainer);\n\t\tconst { total, filtered } = this.getFilterStats();\n\n\t\tif (filtered === 0) {\n\t\t\tthis.messageBoxContainer.style.display = 'block';\n\t\t\tthis.messageBoxContainer.setAttribute('tabIndex', '0');\n\t\t\tif (this.filters.activeFile) {\n\t\t\t\tthis.renderFilterMessageForActiveFile(this.messageBoxContainer);\n\t\t\t} else {\n\t\t\t\tif (total > 0) {\n\t\t\t\t\tthis.renderFilteredByFilterMessage(this.messageBoxContainer);\n\t\t\t\t} else {\n\t\t\t\t\tthis.renderNoProblemsMessage(this.messageBoxContainer);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.messageBoxContainer.style.display = 'none';\n\t\t\tif (filtered === total) {\n\t\t\t\tthis.setAriaLabel(localize('No problems filtered', \"Showing {0} problems\", total));\n\t\t\t} else {\n\t\t\t\tthis.setAriaLabel(localize('problems filtered', \"Showing {0} of {1} problems\", filtered, total));\n\t\t\t}\n\t\t\tthis.messageBoxContainer.removeAttribute('tabIndex');\n\t\t}\n\t}\n\n\tprivate renderFilterMessageForActiveFile(container: HTMLElement): void {\n\t\tif (this.currentActiveResource && this.markersModel.getResourceMarkers(this.currentActiveResource)) {\n\t\t\tthis.renderFilteredByFilterMessage(container);\n\t\t} else {\n\t\t\tthis.renderNoProblemsMessageForActiveFile(container);\n\t\t}\n\t}\n\n\tprivate renderFilteredByFilterMessage(container: HTMLElement) {\n\t\tconst span1 = dom.append(container, dom.$('span'));\n\t\tspan1.textContent = Messages.MARKERS_PANEL_NO_PROBLEMS_FILTERS;\n\t\tconst link = dom.append(container, dom.$('a.messageAction'));\n\t\tlink.textContent = localize('clearFilter', \"Clear Filters\");\n\t\tlink.setAttribute('tabIndex', '0');\n\t\tconst span2 = dom.append(container, dom.$('span'));\n\t\tspan2.textContent = '.';\n\t\tdom.addStandardDisposableListener(link, dom.EventType.CLICK, () => this.clearFilters());\n\t\tdom.addStandardDisposableListener(link, dom.EventType.KEY_DOWN, (e: IKeyboardEvent) => {\n\t\t\tif (e.equals(KeyCode.Enter) || e.equals(KeyCode.Space)) {\n\t\t\t\tthis.clearFilters();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tthis.setAriaLabel(Messages.MARKERS_PANEL_NO_PROBLEMS_FILTERS);\n\t}\n\n\tprivate renderNoProblemsMessageForActiveFile(container: HTMLElement) {\n\t\tconst span = dom.append(container, dom.$('span'));\n\t\tspan.textContent = Messages.MARKERS_PANEL_NO_PROBLEMS_ACTIVE_FILE_BUILT;\n\t\tthis.setAriaLabel(Messages.MARKERS_PANEL_NO_PROBLEMS_ACTIVE_FILE_BUILT);\n\t}\n\n\tprivate renderNoProblemsMessage(container: HTMLElement) {\n\t\tconst span = dom.append(container, dom.$('span'));\n\t\tspan.textContent = Messages.MARKERS_PANEL_NO_PROBLEMS_BUILT;\n\t\tthis.setAriaLabel(Messages.MARKERS_PANEL_NO_PROBLEMS_BUILT);\n\t}\n\n\tprivate setAriaLabel(label: string): void {\n\t\tthis.widget.setAriaLabel(label);\n\t\tthis.ariaLabelElement!.setAttribute('aria-label', label);\n\t}\n\n\tprivate clearFilters(): void {\n\t\tthis.filterWidget.setFilterText('');\n\t\tthis.filters.excludedFiles = false;\n\t\tthis.filters.showErrors = true;\n\t\tthis.filters.showWarnings = true;\n\t\tthis.filters.showInfos = true;\n\t}\n\n\tprivate autoReveal(focus: boolean = false): void {\n\t\t// No need to auto reveal if active file filter is on\n\t\tif (this.filters.activeFile) {\n\t\t\treturn;\n\t\t}\n\t\tconst autoReveal = this.configurationService.getValue<boolean>('problems.autoReveal');\n\t\tif (typeof autoReveal === 'boolean' && autoReveal) {\n\t\t\tconst currentActiveResource = this.getResourceForCurrentActiveResource();\n\t\t\tthis.widget.revealMarkers(currentActiveResource, focus, this.lastSelectedRelativeTop);\n\t\t}\n\t}\n\n\tprivate getResourceForCurrentActiveResource(): ResourceMarkers | null {\n\t\treturn this.currentActiveResource ? this.markersModel.getResourceMarkers(this.currentActiveResource) : null;\n\t}\n\n\tprivate updateRangeHighlights() {\n\t\tthis.rangeHighlightDecorations.removeHighlightRange();\n\t\tif (this.widget.getHTMLElement() === document.activeElement) {\n\t\t\tthis.highlightCurrentSelectedMarkerRange();\n\t\t}\n\t}\n\n\tprivate highlightCurrentSelectedMarkerRange() {\n\t\tconst selections = this.widget.getSelection() ?? [];\n\n\t\tif (selections.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selection = selections[0];\n\n\t\tif (!(selection instanceof Marker)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rangeHighlightDecorations.highlightRange(selection);\n\t}\n\n\tprivate onContextMenu(e: ITreeContextMenuEvent<MarkerElement | null> | ITableContextMenuEvent<MarkerTableItem>): void {\n\t\tconst element = e.element;\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\te.browserEvent.preventDefault();\n\t\te.browserEvent.stopPropagation();\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor!,\n\t\t\tmenuId: MenuId.ProblemsPanelContext,\n\t\t\tcontextKeyService: this.widget.contextKeyService,\n\t\t\tgetActions: () => this.getMenuActions(element),\n\t\t\tgetActionViewItem: (action) => {\n\t\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(action.id);\n\t\t\t\tif (keybinding) {\n\t\t\t\t\treturn new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel() });\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tonHide: (wasCancelled?: boolean) => {\n\t\t\t\tif (wasCancelled) {\n\t\t\t\t\tthis.widget.domFocus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getMenuActions(element: MarkerElement | null): IAction[] {\n\t\tconst result: IAction[] = [];\n\n\t\tif (element instanceof Marker) {\n\t\t\tconst viewModel = this.markersViewModel.getViewModel(element);\n\t\t\tif (viewModel) {\n\t\t\t\tconst quickFixActions = viewModel.quickFixAction.quickFixes;\n\t\t\t\tif (quickFixActions.length) {\n\t\t\t\t\tresult.push(...quickFixActions);\n\t\t\t\t\tresult.push(new Separator());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getFocusElement(): MarkerElement | undefined {\n\t\treturn this.widget.getFocus()[0] ?? undefined;\n\t}\n\n\tpublic getFocusedSelectedElements(): MarkerElement[] | null {\n\t\tconst focus = this.getFocusElement();\n\t\tif (!focus) {\n\t\t\treturn null;\n\t\t}\n\t\tconst selection = this.widget.getSelection();\n\t\tif (selection.includes(focus)) {\n\t\t\tconst result: MarkerElement[] = [];\n\t\t\tfor (const selected of selection) {\n\t\t\t\tif (selected) {\n\t\t\t\t\tresult.push(selected);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t} else {\n\t\t\treturn [focus];\n\t\t}\n\t}\n\n\tpublic getAllResourceMarkers(): ResourceMarkers[] {\n\t\treturn this.markersModel.resourceMarkers;\n\t}\n\n\tgetFilterStats(): { total: number; filtered: number } {\n\t\tif (!this.cachedFilterStats) {\n\t\t\tthis.cachedFilterStats = {\n\t\t\t\ttotal: this.markersModel.total,\n\t\t\t\tfiltered: this.widget?.getVisibleItemCount() ?? 0\n\t\t\t};\n\t\t}\n\n\t\treturn this.cachedFilterStats;\n\t}\n\n\tprivate toggleVisibility(hide: boolean): void {\n\t\tthis.widget.toggleVisibility(hide);\n\t\tthis.layoutBodyContent();\n\t}\n\n\toverride saveState(): void {\n\t\tthis.panelState['filter'] = this.filterWidget.getFilterText();\n\t\tthis.panelState['filterHistory'] = this.filters.filterHistory;\n\t\tthis.panelState['showErrors'] = this.filters.showErrors;\n\t\tthis.panelState['showWarnings'] = this.filters.showWarnings;\n\t\tthis.panelState['showInfos'] = this.filters.showInfos;\n\t\tthis.panelState['useFilesExclude'] = this.filters.excludedFiles;\n\t\tthis.panelState['activeFile'] = this.filters.activeFile;\n\t\tthis.panelState['multiline'] = this.markersViewModel.multiline;\n\t\tthis.panelState['viewMode'] = this.markersViewModel.viewMode;\n\n\t\tsuper.saveState();\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t}\n\n}\n\nclass MarkersTree extends WorkbenchObjectTree<MarkerElement, FilterData> implements IProblemsWidget {\n\n\tprivate readonly visibilityContextKey: IContextKey<boolean>;\n\n\tconstructor(\n\t\tuser: string,\n\t\tprivate readonly container: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<MarkerElement>,\n\t\trenderers: ITreeRenderer<MarkerElement, FilterData, any>[],\n\t\toptions: IWorkbenchObjectTreeOptions<MarkerElement, FilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService);\n\t\tthis.visibilityContextKey = MarkersContextKeys.MarkersTreeVisibilityContextKey.bindTo(contextKeyService);\n\t}\n\n\tcollapseMarkers(): void {\n\t\tthis.collapseAll();\n\t\tthis.setSelection([]);\n\t\tthis.setFocus([]);\n\t\tthis.getHTMLElement().focus();\n\t\tthis.focusFirst();\n\t}\n\n\tfilterMarkers(): void {\n\t\tthis.refilter();\n\t}\n\n\tgetVisibleItemCount(): number {\n\t\tlet filtered = 0;\n\t\tconst root = this.getNode();\n\n\t\tfor (const resourceMarkerNode of root.children) {\n\t\t\tfor (const markerNode of resourceMarkerNode.children) {\n\t\t\t\tif (resourceMarkerNode.visible && markerNode.visible) {\n\t\t\t\t\tfiltered++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn filtered;\n\t}\n\n\tisVisible(): boolean {\n\t\treturn !this.container.classList.contains('hidden');\n\t}\n\n\ttoggleVisibility(hide: boolean): void {\n\t\tthis.visibilityContextKey.set(!hide);\n\t\tthis.container.classList.toggle('hidden', hide);\n\t}\n\n\treset(resourceMarkers: ResourceMarkers[]): void {\n\t\tthis.setChildren(null, Iterable.map(resourceMarkers, m => ({ element: m, children: createResourceMarkersIterator(m) })));\n\t}\n\n\trevealMarkers(activeResource: ResourceMarkers | null, focus: boolean, lastSelectedRelativeTop: number): void {\n\t\tif (activeResource) {\n\t\t\tif (this.hasElement(activeResource)) {\n\t\t\t\tif (!this.isCollapsed(activeResource) && this.hasSelectedMarkerFor(activeResource)) {\n\t\t\t\t\tthis.reveal(this.getSelection()[0], lastSelectedRelativeTop);\n\t\t\t\t\tif (focus) {\n\t\t\t\t\t\tthis.setFocus(this.getSelection());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.expand(activeResource);\n\t\t\t\t\tthis.reveal(activeResource, 0);\n\n\t\t\t\t\tif (focus) {\n\t\t\t\t\t\tthis.setFocus([activeResource]);\n\t\t\t\t\t\tthis.setSelection([activeResource]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (focus) {\n\t\t\tthis.setSelection([]);\n\t\t\tthis.focusFirst();\n\t\t}\n\t}\n\n\tsetAriaLabel(label: string): void {\n\t\tthis.ariaLabel = label;\n\t}\n\n\tsetMarkerSelection(selection?: Marker[], focus?: Marker[]): void {\n\t\tif (this.isVisible()) {\n\t\t\tif (selection && selection.length > 0) {\n\t\t\t\tthis.setSelection(selection.map(m => this.findMarkerNode(m)));\n\n\t\t\t\tif (focus && focus.length > 0) {\n\t\t\t\t\tthis.setFocus(focus.map(f => this.findMarkerNode(f)));\n\t\t\t\t} else {\n\t\t\t\t\tthis.setFocus([this.findMarkerNode(selection[0])]);\n\t\t\t\t}\n\n\t\t\t\tthis.reveal(this.findMarkerNode(selection[0]));\n\t\t\t} else if (this.getSelection().length === 0) {\n\t\t\t\tconst firstVisibleElement = this.firstVisibleElement;\n\t\t\t\tconst marker = firstVisibleElement ?\n\t\t\t\t\tfirstVisibleElement instanceof ResourceMarkers ? firstVisibleElement.markers[0] :\n\t\t\t\t\t\tfirstVisibleElement instanceof Marker ? firstVisibleElement : undefined\n\t\t\t\t\t: undefined;\n\n\t\t\t\tif (marker) {\n\t\t\t\t\tthis.setSelection([marker]);\n\t\t\t\t\tthis.setFocus([marker]);\n\t\t\t\t\tthis.reveal(marker);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate(resourceMarkers: ResourceMarkers[]): void {\n\t\tfor (const resourceMarker of resourceMarkers) {\n\t\t\tthis.setChildren(resourceMarker, createResourceMarkersIterator(resourceMarker));\n\t\t\tthis.rerender(resourceMarker);\n\t\t}\n\t}\n\n\tupdateMarker(marker: Marker): void {\n\t\tthis.rerender(marker);\n\t}\n\n\tprivate findMarkerNode(marker: Marker) {\n\t\tfor (const resourceNode of this.getNode().children) {\n\t\t\tfor (const markerNode of resourceNode.children) {\n\t\t\t\tif (markerNode.element instanceof Marker && markerNode.element.marker === marker.marker) {\n\t\t\t\t\treturn markerNode.element;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate hasSelectedMarkerFor(resource: ResourceMarkers): boolean {\n\t\tconst selectedElement = this.getSelection();\n\t\tif (selectedElement && selectedElement.length > 0) {\n\t\t\tif (selectedElement[0] instanceof Marker) {\n\t\t\t\tif (resource.has((<Marker>selectedElement[0]).marker.resource)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\toverride layout(height: number, width: number): void {\n\t\tthis.container.style.height = `${height}px`;\n\t\tsuper.layout(height, width);\n\t}\n}\n"]}
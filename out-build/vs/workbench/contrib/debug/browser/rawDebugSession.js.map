{"version":3,"sources":["vs/workbench/contrib/debug/browser/rawDebugSession.ts"],"names":[],"mappings":"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","file":"rawDebugSession.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport * as objects from 'vs/base/common/objects';\nimport { toAction } from 'vs/base/common/actions';\nimport * as errors from 'vs/base/common/errors';\nimport { createErrorWithActions } from 'vs/base/common/errorMessage';\nimport { formatPII, isUri } from 'vs/workbench/contrib/debug/common/debugUtils';\nimport { IDebugAdapter, IConfig, AdapterEndEvent, IDebugger } from 'vs/workbench/contrib/debug/common/debug';\nimport { IExtensionHostDebugService, IOpenExtensionWindowResult } from 'vs/platform/debug/common/extensionHostDebug';\nimport { URI } from 'vs/base/common/uri';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { INotificationService, Severity } from 'vs/platform/notification/common/notification';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { Schemas } from 'vs/base/common/network';\n\n/**\n * This interface represents a single command line argument split into a \"prefix\" and a \"path\" half.\n * The optional \"prefix\" contains arbitrary text and the optional \"path\" contains a file system path.\n * Concatenating both results in the original command line argument.\n */\ninterface ILaunchVSCodeArgument {\n\tprefix?: string;\n\tpath?: string;\n}\n\ninterface ILaunchVSCodeArguments {\n\targs: ILaunchVSCodeArgument[];\n\tdebugRenderer?: boolean;\n\tenv?: { [key: string]: string | null };\n}\n\n/**\n * Encapsulates the DebugAdapter lifecycle and some idiosyncrasies of the Debug Adapter Protocol.\n */\nexport class RawDebugSession implements IDisposable {\n\n\tprivate allThreadsContinued = true;\n\tprivate _readyForBreakpoints = false;\n\tprivate _capabilities: DebugProtocol.Capabilities;\n\n\t// shutdown\n\tprivate debugAdapterStopped = false;\n\tprivate inShutdown = false;\n\tprivate terminated = false;\n\tprivate firedAdapterExitEvent = false;\n\n\t// telemetry\n\tprivate startTime = 0;\n\tprivate didReceiveStoppedEvent = false;\n\n\t// DAP events\n\tprivate readonly _onDidInitialize = new Emitter<DebugProtocol.InitializedEvent>();\n\tprivate readonly _onDidStop = new Emitter<DebugProtocol.StoppedEvent>();\n\tprivate readonly _onDidContinued = new Emitter<DebugProtocol.ContinuedEvent>();\n\tprivate readonly _onDidTerminateDebugee = new Emitter<DebugProtocol.TerminatedEvent>();\n\tprivate readonly _onDidExitDebugee = new Emitter<DebugProtocol.ExitedEvent>();\n\tprivate readonly _onDidThread = new Emitter<DebugProtocol.ThreadEvent>();\n\tprivate readonly _onDidOutput = new Emitter<DebugProtocol.OutputEvent>();\n\tprivate readonly _onDidBreakpoint = new Emitter<DebugProtocol.BreakpointEvent>();\n\tprivate readonly _onDidLoadedSource = new Emitter<DebugProtocol.LoadedSourceEvent>();\n\tprivate readonly _onDidProgressStart = new Emitter<DebugProtocol.ProgressStartEvent>();\n\tprivate readonly _onDidProgressUpdate = new Emitter<DebugProtocol.ProgressUpdateEvent>();\n\tprivate readonly _onDidProgressEnd = new Emitter<DebugProtocol.ProgressEndEvent>();\n\tprivate readonly _onDidInvalidated = new Emitter<DebugProtocol.InvalidatedEvent>();\n\tprivate readonly _onDidInvalidateMemory = new Emitter<DebugProtocol.MemoryEvent>();\n\tprivate readonly _onDidCustomEvent = new Emitter<DebugProtocol.Event>();\n\tprivate readonly _onDidEvent = new Emitter<DebugProtocol.Event>();\n\n\t// DA events\n\tprivate readonly _onDidExitAdapter = new Emitter<AdapterEndEvent>();\n\tprivate debugAdapter: IDebugAdapter | null;\n\tprivate stoppedSinceLastStep = false;\n\n\tprivate toDispose: IDisposable[] = [];\n\n\tconstructor(\n\t\tdebugAdapter: IDebugAdapter,\n\t\tpublic readonly dbgr: IDebugger,\n\t\tprivate readonly sessionId: string,\n\t\tprivate readonly name: string,\n\t\t@IExtensionHostDebugService private readonly extensionHostDebugService: IExtensionHostDebugService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IDialogService private readonly dialogSerivce: IDialogService,\n\t) {\n\t\tthis.debugAdapter = debugAdapter;\n\t\tthis._capabilities = Object.create(null);\n\n\t\tthis.toDispose.push(this.debugAdapter.onError(err => {\n\t\t\tthis.shutdown(err);\n\t\t}));\n\n\t\tthis.toDispose.push(this.debugAdapter.onExit(code => {\n\t\t\tif (code !== 0) {\n\t\t\t\tthis.shutdown(new Error(`exit code: ${code}`));\n\t\t\t} else {\n\t\t\t\t// normal exit\n\t\t\t\tthis.shutdown();\n\t\t\t}\n\t\t}));\n\n\t\tthis.debugAdapter.onEvent(event => {\n\t\t\tswitch (event.event) {\n\t\t\t\tcase 'initialized':\n\t\t\t\t\tthis._readyForBreakpoints = true;\n\t\t\t\t\tthis._onDidInitialize.fire(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'loadedSource':\n\t\t\t\t\tthis._onDidLoadedSource.fire(<DebugProtocol.LoadedSourceEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'capabilities':\n\t\t\t\t\tif (event.body) {\n\t\t\t\t\t\tconst capabilities = (<DebugProtocol.CapabilitiesEvent>event).body.capabilities;\n\t\t\t\t\t\tthis.mergeCapabilities(capabilities);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'stopped':\n\t\t\t\t\tthis.didReceiveStoppedEvent = true;\t\t// telemetry: remember that debugger stopped successfully\n\t\t\t\t\tthis.stoppedSinceLastStep = true;\n\t\t\t\t\tthis._onDidStop.fire(<DebugProtocol.StoppedEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'continued':\n\t\t\t\t\tthis.allThreadsContinued = (<DebugProtocol.ContinuedEvent>event).body.allThreadsContinued === false ? false : true;\n\t\t\t\t\tthis._onDidContinued.fire(<DebugProtocol.ContinuedEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'thread':\n\t\t\t\t\tthis._onDidThread.fire(<DebugProtocol.ThreadEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'output':\n\t\t\t\t\tthis._onDidOutput.fire(<DebugProtocol.OutputEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'breakpoint':\n\t\t\t\t\tthis._onDidBreakpoint.fire(<DebugProtocol.BreakpointEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'terminated':\n\t\t\t\t\tthis._onDidTerminateDebugee.fire(<DebugProtocol.TerminatedEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'exited':\n\t\t\t\t\tthis._onDidExitDebugee.fire(<DebugProtocol.ExitedEvent>event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progressStart':\n\t\t\t\t\tthis._onDidProgressStart.fire(event as DebugProtocol.ProgressStartEvent);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progressUpdate':\n\t\t\t\t\tthis._onDidProgressUpdate.fire(event as DebugProtocol.ProgressUpdateEvent);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progressEnd':\n\t\t\t\t\tthis._onDidProgressEnd.fire(event as DebugProtocol.ProgressEndEvent);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'invalidated':\n\t\t\t\t\tthis._onDidInvalidated.fire(event as DebugProtocol.InvalidatedEvent);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'memory':\n\t\t\t\t\tthis._onDidInvalidateMemory.fire(event as DebugProtocol.MemoryEvent);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'process':\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'module':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis._onDidCustomEvent.fire(event);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._onDidEvent.fire(event);\n\t\t});\n\n\t\tthis.debugAdapter.onRequest(request => this.dispatchRequest(request));\n\t}\n\n\tget isInShutdown() {\n\t\treturn this.inShutdown;\n\t}\n\n\tget onDidExitAdapter(): Event<AdapterEndEvent> {\n\t\treturn this._onDidExitAdapter.event;\n\t}\n\n\tget capabilities(): DebugProtocol.Capabilities {\n\t\treturn this._capabilities;\n\t}\n\n\t/**\n\t * DA is ready to accepts setBreakpoint requests.\n\t * Becomes true after \"initialized\" events has been received.\n\t */\n\tget readyForBreakpoints(): boolean {\n\t\treturn this._readyForBreakpoints;\n\t}\n\n\t//---- DAP events\n\n\tget onDidInitialize(): Event<DebugProtocol.InitializedEvent> {\n\t\treturn this._onDidInitialize.event;\n\t}\n\n\tget onDidStop(): Event<DebugProtocol.StoppedEvent> {\n\t\treturn this._onDidStop.event;\n\t}\n\n\tget onDidContinued(): Event<DebugProtocol.ContinuedEvent> {\n\t\treturn this._onDidContinued.event;\n\t}\n\n\tget onDidTerminateDebugee(): Event<DebugProtocol.TerminatedEvent> {\n\t\treturn this._onDidTerminateDebugee.event;\n\t}\n\n\tget onDidExitDebugee(): Event<DebugProtocol.ExitedEvent> {\n\t\treturn this._onDidExitDebugee.event;\n\t}\n\n\tget onDidThread(): Event<DebugProtocol.ThreadEvent> {\n\t\treturn this._onDidThread.event;\n\t}\n\n\tget onDidOutput(): Event<DebugProtocol.OutputEvent> {\n\t\treturn this._onDidOutput.event;\n\t}\n\n\tget onDidBreakpoint(): Event<DebugProtocol.BreakpointEvent> {\n\t\treturn this._onDidBreakpoint.event;\n\t}\n\n\tget onDidLoadedSource(): Event<DebugProtocol.LoadedSourceEvent> {\n\t\treturn this._onDidLoadedSource.event;\n\t}\n\n\tget onDidCustomEvent(): Event<DebugProtocol.Event> {\n\t\treturn this._onDidCustomEvent.event;\n\t}\n\n\tget onDidProgressStart(): Event<DebugProtocol.ProgressStartEvent> {\n\t\treturn this._onDidProgressStart.event;\n\t}\n\n\tget onDidProgressUpdate(): Event<DebugProtocol.ProgressUpdateEvent> {\n\t\treturn this._onDidProgressUpdate.event;\n\t}\n\n\tget onDidProgressEnd(): Event<DebugProtocol.ProgressEndEvent> {\n\t\treturn this._onDidProgressEnd.event;\n\t}\n\n\tget onDidInvalidated(): Event<DebugProtocol.InvalidatedEvent> {\n\t\treturn this._onDidInvalidated.event;\n\t}\n\n\tget onDidInvalidateMemory(): Event<DebugProtocol.MemoryEvent> {\n\t\treturn this._onDidInvalidateMemory.event;\n\t}\n\n\tget onDidEvent(): Event<DebugProtocol.Event> {\n\t\treturn this._onDidEvent.event;\n\t}\n\n\t//---- DebugAdapter lifecycle\n\n\t/**\n\t * Starts the underlying debug adapter and tracks the session time for telemetry.\n\t */\n\tasync start(): Promise<void> {\n\t\tif (!this.debugAdapter) {\n\t\t\treturn Promise.reject(new Error(nls.localize('noDebugAdapterStart', \"No debug adapter, can not start debug session.\")));\n\t\t}\n\n\t\tawait this.debugAdapter.startSession();\n\t\tthis.startTime = new Date().getTime();\n\t}\n\n\t/**\n\t * Send client capabilities to the debug adapter and receive DA capabilities in return.\n\t */\n\tasync initialize(args: DebugProtocol.InitializeRequestArguments): Promise<DebugProtocol.InitializeResponse | undefined> {\n\t\tconst response = await this.send('initialize', args, undefined, undefined, false);\n\t\tif (response) {\n\t\t\tthis.mergeCapabilities(response.body);\n\t\t}\n\n\t\treturn response;\n\t}\n\n\t/**\n\t * Terminate the debuggee and shutdown the adapter\n\t */\n\tdisconnect(args: DebugProtocol.DisconnectArguments): Promise<any> {\n\t\tconst terminateDebuggee = this.capabilities.supportTerminateDebuggee ? args.terminateDebuggee : undefined;\n\t\tconst suspendDebuggee = this.capabilities.supportTerminateDebuggee && this.capabilities.supportSuspendDebuggee ? args.suspendDebuggee : undefined;\n\t\treturn this.shutdown(undefined, args.restart, terminateDebuggee, suspendDebuggee);\n\t}\n\n\t//---- DAP requests\n\n\tasync launchOrAttach(config: IConfig): Promise<DebugProtocol.Response | undefined> {\n\t\tconst response = await this.send(config.request, config, undefined, undefined, false);\n\t\tif (response) {\n\t\t\tthis.mergeCapabilities(response.body);\n\t\t}\n\n\t\treturn response;\n\t}\n\n\t/**\n\t * Try killing the debuggee softly...\n\t */\n\tterminate(restart = false): Promise<DebugProtocol.TerminateResponse | undefined> {\n\t\tif (this.capabilities.supportsTerminateRequest) {\n\t\t\tif (!this.terminated) {\n\t\t\t\tthis.terminated = true;\n\t\t\t\treturn this.send('terminate', { restart }, undefined);\n\t\t\t}\n\t\t\treturn this.disconnect({ terminateDebuggee: true, restart });\n\t\t}\n\t\treturn Promise.reject(new Error('terminated not supported'));\n\t}\n\n\trestart(args: DebugProtocol.RestartArguments): Promise<DebugProtocol.RestartResponse | undefined> {\n\t\tif (this.capabilities.supportsRestartRequest) {\n\t\t\treturn this.send('restart', args);\n\t\t}\n\t\treturn Promise.reject(new Error('restart not supported'));\n\t}\n\n\tasync next(args: DebugProtocol.NextArguments): Promise<DebugProtocol.NextResponse | undefined> {\n\t\tthis.stoppedSinceLastStep = false;\n\t\tconst response = await this.send('next', args);\n\t\tif (!this.stoppedSinceLastStep) {\n\t\t\tthis.fireSimulatedContinuedEvent(args.threadId);\n\t\t}\n\t\treturn response;\n\t}\n\n\tasync stepIn(args: DebugProtocol.StepInArguments): Promise<DebugProtocol.StepInResponse | undefined> {\n\t\tthis.stoppedSinceLastStep = false;\n\t\tconst response = await this.send('stepIn', args);\n\t\tif (!this.stoppedSinceLastStep) {\n\t\t\tthis.fireSimulatedContinuedEvent(args.threadId);\n\t\t}\n\t\treturn response;\n\t}\n\n\tasync stepOut(args: DebugProtocol.StepOutArguments): Promise<DebugProtocol.StepOutResponse | undefined> {\n\t\tthis.stoppedSinceLastStep = false;\n\t\tconst response = await this.send('stepOut', args);\n\t\tif (!this.stoppedSinceLastStep) {\n\t\t\tthis.fireSimulatedContinuedEvent(args.threadId);\n\t\t}\n\t\treturn response;\n\t}\n\n\tasync continue(args: DebugProtocol.ContinueArguments): Promise<DebugProtocol.ContinueResponse | undefined> {\n\t\tthis.stoppedSinceLastStep = false;\n\t\tconst response = await this.send<DebugProtocol.ContinueResponse>('continue', args);\n\t\tif (response && response.body && response.body.allThreadsContinued !== undefined) {\n\t\t\tthis.allThreadsContinued = response.body.allThreadsContinued;\n\t\t}\n\t\tif (!this.stoppedSinceLastStep) {\n\t\t\tthis.fireSimulatedContinuedEvent(args.threadId, this.allThreadsContinued);\n\t\t}\n\n\t\treturn response;\n\t}\n\n\tpause(args: DebugProtocol.PauseArguments): Promise<DebugProtocol.PauseResponse | undefined> {\n\t\treturn this.send('pause', args);\n\t}\n\n\tterminateThreads(args: DebugProtocol.TerminateThreadsArguments): Promise<DebugProtocol.TerminateThreadsResponse | undefined> {\n\t\tif (this.capabilities.supportsTerminateThreadsRequest) {\n\t\t\treturn this.send('terminateThreads', args);\n\t\t}\n\t\treturn Promise.reject(new Error('terminateThreads not supported'));\n\t}\n\n\tsetVariable(args: DebugProtocol.SetVariableArguments): Promise<DebugProtocol.SetVariableResponse | undefined> {\n\t\tif (this.capabilities.supportsSetVariable) {\n\t\t\treturn this.send<DebugProtocol.SetVariableResponse>('setVariable', args);\n\t\t}\n\t\treturn Promise.reject(new Error('setVariable not supported'));\n\t}\n\n\tsetExpression(args: DebugProtocol.SetExpressionArguments): Promise<DebugProtocol.SetExpressionResponse | undefined> {\n\t\tif (this.capabilities.supportsSetExpression) {\n\t\t\treturn this.send<DebugProtocol.SetExpressionResponse>('setExpression', args);\n\t\t}\n\t\treturn Promise.reject(new Error('setExpression not supported'));\n\t}\n\n\tasync restartFrame(args: DebugProtocol.RestartFrameArguments, threadId: number): Promise<DebugProtocol.RestartFrameResponse | undefined> {\n\t\tif (this.capabilities.supportsRestartFrame) {\n\t\t\tthis.stoppedSinceLastStep = false;\n\t\t\tconst response = await this.send('restartFrame', args);\n\t\t\tif (!this.stoppedSinceLastStep) {\n\t\t\t\tthis.fireSimulatedContinuedEvent(threadId);\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t\treturn Promise.reject(new Error('restartFrame not supported'));\n\t}\n\n\tstepInTargets(args: DebugProtocol.StepInTargetsArguments): Promise<DebugProtocol.StepInTargetsResponse | undefined> {\n\t\tif (this.capabilities.supportsStepInTargetsRequest) {\n\t\t\treturn this.send('stepInTargets', args);\n\t\t}\n\t\treturn Promise.reject(new Error('stepInTargets not supported'));\n\t}\n\n\tcompletions(args: DebugProtocol.CompletionsArguments, token: CancellationToken): Promise<DebugProtocol.CompletionsResponse | undefined> {\n\t\tif (this.capabilities.supportsCompletionsRequest) {\n\t\t\treturn this.send<DebugProtocol.CompletionsResponse>('completions', args, token);\n\t\t}\n\t\treturn Promise.reject(new Error('completions not supported'));\n\t}\n\n\tsetBreakpoints(args: DebugProtocol.SetBreakpointsArguments): Promise<DebugProtocol.SetBreakpointsResponse | undefined> {\n\t\treturn this.send<DebugProtocol.SetBreakpointsResponse>('setBreakpoints', args);\n\t}\n\n\tsetFunctionBreakpoints(args: DebugProtocol.SetFunctionBreakpointsArguments): Promise<DebugProtocol.SetFunctionBreakpointsResponse | undefined> {\n\t\tif (this.capabilities.supportsFunctionBreakpoints) {\n\t\t\treturn this.send<DebugProtocol.SetFunctionBreakpointsResponse>('setFunctionBreakpoints', args);\n\t\t}\n\t\treturn Promise.reject(new Error('setFunctionBreakpoints not supported'));\n\t}\n\n\tdataBreakpointInfo(args: DebugProtocol.DataBreakpointInfoArguments): Promise<DebugProtocol.DataBreakpointInfoResponse | undefined> {\n\t\tif (this.capabilities.supportsDataBreakpoints) {\n\t\t\treturn this.send<DebugProtocol.DataBreakpointInfoResponse>('dataBreakpointInfo', args);\n\t\t}\n\t\treturn Promise.reject(new Error('dataBreakpointInfo not supported'));\n\t}\n\n\tsetDataBreakpoints(args: DebugProtocol.SetDataBreakpointsArguments): Promise<DebugProtocol.SetDataBreakpointsResponse | undefined> {\n\t\tif (this.capabilities.supportsDataBreakpoints) {\n\t\t\treturn this.send<DebugProtocol.SetDataBreakpointsResponse>('setDataBreakpoints', args);\n\t\t}\n\t\treturn Promise.reject(new Error('setDataBreakpoints not supported'));\n\t}\n\n\tsetExceptionBreakpoints(args: DebugProtocol.SetExceptionBreakpointsArguments): Promise<DebugProtocol.SetExceptionBreakpointsResponse | undefined> {\n\t\treturn this.send<DebugProtocol.SetExceptionBreakpointsResponse>('setExceptionBreakpoints', args);\n\t}\n\n\tbreakpointLocations(args: DebugProtocol.BreakpointLocationsArguments): Promise<DebugProtocol.BreakpointLocationsResponse | undefined> {\n\t\tif (this.capabilities.supportsBreakpointLocationsRequest) {\n\t\t\treturn this.send('breakpointLocations', args);\n\t\t}\n\t\treturn Promise.reject(new Error('breakpointLocations is not supported'));\n\t}\n\n\tconfigurationDone(): Promise<DebugProtocol.ConfigurationDoneResponse | undefined> {\n\t\tif (this.capabilities.supportsConfigurationDoneRequest) {\n\t\t\treturn this.send('configurationDone', null);\n\t\t}\n\t\treturn Promise.reject(new Error('configurationDone not supported'));\n\t}\n\n\tstackTrace(args: DebugProtocol.StackTraceArguments, token: CancellationToken): Promise<DebugProtocol.StackTraceResponse | undefined> {\n\t\treturn this.send<DebugProtocol.StackTraceResponse>('stackTrace', args, token);\n\t}\n\n\texceptionInfo(args: DebugProtocol.ExceptionInfoArguments): Promise<DebugProtocol.ExceptionInfoResponse | undefined> {\n\t\tif (this.capabilities.supportsExceptionInfoRequest) {\n\t\t\treturn this.send<DebugProtocol.ExceptionInfoResponse>('exceptionInfo', args);\n\t\t}\n\t\treturn Promise.reject(new Error('exceptionInfo not supported'));\n\t}\n\n\tscopes(args: DebugProtocol.ScopesArguments, token: CancellationToken): Promise<DebugProtocol.ScopesResponse | undefined> {\n\t\treturn this.send<DebugProtocol.ScopesResponse>('scopes', args, token);\n\t}\n\n\tvariables(args: DebugProtocol.VariablesArguments, token?: CancellationToken): Promise<DebugProtocol.VariablesResponse | undefined> {\n\t\treturn this.send<DebugProtocol.VariablesResponse>('variables', args, token);\n\t}\n\n\tsource(args: DebugProtocol.SourceArguments): Promise<DebugProtocol.SourceResponse | undefined> {\n\t\treturn this.send<DebugProtocol.SourceResponse>('source', args);\n\t}\n\n\tloadedSources(args: DebugProtocol.LoadedSourcesArguments): Promise<DebugProtocol.LoadedSourcesResponse | undefined> {\n\t\tif (this.capabilities.supportsLoadedSourcesRequest) {\n\t\t\treturn this.send<DebugProtocol.LoadedSourcesResponse>('loadedSources', args);\n\t\t}\n\t\treturn Promise.reject(new Error('loadedSources not supported'));\n\t}\n\n\tthreads(): Promise<DebugProtocol.ThreadsResponse | undefined> {\n\t\treturn this.send<DebugProtocol.ThreadsResponse>('threads', null);\n\t}\n\n\tevaluate(args: DebugProtocol.EvaluateArguments): Promise<DebugProtocol.EvaluateResponse | undefined> {\n\t\treturn this.send<DebugProtocol.EvaluateResponse>('evaluate', args);\n\t}\n\n\tasync stepBack(args: DebugProtocol.StepBackArguments): Promise<DebugProtocol.StepBackResponse | undefined> {\n\t\tif (this.capabilities.supportsStepBack) {\n\t\t\tthis.stoppedSinceLastStep = false;\n\t\t\tconst response = await this.send('stepBack', args);\n\t\t\tif (!this.stoppedSinceLastStep) {\n\t\t\t\tthis.fireSimulatedContinuedEvent(args.threadId);\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t\treturn Promise.reject(new Error('stepBack not supported'));\n\t}\n\n\tasync reverseContinue(args: DebugProtocol.ReverseContinueArguments): Promise<DebugProtocol.ReverseContinueResponse | undefined> {\n\t\tif (this.capabilities.supportsStepBack) {\n\t\t\tthis.stoppedSinceLastStep = false;\n\t\t\tconst response = await this.send('reverseContinue', args);\n\t\t\tif (!this.stoppedSinceLastStep) {\n\t\t\t\tthis.fireSimulatedContinuedEvent(args.threadId);\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t\treturn Promise.reject(new Error('reverseContinue not supported'));\n\t}\n\n\tgotoTargets(args: DebugProtocol.GotoTargetsArguments): Promise<DebugProtocol.GotoTargetsResponse | undefined> {\n\t\tif (this.capabilities.supportsGotoTargetsRequest) {\n\t\t\treturn this.send('gotoTargets', args);\n\t\t}\n\t\treturn Promise.reject(new Error('gotoTargets is not supported'));\n\t}\n\n\tasync goto(args: DebugProtocol.GotoArguments): Promise<DebugProtocol.GotoResponse | undefined> {\n\t\tif (this.capabilities.supportsGotoTargetsRequest) {\n\t\t\tthis.stoppedSinceLastStep = false;\n\t\t\tconst response = await this.send('goto', args);\n\t\t\tif (!this.stoppedSinceLastStep) {\n\t\t\t\tthis.fireSimulatedContinuedEvent(args.threadId);\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\n\t\treturn Promise.reject(new Error('goto is not supported'));\n\t}\n\n\tasync setInstructionBreakpoints(args: DebugProtocol.SetInstructionBreakpointsArguments): Promise<DebugProtocol.SetInstructionBreakpointsResponse | undefined> {\n\t\tif (this.capabilities.supportsInstructionBreakpoints) {\n\t\t\treturn await this.send('setInstructionBreakpoints', args);\n\t\t}\n\n\t\treturn Promise.reject(new Error('setInstructionBreakpoints is not supported'));\n\t}\n\n\tasync disassemble(args: DebugProtocol.DisassembleArguments): Promise<DebugProtocol.DisassembleResponse | undefined> {\n\t\tif (this.capabilities.supportsDisassembleRequest) {\n\t\t\treturn await this.send('disassemble', args);\n\t\t}\n\n\t\treturn Promise.reject(new Error('disassemble is not supported'));\n\t}\n\n\tasync readMemory(args: DebugProtocol.ReadMemoryArguments): Promise<DebugProtocol.ReadMemoryResponse | undefined> {\n\t\tif (this.capabilities.supportsReadMemoryRequest) {\n\t\t\treturn await this.send('readMemory', args);\n\t\t}\n\n\t\treturn Promise.reject(new Error('readMemory is not supported'));\n\t}\n\n\tasync writeMemory(args: DebugProtocol.WriteMemoryArguments): Promise<DebugProtocol.WriteMemoryResponse | undefined> {\n\t\tif (this.capabilities.supportsWriteMemoryRequest) {\n\t\t\treturn await this.send('writeMemory', args);\n\t\t}\n\n\t\treturn Promise.reject(new Error('writeMemory is not supported'));\n\t}\n\n\tcancel(args: DebugProtocol.CancelArguments): Promise<DebugProtocol.CancelResponse | undefined> {\n\t\treturn this.send('cancel', args);\n\t}\n\n\tcustom(request: string, args: any): Promise<DebugProtocol.Response | undefined> {\n\t\treturn this.send(request, args);\n\t}\n\n\t//---- private\n\n\tprivate async shutdown(error?: Error, restart = false, terminateDebuggee: boolean | undefined = undefined, suspendDebuggee: boolean | undefined = undefined): Promise<any> {\n\t\tif (!this.inShutdown) {\n\t\t\tthis.inShutdown = true;\n\t\t\tif (this.debugAdapter) {\n\t\t\t\ttry {\n\t\t\t\t\tconst args: DebugProtocol.DisconnectArguments = { restart };\n\t\t\t\t\tif (typeof terminateDebuggee === 'boolean') {\n\t\t\t\t\t\targs.terminateDebuggee = terminateDebuggee;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof suspendDebuggee === 'boolean') {\n\t\t\t\t\t\targs.suspendDebuggee = suspendDebuggee;\n\t\t\t\t\t}\n\n\t\t\t\t\t// if there's an error, the DA is probably already gone, so give it a much shorter timeout.\n\t\t\t\t\tawait this.send('disconnect', args, undefined, error ? 200 : 2000);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Catch the potential 'disconnect' error - no need to show it to the user since the adapter is shutting down\n\t\t\t\t} finally {\n\t\t\t\t\tawait this.stopAdapter(error);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn this.stopAdapter(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async stopAdapter(error?: Error): Promise<any> {\n\t\ttry {\n\t\t\tif (this.debugAdapter) {\n\t\t\t\tconst da = this.debugAdapter;\n\t\t\t\tthis.debugAdapter = null;\n\t\t\t\tawait da.stopSession();\n\t\t\t\tthis.debugAdapterStopped = true;\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.fireAdapterExitEvent(error);\n\t\t}\n\t}\n\n\tprivate fireAdapterExitEvent(error?: Error): void {\n\t\tif (!this.firedAdapterExitEvent) {\n\t\t\tthis.firedAdapterExitEvent = true;\n\n\t\t\tconst e: AdapterEndEvent = {\n\t\t\t\temittedStopped: this.didReceiveStoppedEvent,\n\t\t\t\tsessionLengthInSeconds: (new Date().getTime() - this.startTime) / 1000\n\t\t\t};\n\t\t\tif (error && !this.debugAdapterStopped) {\n\t\t\t\te.error = error;\n\t\t\t}\n\t\t\tthis._onDidExitAdapter.fire(e);\n\t\t}\n\t}\n\n\tprivate async dispatchRequest(request: DebugProtocol.Request): Promise<void> {\n\n\t\tconst response: DebugProtocol.Response = {\n\t\t\ttype: 'response',\n\t\t\tseq: 0,\n\t\t\tcommand: request.command,\n\t\t\trequest_seq: request.seq,\n\t\t\tsuccess: true\n\t\t};\n\n\t\tconst safeSendResponse = (response: DebugProtocol.Response) => this.debugAdapter && this.debugAdapter.sendResponse(response);\n\n\t\tif (request.command === 'launchVSCode') {\n\t\t\ttry {\n\t\t\t\tlet result = await this.launchVsCode(<ILaunchVSCodeArguments>request.arguments);\n\t\t\t\tif (!result.success) {\n\t\t\t\t\tconst { confirmed } = await this.dialogSerivce.confirm({\n\t\t\t\t\t\ttype: Severity.Warning,\n\t\t\t\t\t\tmessage: nls.localize('canNotStart', \"The debugger needs to open a new tab or window for the debuggee but the browser prevented this. You must give permission to continue.\"),\n\t\t\t\t\t\tprimaryButton: nls.localize({ key: 'continue', comment: ['&& denotes a mnemonic'] }, \"&&Continue\")\n\t\t\t\t\t});\n\t\t\t\t\tif (confirmed) {\n\t\t\t\t\t\tresult = await this.launchVsCode(<ILaunchVSCodeArguments>request.arguments);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse.success = false;\n\t\t\t\t\t\tsafeSendResponse(response);\n\t\t\t\t\t\tawait this.shutdown();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresponse.body = {\n\t\t\t\t\trendererDebugPort: result.rendererDebugPort,\n\t\t\t\t};\n\t\t\t\tsafeSendResponse(response);\n\t\t\t} catch (err) {\n\t\t\t\tresponse.success = false;\n\t\t\t\tresponse.message = err.message;\n\t\t\t\tsafeSendResponse(response);\n\t\t\t}\n\t\t} else if (request.command === 'runInTerminal') {\n\t\t\ttry {\n\t\t\t\tconst shellProcessId = await this.dbgr.runInTerminal(request.arguments as DebugProtocol.RunInTerminalRequestArguments, this.sessionId);\n\t\t\t\tconst resp = response as DebugProtocol.RunInTerminalResponse;\n\t\t\t\tresp.body = {};\n\t\t\t\tif (typeof shellProcessId === 'number') {\n\t\t\t\t\tresp.body.shellProcessId = shellProcessId;\n\t\t\t\t}\n\t\t\t\tsafeSendResponse(resp);\n\t\t\t} catch (err) {\n\t\t\t\tresponse.success = false;\n\t\t\t\tresponse.message = err.message;\n\t\t\t\tsafeSendResponse(response);\n\t\t\t}\n\t\t} else if (request.command === 'startDebugging') {\n\t\t\ttry {\n\t\t\t\tconst args = (request.arguments as DebugProtocol.StartDebuggingRequestArguments);\n\t\t\t\tconst config: IConfig = {\n\t\t\t\t\t...args.configuration,\n\t\t\t\t\t...{\n\t\t\t\t\t\trequest: args.request,\n\t\t\t\t\t\ttype: this.dbgr.type,\n\t\t\t\t\t\tname: args.configuration.name || this.name\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst success = await this.dbgr.startDebugging(config, this.sessionId);\n\t\t\t\tif (success) {\n\t\t\t\t\tsafeSendResponse(response);\n\t\t\t\t} else {\n\t\t\t\t\tresponse.success = false;\n\t\t\t\t\tresponse.message = 'Failed to start debugging';\n\t\t\t\t\tsafeSendResponse(response);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tresponse.success = false;\n\t\t\t\tresponse.message = err.message;\n\t\t\t\tsafeSendResponse(response);\n\t\t\t}\n\t\t} else {\n\t\t\tresponse.success = false;\n\t\t\tresponse.message = `unknown request '${request.command}'`;\n\t\t\tsafeSendResponse(response);\n\t\t}\n\t}\n\n\tprivate launchVsCode(vscodeArgs: ILaunchVSCodeArguments): Promise<IOpenExtensionWindowResult> {\n\n\t\tconst args: string[] = [];\n\n\t\tfor (const arg of vscodeArgs.args) {\n\t\t\tconst a2 = (arg.prefix || '') + (arg.path || '');\n\t\t\tconst match = /^--(.+)=(.+)$/.exec(a2);\n\t\t\tif (match && match.length === 3) {\n\t\t\t\tconst key = match[1];\n\t\t\t\tlet value = match[2];\n\n\t\t\t\tif ((key === 'file-uri' || key === 'folder-uri') && !isUri(arg.path)) {\n\t\t\t\t\tvalue = isUri(value) ? value : URI.file(value).toString();\n\t\t\t\t}\n\t\t\t\targs.push(`--${key}=${value}`);\n\t\t\t} else {\n\t\t\t\targs.push(a2);\n\t\t\t}\n\t\t}\n\n\t\tif (vscodeArgs.env) {\n\t\t\targs.push(`--extensionEnvironment=${JSON.stringify(vscodeArgs.env)}`);\n\t\t}\n\n\t\treturn this.extensionHostDebugService.openExtensionDevelopmentHostWindow(args, !!vscodeArgs.debugRenderer);\n\t}\n\n\tprivate send<R extends DebugProtocol.Response>(command: string, args: any, token?: CancellationToken, timeout?: number, showErrors = true): Promise<R | undefined> {\n\t\treturn new Promise<DebugProtocol.Response | undefined>((completeDispatch, errorDispatch) => {\n\t\t\tif (!this.debugAdapter) {\n\t\t\t\tif (this.inShutdown) {\n\t\t\t\t\t// We are in shutdown silently complete\n\t\t\t\t\tcompleteDispatch(undefined);\n\t\t\t\t} else {\n\t\t\t\t\terrorDispatch(new Error(nls.localize('noDebugAdapter', \"No debugger available found. Can not send '{0}'.\", command)));\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet cancelationListener: IDisposable;\n\t\t\tconst requestId = this.debugAdapter.sendRequest(command, args, (response: DebugProtocol.Response) => {\n\t\t\t\tcancelationListener?.dispose();\n\n\t\t\t\tif (response.success) {\n\t\t\t\t\tcompleteDispatch(response);\n\t\t\t\t} else {\n\t\t\t\t\terrorDispatch(response);\n\t\t\t\t}\n\t\t\t}, timeout);\n\n\t\t\tif (token) {\n\t\t\t\tcancelationListener = token.onCancellationRequested(() => {\n\t\t\t\t\tcancelationListener.dispose();\n\t\t\t\t\tif (this.capabilities.supportsCancelRequest) {\n\t\t\t\t\t\tthis.cancel({ requestId });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}).then(undefined, err => Promise.reject(this.handleErrorResponse(err, showErrors)));\n\t}\n\n\tprivate handleErrorResponse(errorResponse: DebugProtocol.Response, showErrors: boolean): Error {\n\n\t\tif (errorResponse.command === 'canceled' && errorResponse.message === 'canceled') {\n\t\t\treturn new errors.CancellationError();\n\t\t}\n\n\t\tconst error: DebugProtocol.Message | undefined = errorResponse?.body?.error;\n\t\tconst errorMessage = errorResponse?.message || '';\n\n\t\tconst userMessage = error ? formatPII(error.format, false, error.variables) : errorMessage;\n\t\tconst url = error?.url;\n\t\tif (error && url) {\n\t\t\tconst label = error.urlLabel ? error.urlLabel : nls.localize('moreInfo', \"More Info\");\n\t\t\tconst uri = URI.parse(url);\n\t\t\t// Use a suffixed id if uri invokes a command, so default 'Open launch.json' command is suppressed on dialog\n\t\t\tconst actionId = uri.scheme === Schemas.command ? 'debug.moreInfo.command' : 'debug.moreInfo';\n\t\t\treturn createErrorWithActions(userMessage, [toAction({ id: actionId, label, run: () => this.openerService.open(uri, { allowCommands: true }) })]);\n\t\t}\n\t\tif (showErrors && error && error.format && error.showUser) {\n\t\t\tthis.notificationService.error(userMessage);\n\t\t}\n\t\tconst result = new errors.ErrorNoTelemetry(userMessage);\n\t\t(<any>result).showUser = error?.showUser;\n\n\t\treturn result;\n\t}\n\n\tprivate mergeCapabilities(capabilities: DebugProtocol.Capabilities | undefined): void {\n\t\tif (capabilities) {\n\t\t\tthis._capabilities = objects.mixin(this._capabilities, capabilities);\n\t\t}\n\t}\n\n\tprivate fireSimulatedContinuedEvent(threadId: number, allThreadsContinued = false): void {\n\t\tthis._onDidContinued.fire({\n\t\t\ttype: 'event',\n\t\t\tevent: 'continued',\n\t\t\tbody: {\n\t\t\t\tthreadId,\n\t\t\t\tallThreadsContinued\n\t\t\t},\n\t\t\tseq: undefined!\n\t\t});\n\t}\n\n\tdispose(): void {\n\t\tdispose(this.toDispose);\n\t}\n}\n"]}
{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugQuickAccess.ts"],"names":[],"mappings":"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","file":"debugQuickAccess.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IQuickPickSeparator } from 'vs/platform/quickinput/common/quickInput';\nimport { PickerQuickAccessProvider, IPickerQuickAccessItem, TriggerAction } from 'vs/platform/quickinput/browser/pickerQuickAccess';\nimport { localize } from 'vs/nls';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IDebugService } from 'vs/workbench/contrib/debug/common/debug';\nimport { IWorkspaceContextService, WorkbenchState } from 'vs/platform/workspace/common/workspace';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { matchesFuzzy } from 'vs/base/common/filters';\nimport { ADD_CONFIGURATION_ID, DEBUG_QUICK_ACCESS_PREFIX } from 'vs/workbench/contrib/debug/browser/debugCommands';\nimport { debugConfigure, debugRemoveConfig } from 'vs/workbench/contrib/debug/browser/debugIcons';\nimport { ThemeIcon } from 'vs/base/common/themables';\n\nexport class StartDebugQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\n\tconstructor(\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t) {\n\t\tsuper(DEBUG_QUICK_ACCESS_PREFIX, {\n\t\t\tnoResultsPick: {\n\t\t\t\tlabel: localize('noDebugResults', \"No matching launch configurations\")\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected async _getPicks(filter: string): Promise<(IQuickPickSeparator | IPickerQuickAccessItem)[]> {\n\t\tconst picks: Array<IPickerQuickAccessItem | IQuickPickSeparator> = [];\n\t\tif (!this.debugService.getAdapterManager().hasEnabledDebuggers()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tpicks.push({ type: 'separator', label: 'launch.json' });\n\n\t\tconst configManager = this.debugService.getConfigurationManager();\n\n\t\t// Entries: configs\n\t\tlet lastGroup: string | undefined;\n\t\tfor (const config of configManager.getAllConfigurations()) {\n\t\t\tconst highlights = matchesFuzzy(filter, config.name, true);\n\t\t\tif (highlights) {\n\n\t\t\t\t// Separator\n\t\t\t\tif (lastGroup !== config.presentation?.group) {\n\t\t\t\t\tpicks.push({ type: 'separator' });\n\t\t\t\t\tlastGroup = config.presentation?.group;\n\t\t\t\t}\n\n\t\t\t\t// Launch entry\n\t\t\t\tpicks.push({\n\t\t\t\t\tlabel: config.name,\n\t\t\t\t\tdescription: this.contextService.getWorkbenchState() === WorkbenchState.WORKSPACE ? config.launch.name : '',\n\t\t\t\t\thighlights: { label: highlights },\n\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(debugConfigure),\n\t\t\t\t\t\ttooltip: localize('customizeLaunchConfig', \"Configure Launch Configuration\")\n\t\t\t\t\t}],\n\t\t\t\t\ttrigger: () => {\n\t\t\t\t\t\tconfig.launch.openConfigFile({ preserveFocus: false });\n\n\t\t\t\t\t\treturn TriggerAction.CLOSE_PICKER;\n\t\t\t\t\t},\n\t\t\t\t\taccept: async () => {\n\t\t\t\t\t\tawait configManager.selectConfiguration(config.launch, config.name);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.debugService.startDebugging(config.launch, undefined, { startedByUser: true });\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tthis.notificationService.error(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Entries detected configurations\n\t\tconst dynamicProviders = await configManager.getDynamicProviders();\n\t\tif (dynamicProviders.length > 0) {\n\t\t\tpicks.push({\n\t\t\t\ttype: 'separator', label: localize({\n\t\t\t\t\tkey: 'contributed',\n\t\t\t\t\tcomment: ['contributed is lower case because it looks better like that in UI. Nothing preceeds it. It is a name of the grouping of debug configurations.']\n\t\t\t\t}, \"contributed\")\n\t\t\t});\n\t\t}\n\n\t\tconfigManager.getRecentDynamicConfigurations().forEach(({ name, type }) => {\n\t\t\tconst highlights = matchesFuzzy(filter, name, true);\n\t\t\tif (highlights) {\n\t\t\t\tpicks.push({\n\t\t\t\t\tlabel: name,\n\t\t\t\t\thighlights: { label: highlights },\n\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(debugRemoveConfig),\n\t\t\t\t\t\ttooltip: localize('removeLaunchConfig', \"Remove Launch Configuration\")\n\t\t\t\t\t}],\n\t\t\t\t\ttrigger: () => {\n\t\t\t\t\t\tconfigManager.removeRecentDynamicConfigurations(name, type);\n\t\t\t\t\t\treturn TriggerAction.CLOSE_PICKER;\n\t\t\t\t\t},\n\t\t\t\t\taccept: async () => {\n\t\t\t\t\t\tawait configManager.selectConfiguration(undefined, name, undefined, { type });\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst { launch, getConfig } = configManager.selectedConfiguration;\n\t\t\t\t\t\t\tconst config = await getConfig();\n\t\t\t\t\t\t\tawait this.debugService.startDebugging(launch, config, { startedByUser: true });\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tthis.notificationService.error(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tdynamicProviders.forEach(provider => {\n\t\t\tpicks.push({\n\t\t\t\tlabel: `$(folder) ${provider.label}...`,\n\t\t\t\tariaLabel: localize({ key: 'providerAriaLabel', comment: ['Placeholder stands for the provider label. For example \"NodeJS\".'] }, \"{0} contributed configurations\", provider.label),\n\t\t\t\taccept: async () => {\n\t\t\t\t\tconst pick = await provider.pick();\n\t\t\t\t\tif (pick) {\n\t\t\t\t\t\t// Use the type of the provider, not of the config since config sometimes have subtypes (for example \"node-terminal\")\n\t\t\t\t\t\tawait configManager.selectConfiguration(pick.launch, pick.config.name, pick.config, { type: provider.type });\n\t\t\t\t\t\tthis.debugService.startDebugging(pick.launch, pick.config, { startedByUser: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\n\t\t// Entries: launches\n\t\tconst visibleLaunches = configManager.getLaunches().filter(launch => !launch.hidden);\n\n\t\t// Separator\n\t\tif (visibleLaunches.length > 0) {\n\t\t\tpicks.push({ type: 'separator', label: localize('configure', \"configure\") });\n\t\t}\n\n\t\tfor (const launch of visibleLaunches) {\n\t\t\tconst label = this.contextService.getWorkbenchState() === WorkbenchState.WORKSPACE ?\n\t\t\t\tlocalize(\"addConfigTo\", \"Add Config ({0})...\", launch.name) :\n\t\t\t\tlocalize('addConfiguration', \"Add Configuration...\");\n\n\t\t\t// Add Config entry\n\t\t\tpicks.push({\n\t\t\t\tlabel,\n\t\t\t\tdescription: this.contextService.getWorkbenchState() === WorkbenchState.WORKSPACE ? launch.name : '',\n\t\t\t\thighlights: { label: matchesFuzzy(filter, label, true) ?? undefined },\n\t\t\t\taccept: () => this.commandService.executeCommand(ADD_CONFIGURATION_ID, launch.uri.toString())\n\t\t\t});\n\t\t}\n\n\t\treturn picks;\n\t}\n}\n"]}
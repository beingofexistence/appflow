{"version":3,"sources":["vs/workbench/contrib/files/electron-sandbox/fileActions.contribution.ts"],"names":[],"mappings":"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","file":"fileActions.contribution.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport { URI } from 'vs/base/common/uri';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { isWindows, isMacintosh } from 'vs/base/common/platform';\nimport { Schemas } from 'vs/base/common/network';\nimport { INativeHostService } from 'vs/platform/native/common/native';\nimport { KeybindingsRegistry, KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { EditorContextKeys } from 'vs/editor/common/editorContextKeys';\nimport { KeyMod, KeyCode, KeyChord } from 'vs/base/common/keyCodes';\nimport { ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { getMultiSelectedResources, IExplorerService } from 'vs/workbench/contrib/files/browser/files';\nimport { IListService } from 'vs/platform/list/browser/listService';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { revealResourcesInOS } from 'vs/workbench/contrib/files/electron-sandbox/fileCommands';\nimport { MenuRegistry, MenuId } from 'vs/platform/actions/common/actions';\nimport { ResourceContextKey } from 'vs/workbench/common/contextkeys';\nimport { appendToCommandPalette, appendEditorTitleContextMenuItem } from 'vs/workbench/contrib/files/browser/fileActions.contribution';\nimport { SideBySideEditor, EditorResourceAccessor } from 'vs/workbench/common/editor';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\n\nconst REVEAL_IN_OS_COMMAND_ID = 'revealFileInOS';\nconst REVEAL_IN_OS_LABEL = isWindows ? nls.localize('revealInWindows', \"Reveal in File Explorer\") : isMacintosh ? nls.localize('revealInMac', \"Reveal in Finder\") : nls.localize('openContainer', \"Open Containing Folder\");\nconst REVEAL_IN_OS_WHEN_CONTEXT = ContextKeyExpr.or(ResourceContextKey.Scheme.isEqualTo(Schemas.file), ResourceContextKey.Scheme.isEqualTo(Schemas.vscodeUserData));\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: REVEAL_IN_OS_COMMAND_ID,\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: EditorContextKeys.focus.toNegated(),\n\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyR,\n\twin: {\n\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.KeyR\n\t},\n\thandler: (accessor: ServicesAccessor, resource: URI | object) => {\n\t\tconst resources = getMultiSelectedResources(resource, accessor.get(IListService), accessor.get(IEditorService), accessor.get(IExplorerService));\n\t\trevealResourcesInOS(resources, accessor.get(INativeHostService), accessor.get(IWorkspaceContextService));\n\t}\n});\n\nconst REVEAL_ACTIVE_FILE_IN_OS_COMMAND_ID = 'workbench.action.files.revealActiveFileInWindows';\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tweight: KeybindingWeight.WorkbenchContrib,\n\twhen: undefined,\n\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.KeyR),\n\tid: REVEAL_ACTIVE_FILE_IN_OS_COMMAND_ID,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst activeInput = editorService.activeEditor;\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(activeInput, { filterByScheme: Schemas.file, supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tconst resources = resource ? [resource] : [];\n\t\trevealResourcesInOS(resources, accessor.get(INativeHostService), accessor.get(IWorkspaceContextService));\n\t}\n});\n\nappendEditorTitleContextMenuItem(REVEAL_IN_OS_COMMAND_ID, REVEAL_IN_OS_LABEL, REVEAL_IN_OS_WHEN_CONTEXT, '2_files', 0);\n\n// Menu registration - open editors\n\nconst revealInOsCommand = {\n\tid: REVEAL_IN_OS_COMMAND_ID,\n\ttitle: REVEAL_IN_OS_LABEL\n};\nMenuRegistry.appendMenuItem(MenuId.OpenEditorsContext, {\n\tgroup: 'navigation',\n\torder: 20,\n\tcommand: revealInOsCommand,\n\twhen: REVEAL_IN_OS_WHEN_CONTEXT\n});\nMenuRegistry.appendMenuItem(MenuId.OpenEditorsContextShare, {\n\ttitle: nls.localize('miShare', \"Share\"),\n\tsubmenu: MenuId.MenubarShare,\n\tgroup: 'share',\n\torder: 3,\n});\n\n// Menu registration - explorer\n\nMenuRegistry.appendMenuItem(MenuId.ExplorerContext, {\n\tgroup: 'navigation',\n\torder: 20,\n\tcommand: revealInOsCommand,\n\twhen: REVEAL_IN_OS_WHEN_CONTEXT\n});\n\n// Command Palette\n\nconst category = { value: nls.localize('filesCategory', \"File\"), original: 'File' };\nappendToCommandPalette(REVEAL_IN_OS_COMMAND_ID, { value: REVEAL_IN_OS_LABEL, original: isWindows ? 'Reveal in File Explorer' : isMacintosh ? 'Reveal in Finder' : 'Open Containing Folder' }, category, REVEAL_IN_OS_WHEN_CONTEXT);\n"]}
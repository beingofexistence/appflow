{"version":3,"sources":["vs/workbench/contrib/workspace/browser/workspaceTrustEditor.ts"],"names":[],"mappings":"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","file":"workspaceTrustEditor.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, addDisposableListener, addStandardDisposableListener, append, clearNode, Dimension, EventHelper, EventType, isAncestor } from 'vs/base/browser/dom';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { ButtonBar } from 'vs/base/browser/ui/button/button';\nimport { IMessage, InputBox, MessageType } from 'vs/base/browser/ui/inputbox/inputBox';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { ITableRenderer, ITableVirtualDelegate } from 'vs/base/browser/ui/table/table';\nimport { Action, IAction } from 'vs/base/common/actions';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { debounce } from 'vs/base/common/decorators';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { normalizeDriveLetter } from 'vs/base/common/labels';\nimport { Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { parseLinkedText } from 'vs/base/common/linkedText';\nimport { Schemas } from 'vs/base/common/network';\nimport { ScrollbarVisibility } from 'vs/base/common/scrollable';\nimport { URI } from 'vs/base/common/uri';\nimport { localize } from 'vs/nls';\nimport { ConfigurationScope, Extensions, IConfigurationRegistry } from 'vs/platform/configuration/common/configurationRegistry';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { IFileDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { WorkbenchTable } from 'vs/platform/list/browser/listService';\nimport { Link } from 'vs/platform/opener/browser/link';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { isVirtualResource, isVirtualWorkspace } from 'vs/platform/workspace/common/virtualWorkspace';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { asCssVariable, buttonBackground, buttonSecondaryBackground, editorErrorForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { ISingleFolderWorkspaceIdentifier, IWorkspaceContextService, toWorkspaceIdentifier, WorkbenchState } from 'vs/platform/workspace/common/workspace';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { IWorkspaceTrustManagementService } from 'vs/platform/workspace/common/workspaceTrust';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { IEditorOpenContext } from 'vs/workbench/common/editor';\nimport { debugIconStartForeground } from 'vs/workbench/contrib/debug/browser/debugColors';\nimport { IExtensionsWorkbenchService, LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID } from 'vs/workbench/contrib/extensions/common/extensions';\nimport { IWorkbenchConfigurationService } from 'vs/workbench/services/configuration/common/configuration';\nimport { IExtensionManifestPropertiesService } from 'vs/workbench/services/extensions/common/extensionManifestPropertiesService';\nimport { IUriIdentityService } from 'vs/platform/uriIdentity/common/uriIdentity';\nimport { WorkspaceTrustEditorInput } from 'vs/workbench/services/workspaces/browser/workspaceTrustEditorInput';\nimport { IEditorOptions } from 'vs/platform/editor/common/editor';\nimport { getExtensionDependencies } from 'vs/platform/extensionManagement/common/extensionManagementUtil';\nimport { EnablementState, IWorkbenchExtensionEnablementService } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { posix, win32 } from 'vs/base/common/path';\nimport { hasDriveLetter, toSlashes } from 'vs/base/common/extpath';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { defaultButtonStyles, defaultInputBoxStyles } from 'vs/platform/theme/browser/defaultStyles';\nimport { isMacintosh } from 'vs/base/common/platform';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { ResolvedKeybinding } from 'vs/base/common/keybindings';\nimport { basename, dirname } from 'vs/base/common/resources';\n\nexport const shieldIcon = registerIcon('workspace-trust-banner', Codicon.shield, localize('shieldIcon', 'Icon for workspace trust ion the banner.'));\n\nconst checkListIcon = registerIcon('workspace-trust-editor-check', Codicon.check, localize('checkListIcon', 'Icon for the checkmark in the workspace trust editor.'));\nconst xListIcon = registerIcon('workspace-trust-editor-cross', Codicon.x, localize('xListIcon', 'Icon for the cross in the workspace trust editor.'));\nconst folderPickerIcon = registerIcon('workspace-trust-editor-folder-picker', Codicon.folder, localize('folderPickerIcon', 'Icon for the pick folder icon in the workspace trust editor.'));\nconst editIcon = registerIcon('workspace-trust-editor-edit-folder', Codicon.edit, localize('editIcon', 'Icon for the edit folder icon in the workspace trust editor.'));\nconst removeIcon = registerIcon('workspace-trust-editor-remove-folder', Codicon.close, localize('removeIcon', 'Icon for the remove folder icon in the workspace trust editor.'));\n\ninterface ITrustedUriItem {\n\tparentOfWorkspaceItem: boolean;\n\turi: URI;\n}\n\nclass WorkspaceTrustedUrisTable extends Disposable {\n\tprivate readonly _onDidAcceptEdit: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onDidAcceptEdit: Event<ITrustedUriItem> = this._onDidAcceptEdit.event;\n\n\tprivate readonly _onDidRejectEdit: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onDidRejectEdit: Event<ITrustedUriItem> = this._onDidRejectEdit.event;\n\n\tprivate _onEdit: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onEdit: Event<ITrustedUriItem> = this._onEdit.event;\n\n\tprivate _onDelete: Emitter<ITrustedUriItem> = this._register(new Emitter<ITrustedUriItem>());\n\treadonly onDelete: Event<ITrustedUriItem> = this._onDelete.event;\n\n\tprivate readonly table: WorkbenchTable<ITrustedUriItem>;\n\n\tprivate readonly descriptionElement: HTMLElement;\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkspaceContextService private readonly workspaceService: IWorkspaceContextService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IFileDialogService private readonly fileDialogService: IFileDialogService\n\t) {\n\t\tsuper();\n\n\t\tthis.descriptionElement = container.appendChild($('.workspace-trusted-folders-description'));\n\t\tconst tableElement = container.appendChild($('.trusted-uris-table'));\n\t\tconst addButtonBarElement = container.appendChild($('.trusted-uris-button-bar'));\n\n\t\tthis.table = this.instantiationService.createInstance(\n\t\t\tWorkbenchTable,\n\t\t\t'WorkspaceTrust',\n\t\t\ttableElement,\n\t\t\tnew TrustedUriTableVirtualDelegate(),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('hostColumnLabel', \"Host\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 1,\n\t\t\t\t\ttemplateId: TrustedUriHostColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('pathColumnLabel', \"Path\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 8,\n\t\t\t\t\ttemplateId: TrustedUriPathColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 1,\n\t\t\t\t\tminimumWidth: 75,\n\t\t\t\t\tmaximumWidth: 75,\n\t\t\t\t\ttemplateId: TrustedUriActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: ITrustedUriItem): ITrustedUriItem { return row; }\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(TrustedUriHostColumnRenderer),\n\t\t\t\tthis.instantiationService.createInstance(TrustedUriPathColumnRenderer, this),\n\t\t\t\tthis.instantiationService.createInstance(TrustedUriActionsColumnRenderer, this, this.currentWorkspaceUri),\n\t\t\t],\n\t\t\t{\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t\topenOnSingleClick: false,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel: (item: ITrustedUriItem) => {\n\t\t\t\t\t\tconst hostLabel = getHostLabel(this.labelService, item);\n\t\t\t\t\t\tif (hostLabel === undefined || hostLabel.length === 0) {\n\t\t\t\t\t\t\treturn localize('trustedFolderAriaLabel', \"{0}, trusted\", this.labelService.getUriLabel(item.uri));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn localize('trustedFolderWithHostAriaLabel', \"{0} on {1}, trusted\", this.labelService.getUriLabel(item.uri), hostLabel);\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel: () => localize('trustedFoldersAndWorkspaces', \"Trusted Folders & Workspaces\")\n\t\t\t\t}\n\t\t\t}\n\t\t) as WorkbenchTable<ITrustedUriItem>;\n\n\t\tthis._register(this.table.onDidOpen(item => {\n\t\t\t// default prevented when input box is double clicked #125052\n\t\t\tif (item && item.element && !item.browserEvent?.defaultPrevented) {\n\t\t\t\tthis.edit(item.element, true);\n\t\t\t}\n\t\t}));\n\n\t\tconst buttonBar = this._register(new ButtonBar(addButtonBarElement));\n\t\tconst addButton = this._register(buttonBar.addButton({ title: localize('addButton', \"Add Folder\"), ...defaultButtonStyles }));\n\t\taddButton.label = localize('addButton', \"Add Folder\");\n\n\t\tthis._register(addButton.onDidClick(async () => {\n\t\t\tconst uri = await this.fileDialogService.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: this.currentWorkspaceUri,\n\t\t\t\topenLabel: localize('trustUri', \"Trust Folder\"),\n\t\t\t\ttitle: localize('selectTrustedUri', \"Select Folder To Trust\")\n\t\t\t});\n\n\t\t\tif (uri) {\n\t\t\t\tthis.workspaceTrustManagementService.setUrisTrust(uri, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.workspaceTrustManagementService.onDidChangeTrustedFolders(() => {\n\t\t\tthis.updateTable();\n\t\t}));\n\t}\n\n\tprivate getIndexOfTrustedUriEntry(item: ITrustedUriItem): number {\n\t\tconst index = this.trustedUriEntries.indexOf(item);\n\t\tif (index === -1) {\n\t\t\tfor (let i = 0; i < this.trustedUriEntries.length; i++) {\n\t\t\t\tif (this.trustedUriEntries[i].uri === item.uri) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tprivate selectTrustedUriEntry(item: ITrustedUriItem, focus: boolean = true): void {\n\t\tconst index = this.getIndexOfTrustedUriEntry(item);\n\t\tif (index !== -1) {\n\t\t\tif (focus) {\n\t\t\t\tthis.table.domFocus();\n\t\t\t\tthis.table.setFocus([index]);\n\t\t\t}\n\t\t\tthis.table.setSelection([index]);\n\t\t}\n\t}\n\n\tprivate get currentWorkspaceUri(): URI {\n\t\treturn this.workspaceService.getWorkspace().folders[0]?.uri || URI.file('/');\n\t}\n\n\tprivate get trustedUriEntries(): ITrustedUriItem[] {\n\t\tconst currentWorkspace = this.workspaceService.getWorkspace();\n\t\tconst currentWorkspaceUris = currentWorkspace.folders.map(folder => folder.uri);\n\t\tif (currentWorkspace.configuration) {\n\t\t\tcurrentWorkspaceUris.push(currentWorkspace.configuration);\n\t\t}\n\n\t\tconst entries = this.workspaceTrustManagementService.getTrustedUris().map(uri => {\n\n\t\t\tlet relatedToCurrentWorkspace = false;\n\t\t\tfor (const workspaceUri of currentWorkspaceUris) {\n\t\t\t\trelatedToCurrentWorkspace = relatedToCurrentWorkspace || this.uriService.extUri.isEqualOrParent(workspaceUri, uri);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\turi,\n\t\t\t\tparentOfWorkspaceItem: relatedToCurrentWorkspace\n\t\t\t};\n\t\t});\n\n\t\t// Sort entries\n\t\tconst sortedEntries = entries.sort((a, b) => {\n\t\t\tif (a.uri.scheme !== b.uri.scheme) {\n\t\t\t\tif (a.uri.scheme === Schemas.file) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (b.uri.scheme === Schemas.file) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst aIsWorkspace = a.uri.path.endsWith('.code-workspace');\n\t\t\tconst bIsWorkspace = b.uri.path.endsWith('.code-workspace');\n\n\t\t\tif (aIsWorkspace !== bIsWorkspace) {\n\t\t\t\tif (aIsWorkspace) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (bIsWorkspace) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a.uri.fsPath.localeCompare(b.uri.fsPath);\n\t\t});\n\n\t\treturn sortedEntries;\n\t}\n\n\tlayout(): void {\n\t\tthis.table.layout((this.trustedUriEntries.length * TrustedUriTableVirtualDelegate.ROW_HEIGHT) + TrustedUriTableVirtualDelegate.HEADER_ROW_HEIGHT, undefined);\n\t}\n\n\tupdateTable(): void {\n\t\tconst entries = this.trustedUriEntries;\n\t\tthis.container.classList.toggle('empty', entries.length === 0);\n\n\t\tthis.descriptionElement.innerText = entries.length ?\n\t\t\tlocalize('trustedFoldersDescription', \"You trust the following folders, their subfolders, and workspace files.\") :\n\t\t\tlocalize('noTrustedFoldersDescriptions', \"You haven't trusted any folders or workspace files yet.\");\n\n\t\tthis.table.splice(0, Number.POSITIVE_INFINITY, this.trustedUriEntries);\n\t\tthis.layout();\n\t}\n\n\tvalidateUri(path: string, item?: ITrustedUriItem): IMessage | null {\n\t\tif (!item) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (item.uri.scheme === 'vscode-vfs') {\n\t\t\tconst segments = path.split(posix.sep).filter(s => s.length);\n\t\t\tif (segments.length === 0 && path.startsWith(posix.sep)) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.WARNING,\n\t\t\t\t\tcontent: localize({ key: 'trustAll', comment: ['The {0} will be a host name where repositories are hosted.'] }, \"You will trust all repositories on {0}.\", getHostLabel(this.labelService, item))\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (segments.length === 1) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.WARNING,\n\t\t\t\t\tcontent: localize({ key: 'trustOrg', comment: ['The {0} will be an organization or user name.', 'The {1} will be a host name where repositories are hosted.'] }, \"You will trust all repositories and forks under '{0}' on {1}.\", segments[0], getHostLabel(this.labelService, item))\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (segments.length > 2) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: MessageType.ERROR,\n\t\t\t\t\tcontent: localize('invalidTrust', \"You cannot trust individual folders within a repository.\", path)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tacceptEdit(item: ITrustedUriItem, uri: URI) {\n\t\tconst trustedFolders = this.workspaceTrustManagementService.getTrustedUris();\n\t\tconst index = trustedFolders.findIndex(u => this.uriService.extUri.isEqual(u, item.uri));\n\n\t\tif (index >= trustedFolders.length || index === -1) {\n\t\t\ttrustedFolders.push(uri);\n\t\t} else {\n\t\t\ttrustedFolders[index] = uri;\n\t\t}\n\n\t\tthis.workspaceTrustManagementService.setTrustedUris(trustedFolders);\n\t\tthis._onDidAcceptEdit.fire(item);\n\t}\n\n\trejectEdit(item: ITrustedUriItem) {\n\t\tthis._onDidRejectEdit.fire(item);\n\t}\n\n\tasync delete(item: ITrustedUriItem) {\n\t\tawait this.workspaceTrustManagementService.setUrisTrust([item.uri], false);\n\t\tthis._onDelete.fire(item);\n\t}\n\n\tasync edit(item: ITrustedUriItem, usePickerIfPossible?: boolean) {\n\t\tconst canUseOpenDialog = item.uri.scheme === Schemas.file ||\n\t\t\t(\n\t\t\t\titem.uri.scheme === this.currentWorkspaceUri.scheme &&\n\t\t\t\tthis.uriService.extUri.isEqualAuthority(this.currentWorkspaceUri.authority, item.uri.authority) &&\n\t\t\t\t!isVirtualResource(item.uri)\n\t\t\t);\n\t\tif (canUseOpenDialog && usePickerIfPossible) {\n\t\t\tconst uri = await this.fileDialogService.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: item.uri,\n\t\t\t\topenLabel: localize('trustUri', \"Trust Folder\"),\n\t\t\t\ttitle: localize('selectTrustedUri', \"Select Folder To Trust\")\n\t\t\t});\n\n\t\t\tif (uri) {\n\t\t\t\tthis.acceptEdit(item, uri[0]);\n\t\t\t} else {\n\t\t\t\tthis.rejectEdit(item);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.selectTrustedUriEntry(item);\n\t\t\tthis._onEdit.fire(item);\n\t\t}\n\t}\n}\n\nclass TrustedUriTableVirtualDelegate implements ITableVirtualDelegate<ITrustedUriItem> {\n\tstatic readonly HEADER_ROW_HEIGHT = 30;\n\tstatic readonly ROW_HEIGHT = 24;\n\treadonly headerRowHeight = TrustedUriTableVirtualDelegate.HEADER_ROW_HEIGHT;\n\tgetHeight(item: ITrustedUriItem) {\n\t\treturn TrustedUriTableVirtualDelegate.ROW_HEIGHT;\n\t}\n}\n\ninterface IActionsColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass TrustedUriActionsColumnRenderer implements ITableRenderer<ITrustedUriItem, IActionsColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'actions';\n\n\treadonly templateId: string = TrustedUriActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly table: WorkspaceTrustedUrisTable,\n\t\tprivate readonly currentWorkspaceUri: URI,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService) { }\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst element = container.appendChild($('.actions'));\n\t\tconst actionBar = new ActionBar(element, { animated: false });\n\t\treturn { actionBar };\n\t}\n\n\trenderElement(item: ITrustedUriItem, index: number, templateData: IActionsColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.actionBar.clear();\n\n\t\tconst canUseOpenDialog = item.uri.scheme === Schemas.file ||\n\t\t\t(\n\t\t\t\titem.uri.scheme === this.currentWorkspaceUri.scheme &&\n\t\t\t\tthis.uriService.extUri.isEqualAuthority(this.currentWorkspaceUri.authority, item.uri.authority) &&\n\t\t\t\t!isVirtualResource(item.uri)\n\t\t\t);\n\n\t\tconst actions: IAction[] = [];\n\t\tif (canUseOpenDialog) {\n\t\t\tactions.push(this.createPickerAction(item));\n\t\t}\n\t\tactions.push(this.createEditAction(item));\n\t\tactions.push(this.createDeleteAction(item));\n\t\ttemplateData.actionBar.push(actions, { icon: true });\n\t}\n\n\tprivate createEditAction(item: ITrustedUriItem): IAction {\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(editIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'editTrustedUri',\n\t\t\ttooltip: localize('editTrustedUri', \"Edit Path\"),\n\t\t\trun: () => {\n\t\t\t\tthis.table.edit(item, false);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createPickerAction(item: ITrustedUriItem): IAction {\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(folderPickerIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'pickerTrustedUri',\n\t\t\ttooltip: localize('pickerTrustedUri', \"Open File Picker\"),\n\t\t\trun: () => {\n\t\t\t\tthis.table.edit(item, true);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createDeleteAction(item: ITrustedUriItem): IAction {\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(removeIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'deleteTrustedUri',\n\t\t\ttooltip: localize('deleteTrustedUri', \"Delete Path\"),\n\t\t\trun: async () => {\n\t\t\t\tawait this.table.delete(item);\n\t\t\t}\n\t\t};\n\t}\n\n\tdisposeTemplate(templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n\n}\n\ninterface ITrustedUriPathColumnTemplateData {\n\telement: HTMLElement;\n\tpathLabel: HTMLElement;\n\tpathInput: InputBox;\n\trenderDisposables: DisposableStore;\n\tdisposables: DisposableStore;\n}\n\nclass TrustedUriPathColumnRenderer implements ITableRenderer<ITrustedUriItem, ITrustedUriPathColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'path';\n\n\treadonly templateId: string = TrustedUriPathColumnRenderer.TEMPLATE_ID;\n\tprivate currentItem?: ITrustedUriItem;\n\n\tconstructor(\n\t\tprivate readonly table: WorkspaceTrustedUrisTable,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): ITrustedUriPathColumnTemplateData {\n\t\tconst element = container.appendChild($('.path'));\n\t\tconst pathLabel = element.appendChild($('div.path-label'));\n\n\t\tconst pathInput = new InputBox(element, this.contextViewService, {\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: value => this.table.validateUri(value, this.currentItem)\n\t\t\t},\n\t\t\tinputBoxStyles: defaultInputBoxStyles\n\t\t});\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\treturn {\n\t\t\telement,\n\t\t\tpathLabel,\n\t\t\tpathInput,\n\t\t\tdisposables,\n\t\t\trenderDisposables\n\t\t};\n\t}\n\n\trenderElement(item: ITrustedUriItem, index: number, templateData: ITrustedUriPathColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.renderDisposables.clear();\n\n\t\tthis.currentItem = item;\n\t\ttemplateData.renderDisposables.add(this.table.onEdit(async (e) => {\n\t\t\tif (item === e) {\n\t\t\t\ttemplateData.element.classList.add('input-mode');\n\t\t\t\ttemplateData.pathInput.focus();\n\t\t\t\ttemplateData.pathInput.select();\n\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '0px';\n\t\t\t}\n\t\t}));\n\n\t\t// stop double click action from re-rendering the element on the table #125052\n\t\ttemplateData.renderDisposables.add(addDisposableListener(templateData.pathInput.element, EventType.DBLCLICK, e => {\n\t\t\tEventHelper.stop(e);\n\t\t}));\n\n\n\t\tconst hideInputBox = () => {\n\t\t\ttemplateData.element.classList.remove('input-mode');\n\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '5px';\n\t\t};\n\n\t\tconst accept = () => {\n\t\t\thideInputBox();\n\n\t\t\tconst pathToUse = templateData.pathInput.value;\n\t\t\tconst uri = hasDriveLetter(pathToUse) ? item.uri.with({ path: posix.sep + toSlashes(pathToUse) }) : item.uri.with({ path: pathToUse });\n\t\t\ttemplateData.pathLabel.innerText = this.formatPath(uri);\n\n\t\t\tif (uri) {\n\t\t\t\tthis.table.acceptEdit(item, uri);\n\t\t\t}\n\t\t};\n\n\t\tconst reject = () => {\n\t\t\thideInputBox();\n\t\t\ttemplateData.pathInput.value = stringValue;\n\t\t\tthis.table.rejectEdit(item);\n\t\t};\n\n\t\ttemplateData.renderDisposables.add(addStandardDisposableListener(templateData.pathInput.inputElement, EventType.KEY_DOWN, e => {\n\t\t\tlet handled = false;\n\t\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\t\taccept();\n\t\t\t\thandled = true;\n\t\t\t} else if (e.equals(KeyCode.Escape)) {\n\t\t\t\treject();\n\t\t\t\thandled = true;\n\t\t\t}\n\n\t\t\tif (handled) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}));\n\t\ttemplateData.renderDisposables.add((addDisposableListener(templateData.pathInput.inputElement, EventType.BLUR, () => {\n\t\t\treject();\n\t\t})));\n\n\t\tconst stringValue = this.formatPath(item.uri);\n\t\ttemplateData.pathInput.value = stringValue;\n\t\ttemplateData.pathLabel.innerText = stringValue;\n\t\ttemplateData.element.classList.toggle('current-workspace-parent', item.parentOfWorkspaceItem);\n\t}\n\n\tdisposeTemplate(templateData: ITrustedUriPathColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.renderDisposables.dispose();\n\t}\n\n\tprivate formatPath(uri: URI): string {\n\t\tif (uri.scheme === Schemas.file) {\n\t\t\treturn normalizeDriveLetter(uri.fsPath);\n\t\t}\n\n\t\t// If the path is not a file uri, but points to a windows remote, we should create windows fs path\n\t\t// e.g. /c:/user/directory => C:\\user\\directory\n\t\tif (uri.path.startsWith(posix.sep)) {\n\t\t\tconst pathWithoutLeadingSeparator = uri.path.substring(1);\n\t\t\tconst isWindowsPath = hasDriveLetter(pathWithoutLeadingSeparator, true);\n\t\t\tif (isWindowsPath) {\n\t\t\t\treturn normalizeDriveLetter(win32.normalize(pathWithoutLeadingSeparator), true);\n\t\t\t}\n\t\t}\n\n\t\treturn uri.path;\n\t}\n\n}\n\n\ninterface ITrustedUriHostColumnTemplateData {\n\telement: HTMLElement;\n\thostContainer: HTMLElement;\n\tbuttonBarContainer: HTMLElement;\n\tdisposables: DisposableStore;\n\trenderDisposables: DisposableStore;\n}\n\nfunction getHostLabel(labelService: ILabelService, item: ITrustedUriItem): string {\n\treturn item.uri.authority ? labelService.getHostLabel(item.uri.scheme, item.uri.authority) : localize('localAuthority', \"Local\");\n}\n\nclass TrustedUriHostColumnRenderer implements ITableRenderer<ITrustedUriItem, ITrustedUriHostColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'host';\n\n\treadonly templateId: string = TrustedUriHostColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ITrustedUriHostColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\tconst element = container.appendChild($('.host'));\n\t\tconst hostContainer = element.appendChild($('div.host-label'));\n\t\tconst buttonBarContainer = element.appendChild($('div.button-bar'));\n\n\t\treturn {\n\t\t\telement,\n\t\t\thostContainer,\n\t\t\tbuttonBarContainer,\n\t\t\tdisposables,\n\t\t\trenderDisposables\n\t\t};\n\t}\n\n\trenderElement(item: ITrustedUriItem, index: number, templateData: ITrustedUriHostColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.renderDisposables.clear();\n\t\ttemplateData.renderDisposables.add({ dispose: () => { clearNode(templateData.buttonBarContainer); } });\n\n\t\ttemplateData.hostContainer.innerText = getHostLabel(this.labelService, item);\n\t\ttemplateData.element.classList.toggle('current-workspace-parent', item.parentOfWorkspaceItem);\n\n\t\ttemplateData.hostContainer.style.display = '';\n\t\ttemplateData.buttonBarContainer.style.display = 'none';\n\t}\n\n\tdisposeTemplate(templateData: ITrustedUriHostColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n\n}\n\nexport class WorkspaceTrustEditor extends EditorPane {\n\tstatic readonly ID: string = 'workbench.editor.workspaceTrust';\n\tprivate rootElement!: HTMLElement;\n\n\t// Header Section\n\tprivate headerContainer!: HTMLElement;\n\tprivate headerTitleContainer!: HTMLElement;\n\tprivate headerTitleIcon!: HTMLElement;\n\tprivate headerTitleText!: HTMLElement;\n\tprivate headerDescription!: HTMLElement;\n\n\tprivate bodyScrollBar!: DomScrollableElement;\n\n\t// Affected Features Section\n\tprivate affectedFeaturesContainer!: HTMLElement;\n\tprivate trustedContainer!: HTMLElement;\n\tprivate untrustedContainer!: HTMLElement;\n\n\t// Settings Section\n\tprivate configurationContainer!: HTMLElement;\n\tprivate workspaceTrustedUrisTable!: WorkspaceTrustedUrisTable;\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkspaceContextService private readonly workspaceService: IWorkspaceContextService,\n\t\t@IExtensionsWorkbenchService private readonly extensionWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t\t@IWorkbenchConfigurationService private readonly configurationService: IWorkbenchConfigurationService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t) { super(WorkspaceTrustEditor.ID, telemetryService, themeService, storageService); }\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tthis.rootElement = append(parent, $('.workspace-trust-editor', { tabindex: '0' }));\n\n\t\tthis.createHeaderElement(this.rootElement);\n\n\t\tconst scrollableContent = $('.workspace-trust-editor-body');\n\t\tthis.bodyScrollBar = this._register(new DomScrollableElement(scrollableContent, {\n\t\t\thorizontal: ScrollbarVisibility.Hidden,\n\t\t\tvertical: ScrollbarVisibility.Auto,\n\t\t}));\n\n\t\tappend(this.rootElement, this.bodyScrollBar.getDomNode());\n\n\t\tthis.createAffectedFeaturesElement(scrollableContent);\n\t\tthis.createConfigurationElement(scrollableContent);\n\n\t\tthis.rootElement.style.setProperty('--workspace-trust-selected-color', asCssVariable(buttonBackground));\n\t\tthis.rootElement.style.setProperty('--workspace-trust-unselected-color', asCssVariable(buttonSecondaryBackground));\n\t\tthis.rootElement.style.setProperty('--workspace-trust-check-color', asCssVariable(debugIconStartForeground));\n\t\tthis.rootElement.style.setProperty('--workspace-trust-x-color', asCssVariable(editorErrorForeground));\n\n\t\t// Navigate page with keyboard\n\t\tthis._register(addDisposableListener(this.rootElement, EventType.KEY_DOWN, e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\n\t\t\tif (event.equals(KeyCode.UpArrow) || event.equals(KeyCode.DownArrow)) {\n\t\t\t\tconst navOrder = [this.headerContainer, this.trustedContainer, this.untrustedContainer, this.configurationContainer];\n\t\t\t\tconst currentIndex = navOrder.findIndex(element => {\n\t\t\t\t\treturn isAncestor(document.activeElement, element);\n\t\t\t\t});\n\n\t\t\t\tlet newIndex = currentIndex;\n\t\t\t\tif (event.equals(KeyCode.DownArrow)) {\n\t\t\t\t\tnewIndex++;\n\t\t\t\t} else if (event.equals(KeyCode.UpArrow)) {\n\t\t\t\t\tnewIndex = Math.max(0, newIndex);\n\t\t\t\t\tnewIndex--;\n\t\t\t\t}\n\n\t\t\t\tnewIndex += navOrder.length;\n\t\t\t\tnewIndex %= navOrder.length;\n\n\t\t\t\tnavOrder[newIndex].focus();\n\t\t\t} else if (event.equals(KeyCode.Escape)) {\n\t\t\t\tthis.rootElement.focus();\n\t\t\t} else if (event.equals(KeyMod.CtrlCmd | KeyCode.Enter)) {\n\t\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\t\tthis.workspaceTrustManagementService.setWorkspaceTrust(!this.workspaceTrustManagementService.isWorkspaceTrusted());\n\t\t\t\t}\n\t\t\t} else if (event.equals(KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Enter)) {\n\t\t\t\tif (this.workspaceTrustManagementService.canSetParentFolderTrust()) {\n\t\t\t\t\tthis.workspaceTrustManagementService.setParentFolderTrust(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride focus() {\n\t\tthis.rootElement.focus();\n\t}\n\n\toverride async setInput(input: WorkspaceTrustEditorInput, options: IEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\n\t\tawait super.setInput(input, options, context, token);\n\t\tif (token.isCancellationRequested) { return; }\n\n\t\tawait this.workspaceTrustManagementService.workspaceTrustInitialized;\n\t\tthis.registerListeners();\n\t\tawait this.render();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.extensionWorkbenchService.onChange(() => this.render()));\n\t\tthis._register(this.configurationService.onDidChangeRestrictedSettings(() => this.render()));\n\t\tthis._register(this.workspaceTrustManagementService.onDidChangeTrust(() => this.render()));\n\t\tthis._register(this.workspaceTrustManagementService.onDidChangeTrustedFolders(() => this.render()));\n\t}\n\n\tprivate getHeaderContainerClass(trusted: boolean): string {\n\t\tif (trusted) {\n\t\t\treturn 'workspace-trust-header workspace-trust-trusted';\n\t\t}\n\n\t\treturn 'workspace-trust-header workspace-trust-untrusted';\n\t}\n\n\tprivate getHeaderTitleText(trusted: boolean): string {\n\t\tif (trusted) {\n\t\t\tif (this.workspaceTrustManagementService.isWorkspaceTrustForced()) {\n\t\t\t\treturn localize('trustedUnsettableWindow', \"This window is trusted\");\n\t\t\t}\n\n\t\t\tswitch (this.workspaceService.getWorkbenchState()) {\n\t\t\t\tcase WorkbenchState.EMPTY:\n\t\t\t\t\treturn localize('trustedHeaderWindow', \"You trust this window\");\n\t\t\t\tcase WorkbenchState.FOLDER:\n\t\t\t\t\treturn localize('trustedHeaderFolder', \"You trust this folder\");\n\t\t\t\tcase WorkbenchState.WORKSPACE:\n\t\t\t\t\treturn localize('trustedHeaderWorkspace', \"You trust this workspace\");\n\t\t\t}\n\t\t}\n\n\t\treturn localize('untrustedHeader', \"You are in Restricted Mode\");\n\t}\n\n\tprivate getHeaderTitleIconClassNames(trusted: boolean): string[] {\n\t\treturn ThemeIcon.asClassNameArray(shieldIcon);\n\t}\n\n\tprivate getFeaturesHeaderText(trusted: boolean): [string, string] {\n\t\tlet title: string = '';\n\t\tlet subTitle: string = '';\n\n\t\tswitch (this.workspaceService.getWorkbenchState()) {\n\t\t\tcase WorkbenchState.EMPTY: {\n\t\t\t\ttitle = trusted ? localize('trustedWindow', \"In a Trusted Window\") : localize('untrustedWorkspace', \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted ? localize('trustedWindowSubtitle', \"You trust the authors of the files in the current window. All features are enabled:\") :\n\t\t\t\t\tlocalize('untrustedWindowSubtitle', \"You do not trust the authors of the files in the current window. The following features are disabled:\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase WorkbenchState.FOLDER: {\n\t\t\t\ttitle = trusted ? localize('trustedFolder', \"In a Trusted Folder\") : localize('untrustedWorkspace', \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted ? localize('trustedFolderSubtitle', \"You trust the authors of the files in the current folder. All features are enabled:\") :\n\t\t\t\t\tlocalize('untrustedFolderSubtitle', \"You do not trust the authors of the files in the current folder. The following features are disabled:\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase WorkbenchState.WORKSPACE: {\n\t\t\t\ttitle = trusted ? localize('trustedWorkspace', \"In a Trusted Workspace\") : localize('untrustedWorkspace', \"In Restricted Mode\");\n\t\t\t\tsubTitle = trusted ? localize('trustedWorkspaceSubtitle', \"You trust the authors of the files in the current workspace. All features are enabled:\") :\n\t\t\t\t\tlocalize('untrustedWorkspaceSubtitle', \"You do not trust the authors of the files in the current workspace. The following features are disabled:\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn [title, subTitle];\n\t}\n\n\tprivate rendering = false;\n\tprivate rerenderDisposables: DisposableStore = this._register(new DisposableStore());\n\t@debounce(100)\n\tprivate async render() {\n\t\tif (this.rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rendering = true;\n\t\tthis.rerenderDisposables.clear();\n\n\t\tconst isWorkspaceTrusted = this.workspaceTrustManagementService.isWorkspaceTrusted();\n\t\tthis.rootElement.classList.toggle('trusted', isWorkspaceTrusted);\n\t\tthis.rootElement.classList.toggle('untrusted', !isWorkspaceTrusted);\n\n\t\t// Header Section\n\t\tthis.headerTitleText.innerText = this.getHeaderTitleText(isWorkspaceTrusted);\n\t\tthis.headerTitleIcon.className = 'workspace-trust-title-icon';\n\t\tthis.headerTitleIcon.classList.add(...this.getHeaderTitleIconClassNames(isWorkspaceTrusted));\n\t\tthis.headerDescription.innerText = '';\n\n\t\tconst headerDescriptionText = append(this.headerDescription, $('div'));\n\t\theaderDescriptionText.innerText = isWorkspaceTrusted ?\n\t\t\tlocalize('trustedDescription', \"All features are enabled because trust has been granted to the workspace.\") :\n\t\t\tlocalize('untrustedDescription', \"{0} is in a restricted mode intended for safe code browsing.\", this.productService.nameShort);\n\n\t\tconst headerDescriptionActions = append(this.headerDescription, $('div'));\n\t\tconst headerDescriptionActionsText = localize({ key: 'workspaceTrustEditorHeaderActions', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[Configure your settings]({0}) or [learn more](https://aka.ms/vscode-workspace-trust).\", `command:workbench.trust.configure`);\n\t\tfor (const node of parseLinkedText(headerDescriptionActionsText).nodes) {\n\t\t\tif (typeof node === 'string') {\n\t\t\t\tappend(headerDescriptionActions, document.createTextNode(node));\n\t\t\t} else {\n\t\t\t\tthis.rerenderDisposables.add(this.instantiationService.createInstance(Link, headerDescriptionActions, { ...node, tabIndex: -1 }, {}));\n\t\t\t}\n\t\t}\n\n\t\tthis.headerContainer.className = this.getHeaderContainerClass(isWorkspaceTrusted);\n\t\tthis.rootElement.setAttribute('aria-label', `${localize('root element label', \"Manage Workspace Trust\")}:  ${this.headerContainer.innerText}`);\n\n\t\t// Settings\n\t\tconst restrictedSettings = this.configurationService.restrictedSettings;\n\t\tconst configurationRegistry = Registry.as<IConfigurationRegistry>(Extensions.Configuration);\n\t\tconst settingsRequiringTrustedWorkspaceCount = restrictedSettings.default.filter(key => {\n\t\t\tconst property = configurationRegistry.getConfigurationProperties()[key];\n\n\t\t\t// cannot be configured in workspace\n\t\t\tif (property.scope === ConfigurationScope.APPLICATION || property.scope === ConfigurationScope.MACHINE) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If deprecated include only those configured in the workspace\n\t\t\tif (property.deprecationMessage || property.markdownDeprecationMessage) {\n\t\t\t\tif (restrictedSettings.workspace?.includes(key)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (restrictedSettings.workspaceFolder) {\n\t\t\t\t\tfor (const workspaceFolderSettings of restrictedSettings.workspaceFolder.values()) {\n\t\t\t\t\t\tif (workspaceFolderSettings.includes(key)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}).length;\n\n\t\t// Features List\n\t\tthis.renderAffectedFeatures(settingsRequiringTrustedWorkspaceCount, this.getExtensionCount());\n\n\t\t// Configuration Tree\n\t\tthis.workspaceTrustedUrisTable.updateTable();\n\n\t\tthis.bodyScrollBar.getDomNode().style.height = `calc(100% - ${this.headerContainer.clientHeight}px)`;\n\t\tthis.bodyScrollBar.scanDomNode();\n\t\tthis.rendering = false;\n\t}\n\n\tprivate getExtensionCount(): number {\n\t\tconst set = new Set<string>();\n\n\t\tconst inVirtualWorkspace = isVirtualWorkspace(this.workspaceService.getWorkspace());\n\t\tconst localExtensions = this.extensionWorkbenchService.local.filter(ext => ext.local).map(ext => ext.local!);\n\n\t\tfor (const extension of localExtensions) {\n\t\t\tconst enablementState = this.extensionEnablementService.getEnablementState(extension);\n\t\t\tif (enablementState !== EnablementState.EnabledGlobally && enablementState !== EnablementState.EnabledWorkspace &&\n\t\t\t\tenablementState !== EnablementState.DisabledByTrustRequirement && enablementState !== EnablementState.DisabledByExtensionDependency) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (inVirtualWorkspace && this.extensionManifestPropertiesService.getExtensionVirtualWorkspaceSupportType(extension.manifest) === false) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(extension.manifest) !== true) {\n\t\t\t\tset.add(extension.identifier.id);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst dependencies = getExtensionDependencies(localExtensions, extension);\n\t\t\tif (dependencies.some(ext => this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(ext.manifest) === false)) {\n\t\t\t\tset.add(extension.identifier.id);\n\t\t\t}\n\t\t}\n\n\t\treturn set.size;\n\t}\n\n\tprivate createHeaderElement(parent: HTMLElement): void {\n\t\tthis.headerContainer = append(parent, $('.workspace-trust-header', { tabIndex: '0' }));\n\t\tthis.headerTitleContainer = append(this.headerContainer, $('.workspace-trust-title'));\n\t\tthis.headerTitleIcon = append(this.headerTitleContainer, $('.workspace-trust-title-icon'));\n\t\tthis.headerTitleText = append(this.headerTitleContainer, $('.workspace-trust-title-text'));\n\t\tthis.headerDescription = append(this.headerContainer, $('.workspace-trust-description'));\n\t}\n\n\tprivate createConfigurationElement(parent: HTMLElement): void {\n\t\tthis.configurationContainer = append(parent, $('.workspace-trust-settings', { tabIndex: '0' }));\n\t\tconst configurationTitle = append(this.configurationContainer, $('.workspace-trusted-folders-title'));\n\t\tconfigurationTitle.innerText = localize('trustedFoldersAndWorkspaces', \"Trusted Folders & Workspaces\");\n\n\t\tthis.workspaceTrustedUrisTable = this._register(this.instantiationService.createInstance(WorkspaceTrustedUrisTable, this.configurationContainer));\n\t}\n\n\tprivate createAffectedFeaturesElement(parent: HTMLElement): void {\n\t\tthis.affectedFeaturesContainer = append(parent, $('.workspace-trust-features'));\n\t\tthis.trustedContainer = append(this.affectedFeaturesContainer, $('.workspace-trust-limitations.trusted', { tabIndex: '0' }));\n\t\tthis.untrustedContainer = append(this.affectedFeaturesContainer, $('.workspace-trust-limitations.untrusted', { tabIndex: '0' }));\n\t}\n\n\tprivate async renderAffectedFeatures(numSettings: number, numExtensions: number): Promise<void> {\n\t\tclearNode(this.trustedContainer);\n\t\tclearNode(this.untrustedContainer);\n\n\t\t// Trusted features\n\t\tconst [trustedTitle, trustedSubTitle] = this.getFeaturesHeaderText(true);\n\n\t\tthis.renderLimitationsHeaderElement(this.trustedContainer, trustedTitle, trustedSubTitle);\n\t\tconst trustedContainerItems = this.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY ?\n\t\t\t[\n\t\t\t\tlocalize('trustedTasks', \"Tasks are allowed to run\"),\n\t\t\t\tlocalize('trustedDebugging', \"Debugging is enabled\"),\n\t\t\t\tlocalize('trustedExtensions', \"All enabled extensions are activated\")\n\t\t\t] :\n\t\t\t[\n\t\t\t\tlocalize('trustedTasks', \"Tasks are allowed to run\"),\n\t\t\t\tlocalize('trustedDebugging', \"Debugging is enabled\"),\n\t\t\t\tlocalize('trustedSettings', \"All workspace settings are applied\"),\n\t\t\t\tlocalize('trustedExtensions', \"All enabled extensions are activated\")\n\t\t\t];\n\t\tthis.renderLimitationsListElement(this.trustedContainer, trustedContainerItems, ThemeIcon.asClassNameArray(checkListIcon));\n\n\t\t// Restricted Mode features\n\t\tconst [untrustedTitle, untrustedSubTitle] = this.getFeaturesHeaderText(false);\n\n\t\tthis.renderLimitationsHeaderElement(this.untrustedContainer, untrustedTitle, untrustedSubTitle);\n\t\tconst untrustedContainerItems = this.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY ?\n\t\t\t[\n\t\t\t\tlocalize('untrustedTasks', \"Tasks are not allowed to run\"),\n\t\t\t\tlocalize('untrustedDebugging', \"Debugging is disabled\"),\n\t\t\t\tfixBadLocalizedLinks(localize({ key: 'untrustedExtensions', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[{0} extensions]({1}) are disabled or have limited functionality\", numExtensions, `command:${LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID}`))\n\t\t\t] :\n\t\t\t[\n\t\t\t\tlocalize('untrustedTasks', \"Tasks are not allowed to run\"),\n\t\t\t\tlocalize('untrustedDebugging', \"Debugging is disabled\"),\n\t\t\t\tfixBadLocalizedLinks(numSettings ? localize({ key: 'untrustedSettings', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[{0} workspace settings]({1}) are not applied\", numSettings, 'command:settings.filterUntrusted') : localize('no untrustedSettings', \"Workspace settings requiring trust are not applied\")),\n\t\t\t\tfixBadLocalizedLinks(localize({ key: 'untrustedExtensions', comment: ['Please ensure the markdown link syntax is not broken up with whitespace [text block](link block)'] }, \"[{0} extensions]({1}) are disabled or have limited functionality\", numExtensions, `command:${LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID}`))\n\t\t\t];\n\t\tthis.renderLimitationsListElement(this.untrustedContainer, untrustedContainerItems, ThemeIcon.asClassNameArray(xListIcon));\n\n\t\tif (this.workspaceTrustManagementService.isWorkspaceTrusted()) {\n\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\tthis.addDontTrustButtonToElement(this.untrustedContainer);\n\t\t\t} else {\n\t\t\t\tthis.addTrustedTextToElement(this.untrustedContainer);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.workspaceTrustManagementService.canSetWorkspaceTrust()) {\n\t\t\t\tthis.addTrustButtonToElement(this.trustedContainer);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createButtonRow(parent: HTMLElement, buttonInfo: { action: Action; keybinding: ResolvedKeybinding }[], enabled?: boolean): void {\n\t\tconst buttonRow = append(parent, $('.workspace-trust-buttons-row'));\n\t\tconst buttonContainer = append(buttonRow, $('.workspace-trust-buttons'));\n\t\tconst buttonBar = this.rerenderDisposables.add(new ButtonBar(buttonContainer));\n\n\t\tfor (const { action, keybinding } of buttonInfo) {\n\t\t\tconst button = buttonBar.addButtonWithDescription(defaultButtonStyles);\n\n\t\t\tbutton.label = action.label;\n\t\t\tbutton.enabled = enabled !== undefined ? enabled : action.enabled;\n\t\t\tbutton.description = keybinding.getLabel()!;\n\t\t\tbutton.element.ariaLabel = action.label + ', ' + localize('keyboardShortcut', \"Keyboard Shortcut: {0}\", keybinding.getAriaLabel()!);\n\n\t\t\tthis.rerenderDisposables.add(button.onDidClick(e => {\n\t\t\t\tif (e) {\n\t\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\t}\n\n\t\t\t\taction.run();\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate addTrustButtonToElement(parent: HTMLElement): void {\n\t\tconst trustAction = new Action('workspace.trust.button.action.grant', localize('trustButton', \"Trust\"), undefined, true, async () => {\n\t\t\tawait this.workspaceTrustManagementService.setWorkspaceTrust(true);\n\t\t});\n\n\t\tconst trustActions = [{ action: trustAction, keybinding: this.keybindingService.resolveUserBinding(isMacintosh ? 'Cmd+Enter' : 'Ctrl+Enter')[0] }];\n\n\t\tif (this.workspaceTrustManagementService.canSetParentFolderTrust()) {\n\t\t\tconst workspaceIdentifier = toWorkspaceIdentifier(this.workspaceService.getWorkspace()) as ISingleFolderWorkspaceIdentifier;\n\t\t\tconst name = basename(dirname(workspaceIdentifier.uri));\n\n\t\t\tconst trustMessageElement = append(parent, $('.trust-message-box'));\n\t\t\ttrustMessageElement.innerText = localize('trustMessage', \"Trust the authors of all files in the current folder or its parent '{0}'.\", name);\n\n\t\t\tconst trustParentAction = new Action('workspace.trust.button.action.grantParent', localize('trustParentButton', \"Trust Parent\"), undefined, true, async () => {\n\t\t\t\tawait this.workspaceTrustManagementService.setParentFolderTrust(true);\n\t\t\t});\n\n\t\t\ttrustActions.push({ action: trustParentAction, keybinding: this.keybindingService.resolveUserBinding(isMacintosh ? 'Cmd+Shift+Enter' : 'Ctrl+Shift+Enter')[0] });\n\t\t}\n\n\t\tthis.createButtonRow(parent, trustActions);\n\t}\n\n\tprivate addDontTrustButtonToElement(parent: HTMLElement): void {\n\t\tthis.createButtonRow(parent, [{\n\t\t\taction: new Action('workspace.trust.button.action.deny', localize('dontTrustButton', \"Don't Trust\"), undefined, true, async () => {\n\t\t\t\tawait this.workspaceTrustManagementService.setWorkspaceTrust(false);\n\t\t\t}),\n\t\t\tkeybinding: this.keybindingService.resolveUserBinding(isMacintosh ? 'Cmd+Enter' : 'Ctrl+Enter')[0]\n\t\t}]);\n\t}\n\n\tprivate addTrustedTextToElement(parent: HTMLElement): void {\n\t\tif (this.workspaceService.getWorkbenchState() === WorkbenchState.EMPTY) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst textElement = append(parent, $('.workspace-trust-untrusted-description'));\n\t\tif (!this.workspaceTrustManagementService.isWorkspaceTrustForced()) {\n\t\t\ttextElement.innerText = this.workspaceService.getWorkbenchState() === WorkbenchState.WORKSPACE ? localize('untrustedWorkspaceReason', \"This workspace is trusted via the bolded entries in the trusted folders below.\") : localize('untrustedFolderReason', \"This folder is trusted via the bolded entries in the the trusted folders below.\");\n\t\t} else {\n\t\t\ttextElement.innerText = localize('trustedForcedReason', \"This window is trusted by nature of the workspace that is opened.\");\n\t\t}\n\t}\n\n\tprivate renderLimitationsHeaderElement(parent: HTMLElement, headerText: string, subtitleText: string): void {\n\t\tconst limitationsHeaderContainer = append(parent, $('.workspace-trust-limitations-header'));\n\t\tconst titleElement = append(limitationsHeaderContainer, $('.workspace-trust-limitations-title'));\n\t\tconst textElement = append(titleElement, $('.workspace-trust-limitations-title-text'));\n\t\tconst subtitleElement = append(limitationsHeaderContainer, $('.workspace-trust-limitations-subtitle'));\n\n\t\ttextElement.innerText = headerText;\n\t\tsubtitleElement.innerText = subtitleText;\n\t}\n\n\tprivate renderLimitationsListElement(parent: HTMLElement, limitations: string[], iconClassNames: string[]): void {\n\t\tconst listContainer = append(parent, $('.workspace-trust-limitations-list-container'));\n\t\tconst limitationsList = append(listContainer, $('ul'));\n\t\tfor (const limitation of limitations) {\n\t\t\tconst limitationListItem = append(limitationsList, $('li'));\n\t\t\tconst icon = append(limitationListItem, $('.list-item-icon'));\n\t\t\tconst text = append(limitationListItem, $('.list-item-text'));\n\n\t\t\ticon.classList.add(...iconClassNames);\n\n\t\t\tconst linkedText = parseLinkedText(limitation);\n\t\t\tfor (const node of linkedText.nodes) {\n\t\t\t\tif (typeof node === 'string') {\n\t\t\t\t\tappend(text, document.createTextNode(node));\n\t\t\t\t} else {\n\t\t\t\t\tthis.rerenderDisposables.add(this.instantiationService.createInstance(Link, text, { ...node, tabIndex: -1 }, {}));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate layoutParticipants: { layout: () => void }[] = [];\n\tlayout(dimension: Dimension): void {\n\t\tif (!this.isVisible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.workspaceTrustedUrisTable.layout();\n\n\t\tthis.layoutParticipants.forEach(participant => {\n\t\t\tparticipant.layout();\n\t\t});\n\n\t\tthis.bodyScrollBar.scanDomNode();\n\t}\n}\n\n// Highly scoped fix for #126614\nfunction fixBadLocalizedLinks(badString: string): string {\n\tconst regex = /(.*)\\[(.+)\\]\\s*\\((.+)\\)(.*)/; // markdown link match with spaces\n\treturn badString.replace(regex, '$1[$2]($3)$4');\n}\n"]}
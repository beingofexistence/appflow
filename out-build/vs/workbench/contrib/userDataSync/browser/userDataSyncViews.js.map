{"version":3,"sources":["vs/workbench/contrib/userDataSync/browser/userDataSyncViews.ts"],"names":[],"mappings":"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","file":"userDataSyncViews.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IViewsRegistry, Extensions, ITreeViewDescriptor, ITreeViewDataProvider, ITreeItem, TreeItemCollapsibleState, TreeViewItemHandleArg, ViewContainer } from 'vs/workbench/common/views';\nimport { localize } from 'vs/nls';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { TreeView, TreeViewPane } from 'vs/workbench/browser/parts/views/treeView';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { ALL_SYNC_RESOURCES, IUserDataSyncService, ISyncResourceHandle as IResourceHandle, SyncStatus, IUserDataSyncEnablementService, IUserDataAutoSyncService, UserDataSyncError, UserDataSyncErrorCode, getLastSyncResourceUri, SyncResource, ISyncUserDataProfile, IUserDataSyncResourceProviderService } from 'vs/platform/userDataSync/common/userDataSync';\nimport { registerAction2, Action2, MenuId } from 'vs/platform/actions/common/actions';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { URI, UriDto } from 'vs/base/common/uri';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { FolderThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { fromNow } from 'vs/base/common/date';\nimport { IDialogService, IFileDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { Event } from 'vs/base/common/event';\nimport { Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { Action } from 'vs/base/common/actions';\nimport { IUserDataSyncWorkbenchService, CONTEXT_SYNC_STATE, getSyncAreaLabel, CONTEXT_ACCOUNT_STATE, AccountStatus, CONTEXT_ENABLE_ACTIVITY_VIEWS, SYNC_TITLE, SYNC_CONFLICTS_VIEW_ID, CONTEXT_ENABLE_SYNC_CONFLICTS_VIEW, CONTEXT_HAS_CONFLICTS } from 'vs/workbench/services/userDataSync/common/userDataSync';\nimport { IUserDataSyncMachinesService, IUserDataSyncMachine, isWebPlatform } from 'vs/platform/userDataSync/common/userDataSyncMachines';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { INotificationService, Severity } from 'vs/platform/notification/common/notification';\nimport { basename } from 'vs/base/common/resources';\nimport { API_OPEN_DIFF_EDITOR_COMMAND_ID, API_OPEN_EDITOR_COMMAND_ID } from 'vs/workbench/browser/parts/editor/editorCommands';\nimport { IFileService } from 'vs/platform/files/common/files';\nimport { IEnvironmentService } from 'vs/platform/environment/common/environment';\nimport { IUriIdentityService } from 'vs/platform/uriIdentity/common/uriIdentity';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { IUserDataProfile, IUserDataProfilesService } from 'vs/platform/userDataProfile/common/userDataProfile';\nimport { UserDataSyncConflictsViewPane } from 'vs/workbench/contrib/userDataSync/browser/userDataSyncConflictsView';\n\nexport class UserDataSyncDataViews extends Disposable {\n\n\tconstructor(\n\t\tcontainer: ViewContainer,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IUserDataSyncEnablementService private readonly userDataSyncEnablementService: IUserDataSyncEnablementService,\n\t\t@IUserDataSyncMachinesService private readonly userDataSyncMachinesService: IUserDataSyncMachinesService,\n\t\t@IUserDataSyncService private readonly userDataSyncService: IUserDataSyncService,\n\t) {\n\t\tsuper();\n\t\tthis.registerViews(container);\n\t}\n\n\tprivate registerViews(container: ViewContainer): void {\n\t\tthis.registerConflictsView(container);\n\n\t\tthis.registerActivityView(container, true);\n\t\tthis.registerMachinesView(container);\n\n\t\tthis.registerActivityView(container, false);\n\t\tthis.registerTroubleShootView(container);\n\t\tthis.registerExternalActivityView(container);\n\t}\n\n\tprivate registerConflictsView(container: ViewContainer): void {\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tconst viewName = localize('conflicts', \"Conflicts\");\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid: SYNC_CONFLICTS_VIEW_ID,\n\t\t\tname: viewName,\n\t\t\tctorDescriptor: new SyncDescriptor(UserDataSyncConflictsViewPane),\n\t\t\twhen: ContextKeyExpr.and(CONTEXT_ENABLE_SYNC_CONFLICTS_VIEW, CONTEXT_HAS_CONFLICTS),\n\t\t\tcanToggleVisibility: false,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView: this.instantiationService.createInstance(TreeView, SYNC_CONFLICTS_VIEW_ID, viewName),\n\t\t\tcollapsed: false,\n\t\t\torder: 100,\n\t\t}], container);\n\t}\n\n\tprivate registerMachinesView(container: ViewContainer): void {\n\t\tconst id = `workbench.views.sync.machines`;\n\t\tconst name = localize('synced machines', \"Synced Machines\");\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, id, name);\n\t\tconst dataProvider = this.instantiationService.createInstance(UserDataSyncMachinesViewDataProvider, treeView);\n\t\ttreeView.showRefreshAction = true;\n\t\ttreeView.canSelectMany = true;\n\t\ttreeView.dataProvider = dataProvider;\n\n\t\tthis._register(Event.any(this.userDataSyncMachinesService.onDidChange, this.userDataSyncService.onDidResetRemote)(() => treeView.refresh()));\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid,\n\t\t\tname,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_ENABLE_ACTIVITY_VIEWS),\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\torder: 300,\n\t\t}], container);\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.editMachineName`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.editMachineName', \"Edit Name\"),\n\t\t\t\t\ticon: Codicon.edit,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', id)),\n\t\t\t\t\t\tgroup: 'inline',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst changed = await dataProvider.rename(handle.$treeItemHandle);\n\t\t\t\tif (changed) {\n\t\t\t\t\tawait treeView.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.turnOffSyncOnMachine`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.turnOffSyncOnMachine', \"Turn off Settings Sync\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', id), ContextKeyExpr.equals('viewItem', 'sync-machine')),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg, selected?: TreeViewItemHandleArg[]): Promise<void> {\n\t\t\t\tif (await dataProvider.disable((selected || [handle]).map(handle => handle.$treeItemHandle))) {\n\t\t\t\t\tawait treeView.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\tprivate registerActivityView(container: ViewContainer, remote: boolean): void {\n\t\tconst id = `workbench.views.sync.${remote ? 'remote' : 'local'}Activity`;\n\t\tconst name = remote ? localize('remote sync activity title', \"Sync Activity (Remote)\") : localize('local sync activity title', \"Sync Activity (Local)\");\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, id, name);\n\t\ttreeView.showCollapseAllAction = true;\n\t\ttreeView.showRefreshAction = true;\n\t\ttreeView.dataProvider = remote ? this.instantiationService.createInstance(RemoteUserDataSyncActivityViewDataProvider)\n\t\t\t: this.instantiationService.createInstance(LocalUserDataSyncActivityViewDataProvider);\n\n\t\tthis._register(Event.any(this.userDataSyncEnablementService.onDidChangeResourceEnablement,\n\t\t\tthis.userDataSyncEnablementService.onDidChangeEnablement,\n\t\t\tthis.userDataSyncService.onDidResetLocal,\n\t\t\tthis.userDataSyncService.onDidResetRemote)(() => treeView.refresh()));\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid,\n\t\t\tname,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_ENABLE_ACTIVITY_VIEWS),\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\torder: remote ? 200 : 400,\n\t\t\thideByDefault: !remote,\n\t\t}], container);\n\n\t\tthis.registerDataViewActions(id);\n\t}\n\n\tprivate registerExternalActivityView(container: ViewContainer): void {\n\t\tconst id = `workbench.views.sync.externalActivity`;\n\t\tconst name = localize('downloaded sync activity title', \"Sync Activity (Developer)\");\n\t\tconst dataProvider = this.instantiationService.createInstance(ExtractedUserDataSyncActivityViewDataProvider, undefined);\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, id, name);\n\t\ttreeView.showCollapseAllAction = false;\n\t\ttreeView.showRefreshAction = false;\n\t\ttreeView.dataProvider = dataProvider;\n\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid,\n\t\t\tname,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\twhen: CONTEXT_ENABLE_ACTIVITY_VIEWS,\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\thideByDefault: false,\n\t\t}], container);\n\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.extractActivity`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.extractActivity', \"Extract Sync Activity\"),\n\t\t\t\t\ticon: Codicon.cloudUpload,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\twhen: ContextKeyExpr.equals('view', id),\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\tconst fileDialogService = accessor.get(IFileDialogService);\n\t\t\t\tconst result = await fileDialogService.showOpenDialog({\n\t\t\t\t\ttitle: localize('select sync activity file', \"Select Sync Activity File or Folder\"),\n\t\t\t\t\tcanSelectFiles: true,\n\t\t\t\t\tcanSelectFolders: true,\n\t\t\t\t\tcanSelectMany: false,\n\t\t\t\t});\n\t\t\t\tif (!result?.[0]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdataProvider.activityDataResource = result[0];\n\t\t\t\tawait treeView.refresh();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerDataViewActions(viewId: string) {\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.resolveResource`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.resolveResourceRef', \"Show raw JSON sync data\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', viewId), ContextKeyExpr.regex('viewItem', /sync-resource-.*/i))\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst { resource } = <{ resource: string }>JSON.parse(handle.$treeItemHandle);\n\t\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\t\tawait editorService.openEditor({ resource: URI.parse(resource), options: { pinned: true } });\n\t\t\t}\n\t\t});\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.compareWithLocal`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.compareWithLocal', \"Compare with Local\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', viewId), ContextKeyExpr.regex('viewItem', /sync-associatedResource-.*/i))\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\t\tconst { resource, comparableResource } = <{ resource: string; comparableResource: string }>JSON.parse(handle.$treeItemHandle);\n\t\t\t\tconst remoteResource = URI.parse(resource);\n\t\t\t\tconst localResource = URI.parse(comparableResource);\n\t\t\t\treturn commandService.executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID,\n\t\t\t\t\tremoteResource,\n\t\t\t\t\tlocalResource,\n\t\t\t\t\tlocalize('remoteToLocalDiff', \"{0} ↔ {1}\", localize({ key: 'leftResourceName', comment: ['remote as in file in cloud'] }, \"{0} (Remote)\", basename(remoteResource)), localize({ key: 'rightResourceName', comment: ['local as in file in disk'] }, \"{0} (Local)\", basename(localResource))),\n\t\t\t\t\tundefined\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.replaceCurrent`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.replaceCurrent', \"Restore\"),\n\t\t\t\t\ticon: Codicon.discard,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', viewId), ContextKeyExpr.regex('viewItem', /sync-resource-.*/i)),\n\t\t\t\t\t\tgroup: 'inline',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\t\tconst userDataSyncService = accessor.get(IUserDataSyncService);\n\t\t\t\tconst { syncResourceHandle, syncResource } = <{ syncResourceHandle: UriDto<ISyncResourceHandle>; syncResource: SyncResource }>JSON.parse(handle.$treeItemHandle);\n\t\t\t\tconst result = await dialogService.confirm({\n\t\t\t\t\tmessage: localize({ key: 'confirm replace', comment: ['A confirmation message to replace current user data (settings, extensions, keybindings, snippets) with selected version'] }, \"Would you like to replace your current {0} with selected?\", getSyncAreaLabel(syncResource)),\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\ttitle: SYNC_TITLE\n\t\t\t\t});\n\t\t\t\tif (result.confirmed) {\n\t\t\t\t\treturn userDataSyncService.replace({ created: syncResourceHandle.created, uri: URI.revive(syncResourceHandle.uri) });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\tprivate registerTroubleShootView(container: ViewContainer): void {\n\t\tconst id = `workbench.views.sync.troubleshoot`;\n\t\tconst name = localize('troubleshoot', \"Troubleshoot\");\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, id, name);\n\t\tconst dataProvider = this.instantiationService.createInstance(UserDataSyncTroubleshootViewDataProvider);\n\t\ttreeView.showRefreshAction = true;\n\t\ttreeView.dataProvider = dataProvider;\n\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid,\n\t\t\tname,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\twhen: CONTEXT_ENABLE_ACTIVITY_VIEWS,\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\torder: 500,\n\t\t\thideByDefault: true\n\t\t}], container);\n\n\t}\n\n}\n\ntype Profile = IUserDataProfile | ISyncUserDataProfile;\n\ninterface ISyncResourceHandle extends IResourceHandle {\n\tprofileId?: string;\n\tsyncResource: SyncResource;\n\tprevious?: IResourceHandle;\n}\n\ninterface SyncResourceHandleTreeItem extends ITreeItem {\n\tsyncResourceHandle: ISyncResourceHandle;\n}\n\ninterface ProfileTreeItem extends ITreeItem {\n\tprofile: Profile;\n}\n\nabstract class UserDataSyncActivityViewDataProvider<T = Profile> implements ITreeViewDataProvider {\n\n\tprivate readonly syncResourceHandlesByProfile = new Map<string, Promise<SyncResourceHandleTreeItem[]>>();\n\n\tconstructor(\n\t\t@IUserDataSyncService protected readonly userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataSyncResourceProviderService protected readonly userDataSyncResourceProviderService: IUserDataSyncResourceProviderService,\n\t\t@IUserDataAutoSyncService protected readonly userDataAutoSyncService: IUserDataAutoSyncService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IUserDataProfilesService protected readonly userDataProfilesService: IUserDataProfilesService,\n\t) { }\n\n\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\ttry {\n\t\t\tif (!element) {\n\t\t\t\treturn await this.getRoots();\n\t\t\t}\n\t\t\tif ((<ProfileTreeItem>element).profile || element.handle === this.userDataProfilesService.defaultProfile.id) {\n\t\t\t\tlet promise = this.syncResourceHandlesByProfile.get(element.handle);\n\t\t\t\tif (!promise) {\n\t\t\t\t\tthis.syncResourceHandlesByProfile.set(element.handle, promise = this.getSyncResourceHandles(<T>(<ProfileTreeItem>element).profile));\n\t\t\t\t}\n\t\t\t\treturn await promise;\n\t\t\t}\n\t\t\tif ((<SyncResourceHandleTreeItem>element).syncResourceHandle) {\n\t\t\t\treturn await this.getChildrenForSyncResourceTreeItem(<SyncResourceHandleTreeItem>element);\n\t\t\t}\n\t\t\treturn [];\n\t\t} catch (error) {\n\t\t\tif (!(error instanceof UserDataSyncError)) {\n\t\t\t\terror = UserDataSyncError.toUserDataSyncError(error);\n\t\t\t}\n\t\t\tif (error instanceof UserDataSyncError && error.code === UserDataSyncErrorCode.IncompatibleRemoteContent) {\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Error,\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tprimary: [\n\t\t\t\t\t\t\tnew Action('reset', localize('reset', \"Reset Synced Data\"), undefined, true, () => this.userDataSyncWorkbenchService.resetSyncedData()),\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.notificationService.error(error);\n\t\t\t}\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tprivate async getRoots(): Promise<ITreeItem[]> {\n\t\tthis.syncResourceHandlesByProfile.clear();\n\n\t\tconst roots: ITreeItem[] = [];\n\n\t\tconst profiles = await this.getProfiles();\n\t\tif (profiles.length) {\n\t\t\tconst profileTreeItem = {\n\t\t\t\thandle: this.userDataProfilesService.defaultProfile.id,\n\t\t\t\tlabel: { label: this.userDataProfilesService.defaultProfile.name },\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Expanded,\n\t\t\t};\n\t\t\troots.push(profileTreeItem);\n\t\t} else {\n\t\t\tconst defaultSyncResourceHandles = await this.getSyncResourceHandles();\n\t\t\troots.push(...defaultSyncResourceHandles);\n\t\t}\n\n\t\tfor (const profile of profiles) {\n\t\t\tconst profileTreeItem: ProfileTreeItem = {\n\t\t\t\thandle: profile.id,\n\t\t\t\tlabel: { label: profile.name },\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tprofile,\n\t\t\t};\n\t\t\troots.push(profileTreeItem);\n\t\t}\n\n\t\treturn roots;\n\t}\n\n\tprotected async getChildrenForSyncResourceTreeItem(element: SyncResourceHandleTreeItem): Promise<ITreeItem[]> {\n\t\tconst syncResourceHandle = (<SyncResourceHandleTreeItem>element).syncResourceHandle;\n\t\tconst associatedResources = await this.userDataSyncResourceProviderService.getAssociatedResources(syncResourceHandle);\n\t\tconst previousAssociatedResources = syncResourceHandle.previous ? await this.userDataSyncResourceProviderService.getAssociatedResources(syncResourceHandle.previous) : [];\n\t\treturn associatedResources.map(({ resource, comparableResource }) => {\n\t\t\tconst handle = JSON.stringify({ resource: resource.toString(), comparableResource: comparableResource.toString() });\n\t\t\tconst previousResource = previousAssociatedResources.find(previous => basename(previous.resource) === basename(resource))?.resource;\n\t\t\treturn {\n\t\t\t\thandle,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\tresourceUri: resource,\n\t\t\t\tcommand: previousResource ? {\n\t\t\t\t\tid: API_OPEN_DIFF_EDITOR_COMMAND_ID,\n\t\t\t\t\ttitle: '',\n\t\t\t\t\targuments: [\n\t\t\t\t\t\tpreviousResource,\n\t\t\t\t\t\tresource,\n\t\t\t\t\t\tlocalize('sideBySideLabels', \"{0} ↔ {1}\", `${basename(resource)} (${fromNow(syncResourceHandle.previous!.created, true)})`, `${basename(resource)} (${fromNow(syncResourceHandle.created, true)})`),\n\t\t\t\t\t\tundefined\n\t\t\t\t\t]\n\t\t\t\t} : {\n\t\t\t\t\tid: API_OPEN_EDITOR_COMMAND_ID,\n\t\t\t\t\ttitle: '',\n\t\t\t\t\targuments: [resource, undefined, undefined]\n\t\t\t\t},\n\t\t\t\tcontextValue: `sync-associatedResource-${syncResourceHandle.syncResource}`\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate async getSyncResourceHandles(profile?: T): Promise<SyncResourceHandleTreeItem[]> {\n\t\tconst treeItems: SyncResourceHandleTreeItem[] = [];\n\t\tconst result = await Promise.all(ALL_SYNC_RESOURCES.map(async syncResource => {\n\t\t\tconst resourceHandles = await this.getResourceHandles(syncResource, profile);\n\t\t\treturn resourceHandles.map((resourceHandle, index) => ({ ...resourceHandle, syncResource, previous: resourceHandles[index + 1] }));\n\t\t}));\n\t\tconst syncResourceHandles = result.flat().sort((a, b) => b.created - a.created);\n\t\tfor (const syncResourceHandle of syncResourceHandles) {\n\t\t\tconst handle = JSON.stringify({ syncResourceHandle, syncResource: syncResourceHandle.syncResource });\n\t\t\ttreeItems.push({\n\t\t\t\thandle,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tlabel: { label: getSyncAreaLabel(syncResourceHandle.syncResource) },\n\t\t\t\tdescription: fromNow(syncResourceHandle.created, true),\n\t\t\t\tthemeIcon: FolderThemeIcon,\n\t\t\t\tsyncResourceHandle,\n\t\t\t\tcontextValue: `sync-resource-${syncResourceHandle.syncResource}`\n\t\t\t});\n\t\t}\n\t\treturn treeItems;\n\t}\n\n\tprotected abstract getProfiles(): Promise<Profile[]>;\n\tprotected abstract getResourceHandles(syncResource: SyncResource, profile?: T): Promise<IResourceHandle[]>;\n}\n\nclass LocalUserDataSyncActivityViewDataProvider extends UserDataSyncActivityViewDataProvider<ISyncUserDataProfile> {\n\n\tprotected getResourceHandles(syncResource: SyncResource, profile: ISyncUserDataProfile | undefined): Promise<IResourceHandle[]> {\n\t\treturn this.userDataSyncResourceProviderService.getLocalSyncResourceHandles(syncResource, profile);\n\t}\n\n\tprotected async getProfiles(): Promise<ISyncUserDataProfile[]> {\n\t\treturn this.userDataProfilesService.profiles\n\t\t\t.filter(p => !p.isDefault)\n\t\t\t.map(p => ({\n\t\t\t\tid: p.id,\n\t\t\t\tcollection: p.id,\n\t\t\t\tname: p.name,\n\t\t\t}));\n\t}\n}\n\nclass RemoteUserDataSyncActivityViewDataProvider extends UserDataSyncActivityViewDataProvider<ISyncUserDataProfile> {\n\n\tprivate machinesPromise: Promise<IUserDataSyncMachine[]> | undefined;\n\n\tconstructor(\n\t\t@IUserDataSyncService userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataSyncResourceProviderService userDataSyncResourceProviderService: IUserDataSyncResourceProviderService,\n\t\t@IUserDataAutoSyncService userDataAutoSyncService: IUserDataAutoSyncService,\n\t\t@IUserDataSyncMachinesService private readonly userDataSyncMachinesService: IUserDataSyncMachinesService,\n\t\t@IUserDataSyncWorkbenchService userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IUserDataProfilesService userDataProfilesService: IUserDataProfilesService,\n\t) {\n\t\tsuper(userDataSyncService, userDataSyncResourceProviderService, userDataAutoSyncService, userDataSyncWorkbenchService, notificationService, userDataProfilesService);\n\t}\n\n\toverride async getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\tthis.machinesPromise = undefined;\n\t\t}\n\t\treturn super.getChildren(element);\n\t}\n\n\tprivate getMachines(): Promise<IUserDataSyncMachine[]> {\n\t\tif (this.machinesPromise === undefined) {\n\t\t\tthis.machinesPromise = this.userDataSyncMachinesService.getMachines();\n\t\t}\n\t\treturn this.machinesPromise;\n\t}\n\n\tprotected getResourceHandles(syncResource: SyncResource, profile?: ISyncUserDataProfile): Promise<IResourceHandle[]> {\n\t\treturn this.userDataSyncResourceProviderService.getRemoteSyncResourceHandles(syncResource, profile);\n\t}\n\n\tprotected getProfiles(): Promise<ISyncUserDataProfile[]> {\n\t\treturn this.userDataSyncResourceProviderService.getRemoteSyncedProfiles();\n\t}\n\n\tprotected override async getChildrenForSyncResourceTreeItem(element: SyncResourceHandleTreeItem): Promise<ITreeItem[]> {\n\t\tconst children = await super.getChildrenForSyncResourceTreeItem(element);\n\t\tif (children.length) {\n\t\t\tconst machineId = await this.userDataSyncResourceProviderService.getMachineId(element.syncResourceHandle);\n\t\t\tif (machineId) {\n\t\t\t\tconst machines = await this.getMachines();\n\t\t\t\tconst machine = machines.find(({ id }) => id === machineId);\n\t\t\t\tchildren[0].description = machine?.isCurrent ? localize({ key: 'current', comment: ['Represents current machine'] }, \"Current\") : machine?.name;\n\t\t\t}\n\t\t}\n\t\treturn children;\n\t}\n}\n\nclass ExtractedUserDataSyncActivityViewDataProvider extends UserDataSyncActivityViewDataProvider<ISyncUserDataProfile> {\n\n\tprivate machinesPromise: Promise<IUserDataSyncMachine[]> | undefined;\n\n\tprivate activityDataLocation: URI | undefined;\n\n\tconstructor(\n\t\tpublic activityDataResource: URI | undefined,\n\t\t@IUserDataSyncService userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataSyncResourceProviderService userDataSyncResourceProviderService: IUserDataSyncResourceProviderService,\n\t\t@IUserDataAutoSyncService userDataAutoSyncService: IUserDataAutoSyncService,\n\t\t@IUserDataSyncWorkbenchService userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IUserDataProfilesService userDataProfilesService: IUserDataProfilesService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t) {\n\t\tsuper(userDataSyncService, userDataSyncResourceProviderService, userDataAutoSyncService, userDataSyncWorkbenchService, notificationService, userDataProfilesService);\n\t}\n\n\toverride async getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\tthis.machinesPromise = undefined;\n\t\t\tif (!this.activityDataResource) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst stat = await this.fileService.resolve(this.activityDataResource);\n\t\t\tif (stat.isDirectory) {\n\t\t\t\tthis.activityDataLocation = this.activityDataResource;\n\t\t\t} else {\n\t\t\t\tthis.activityDataLocation = this.uriIdentityService.extUri.joinPath(this.uriIdentityService.extUri.dirname(this.activityDataResource), 'remoteActivity');\n\t\t\t\ttry { await this.fileService.del(this.activityDataLocation, { recursive: true }); } catch (e) {/* ignore */ }\n\t\t\t\tawait this.userDataSyncService.extractActivityData(this.activityDataResource, this.activityDataLocation);\n\t\t\t}\n\t\t}\n\t\treturn super.getChildren(element);\n\t}\n\n\tprotected getResourceHandles(syncResource: SyncResource, profile: ISyncUserDataProfile | undefined): Promise<IResourceHandle[]> {\n\t\treturn this.userDataSyncResourceProviderService.getLocalSyncResourceHandles(syncResource, profile, this.activityDataLocation);\n\t}\n\n\tprotected override async getProfiles(): Promise<ISyncUserDataProfile[]> {\n\t\treturn this.userDataSyncResourceProviderService.getLocalSyncedProfiles(this.activityDataLocation);\n\t}\n\n\tprotected override async getChildrenForSyncResourceTreeItem(element: SyncResourceHandleTreeItem): Promise<ITreeItem[]> {\n\t\tconst children = await super.getChildrenForSyncResourceTreeItem(element);\n\t\tif (children.length) {\n\t\t\tconst machineId = await this.userDataSyncResourceProviderService.getMachineId(element.syncResourceHandle);\n\t\t\tif (machineId) {\n\t\t\t\tconst machines = await this.getMachines();\n\t\t\t\tconst machine = machines.find(({ id }) => id === machineId);\n\t\t\t\tchildren[0].description = machine?.isCurrent ? localize({ key: 'current', comment: ['Represents current machine'] }, \"Current\") : machine?.name;\n\t\t\t}\n\t\t}\n\t\treturn children;\n\t}\n\n\tprivate getMachines(): Promise<IUserDataSyncMachine[]> {\n\t\tif (this.machinesPromise === undefined) {\n\t\t\tthis.machinesPromise = this.userDataSyncResourceProviderService.getLocalSyncedMachines(this.activityDataLocation);\n\t\t}\n\t\treturn this.machinesPromise;\n\t}\n}\n\nclass UserDataSyncMachinesViewDataProvider implements ITreeViewDataProvider {\n\n\tprivate machinesPromise: Promise<IUserDataSyncMachine[]> | undefined;\n\n\tconstructor(\n\t\tprivate readonly treeView: TreeView,\n\t\t@IUserDataSyncMachinesService private readonly userDataSyncMachinesService: IUserDataSyncMachinesService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t) {\n\t}\n\n\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\tthis.machinesPromise = undefined;\n\t\t}\n\t\ttry {\n\t\t\tlet machines = await this.getMachines();\n\t\t\tmachines = machines.filter(m => !m.disabled).sort((m1, m2) => m1.isCurrent ? -1 : 1);\n\t\t\tthis.treeView.message = machines.length ? undefined : localize('no machines', \"No Machines\");\n\t\t\treturn machines.map(({ id, name, isCurrent, platform }) => ({\n\t\t\t\thandle: id,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\tlabel: { label: name },\n\t\t\t\tdescription: isCurrent ? localize({ key: 'current', comment: ['Current machine'] }, \"Current\") : undefined,\n\t\t\t\tthemeIcon: platform && isWebPlatform(platform) ? Codicon.globe : Codicon.vm,\n\t\t\t\tcontextValue: 'sync-machine'\n\t\t\t}));\n\t\t} catch (error) {\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate getMachines(): Promise<IUserDataSyncMachine[]> {\n\t\tif (this.machinesPromise === undefined) {\n\t\t\tthis.machinesPromise = this.userDataSyncMachinesService.getMachines();\n\t\t}\n\t\treturn this.machinesPromise;\n\t}\n\n\tasync disable(machineIds: string[]): Promise<boolean> {\n\t\tconst machines = await this.getMachines();\n\t\tconst machinesToDisable = machines.filter(({ id }) => machineIds.includes(id));\n\t\tif (!machinesToDisable.length) {\n\t\t\tthrow new Error(localize('not found', \"machine not found with id: {0}\", machineIds.join(',')));\n\t\t}\n\n\t\tconst result = await this.dialogService.confirm({\n\t\t\ttype: 'info',\n\t\t\tmessage: machinesToDisable.length > 1 ? localize('turn off sync on multiple machines', \"Are you sure you want to turn off sync on selected machines?\")\n\t\t\t\t: localize('turn off sync on machine', \"Are you sure you want to turn off sync on {0}?\", machinesToDisable[0].name),\n\t\t\tprimaryButton: localize({ key: 'turn off', comment: ['&& denotes a mnemonic'] }, \"&&Turn off\"),\n\t\t});\n\n\t\tif (!result.confirmed) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (machinesToDisable.some(machine => machine.isCurrent)) {\n\t\t\tawait this.userDataSyncWorkbenchService.turnoff(false);\n\t\t}\n\n\t\tconst otherMachinesToDisable: [string, boolean][] = machinesToDisable.filter(machine => !machine.isCurrent)\n\t\t\t.map(machine => ([machine.id, false]));\n\t\tif (otherMachinesToDisable.length) {\n\t\t\tawait this.userDataSyncMachinesService.setEnablements(otherMachinesToDisable);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tasync rename(machineId: string): Promise<boolean> {\n\t\tconst disposableStore = new DisposableStore();\n\t\tconst inputBox = disposableStore.add(this.quickInputService.createInputBox());\n\t\tinputBox.placeholder = localize('placeholder', \"Enter the name of the machine\");\n\t\tinputBox.busy = true;\n\t\tinputBox.show();\n\t\tconst machines = await this.getMachines();\n\t\tconst machine = machines.find(({ id }) => id === machineId);\n\t\tif (!machine) {\n\t\t\tinputBox.hide();\n\t\t\tdisposableStore.dispose();\n\t\t\tthrow new Error(localize('not found', \"machine not found with id: {0}\", machineId));\n\t\t}\n\t\tinputBox.busy = false;\n\t\tinputBox.value = machine.name;\n\t\tconst validateMachineName = (machineName: string): string | null => {\n\t\t\tmachineName = machineName.trim();\n\t\t\treturn machineName && !machines.some(m => m.id !== machineId && m.name === machineName) ? machineName : null;\n\t\t};\n\t\tdisposableStore.add(inputBox.onDidChangeValue(() =>\n\t\t\tinputBox.validationMessage = validateMachineName(inputBox.value) ? '' : localize('valid message', \"Machine name should be unique and not empty\")));\n\t\treturn new Promise<boolean>((c, e) => {\n\t\t\tdisposableStore.add(inputBox.onDidAccept(async () => {\n\t\t\t\tconst machineName = validateMachineName(inputBox.value);\n\t\t\t\tdisposableStore.dispose();\n\t\t\t\tif (machineName && machineName !== machine.name) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this.userDataSyncMachinesService.renameMachine(machineId, machineName);\n\t\t\t\t\t\tc(true);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\te(error);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tc(false);\n\t\t\t\t}\n\t\t\t}));\n\t\t});\n\t}\n}\n\nclass UserDataSyncTroubleshootViewDataProvider implements ITreeViewDataProvider {\n\n\tconstructor(\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@IEnvironmentService private readonly environmentService: IEnvironmentService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t) {\n\t}\n\n\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\treturn [{\n\t\t\t\thandle: 'SYNC_LOGS',\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tlabel: { label: localize('sync logs', \"Logs\") },\n\t\t\t\tthemeIcon: Codicon.folder,\n\t\t\t}, {\n\t\t\t\thandle: 'LAST_SYNC_STATES',\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tlabel: { label: localize('last sync states', \"Last Synced Remotes\") },\n\t\t\t\tthemeIcon: Codicon.folder,\n\t\t\t}];\n\t\t}\n\n\t\tif (element.handle === 'LAST_SYNC_STATES') {\n\t\t\treturn this.getLastSyncStates();\n\t\t}\n\n\t\tif (element.handle === 'SYNC_LOGS') {\n\t\t\treturn this.getSyncLogs();\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate async getLastSyncStates(): Promise<ITreeItem[]> {\n\t\tconst result: ITreeItem[] = [];\n\t\tfor (const syncResource of ALL_SYNC_RESOURCES) {\n\t\t\tconst resource = getLastSyncResourceUri(undefined, syncResource, this.environmentService, this.uriIdentityService.extUri);\n\t\t\tif (await this.fileService.exists(resource)) {\n\t\t\t\tresult.push({\n\t\t\t\t\thandle: resource.toString(),\n\t\t\t\t\tlabel: { label: getSyncAreaLabel(syncResource) },\n\t\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\t\tresourceUri: resource,\n\t\t\t\t\tcommand: { id: API_OPEN_EDITOR_COMMAND_ID, title: '', arguments: [resource, undefined, undefined] },\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate async getSyncLogs(): Promise<ITreeItem[]> {\n\t\tconst logResources = await this.userDataSyncWorkbenchService.getAllLogResources();\n\t\tconst result: ITreeItem[] = [];\n\t\tfor (const syncLogResource of logResources) {\n\t\t\tconst logFolder = this.uriIdentityService.extUri.dirname(syncLogResource);\n\t\t\tresult.push({\n\t\t\t\thandle: syncLogResource.toString(),\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\tresourceUri: syncLogResource,\n\t\t\t\tlabel: { label: this.uriIdentityService.extUri.basename(logFolder) },\n\t\t\t\tdescription: this.uriIdentityService.extUri.isEqual(logFolder, this.environmentService.logsHome) ? localize({ key: 'current', comment: ['Represents current log file'] }, \"Current\") : undefined,\n\t\t\t\tcommand: { id: API_OPEN_EDITOR_COMMAND_ID, title: '', arguments: [syncLogResource, undefined, undefined] },\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n}\n"]}
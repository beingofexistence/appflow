{"version":3,"sources":["vs/workbench/contrib/issue/common/issue.contribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IAYhG,MAAM,yBAAyB,GAAG,oCAAoC,CAAC;IACvE,MAAM,sBAAsB,GAAG,0BAA0B,CAAC;IAE1D,MAAM,mCAAmC,GAA+B;QACvE,WAAW,EAAE,kEAAkE;QAC/E,IAAI,EAAE;YACL;gBACC,IAAI,EAAE,SAAS;gBACf,WAAW,EAAE,iDAAiD;gBAC9D,UAAU,EAAE,IAAI;gBAChB,MAAM,EAAE;oBACP,KAAK,EAAE;wBACN;4BACC,IAAI,EAAE,QAAQ;4BACd,WAAW,EAAE,gCAAgC;yBAC7C;wBACD;4BACC,IAAI,EAAE,QAAQ;4BACd,UAAU,EAAE;gCACX,WAAW,EAAE;oCACZ,IAAI,EAAE,QAAQ;iCACd;gCACD,UAAU,EAAE;oCACX,IAAI,EAAE,QAAQ;iCACd;gCACD,SAAS,EAAE;oCACV,IAAI,EAAE,QAAQ;iCACd;6BACD;yBAED;qBACD;iBACD;aACD;SACD;KACD,CAAC;IAQK,IAAM,IAAI,GAAV,MAAM,IAAI;QAChB,YACkB,cAAmB;YAEpC,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE;gBACnC,OAAO;aACP;YAED,cAAG,CAAc,eAAe,CAAC;gBAChC,EAAE,EAAE,yBAAyB;gBAC7B,OAAO,EAAE,UAAU,QAAQ,EAAE,IAAgD;oBAC5E,MAAM,IAAI,GACT,OAAO,IAAI,KAAK,QAAQ;wBACvB,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE;wBACvB,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;4BACpB,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE;4BAC1B,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;oBAEhB,OAAO,QAAQ,CAAC,GAAG,CAAC,YAAI,CAAmB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBAChE,CAAC;gBACD,WAAW,EAAE,mCAAmC;aAChD,CAAC,CAAC;YAEH,cAAG,CAAc,eAAe,CAAC;gBAChC,EAAE,EAAE,sBAAsB;gBAC1B,OAAO,EAAE,UAAU,QAAQ,EAAE,IAAgD;oBAC5E,MAAM,IAAI,GACT,OAAO,IAAI,KAAK,QAAQ;wBACvB,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE;wBACvB,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;4BACpB,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE;4BAC1B,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;oBAEhB,OAAO,QAAQ,CAAC,GAAG,CAAC,YAAI,CAAmB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBAChE,CAAC;gBACD,WAAW,EAAE,mCAAmC;aAChD,CAAC,CAAC;YAEH,MAAM,WAAW,GAAmB;gBACnC,EAAE,EAAE,yBAAyB;gBAC7B,KAAK,EAAE;oBACN,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAkH,CAAhH,CAAkH,EAA/G,EAAE,AAA8H,CAAC,qBAAzG,EAAE,OAAO,EAAE,CAAC,sEAAsE,CAAC;oBAChI,QAAQ,EAAE,iBAAiB;iBAC3B;gBACD,QAAQ,EAAE,4BAAG,CAAQ,IAAI;aACzB,CAAC;YAEF,aAAG,CAAU,cAAc,CAAC,aAAG,CAAI,cAAc,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;YAE7E,aAAG,CAAU,cAAc,CAAC,aAAG,CAAI,eAAe,EAAE;gBACnD,KAAK,EAAE,YAAY;gBACnB,OAAO,EAAE;oBACR,EAAE,EAAE,yBAAyB;oBAC7B,KAAK,EAAE,IAAA,cAAQ,EAAC,CAAoI,CAAlI,CAAoI,EAAjI,EAAE,AAA+I,CAAC,cAAjI,EAAE,OAAO,EAAE,CAAC,uBAAuB,EAAE,sEAAsE,CAAC;iBAClJ;gBACD,KAAK,EAAE,CAAC;aACR,CAAC,CAAC;QACJ,CAAC;KACD,CAAA;IA1DY,oBAAI;mBAAJ,IAAI;QAEd,WAAA,oBAAG,CAAA;OAFO,IAAI,CA0DhB","file":"issue.contribution.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from 'vs/nls';\nimport { ICommandAction } from 'vs/platform/action/common/action';\nimport { Categories } from 'vs/platform/action/common/actionCommonCategories';\nimport { MenuId, MenuRegistry } from 'vs/platform/actions/common/actions';\nimport { CommandsRegistry, ICommandHandlerDescription } from 'vs/platform/commands/common/commands';\nimport { IssueReporterData } from 'vs/platform/issue/common/issue';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { IWorkbenchContribution } from 'vs/workbench/common/contributions';\nimport { IWorkbenchIssueService } from 'vs/workbench/services/issue/common/issue';\n\nconst OpenIssueReporterActionId = 'workbench.action.openIssueReporter';\nconst OpenIssueReporterApiId = 'vscode.openIssueReporter';\n\nconst OpenIssueReporterCommandDescription: ICommandHandlerDescription = {\n\tdescription: 'Open the issue reporter and optionally prefill part of the form.',\n\targs: [\n\t\t{\n\t\t\tname: 'options',\n\t\t\tdescription: 'Data to use to prefill the issue reporter with.',\n\t\t\tisOptional: true,\n\t\t\tschema: {\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdescription: 'The extension id to preselect.'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\textensionId: {\n\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tissueTitle: {\n\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tissueBody: {\n\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t]\n};\n\ninterface OpenIssueReporterArgs {\n\treadonly extensionId?: string;\n\treadonly issueTitle?: string;\n\treadonly issueBody?: string;\n}\n\nexport class BaseIssueContribution implements IWorkbenchContribution {\n\tconstructor(\n\t\t@IProductService productService: IProductService\n\t) {\n\t\tif (!productService.reportIssueUrl) {\n\t\t\treturn;\n\t\t}\n\n\t\tCommandsRegistry.registerCommand({\n\t\t\tid: OpenIssueReporterActionId,\n\t\t\thandler: function (accessor, args?: string | [string] | OpenIssueReporterArgs) {\n\t\t\t\tconst data: Partial<IssueReporterData> =\n\t\t\t\t\ttypeof args === 'string'\n\t\t\t\t\t\t? { extensionId: args }\n\t\t\t\t\t\t: Array.isArray(args)\n\t\t\t\t\t\t\t? { extensionId: args[0] }\n\t\t\t\t\t\t\t: args ?? {};\n\n\t\t\t\treturn accessor.get(IWorkbenchIssueService).openReporter(data);\n\t\t\t},\n\t\t\tdescription: OpenIssueReporterCommandDescription\n\t\t});\n\n\t\tCommandsRegistry.registerCommand({\n\t\t\tid: OpenIssueReporterApiId,\n\t\t\thandler: function (accessor, args?: string | [string] | OpenIssueReporterArgs) {\n\t\t\t\tconst data: Partial<IssueReporterData> =\n\t\t\t\t\ttypeof args === 'string'\n\t\t\t\t\t\t? { extensionId: args }\n\t\t\t\t\t\t: Array.isArray(args)\n\t\t\t\t\t\t\t? { extensionId: args[0] }\n\t\t\t\t\t\t\t: args ?? {};\n\n\t\t\t\treturn accessor.get(IWorkbenchIssueService).openReporter(data);\n\t\t\t},\n\t\t\tdescription: OpenIssueReporterCommandDescription\n\t\t});\n\n\t\tconst reportIssue: ICommandAction = {\n\t\t\tid: OpenIssueReporterActionId,\n\t\t\ttitle: {\n\t\t\t\tvalue: localize({ key: 'reportIssueInEnglish', comment: ['Translate this to \"Report Issue in English\" in all languages please!'] }, \"Report Issue...\"),\n\t\t\t\toriginal: 'Report Issue...'\n\t\t\t},\n\t\t\tcategory: Categories.Help\n\t\t};\n\n\t\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, { command: reportIssue });\n\n\t\tMenuRegistry.appendMenuItem(MenuId.MenubarHelpMenu, {\n\t\t\tgroup: '3_feedback',\n\t\t\tcommand: {\n\t\t\t\tid: OpenIssueReporterActionId,\n\t\t\t\ttitle: localize({ key: 'miReportIssue', comment: ['&& denotes a mnemonic', 'Translate this to \"Report Issue in English\" in all languages please!'] }, \"Report &&Issue\")\n\t\t\t},\n\t\t\torder: 3\n\t\t});\n\t}\n}\n"]}
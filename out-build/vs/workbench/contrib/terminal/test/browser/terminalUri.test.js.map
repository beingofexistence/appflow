{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/terminal/test/browser/terminalUri.test.ts"],"names":[],"mappings":"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","file":"terminalUri.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual, strictEqual } from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { getInstanceFromResource, getTerminalResourcesFromDragEvent, getTerminalUri, IPartialDragEvent } from 'vs/workbench/contrib/terminal/browser/terminalUri';\n\nfunction fakeDragEvent(data: string): IPartialDragEvent {\n\treturn {\n\t\tdataTransfer: {\n\t\t\tgetData: () => {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t}\n\t};\n}\n\nsuite('terminalUri', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('getTerminalResourcesFromDragEvent', () => {\n\t\ttest('should give undefined when no terminal resources is in event', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tgetTerminalResourcesFromDragEvent(fakeDragEvent(''))?.map(e => e.toString()),\n\t\t\t\tundefined\n\t\t\t);\n\t\t});\n\t\ttest('should give undefined when an empty terminal resources array is in event', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tgetTerminalResourcesFromDragEvent(fakeDragEvent('[]'))?.map(e => e.toString()),\n\t\t\t\tundefined\n\t\t\t);\n\t\t});\n\t\ttest('should return terminal resource when event contains one', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tgetTerminalResourcesFromDragEvent(fakeDragEvent('[\"vscode-terminal:/1626874386474/3\"]'))?.map(e => e.toString()),\n\t\t\t\t['vscode-terminal:/1626874386474/3']\n\t\t\t);\n\t\t});\n\t\ttest('should return multiple terminal resources when event contains multiple', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tgetTerminalResourcesFromDragEvent(fakeDragEvent('[\"vscode-terminal:/foo/1\",\"vscode-terminal:/bar/2\"]'))?.map(e => e.toString()),\n\t\t\t\t['vscode-terminal:/foo/1', 'vscode-terminal:/bar/2']\n\t\t\t);\n\t\t});\n\t});\n\tsuite('getInstanceFromResource', () => {\n\t\ttest('should return undefined if there is no match', () => {\n\t\t\tstrictEqual(\n\t\t\t\tgetInstanceFromResource([\n\t\t\t\t\t{ resource: getTerminalUri('workspace', 2, 'title') }\n\t\t\t\t], getTerminalUri('workspace', 1)),\n\t\t\t\tundefined\n\t\t\t);\n\t\t});\n\t\ttest('should return a result if there is a match', () => {\n\t\t\tconst instance = { resource: getTerminalUri('workspace', 2, 'title') };\n\t\t\tstrictEqual(\n\t\t\t\tgetInstanceFromResource([\n\t\t\t\t\t{ resource: getTerminalUri('workspace', 1, 'title') },\n\t\t\t\t\tinstance,\n\t\t\t\t\t{ resource: getTerminalUri('workspace', 3, 'title') }\n\t\t\t\t], getTerminalUri('workspace', 2)),\n\t\t\t\tinstance\n\t\t\t);\n\t\t});\n\t\ttest('should ignore the fragment', () => {\n\t\t\tconst instance = { resource: getTerminalUri('workspace', 2, 'title') };\n\t\t\tstrictEqual(\n\t\t\t\tgetInstanceFromResource([\n\t\t\t\t\t{ resource: getTerminalUri('workspace', 1, 'title') },\n\t\t\t\t\tinstance,\n\t\t\t\t\t{ resource: getTerminalUri('workspace', 3, 'title') }\n\t\t\t\t], getTerminalUri('workspace', 2, 'does not match!')),\n\t\t\t\tinstance\n\t\t\t);\n\t\t});\n\t});\n});\n"]}
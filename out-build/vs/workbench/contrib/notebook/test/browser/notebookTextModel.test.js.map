{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/notebook/test/browser/notebookTextModel.test.ts"],"names":[],"mappings":"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","file":"notebookTextModel.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { VSBuffer } from 'vs/base/common/buffer';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { Mimes } from 'vs/base/common/mime';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { TestInstantiationService } from 'vs/platform/instantiation/test/common/instantiationServiceMock';\nimport { IUndoRedoService } from 'vs/platform/undoRedo/common/undoRedo';\nimport { NotebookTextModel } from 'vs/workbench/contrib/notebook/common/model/notebookTextModel';\nimport { CellEditType, CellKind, ICellEditOperation, MOVE_CURSOR_1_LINE_COMMAND, NotebookTextModelChangedEvent, NotebookTextModelWillAddRemoveEvent, SelectionStateType } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { setupInstantiationService, TestCell, valueBytesFromString, withTestNotebook } from 'vs/workbench/contrib/notebook/test/browser/testNotebookEditor';\n\nsuite('NotebookTextModel', () => {\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet languageService: ILanguageService;\n\n\tsuiteSetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(disposables);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\t\tinstantiationService.spy(IUndoRedoService, 'pushElement');\n\t});\n\n\tsuiteTeardown(() => disposables.dispose());\n\n\ttest('insert', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [disposables.add(new TestCell(textModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], languageService))] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 3, count: 0, cells: [disposables.add(new TestCell(textModel.viewType, 6, 'var f = 6;', 'javascript', CellKind.Code, [], languageService))] },\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 6);\n\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[4].getValue(), 'var f = 6;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('multiple inserts at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [disposables.add(new TestCell(textModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], languageService))] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [disposables.add(new TestCell(textModel.viewType, 6, 'var f = 6;', 'javascript', CellKind.Code, [], languageService))] },\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 6);\n\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var f = 6;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('delete', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 3, count: 1, cells: [] },\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var c = 3;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('delete + insert', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 3, count: 0, cells: [new TestCell(textModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], languageService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var e = 5;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('delete + insert at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(textModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], languageService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var c = 3;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('(replace) delete + insert at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [new TestCell(textModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], languageService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var c = 3;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('output', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\t// invalid index 1\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: Number.MAX_VALUE,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\toutputs: []\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\t});\n\n\t\t\t\t// invalid index 2\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: -1,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\toutputs: []\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\t});\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\toutputs: [{\n\t\t\t\t\t\toutputId: 'someId',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('_Hello_') }]\n\t\t\t\t\t}]\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 1);\n\n\t\t\t\t// append\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\tappend: true,\n\t\t\t\t\toutputs: [{\n\t\t\t\t\t\toutputId: 'someId2',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('_Hello2_') }]\n\t\t\t\t\t}]\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 2);\n\t\t\t\tlet [first, second] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'someId');\n\t\t\t\tassert.strictEqual(second.outputId, 'someId2');\n\n\t\t\t\t// replace all\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\toutputs: [{\n\t\t\t\t\t\toutputId: 'someId3',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.text, data: valueBytesFromString('Last, replaced output') }]\n\t\t\t\t\t}]\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 1);\n\t\t\t\t[first] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'someId3');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('multiple append output in one position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\t// append\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('append 1') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append2',\n\t\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('append 2') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 2);\n\t\t\t\tconst [first, second] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'append1');\n\t\t\t\tassert.strictEqual(second.outputId, 'append2');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('append to output created in same batch', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('append 1') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tmime: Mimes.markdown, data: valueBytesFromString('append 2')\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 1, 'has 1 output');\n\t\t\t\tconst [first] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'append1');\n\t\t\t\tassert.strictEqual(first.outputs.length, 2, 'has 2 items');\n\t\t\t}\n\t\t);\n\t});\n\n\tconst stdOutMime = 'application/vnd.code.notebook.stdout';\n\tconst stdErrMime = 'application/vnd.code.notebook.stderr';\n\n\ttest('appending streaming outputs', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [{ mime: stdOutMime, data: valueBytesFromString('append 1') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tconst [output] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(output.versionId, 0, 'initial output version should be 0');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('append 2') },\n\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('append 3') }\n\t\t\t\t\t\t]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 1, 'version should bump per append');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('append 4') },\n\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('append 5') }\n\t\t\t\t\t\t]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 2, 'version should bump per append');\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 1, 'has 1 output');\n\t\t\t\tassert.strictEqual(output.outputId, 'append1');\n\t\t\t\tassert.strictEqual(output.outputs.length, 1, 'outputs are compressed');\n\t\t\t\tassert.strictEqual(output.outputs[0].data.toString(), 'append 1append 2append 3append 4append 5');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(0, stdOutMime)?.toString(), 'append 2append 3append 4append 5');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(1, stdOutMime)?.toString(), 'append 4append 5');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(2, stdOutMime), undefined);\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(2, stdErrMime), undefined);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('replacing streaming outputs', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [{ mime: stdOutMime, data: valueBytesFromString('append 1') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tconst [output] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(output.versionId, 0, 'initial output version should be 0');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tmime: stdOutMime, data: valueBytesFromString('append 2')\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 1, 'version should bump per append');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: false,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tmime: stdOutMime, data: valueBytesFromString('replace 3')\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 2, 'version should bump per replace');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tmime: stdOutMime, data: valueBytesFromString('append 4')\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 3, 'version should bump per append');\n\n\t\t\t\tassert.strictEqual(output.outputs[0].data.toString(), 'replace 3append 4');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(0, stdOutMime), undefined,\n\t\t\t\t\t'replacing output should clear out previous versioned output buffers');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(1, stdOutMime), undefined,\n\t\t\t\t\t'replacing output should clear out previous versioned output buffers');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(2, stdOutMime)?.toString(), 'append 4');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('appending streaming outputs with move cursor compression', async function () {\n\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [\n\t\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('append 1') },\n\t\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('\\nappend 1') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tconst [output] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(output.versionId, 0, 'initial output version should be 0');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tmime: stdOutMime, data: valueBytesFromString(MOVE_CURSOR_1_LINE_COMMAND + '\\nappend 2')\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 1, 'version should bump per append');\n\n\t\t\t\tassert.strictEqual(output.outputs[0].data.toString(), 'append 1\\nappend 2');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(0, stdOutMime), undefined,\n\t\t\t\t\t'compressing outputs should clear out previous versioned output buffers');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('appending streaming outputs with carraige return compression', async function () {\n\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [\n\t\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('append 1') },\n\t\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('\\nappend 1') }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tconst [output] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(output.versionId, 0, 'initial output version should be 0');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\tmime: stdOutMime, data: valueBytesFromString('\\rappend 2')\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 1, 'version should bump per append');\n\n\t\t\t\tassert.strictEqual(output.outputs[0].data.toString(), 'append 1\\nappend 2');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(0, stdOutMime), undefined,\n\t\t\t\t\t'compressing outputs should clear out previous versioned output buffers');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('appending multiple different mime streaming outputs', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [\n\t\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('stdout 1') },\n\t\t\t\t\t\t\t\t{ mime: stdErrMime, data: valueBytesFromString('stderr 1') }\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tconst [output] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(output.versionId, 0, 'initial output version should be 0');\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{ mime: stdOutMime, data: valueBytesFromString('stdout 2') },\n\t\t\t\t\t\t\t{ mime: stdErrMime, data: valueBytesFromString('stderr 2') }\n\t\t\t\t\t\t]\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\tassert.strictEqual(output.versionId, 1, 'version should bump per replace');\n\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(0, stdErrMime)?.toString(), 'stderr 2');\n\t\t\t\tassert.strictEqual(output.appendedSinceVersion(0, stdOutMime)?.toString(), 'stdout 2');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('metadata', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\t// invalid index 1\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: Number.MAX_VALUE,\n\t\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\t\tmetadata: {}\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\t});\n\n\t\t\t\t// invalid index 2\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: -1,\n\t\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\t\tmetadata: {}\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\t\t\t\t});\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: { customProperty: 15 },\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: {},\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].metadata.customProperty, undefined);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('partial metadata', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.PartialMetadata,\n\t\t\t\t\tmetadata: { customProperty: 15 },\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.PartialMetadata,\n\t\t\t\t\tmetadata: {},\n\t\t\t\t}], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].metadata.customProperty, 15);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('multiple inserts in one edit', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\tlet changeEvent: NotebookTextModelChangedEvent | undefined = undefined;\n\t\t\t\tconst eventListener = textModel.onDidChangeContent(e => {\n\t\t\t\t\tchangeEvent = e;\n\t\t\t\t});\n\t\t\t\tconst willChangeEvents: NotebookTextModelWillAddRemoveEvent[] = [];\n\t\t\t\tconst willChangeListener = textModel.onWillAddRemoveCells(e => {\n\t\t\t\t\twillChangeEvents.push(e);\n\t\t\t\t});\n\t\t\t\tconst version = textModel.versionId;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(textModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], languageService)] },\n\t\t\t\t], true, undefined, () => ({ kind: SelectionStateType.Index, focus: { start: 0, end: 1 }, selections: [{ start: 0, end: 1 }] }), undefined, true);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var c = 3;');\n\n\t\t\t\tassert.notStrictEqual(changeEvent, undefined);\n\t\t\t\tassert.strictEqual(changeEvent!.rawEvents.length, 2);\n\t\t\t\tassert.deepStrictEqual(changeEvent!.endSelectionState?.selections, [{ start: 0, end: 1 }]);\n\t\t\t\tassert.strictEqual(willChangeEvents.length, 2);\n\t\t\t\tassert.strictEqual(textModel.versionId, version + 1);\n\t\t\t\teventListener.dispose();\n\t\t\t\twillChangeListener.dispose();\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('insert and metadata change in one edit', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\tlet changeEvent: NotebookTextModelChangedEvent | undefined = undefined;\n\t\t\t\tconst eventListener = textModel.onDidChangeContent(e => {\n\t\t\t\t\tchangeEvent = e;\n\t\t\t\t});\n\t\t\t\tconst willChangeEvents: NotebookTextModelWillAddRemoveEvent[] = [];\n\t\t\t\tconst willChangeListener = textModel.onWillAddRemoveCells(e => {\n\t\t\t\t\twillChangeEvents.push(e);\n\t\t\t\t});\n\n\t\t\t\tconst version = textModel.versionId;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\t\tmetadata: {},\n\t\t\t\t\t}\n\t\t\t\t], true, undefined, () => ({ kind: SelectionStateType.Index, focus: { start: 0, end: 1 }, selections: [{ start: 0, end: 1 }] }), undefined, true);\n\n\t\t\t\tassert.notStrictEqual(changeEvent, undefined);\n\t\t\t\tassert.strictEqual(changeEvent!.rawEvents.length, 2);\n\t\t\t\tassert.deepStrictEqual(changeEvent!.endSelectionState?.selections, [{ start: 0, end: 1 }]);\n\t\t\t\tassert.strictEqual(willChangeEvents.length, 1);\n\t\t\t\tassert.strictEqual(textModel.versionId, version + 1);\n\t\t\t\teventListener.dispose();\n\t\t\t\twillChangeListener.dispose();\n\t\t\t}\n\t\t);\n\t});\n\n\n\ttest('Updating appending/updating output in Notebooks does not work as expected #117273', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\n\t\t\tassert.strictEqual(model.cells.length, 1);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 0);\n\n\t\t\tconst success1 = model.applyEdits(\n\t\t\t\t[{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t{ outputId: 'out1', outputs: [{ mime: 'application/x.notebook.stream', data: VSBuffer.wrap(new Uint8Array([1])) }] }\n\t\t\t\t\t],\n\t\t\t\t\tappend: false\n\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t);\n\n\t\t\tassert.ok(success1);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 1);\n\n\t\t\tconst success2 = model.applyEdits(\n\t\t\t\t[{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t{ outputId: 'out2', outputs: [{ mime: 'application/x.notebook.stream', data: VSBuffer.wrap(new Uint8Array([1])) }] }\n\t\t\t\t\t],\n\t\t\t\t\tappend: true\n\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t);\n\n\t\t\tassert.ok(success2);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 2);\n\t\t});\n\t});\n\n\ttest('Clearing output of an empty notebook makes it dirty #119608', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\n\t\t\tlet event: NotebookTextModelChangedEvent | undefined;\n\n\t\t\tmodel.onDidChangeContent(e => { event = e; });\n\n\t\t\t{\n\t\t\t\t// 1: add ouput -> event\n\t\t\t\tconst success = model.applyEdits(\n\t\t\t\t\t[{\n\t\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t\t{ outputId: 'out1', outputs: [{ mime: 'application/x.notebook.stream', data: VSBuffer.wrap(new Uint8Array([1])) }] }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t\t);\n\n\t\t\t\tassert.ok(success);\n\t\t\t\tassert.strictEqual(model.cells[0].outputs.length, 1);\n\t\t\t\tassert.ok(event);\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// 2: clear all output w/ output -> event\n\t\t\t\tevent = undefined;\n\t\t\t\tconst success = model.applyEdits(\n\t\t\t\t\t[{\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}, {\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t\t);\n\t\t\t\tassert.ok(success);\n\t\t\t\tassert.ok(event);\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// 2: clear all output wo/ output -> NO event\n\t\t\t\tevent = undefined;\n\t\t\t\tconst success = model.applyEdits(\n\t\t\t\t\t[{\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}, {\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t\t);\n\n\t\t\t\tassert.ok(success);\n\t\t\t\tassert.ok(event === undefined);\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('Cell metadata/output change should update version id and alternative id #121807', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}]\n\t\t], async (editor, viewModel) => {\n\t\t\tassert.strictEqual(editor.textModel.versionId, 0);\n\t\t\tconst firstAltVersion = '0_0,1;1,1';\n\t\t\tassert.strictEqual(editor.textModel.alternativeVersionId, firstAltVersion);\n\t\t\teditor.textModel.applyEdits([\n\t\t\t\t{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\tinputCollapsed: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t], true, undefined, () => undefined, undefined, true);\n\t\t\tassert.strictEqual(editor.textModel.versionId, 1);\n\t\t\tassert.notStrictEqual(editor.textModel.alternativeVersionId, firstAltVersion);\n\t\t\tconst secondAltVersion = '1_0,1;1,1';\n\t\t\tassert.strictEqual(editor.textModel.alternativeVersionId, secondAltVersion);\n\n\t\t\tawait viewModel.undo();\n\t\t\tassert.strictEqual(editor.textModel.versionId, 2);\n\t\t\tassert.strictEqual(editor.textModel.alternativeVersionId, firstAltVersion);\n\n\t\t\tawait viewModel.redo();\n\t\t\tassert.strictEqual(editor.textModel.versionId, 3);\n\t\t\tassert.notStrictEqual(editor.textModel.alternativeVersionId, firstAltVersion);\n\t\t\tassert.strictEqual(editor.textModel.alternativeVersionId, secondAltVersion);\n\n\t\t\teditor.textModel.applyEdits([\n\t\t\t\t{\n\t\t\t\t\tindex: 1,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\tinputCollapsed: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t], true, undefined, () => undefined, undefined, true);\n\t\t\tassert.strictEqual(editor.textModel.versionId, 4);\n\t\t\tassert.strictEqual(editor.textModel.alternativeVersionId, '4_0,1;1,1');\n\n\t\t\tawait viewModel.undo();\n\t\t\tassert.strictEqual(editor.textModel.versionId, 5);\n\t\t\tassert.strictEqual(editor.textModel.alternativeVersionId, secondAltVersion);\n\n\t\t});\n\t});\n\n\ttest('Destructive sorting in _doApplyEdits #121994', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{ outputId: 'i42', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}]\n\t\t], async (editor) => {\n\n\t\t\tconst notebook = editor.textModel;\n\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs[0].outputs.length, 1);\n\t\t\tassert.deepStrictEqual(notebook.cells[0].outputs[0].outputs[0].data, valueBytesFromString('test'));\n\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, handle: 0, outputs: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, handle: 0, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.text, data: valueBytesFromString('cba') }, { mime: 'application/foo', data: valueBytesFromString('cba') }]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\teditor.textModel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs[0].outputs.length, 2);\n\t\t});\n\t});\n\n\ttest('Destructive sorting in _doApplyEdits #121994. cell splice between output changes', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{ outputId: 'i42', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [{ outputId: 'i43', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}],\n\t\t\t['var c = 3;', 'javascript', CellKind.Code, [{ outputId: 'i44', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}]\n\t\t], async (editor) => {\n\t\t\tconst notebook = editor.textModel;\n\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Replace, index: 1, count: 1, cells: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 2, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.text, data: valueBytesFromString('cba') }, { mime: 'application/foo', data: valueBytesFromString('cba') }]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\teditor.textModel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\n\t\t\tassert.strictEqual(notebook.cells.length, 2);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 0);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs.length, 2);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs[0].outputId, 'i44');\n\t\t\tassert.strictEqual(notebook.cells[1].outputs[1].outputId, 'newOutput');\n\t\t});\n\t});\n\n\ttest('Destructive sorting in _doApplyEdits #121994. cell splice between output changes 2', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{ outputId: 'i42', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [{ outputId: 'i43', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}],\n\t\t\t['var c = 3;', 'javascript', CellKind.Code, [{ outputId: 'i44', outputs: [{ mime: 'm/ime', data: valueBytesFromString('test') }] }], {}]\n\t\t], async (editor) => {\n\t\t\tconst notebook = editor.textModel;\n\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 1, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.text, data: valueBytesFromString('cba') }, { mime: 'application/foo', data: valueBytesFromString('cba') }]\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Replace, index: 1, count: 1, cells: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 1, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput2',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.text, data: valueBytesFromString('cba') }, { mime: 'application/foo', data: valueBytesFromString('cba') }]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\teditor.textModel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\n\t\t\tassert.strictEqual(notebook.cells.length, 2);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs[0].outputId, 'i44');\n\t\t});\n\t});\n\n\ttest('Output edits splice', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\n\t\t\tassert.strictEqual(model.cells.length, 1);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 0);\n\n\t\t\tconst success1 = model.applyEdits(\n\t\t\t\t[{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t{ outputId: 'out1', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('1') }] },\n\t\t\t\t\t\t{ outputId: 'out2', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('2') }] },\n\t\t\t\t\t\t{ outputId: 'out3', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('3') }] },\n\t\t\t\t\t\t{ outputId: 'out4', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('4') }] }\n\t\t\t\t\t],\n\t\t\t\t\tappend: false\n\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t);\n\n\t\t\tassert.ok(success1);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 4);\n\n\t\t\tconst success2 = model.applyEdits(\n\t\t\t\t[{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t{ outputId: 'out1', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('1') }] },\n\t\t\t\t\t\t{ outputId: 'out5', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('5') }] },\n\t\t\t\t\t\t{ outputId: 'out3', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('3') }] },\n\t\t\t\t\t\t{ outputId: 'out6', outputs: [{ mime: 'application/x.notebook.stream', data: valueBytesFromString('6') }] }\n\t\t\t\t\t],\n\t\t\t\t\tappend: false\n\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t);\n\n\t\t\tassert.ok(success2);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 4);\n\t\t\tassert.strictEqual(model.cells[0].outputs[0].outputId, 'out1');\n\t\t\tassert.strictEqual(model.cells[0].outputs[1].outputId, 'out5');\n\t\t\tassert.strictEqual(model.cells[0].outputs[2].outputId, 'out3');\n\t\t\tassert.strictEqual(model.cells[0].outputs[3].outputId, 'out6');\n\t\t});\n\t});\n\n\ttest('computeEdits no insert', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t]);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} }\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell content changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 2;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Replace, index: 0, count: 1, cells },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits last cell content changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined },\n\t\t\t\t{ source: 'var b = 2;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} },\n\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: cells.slice(1) },\n\t\t\t]);\n\t\t});\n\t});\n\ttest('computeEdits first cell content changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 2;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined },\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Replace, index: 0, count: 1, cells: cells.slice(0, 1) },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: {} },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits middle cell content changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var c = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined },\n\t\t\t\t{ source: 'var b = 2;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined },\n\t\t\t\t{ source: 'var c = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} },\n\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: cells.slice(1, 2) },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 2, metadata: {} },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell metadata changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: { name: 'foo' } },\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: { name: 'foo' } },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: {} },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell language changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'typescript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined },\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Replace, index: 0, count: 1, cells: cells.slice(0, 1) },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: {} },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell kind changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined },\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Markup, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} },\n\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: cells.slice(1) },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell metadata & content changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: { name: 'foo' } },\n\t\t\t\t{ source: 'var b = 2;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: { name: 'bar' } }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: { name: 'foo' } },\n\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: cells.slice(1) }\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell internal metadata changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined, internalMetadata: { executionOrder: 1 } },\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Replace, index: 0, count: 1, cells: cells.slice(0, 1) },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: {} },\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('computeEdits cell insertion', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{ source: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined, },\n\t\t\t\t{ source: 'var c = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: undefined, },\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: { foo: 'bar' } }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} },\n\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: cells.slice(1, 2) },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: { foo: 'bar' } },\n\t\t\t]);\n\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 3);\n\t\t\tassert.equal(model.cells[1].getValue(), 'var c = 1;');\n\t\t\tassert.equal(model.cells[2].getValue(), 'var b = 1;');\n\t\t\tassert.deepStrictEqual(model.cells[2].metadata, { foo: 'bar' });\n\t\t});\n\t});\n\n\ttest('computeEdits output changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{\n\t\t\t\t\tsource: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [{\n\t\t\t\t\t\toutputId: 'someId',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('_World_') }]\n\t\t\t\t\t}], metadata: undefined,\n\t\t\t\t},\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: { foo: 'bar' } }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} },\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [{\n\t\t\t\t\t\toutputId: 'someId',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('_World_') }]\n\t\t\t\t\t}], append: false\n\t\t\t\t},\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: { foo: 'bar' } },\n\t\t\t]);\n\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 2);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputId, 'someId');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].data.toString(), '_World_');\n\t\t});\n\t});\n\n\ttest('computeEdits output items changed', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{\n\t\t\t\toutputId: 'someId',\n\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('_Hello_') }]\n\t\t\t}], {}],\n\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst cells = [\n\t\t\t\t{\n\t\t\t\t\tsource: 'var a = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [{\n\t\t\t\t\t\toutputId: 'someId',\n\t\t\t\t\t\toutputs: [{ mime: Mimes.markdown, data: valueBytesFromString('_World_') }]\n\t\t\t\t\t}], metadata: undefined,\n\t\t\t\t},\n\t\t\t\t{ source: 'var b = 1;', language: 'javascript', cellKind: CellKind.Code, mime: undefined, outputs: [], metadata: { foo: 'bar' } }\n\t\t\t];\n\t\t\tconst edits = NotebookTextModel.computeEdits(model, cells);\n\n\t\t\tassert.deepStrictEqual(edits, [\n\t\t\t\t{ editType: CellEditType.Metadata, index: 0, metadata: {} },\n\t\t\t\t{ editType: CellEditType.OutputItems, outputId: 'someId', items: [{ mime: Mimes.markdown, data: valueBytesFromString('_World_') }], append: false },\n\t\t\t\t{ editType: CellEditType.Metadata, index: 1, metadata: { foo: 'bar' } },\n\t\t\t]);\n\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 2);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputId, 'someId');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].data.toString(), '_World_');\n\t\t});\n\t});\n\ttest('Append multiple text/plain output items', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{\n\t\t\t\toutputId: '1',\n\t\t\t\toutputs: [{ mime: 'text/plain', data: valueBytesFromString('foo') }]\n\t\t\t}], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\toutputId: '1',\n\t\t\t\t\tappend: true,\n\t\t\t\t\titems: [{ mime: 'text/plain', data: VSBuffer.fromString('bar') }, { mime: 'text/plain', data: VSBuffer.fromString('baz') }]\n\t\t\t\t}\n\t\t\t];\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs.length, 3);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].mime, 'text/plain');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].data.toString(), 'foo');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[1].mime, 'text/plain');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[1].data.toString(), 'bar');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[2].mime, 'text/plain');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[2].data.toString(), 'baz');\n\t\t});\n\t});\n\ttest('Append multiple stdout stream output items to an output with another mime', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{\n\t\t\t\toutputId: '1',\n\t\t\t\toutputs: [{ mime: 'text/plain', data: valueBytesFromString('foo') }]\n\t\t\t}], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\toutputId: '1',\n\t\t\t\t\tappend: true,\n\t\t\t\t\titems: [{ mime: 'application/vnd.code.notebook.stdout', data: VSBuffer.fromString('bar') }, { mime: 'application/vnd.code.notebook.stdout', data: VSBuffer.fromString('baz') }]\n\t\t\t\t}\n\t\t\t];\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs.length, 3);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].mime, 'text/plain');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].data.toString(), 'foo');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[1].mime, 'application/vnd.code.notebook.stdout');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[1].data.toString(), 'bar');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[2].mime, 'application/vnd.code.notebook.stdout');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[2].data.toString(), 'baz');\n\t\t});\n\t});\n\ttest('Compress multiple stdout stream output items', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{\n\t\t\t\toutputId: '1',\n\t\t\t\toutputs: [{ mime: 'application/vnd.code.notebook.stdout', data: valueBytesFromString('foo') }]\n\t\t\t}], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\toutputId: '1',\n\t\t\t\t\tappend: true,\n\t\t\t\t\titems: [{ mime: 'application/vnd.code.notebook.stdout', data: VSBuffer.fromString('bar') }, { mime: 'application/vnd.code.notebook.stdout', data: VSBuffer.fromString('baz') }]\n\t\t\t\t}\n\t\t\t];\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].mime, 'application/vnd.code.notebook.stdout');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].data.toString(), 'foobarbaz');\n\t\t});\n\n\t});\n\ttest('Compress multiple stderr stream output items', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{\n\t\t\t\toutputId: '1',\n\t\t\t\toutputs: [{ mime: 'application/vnd.code.notebook.stderr', data: valueBytesFromString('foo') }]\n\t\t\t}], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.textModel;\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.OutputItems,\n\t\t\t\t\toutputId: '1',\n\t\t\t\t\tappend: true,\n\t\t\t\t\titems: [{ mime: 'application/vnd.code.notebook.stderr', data: VSBuffer.fromString('bar') }, { mime: 'application/vnd.code.notebook.stderr', data: VSBuffer.fromString('baz') }]\n\t\t\t\t}\n\t\t\t];\n\t\t\tmodel.applyEdits(edits, true, undefined, () => undefined, undefined, true);\n\t\t\tassert.equal(model.cells.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs.length, 1);\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].mime, 'application/vnd.code.notebook.stderr');\n\t\t\tassert.equal(model.cells[0].outputs[0].outputs[0].data.toString(), 'foobarbaz');\n\t\t});\n\n\t});\n});\n"]}
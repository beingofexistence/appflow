{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/notebook/test/browser/notebookCommon.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;IAahG,KAAK,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC5B,IAAA,WAAG,GAAsC,CAAC;QAE1C,IAAI,WAAgB,CAAa;QACjC,IAAI,oBAA0B,CAAqB;QACnD,IAAI,eAAoB,CAAc;QAEtC,KAAK,CAAC,GAAG,EAAE;YACV,WAAW,GAAG,IAAI,eAAG,EAAc,CAAC;YACpC,oBAAoB,GAAG,IAAA,yBAAI,EAAsB,WAAW,CAAC,CAAC;YAC9D,eAAe,GAAG,oBAAoB,CAAC,GAAG,CAAC,cAAG,CAAc,CAAC;QAC9D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,8BAA8B,EAAE;YACpC,MAAM,CAAC,eAAe,CAAC,IAAI,oBAAG,EAAmB,CAAC,IAAI,CACrD;gBACC,kBAAkB;gBAClB,wBAAwB;gBACxB,WAAW;gBACX,eAAe;gBACf,UAAG,CAAG,KAAK;gBACX,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,YAAY;gBACZ,UAAG,CAAG,IAAI;aACV,CAAC,EACF;gBACC,kBAAkB;gBAClB,wBAAwB;gBACxB,WAAW;gBACX,eAAe;gBACf,UAAG,CAAG,KAAK;gBACX,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,YAAY;gBACZ,UAAG,CAAG,IAAI;aACV,CACD,CAAC;YAEF,MAAM,CAAC,eAAe,CAAC,IAAI,oBAAG,EAAmB,CAAC,IAAI,CACrD;gBACC,kBAAkB;gBAClB,UAAG,CAAG,KAAK;gBACX,UAAG,CAAG,QAAQ;gBACd,wBAAwB;gBACxB,WAAW;gBACX,UAAG,CAAG,IAAI;gBACV,WAAW;gBACX,YAAY;gBACZ,eAAe;aACf,CAAC,EACF;gBACC,kBAAkB;gBAClB,wBAAwB;gBACxB,WAAW;gBACX,eAAe;gBACf,UAAG,CAAG,KAAK;gBACX,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,YAAY;gBACZ,UAAG,CAAG,IAAI;aACV,CACD,CAAC;YAEF,MAAM,CAAC,eAAe,CAAC,IAAI,oBAAG,EAAmB,CAAC,IAAI,CACrD;gBACC,UAAG,CAAG,QAAQ;gBACd,kBAAkB;gBAClB,UAAG,CAAG,IAAI;gBACV,YAAY;gBACZ,wBAAwB;gBACxB,WAAW;gBACX,WAAW;gBACX,eAAe;aACf,CAAC,EACF;gBACC,kBAAkB;gBAClB,wBAAwB;gBACxB,WAAW;gBACX,eAAe;gBACf,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,YAAY;gBACZ,UAAG,CAAG,IAAI;aACV,CACD,CAAC;YAEF,WAAW,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAIH,IAAI,CAAC,2BAA2B,EAAE;YACjC,MAAM,CAAC,eAAe,CACrB,IAAI,oBAAG,CAAkB;gBACxB,WAAW;gBACX,UAAG,CAAG,IAAI;gBACV,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,kBAAkB;aAClB,CAAC,CAAC,IAAI,CACN;gBACC,kBAAkB;gBAClB,wBAAwB;gBACxB,WAAW;gBACX,eAAe;gBACf,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,YAAY;gBACZ,UAAG,CAAG,IAAI;aACV,CACD,EACD;gBACC,WAAW;gBACX,UAAG,CAAG,IAAI;gBACV,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,kBAAkB;gBAClB,wBAAwB;gBACxB,eAAe;gBACf,YAAY;aACZ,CACD,CAAC;YAEF,MAAM,CAAC,eAAe,CACrB,IAAI,oBAAG,CAAkB;gBACxB,kBAAkB;gBAClB,WAAW;gBACX,WAAW;gBACX,UAAG,CAAG,QAAQ;gBACd,kBAAkB;aAClB,CAAC,CAAC,IAAI,CAAC;gBACP,UAAG,CAAG,QAAQ;gBACd,kBAAkB;gBAClB,UAAG,CAAG,IAAI;gBACV,wBAAwB;gBACxB,WAAW;gBACX,eAAe;gBACf,YAAY;gBACZ,WAAW;aACX,CAAC,EACF;gBACC,kBAAkB;gBAClB,WAAW;gBACX,UAAG,CAAG,QAAQ;gBACd,wBAAwB;gBACxB,eAAe;gBACf,WAAW;gBACX,YAAY;gBACZ,UAAG,CAAG,IAAI;aACV,CACD,CAAC;YAEF,WAAW,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,uBAAuB,EAAE,GAAG,EAAE;YAClC,MAAM,CAAC,GAAG,IAAI,oBAAG,CAAkB;gBAClC,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,kBAAkB;aAClB,CAAC,CAAC;YACH,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAG,CAAG,QAAQ,EAAE,WAAW,EAAE,kBAAkB,CAAC,CAAC,CAAC;YAEvF,sCAAsC;YACtC,CAAC,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAChD,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAG,CAAG,QAAQ,EAAE,WAAW,EAAE,kBAAkB,CAAC,CAAC,CAAC;YAEvF,4BAA4B;YAC5B,CAAC,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,kBAAkB,EAAE,UAAG,CAAG,QAAQ,CAAC,CAAC,CAAC;YAChE,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,EAAE,UAAG,CAAG,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;YAEvF,mBAAmB;YACnB,CAAC,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,kBAAkB,EAAE,UAAG,CAAG,QAAQ,CAAC,CAAC,CAAC;YACjE,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,UAAG,CAAG,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;YAErG,kCAAkC;YAClC,CAAC,CAAC,UAAU,CAAC,UAAG,CAAG,QAAQ,EAAE,CAAC,YAAY,EAAE,kBAAkB,EAAE,UAAG,CAAG,QAAQ,CAAC,CAAC,CAAC;YACjF,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,EAAE,UAAG,CAAG,QAAQ,EAAE,YAAY,EAAE,kBAAkB,CAAC,CAAC,CAAC;YAErG,mBAAmB;YACnB,CAAC,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,UAAG,CAAG,QAAQ,CAAC,CAAC,CAAC;YACxE,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,UAAG,CAAG,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;YAErG,+CAA+C;YAC/C,MAAM,EAAE,GAAG,IAAI,oBAAG,CAAkB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAChD,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACzC,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAEjD,WAAW,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,oBAAoB,EAAE;YAC1B,MAAM,CAAC,eAAe,CACrB,IAAI,oBAAG,CAAkB;gBACxB,uBAAuB;gBACvB,UAAG,CAAG,QAAQ;gBACd,WAAW;gBACX,kBAAkB;aAClB,CAAC,CAAC,IAAI,CACN;gBACC,kBAAkB;gBAClB,wBAAwB;gBACxB,WAAW;gBACX,2BAA2B;gBAC3B,2BAA2B;aAC3B,CACD,EACD;gBACC,2BAA2B;gBAC3B,WAAW;gBACX,kBAAkB;gBAClB,2BAA2B;gBAC3B,wBAAwB;aACxB,EACD,QAAQ,CACR,CAAC;YAEF,WAAW,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,EAAE;YAClB,MAAM,KAAK,GAAe,EAAE,CAAC;YAE7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC3B,KAAK,CAAC,IAAI,CACT,WAAW,CAAC,GAAG,CAAC,IAAI,yBAAI,CAAK,UAAU,EAAE,CAAC,EAAE,WAAW,CAAC,GAAG,EAAE,YAAY,EAAE,yBAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC,CAC/G,CAAC;aACF;YAED,MAAM,CAAC,eAAe,CAAC,IAAA,oBAAG,EAAY,KAAK,EAAE,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE;gBACzD,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC,EAAE;gBACH;oBACC,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,CAAC;oBACd,QAAQ,EAAE,EAAE;iBACZ;aACD,CACA,CAAC;YAEF,MAAM,CAAC,eAAe,CAAC,IAAA,oBAAG,EAAY,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,EAAE,EAAE;gBACzD,OAAO,KAAK,CAAC;YACd,CAAC,CAAC,EAAE;gBACH;oBACC,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,CAAC;oBACd,QAAQ,EAAE,KAAK;iBACf;aACD,CACA,CAAC;YAEF,MAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,yBAAI,CAAK,UAAU,EAAE,CAAC,EAAE,YAAY,EAAE,YAAY,EAAE,yBAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC,CAAC;YAC3H,MAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,yBAAI,CAAK,UAAU,EAAE,CAAC,EAAE,YAAY,EAAE,YAAY,EAAE,yBAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC,CAAC;YAE3H,MAAM,aAAa,GAAG;gBACrB,KAAK,CAAC,CAAC,CAAC;gBACR,KAAK,CAAC,CAAC,CAAC;gBACR,KAAK;gBACL,KAAK,CAAC,CAAC,CAAC;gBACR,KAAK;gBACL,KAAK,CAAC,CAAC,CAAC;aACR,CAAC;YAEF,MAAM,OAAO,GAAG,IAAA,oBAAG,EAAY,KAAK,EAAE,aAAa,EAAE,CAAC,IAAI,EAAE,EAAE;gBAC7D,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,eAAe,CAAC,OAAO,EAC7B;gBACC;oBACC,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,CAAC;oBACd,QAAQ,EAAE,CAAC,KAAK,CAAC;iBACjB;gBACD;oBACC,KAAK,EAAE,CAAC;oBACR,WAAW,EAAE,CAAC;oBACd,QAAQ,EAAE,CAAC,KAAK,CAAC;iBACjB;aACD,CACD,CAAC;YAEF,WAAW,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IAEJ,CAAC,CAAC,CAAC;IAGH,KAAK,CAAC,SAAS,EAAE;QAEhB,IAAI,CAAC,+BAA+B,EAAE;YAErC,MAAM,EAAE,GAAG,SAAG,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;YACnD,MAAM,EAAE,GAAG,EAAE,CAAC;YAEd,MAAM,IAAI,GAAG,wBAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,wBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACnC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;YACvC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,8BAA8B,EAAE;YAEpC,MAAM,EAAE,GAAG,SAAG,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;YAClD,MAAM,EAAE,GAAG,EAAE,CAAC;YAEd,MAAM,IAAI,GAAG,wBAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,wBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACnC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;YACvC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,EAAE;YAEpB,MAAM,EAAE,GAAG,SAAG,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;YAClD,MAAM,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;YAExD,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,wBAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YAE9D,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;YACxC,MAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,SAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAElD,MAAM,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,wBAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;YAE7D,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAGH,KAAK,CAAC,WAAW,EAAE;QAElB,IAAI,CAAC,qBAAqB,EAAE;YAC3B,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YACpD,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YACxE,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACzE,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC5E,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACrG,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACtG,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,qBAAqB,EAAE;YAC3B,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YACpD,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACzE,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5E,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/E,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAErG,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5E,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/E,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAErG,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAC9E,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAiB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QAC/E,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe,EAAE;YACrB,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAc,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/G,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAc,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/G,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAc,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/G,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAc,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAErI,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAc;gBACvC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;gBACpB,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;gBACpB,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;aACpB,CAAC,EAAE;gBACH,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;gBACpB,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;aACpB,CAAC,CAAC;YAEH,MAAM,CAAC,eAAe,CAAC,IAAA,mBAAG,EAAc;gBACvC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;gBACpB,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;gBACpB,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;aACpB,CAAC,EAAE;gBACH,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;aACpB,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,mCAAmC,EAAE;QAE1C,IAAI,CAAC,OAAO,EAAE;YACb,MAAM,QAAQ,GAAG,cAAc,CAAC;YAChC,MAAM,IAAI,GAAG,oBAAG,CAA+B,MAAM,CAAC,cAAc,CAAC,CAAC;YACtE,MAAM,CAAC,WAAW,CAAC,oBAAG,CAA+B,KAAK,CAAC,IAAI,CAAC,EAAE,QAAQ,CAAC,CAAC;YAC5E,MAAM,CAAC,WAAW,CAAC,oBAAG,CAA+B,KAAK,CAAC,WAAW,CAAC,EAAE,SAAS,CAAC,CAAC;QACrF,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","file":"notebookCommon.test.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { Mimes } from 'vs/base/common/mime';\nimport { URI } from 'vs/base/common/uri';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from 'vs/base/test/common/utils';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { TestInstantiationService } from 'vs/platform/instantiation/test/common/instantiationServiceMock';\nimport { CellKind, CellUri, diff, MimeTypeDisplayOrder, NotebookWorkingCopyTypeIdentifier } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { cellIndexesToRanges, cellRangesToIndexes, reduceCellRanges } from 'vs/workbench/contrib/notebook/common/notebookRange';\nimport { setupInstantiationService, TestCell } from 'vs/workbench/contrib/notebook/test/browser/testNotebookEditor';\n\nsuite('NotebookCommon', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(disposables);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\t});\n\n\ttest('sortMimeTypes default orders', function () {\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.text,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/svg+xml'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json',\n\t\t\t\tMimes.text,\n\t\t\t\t'image/jpeg',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/png',\n\t\t\t\t'image/svg+xml'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\n\n\ttest('sortMimeTypes user orders', function () {\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'image/png',\n\t\t\t\tMimes.text,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json'\n\t\t\t]).sort(\n\t\t\t\t[\n\t\t\t\t\t'application/json',\n\t\t\t\t\t'application/javascript',\n\t\t\t\t\t'text/html',\n\t\t\t\t\t'image/svg+xml',\n\t\t\t\t\tMimes.markdown,\n\t\t\t\t\t'image/png',\n\t\t\t\t\t'image/jpeg',\n\t\t\t\t\tMimes.text\n\t\t\t\t]\n\t\t\t),\n\t\t\t[\n\t\t\t\t'image/png',\n\t\t\t\tMimes.text,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/jpeg',\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'application/json',\n\t\t\t\t'text/html',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json'\n\t\t\t]).sort([\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json',\n\t\t\t\tMimes.text,\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/javascript',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('prioritizes mimetypes', () => {\n\t\tconst m = new MimeTypeDisplayOrder([\n\t\t\tMimes.markdown,\n\t\t\t'text/html',\n\t\t\t'application/json'\n\t\t]);\n\t\tassert.deepStrictEqual(m.toArray(), [Mimes.markdown, 'text/html', 'application/json']);\n\n\t\t// no-op if already in the right order\n\t\tm.prioritize('text/html', ['application/json']);\n\t\tassert.deepStrictEqual(m.toArray(), [Mimes.markdown, 'text/html', 'application/json']);\n\n\t\t// sorts to highest priority\n\t\tm.prioritize('text/html', ['application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/html', Mimes.markdown, 'application/json']);\n\n\t\t// adds in new type\n\t\tm.prioritize('text/plain', ['application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/plain', 'text/html', Mimes.markdown, 'application/json']);\n\n\t\t// moves multiple, preserves order\n\t\tm.prioritize(Mimes.markdown, ['text/plain', 'application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/html', Mimes.markdown, 'text/plain', 'application/json']);\n\n\t\t// deletes multiple\n\t\tm.prioritize('text/plain', ['text/plain', 'text/html', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/plain', 'text/html', Mimes.markdown, 'application/json']);\n\n\t\t// handles multiple mimetypes, unknown mimetype\n\t\tconst m2 = new MimeTypeDisplayOrder(['a', 'b']);\n\t\tm2.prioritize('b', ['a', 'b', 'a', 'q']);\n\t\tassert.deepStrictEqual(m2.toArray(), ['b', 'a']);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('sortMimeTypes glob', function () {\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'application/vnd-vega*',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json'\n\t\t\t]).sort(\n\t\t\t\t[\n\t\t\t\t\t'application/json',\n\t\t\t\t\t'application/javascript',\n\t\t\t\t\t'text/html',\n\t\t\t\t\t'application/vnd-plot.json',\n\t\t\t\t\t'application/vnd-vega.json'\n\t\t\t\t]\n\t\t\t),\n\t\t\t[\n\t\t\t\t'application/vnd-vega.json',\n\t\t\t\t'text/html',\n\t\t\t\t'application/json',\n\t\t\t\t'application/vnd-plot.json',\n\t\t\t\t'application/javascript',\n\t\t\t],\n\t\t\t'glob *'\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('diff cells', function () {\n\t\tconst cells: TestCell[] = [];\n\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tcells.push(\n\t\t\t\tdisposables.add(new TestCell('notebook', i, `var a = ${i};`, 'javascript', CellKind.Code, [], languageService))\n\t\t\t);\n\t\t}\n\n\t\tassert.deepStrictEqual(diff<TestCell>(cells, [], (cell) => {\n\t\t\treturn cells.indexOf(cell) > -1;\n\t\t}), [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tdeleteCount: 5,\n\t\t\t\ttoInsert: []\n\t\t\t}\n\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(diff<TestCell>([], cells, (cell) => {\n\t\t\treturn false;\n\t\t}), [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tdeleteCount: 0,\n\t\t\t\ttoInsert: cells\n\t\t\t}\n\t\t]\n\t\t);\n\n\t\tconst cellA = disposables.add(new TestCell('notebook', 6, 'var a = 6;', 'javascript', CellKind.Code, [], languageService));\n\t\tconst cellB = disposables.add(new TestCell('notebook', 7, 'var a = 7;', 'javascript', CellKind.Code, [], languageService));\n\n\t\tconst modifiedCells = [\n\t\t\tcells[0],\n\t\t\tcells[1],\n\t\t\tcellA,\n\t\t\tcells[3],\n\t\t\tcellB,\n\t\t\tcells[4]\n\t\t];\n\n\t\tconst splices = diff<TestCell>(cells, modifiedCells, (cell) => {\n\t\t\treturn cells.indexOf(cell) > -1;\n\t\t});\n\n\t\tassert.deepStrictEqual(splices,\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tstart: 2,\n\t\t\t\t\tdeleteCount: 1,\n\t\t\t\t\ttoInsert: [cellA]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tstart: 4,\n\t\t\t\t\tdeleteCount: 0,\n\t\t\t\t\ttoInsert: [cellB]\n\t\t\t\t}\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n});\n\n\nsuite('CellUri', function () {\n\n\ttest('parse, generate (file-scheme)', function () {\n\n\t\tconst nb = URI.parse('file:///bar/følder/file.nb');\n\t\tconst id = 17;\n\n\t\tconst data = CellUri.generate(nb, id);\n\t\tconst actual = CellUri.parse(data);\n\t\tassert.ok(Boolean(actual));\n\t\tassert.strictEqual(actual?.handle, id);\n\t\tassert.strictEqual(actual?.notebook.toString(), nb.toString());\n\t});\n\n\ttest('parse, generate (foo-scheme)', function () {\n\n\t\tconst nb = URI.parse('foo:///bar/følder/file.nb');\n\t\tconst id = 17;\n\n\t\tconst data = CellUri.generate(nb, id);\n\t\tconst actual = CellUri.parse(data);\n\t\tassert.ok(Boolean(actual));\n\t\tassert.strictEqual(actual?.handle, id);\n\t\tassert.strictEqual(actual?.notebook.toString(), nb.toString());\n\t});\n\n\ttest('stable order', function () {\n\n\t\tconst nb = URI.parse('foo:///bar/følder/file.nb');\n\t\tconst handles = [1, 2, 9, 10, 88, 100, 666666, 7777777];\n\n\t\tconst uris = handles.map(h => CellUri.generate(nb, h)).sort();\n\n\t\tconst strUris = uris.map(String).sort();\n\t\tconst parsedUris = strUris.map(s => URI.parse(s));\n\n\t\tconst actual = parsedUris.map(u => CellUri.parse(u)?.handle);\n\n\t\tassert.deepStrictEqual(actual, handles);\n\t});\n});\n\n\nsuite('CellRange', function () {\n\n\ttest('Cell range to index', function () {\n\t\tassert.deepStrictEqual(cellRangesToIndexes([]), []);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 0 }]), []);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 1 }]), [0]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }]), [0, 1]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }, { start: 2, end: 3 }]), [0, 1, 2]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }, { start: 3, end: 4 }]), [0, 1, 3]);\n\t});\n\n\ttest('Cell index to range', function () {\n\t\tassert.deepStrictEqual(cellIndexesToRanges([]), []);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0]), [{ start: 0, end: 1 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1, 2]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1, 3]), [{ start: 0, end: 2 }, { start: 3, end: 4 }]);\n\n\t\tassert.deepStrictEqual(cellIndexesToRanges([1, 0]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([1, 2, 0]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([3, 1, 0]), [{ start: 0, end: 2 }, { start: 3, end: 4 }]);\n\n\t\tassert.deepStrictEqual(cellIndexesToRanges([9, 10]), [{ start: 9, end: 11 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([10, 9]), [{ start: 9, end: 11 }]);\n\t});\n\n\ttest('Reduce ranges', function () {\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 1 }, { start: 1, end: 2 }]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 2 }, { start: 1, end: 3 }]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 1, end: 3 }, { start: 0, end: 2 }]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 2 }, { start: 4, end: 5 }]), [{ start: 0, end: 2 }, { start: 4, end: 5 }]);\n\n\t\tassert.deepStrictEqual(reduceCellRanges([\n\t\t\t{ start: 0, end: 1 },\n\t\t\t{ start: 1, end: 2 },\n\t\t\t{ start: 4, end: 6 }\n\t\t]), [\n\t\t\t{ start: 0, end: 2 },\n\t\t\t{ start: 4, end: 6 }\n\t\t]);\n\n\t\tassert.deepStrictEqual(reduceCellRanges([\n\t\t\t{ start: 0, end: 1 },\n\t\t\t{ start: 1, end: 3 },\n\t\t\t{ start: 3, end: 4 }\n\t\t]), [\n\t\t\t{ start: 0, end: 4 }\n\t\t]);\n\t});\n});\n\nsuite('NotebookWorkingCopyTypeIdentifier', function () {\n\n\ttest('works', function () {\n\t\tconst viewType = 'testViewType';\n\t\tconst type = NotebookWorkingCopyTypeIdentifier.create('testViewType');\n\t\tassert.strictEqual(NotebookWorkingCopyTypeIdentifier.parse(type), viewType);\n\t\tassert.strictEqual(NotebookWorkingCopyTypeIdentifier.parse('something'), undefined);\n\t});\n});\n"]}
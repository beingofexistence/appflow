{"version":3,"sources":["vs/workbench/contrib/notebook/browser/diff/notebookDiffActions.ts"],"names":[],"mappings":"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","file":"notebookDiffActions.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IBulkEditService, ResourceTextEdit } from 'vs/editor/browser/services/bulkEditService';\nimport { localize } from 'vs/nls';\nimport { Action2, MenuId, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyExpr, ContextKeyExpression } from 'vs/platform/contextkey/common/contextkey';\nimport { ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { ActiveEditorContext } from 'vs/workbench/common/contextkeys';\nimport { DiffElementViewModelBase, SideBySideDiffElementViewModel } from 'vs/workbench/contrib/notebook/browser/diff/diffElementViewModel';\nimport { INotebookTextDiffEditor, NOTEBOOK_DIFF_CELL_INPUT, NOTEBOOK_DIFF_CELL_PROPERTY, NOTEBOOK_DIFF_CELL_PROPERTY_EXPANDED } from 'vs/workbench/contrib/notebook/browser/diff/notebookDiffEditorBrowser';\nimport { NotebookTextDiffEditor } from 'vs/workbench/contrib/notebook/browser/diff/notebookDiffEditor';\nimport { NotebookDiffEditorInput } from 'vs/workbench/contrib/notebook/common/notebookDiffEditorInput';\nimport { nextChangeIcon, openAsTextIcon, previousChangeIcon, renderOutputIcon, revertIcon } from 'vs/workbench/contrib/notebook/browser/notebookIcons';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IConfigurationRegistry, Extensions as ConfigurationExtensions } from 'vs/platform/configuration/common/configurationRegistry';\nimport { ICommandActionTitle } from 'vs/platform/action/common/action';\nimport { DEFAULT_EDITOR_ASSOCIATION } from 'vs/workbench/common/editor';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { CellEditType, NOTEBOOK_DIFF_EDITOR_ID } from 'vs/workbench/contrib/notebook/common/notebookCommon';\n\n// ActiveEditorContext.isEqualTo(SearchEditorConstants.SearchEditorID)\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.diff.switchToText',\n\t\t\ticon: openAsTextIcon,\n\t\t\ttitle: { value: localize('notebook.diff.switchToText', \"Open Text Diff Editor\"), original: 'Open Text Diff Editor' },\n\t\t\tprecondition: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID),\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID)\n\t\t\t}]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst activeEditor = editorService.activeEditorPane;\n\t\tif (activeEditor && activeEditor instanceof NotebookTextDiffEditor) {\n\t\t\tconst diffEditorInput = activeEditor.input as NotebookDiffEditorInput;\n\n\t\t\tawait editorService.openEditor(\n\t\t\t\t{\n\t\t\t\t\toriginal: { resource: diffEditorInput.original.resource },\n\t\t\t\t\tmodified: { resource: diffEditorInput.resource },\n\t\t\t\t\tlabel: diffEditorInput.getName(),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tpreserveFocus: false,\n\t\t\t\t\t\toverride: DEFAULT_EDITOR_ASSOCIATION.id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.revertMetadata',\n\t\t\t\ttitle: localize('notebook.diff.cell.revertMetadata', \"Revert Metadata\"),\n\t\t\t\ticon: revertIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellMetadataTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst original = context.cell.original;\n\t\tconst modified = context.cell.modified;\n\n\t\tif (!original || !modified) {\n\t\t\treturn;\n\t\t}\n\n\t\tmodified.textModel.metadata = original.metadata;\n\t}\n});\n\n// registerAction2(class extends Action2 {\n// \tconstructor() {\n// \t\tsuper(\n// \t\t\t{\n// \t\t\t\tid: 'notebook.diff.cell.switchOutputRenderingStyle',\n// \t\t\t\ttitle: localize('notebook.diff.cell.switchOutputRenderingStyle', \"Switch Outputs Rendering\"),\n// \t\t\t\ticon: renderOutputIcon,\n// \t\t\t\tf1: false,\n// \t\t\t\tmenu: {\n// \t\t\t\t\tid: MenuId.NotebookDiffCellOutputsTitle\n// \t\t\t\t}\n// \t\t\t}\n// \t\t);\n// \t}\n// \trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n// \t\tif (!context) {\n// \t\t\treturn;\n// \t\t}\n\n// \t\tcontext.cell.renderOutput = true;\n// \t}\n// });\n\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.switchOutputRenderingStyleToText',\n\t\t\t\ttitle: localize('notebook.diff.cell.switchOutputRenderingStyleToText', \"Switch Output Rendering\"),\n\t\t\t\ticon: renderOutputIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellOutputsTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY_EXPANDED\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontext.cell.renderOutput = !context.cell.renderOutput;\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.revertOutputs',\n\t\t\t\ttitle: localize('notebook.diff.cell.revertOutputs', \"Revert Outputs\"),\n\t\t\t\ticon: revertIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellOutputsTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(context.cell instanceof SideBySideDiffElementViewModel)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst original = context.cell.original;\n\t\tconst modified = context.cell.modified;\n\n\t\tconst modifiedCellIndex = context.cell.mainDocumentTextModel.cells.indexOf(modified.textModel);\n\t\tif (modifiedCellIndex === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontext.cell.mainDocumentTextModel.applyEdits([{\n\t\t\teditType: CellEditType.Output, index: modifiedCellIndex, outputs: original.outputs\n\t\t}], true, undefined, () => undefined, undefined, true);\n\t}\n});\n\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.revertInput',\n\t\t\t\ttitle: localize('notebook.diff.cell.revertInput', \"Revert Input\"),\n\t\t\t\ticon: revertIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellInputTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_INPUT\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_DIFF_CELL_INPUT\n\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst original = context.cell.original;\n\t\tconst modified = context.cell.modified;\n\n\t\tif (!original || !modified) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst bulkEditService = accessor.get(IBulkEditService);\n\t\treturn bulkEditService.apply([\n\t\t\tnew ResourceTextEdit(modified.uri, { range: modified.textModel.getFullModelRange(), text: original.textModel.getValue() }),\n\t\t], { quotableLabel: 'Revert Notebook Cell Content Change' });\n\t}\n});\n\nclass ToggleRenderAction extends Action2 {\n\tconstructor(id: string, title: string | ICommandActionTitle, precondition: ContextKeyExpression | undefined, toggled: ContextKeyExpression | undefined, order: number, private readonly toggleOutputs?: boolean, private readonly toggleMetadata?: boolean) {\n\t\tsuper({\n\t\t\tid: id,\n\t\t\ttitle,\n\t\t\tprecondition: precondition,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'notebook',\n\t\t\t\twhen: precondition,\n\t\t\t\torder: order,\n\t\t\t}],\n\t\t\ttoggled: toggled\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tif (this.toggleOutputs !== undefined) {\n\t\t\tconst oldValue = configurationService.getValue('notebook.diff.ignoreOutputs');\n\t\t\tconfigurationService.updateValue('notebook.diff.ignoreOutputs', !oldValue);\n\t\t}\n\n\t\tif (this.toggleMetadata !== undefined) {\n\t\t\tconst oldValue = configurationService.getValue('notebook.diff.ignoreMetadata');\n\t\t\tconfigurationService.updateValue('notebook.diff.ignoreMetadata', !oldValue);\n\t\t}\n\t}\n}\n\nregisterAction2(class extends ToggleRenderAction {\n\tconstructor() {\n\t\tsuper('notebook.diff.showOutputs',\n\t\t\t{ value: localize('notebook.diff.showOutputs', \"Show Outputs Differences\"), original: 'Show Outputs Differences' },\n\t\t\tActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID),\n\t\t\tContextKeyExpr.notEquals('config.notebook.diff.ignoreOutputs', true),\n\t\t\t2,\n\t\t\ttrue,\n\t\t\tundefined\n\t\t);\n\t}\n});\n\nregisterAction2(class extends ToggleRenderAction {\n\tconstructor() {\n\t\tsuper('notebook.diff.showMetadata',\n\t\t\t{ value: localize('notebook.diff.showMetadata', \"Show Metadata Differences\"), original: 'Show Metadata Differences' },\n\t\t\tActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID),\n\t\t\tContextKeyExpr.notEquals('config.notebook.diff.ignoreMetadata', true),\n\t\t\t1,\n\t\t\tundefined,\n\t\t\ttrue\n\t\t);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.action.previous',\n\t\t\t\ttitle: localize('notebook.diff.action.previous.title', \"Show Previous Change\"),\n\t\t\t\ticon: previousChangeIcon,\n\t\t\t\tf1: false,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.F3,\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\twhen: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID)\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor) {\n\t\tconst editorService: IEditorService = accessor.get(IEditorService);\n\t\tif (editorService.activeEditorPane?.getId() !== NOTEBOOK_DIFF_EDITOR_ID) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = editorService.activeEditorPane.getControl() as INotebookTextDiffEditor | undefined;\n\t\teditor?.previousChange();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.action.next',\n\t\t\t\ttitle: localize('notebook.diff.action.next.title', \"Show Next Change\"),\n\t\t\t\ticon: nextChangeIcon,\n\t\t\t\tf1: false,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.Alt | KeyCode.F3,\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\twhen: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID)\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor) {\n\t\tconst editorService: IEditorService = accessor.get(IEditorService);\n\t\tif (editorService.activeEditorPane?.getId() !== NOTEBOOK_DIFF_EDITOR_ID) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = editorService.activeEditorPane.getControl() as INotebookTextDiffEditor | undefined;\n\t\teditor?.nextChange();\n\t}\n});\n\n\n\nRegistry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).registerConfiguration({\n\tid: 'notebook',\n\torder: 100,\n\ttype: 'object',\n\t'properties': {\n\t\t'notebook.diff.ignoreMetadata': {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tmarkdownDescription: localize('notebook.diff.ignoreMetadata', \"Hide Metadata Differences\")\n\t\t},\n\t\t'notebook.diff.ignoreOutputs': {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tmarkdownDescription: localize('notebook.diff.ignoreOutputs', \"Hide Outputs Differences\")\n\t\t},\n\t}\n});\n"]}
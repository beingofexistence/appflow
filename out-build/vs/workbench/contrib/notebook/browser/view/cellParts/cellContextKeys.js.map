{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/notebook/browser/view/cellParts/cellContextKeys.ts"],"names":[],"mappings":"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","file":"cellContextKeys.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { CellEditState, CellFocusMode, ICellViewModel, INotebookEditorDelegate } from 'vs/workbench/contrib/notebook/browser/notebookBrowser';\nimport { CellViewModelStateChangeEvent } from 'vs/workbench/contrib/notebook/browser/notebookViewEvents';\nimport { CellContentPart } from 'vs/workbench/contrib/notebook/browser/view/cellPart';\nimport { CodeCellViewModel } from 'vs/workbench/contrib/notebook/browser/viewModel/codeCellViewModel';\nimport { MarkupCellViewModel } from 'vs/workbench/contrib/notebook/browser/viewModel/markupCellViewModel';\nimport { NotebookCellExecutionState } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { NotebookCellExecutionStateContext, NOTEBOOK_CELL_EDITABLE, NOTEBOOK_CELL_EDITOR_FOCUSED, NOTEBOOK_CELL_EXECUTING, NOTEBOOK_CELL_EXECUTION_STATE, NOTEBOOK_CELL_FOCUSED, NOTEBOOK_CELL_HAS_OUTPUTS, NOTEBOOK_CELL_INPUT_COLLAPSED, NOTEBOOK_CELL_LINE_NUMBERS, NOTEBOOK_CELL_MARKDOWN_EDIT_MODE, NOTEBOOK_CELL_OUTPUT_COLLAPSED, NOTEBOOK_CELL_RESOURCE, NOTEBOOK_CELL_TYPE } from 'vs/workbench/contrib/notebook/common/notebookContextKeys';\nimport { INotebookExecutionStateService, NotebookExecutionType } from 'vs/workbench/contrib/notebook/common/notebookExecutionStateService';\n\nexport class CellContextKeyPart extends CellContentPart {\n\tprivate cellContextKeyManager: CellContextKeyManager;\n\n\tconstructor(\n\t\tnotebookEditor: INotebookEditorDelegate,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tthis.cellContextKeyManager = this._register(this.instantiationService.createInstance(CellContextKeyManager, notebookEditor, undefined));\n\t}\n\n\toverride didRenderCell(element: ICellViewModel): void {\n\t\tthis.cellContextKeyManager.updateForElement(element);\n\t}\n}\n\nexport class CellContextKeyManager extends Disposable {\n\n\tprivate cellType!: IContextKey<'code' | 'markup'>;\n\tprivate cellEditable!: IContextKey<boolean>;\n\tprivate cellFocused!: IContextKey<boolean>;\n\tprivate cellEditorFocused!: IContextKey<boolean>;\n\tprivate cellRunState!: IContextKey<NotebookCellExecutionStateContext>;\n\tprivate cellExecuting!: IContextKey<boolean>;\n\tprivate cellHasOutputs!: IContextKey<boolean>;\n\tprivate cellContentCollapsed!: IContextKey<boolean>;\n\tprivate cellOutputCollapsed!: IContextKey<boolean>;\n\tprivate cellLineNumbers!: IContextKey<'on' | 'off' | 'inherit'>;\n\tprivate cellResource!: IContextKey<string>;\n\n\tprivate markdownEditMode!: IContextKey<boolean>;\n\n\tprivate readonly elementDisposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate readonly notebookEditor: INotebookEditorDelegate,\n\t\tprivate element: ICellViewModel | undefined,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@INotebookExecutionStateService private readonly _notebookExecutionStateService: INotebookExecutionStateService\n\t) {\n\t\tsuper();\n\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis.cellType = NOTEBOOK_CELL_TYPE.bindTo(this._contextKeyService);\n\t\t\tthis.cellEditable = NOTEBOOK_CELL_EDITABLE.bindTo(this._contextKeyService);\n\t\t\tthis.cellFocused = NOTEBOOK_CELL_FOCUSED.bindTo(this._contextKeyService);\n\t\t\tthis.cellEditorFocused = NOTEBOOK_CELL_EDITOR_FOCUSED.bindTo(this._contextKeyService);\n\t\t\tthis.markdownEditMode = NOTEBOOK_CELL_MARKDOWN_EDIT_MODE.bindTo(this._contextKeyService);\n\t\t\tthis.cellRunState = NOTEBOOK_CELL_EXECUTION_STATE.bindTo(this._contextKeyService);\n\t\t\tthis.cellExecuting = NOTEBOOK_CELL_EXECUTING.bindTo(this._contextKeyService);\n\t\t\tthis.cellHasOutputs = NOTEBOOK_CELL_HAS_OUTPUTS.bindTo(this._contextKeyService);\n\t\t\tthis.cellContentCollapsed = NOTEBOOK_CELL_INPUT_COLLAPSED.bindTo(this._contextKeyService);\n\t\t\tthis.cellOutputCollapsed = NOTEBOOK_CELL_OUTPUT_COLLAPSED.bindTo(this._contextKeyService);\n\t\t\tthis.cellLineNumbers = NOTEBOOK_CELL_LINE_NUMBERS.bindTo(this._contextKeyService);\n\t\t\tthis.cellResource = NOTEBOOK_CELL_RESOURCE.bindTo(this._contextKeyService);\n\n\t\t\tif (element) {\n\t\t\t\tthis.updateForElement(element);\n\t\t\t}\n\t\t});\n\n\t\tthis._register(this._notebookExecutionStateService.onDidChangeExecution(e => {\n\t\t\tif (e.type === NotebookExecutionType.cell && this.element && e.affectsCell(this.element.uri)) {\n\t\t\t\tthis.updateForExecutionState();\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic updateForElement(element: ICellViewModel | undefined) {\n\t\tthis.elementDisposables.clear();\n\t\tthis.element = element;\n\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.elementDisposables.add(element.onDidChangeState(e => this.onDidChangeState(e)));\n\n\t\tif (element instanceof CodeCellViewModel) {\n\t\t\tthis.elementDisposables.add(element.onDidChangeOutputs(() => this.updateForOutputs()));\n\t\t}\n\n\t\tthis.elementDisposables.add(this.notebookEditor.onDidChangeActiveCell(() => this.updateForFocusState()));\n\n\t\tif (this.element instanceof MarkupCellViewModel) {\n\t\t\tthis.cellType.set('markup');\n\t\t} else if (this.element instanceof CodeCellViewModel) {\n\t\t\tthis.cellType.set('code');\n\t\t}\n\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis.updateForFocusState();\n\t\t\tthis.updateForExecutionState();\n\t\t\tthis.updateForEditState();\n\t\t\tthis.updateForCollapseState();\n\t\t\tthis.updateForOutputs();\n\n\t\t\tthis.cellLineNumbers.set(this.element!.lineNumbers);\n\t\t\tthis.cellResource.set(this.element!.uri.toString());\n\t\t});\n\t}\n\n\tprivate onDidChangeState(e: CellViewModelStateChangeEvent) {\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tif (e.internalMetadataChanged) {\n\t\t\t\tthis.updateForExecutionState();\n\t\t\t}\n\n\t\t\tif (e.editStateChanged) {\n\t\t\t\tthis.updateForEditState();\n\t\t\t}\n\n\t\t\tif (e.focusModeChanged) {\n\t\t\t\tthis.updateForFocusState();\n\t\t\t}\n\n\t\t\tif (e.cellLineNumberChanged) {\n\t\t\t\tthis.cellLineNumbers.set(this.element!.lineNumbers);\n\t\t\t}\n\n\t\t\tif (e.inputCollapsedChanged || e.outputCollapsedChanged) {\n\t\t\t\tthis.updateForCollapseState();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate updateForFocusState() {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeCell = this.notebookEditor.getActiveCell();\n\t\tthis.cellFocused.set(this.notebookEditor.getActiveCell() === this.element);\n\n\t\tif (activeCell === this.element) {\n\t\t\tthis.cellEditorFocused.set(this.element.focusMode === CellFocusMode.Editor);\n\t\t} else {\n\t\t\tthis.cellEditorFocused.set(false);\n\t\t}\n\n\t}\n\n\tprivate updateForExecutionState() {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst internalMetadata = this.element.internalMetadata;\n\t\tthis.cellEditable.set(!this.notebookEditor.isReadOnly);\n\n\t\tconst exeState = this._notebookExecutionStateService.getCellExecution(this.element.uri);\n\t\tif (this.element instanceof MarkupCellViewModel) {\n\t\t\tthis.cellRunState.reset();\n\t\t\tthis.cellExecuting.reset();\n\t\t} else if (exeState?.state === NotebookCellExecutionState.Executing) {\n\t\t\tthis.cellRunState.set('executing');\n\t\t\tthis.cellExecuting.set(true);\n\t\t} else if (exeState?.state === NotebookCellExecutionState.Pending || exeState?.state === NotebookCellExecutionState.Unconfirmed) {\n\t\t\tthis.cellRunState.set('pending');\n\t\t\tthis.cellExecuting.set(true);\n\t\t} else if (internalMetadata.lastRunSuccess === true) {\n\t\t\tthis.cellRunState.set('succeeded');\n\t\t\tthis.cellExecuting.set(false);\n\t\t} else if (internalMetadata.lastRunSuccess === false) {\n\t\t\tthis.cellRunState.set('failed');\n\t\t\tthis.cellExecuting.set(false);\n\t\t} else {\n\t\t\tthis.cellRunState.set('idle');\n\t\t\tthis.cellExecuting.set(false);\n\t\t}\n\t}\n\n\tprivate updateForEditState() {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.element instanceof MarkupCellViewModel) {\n\t\t\tthis.markdownEditMode.set(this.element.getEditState() === CellEditState.Editing);\n\t\t} else {\n\t\t\tthis.markdownEditMode.set(false);\n\t\t}\n\t}\n\n\tprivate updateForCollapseState() {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cellContentCollapsed.set(!!this.element.isInputCollapsed);\n\t\tthis.cellOutputCollapsed.set(!!this.element.isOutputCollapsed);\n\t}\n\n\tprivate updateForOutputs() {\n\t\tif (this.element instanceof CodeCellViewModel) {\n\t\t\tthis.cellHasOutputs.set(this.element.outputsViewModels.length > 0);\n\t\t} else {\n\t\t\tthis.cellHasOutputs.set(false);\n\t\t}\n\t}\n}\n"]}
{"version":3,"sources":["vs/workbench/contrib/notebook/browser/controller/insertCellActions.ts"],"names":[],"mappings":"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","file":"insertCellActions.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from 'vs/base/common/codicons';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { localize } from 'vs/nls';\nimport { IAction2Options, MenuId, MenuRegistry, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { InputFocusedContext } from 'vs/platform/contextkey/common/contextkeys';\nimport { ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { insertCell } from 'vs/workbench/contrib/notebook/browser/controller/cellOperations';\nimport { INotebookActionContext, NotebookAction } from 'vs/workbench/contrib/notebook/browser/controller/coreActions';\nimport { NOTEBOOK_CELL_LIST_FOCUSED, NOTEBOOK_EDITOR_EDITABLE } from 'vs/workbench/contrib/notebook/common/notebookContextKeys';\nimport { CellViewModel } from 'vs/workbench/contrib/notebook/browser/viewModel/notebookViewModelImpl';\nimport { CellKind, NotebookSetting } from 'vs/workbench/contrib/notebook/common/notebookCommon';\n\nconst INSERT_CODE_CELL_ABOVE_COMMAND_ID = 'notebook.cell.insertCodeCellAbove';\nconst INSERT_CODE_CELL_BELOW_COMMAND_ID = 'notebook.cell.insertCodeCellBelow';\nconst INSERT_CODE_CELL_ABOVE_AND_FOCUS_CONTAINER_COMMAND_ID = 'notebook.cell.insertCodeCellAboveAndFocusContainer';\nconst INSERT_CODE_CELL_BELOW_AND_FOCUS_CONTAINER_COMMAND_ID = 'notebook.cell.insertCodeCellBelowAndFocusContainer';\nconst INSERT_CODE_CELL_AT_TOP_COMMAND_ID = 'notebook.cell.insertCodeCellAtTop';\nconst INSERT_MARKDOWN_CELL_ABOVE_COMMAND_ID = 'notebook.cell.insertMarkdownCellAbove';\nconst INSERT_MARKDOWN_CELL_BELOW_COMMAND_ID = 'notebook.cell.insertMarkdownCellBelow';\nconst INSERT_MARKDOWN_CELL_AT_TOP_COMMAND_ID = 'notebook.cell.insertMarkdownCellAtTop';\n\nabstract class InsertCellCommand extends NotebookAction {\n\tconstructor(\n\t\tdesc: Readonly<IAction2Options>,\n\t\tprivate kind: CellKind,\n\t\tprivate direction: 'above' | 'below',\n\t\tprivate focusEditor: boolean\n\t) {\n\t\tsuper(desc);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tlet newCell: CellViewModel | null = null;\n\t\tif (context.ui) {\n\t\t\tcontext.notebookEditor.focus();\n\t\t}\n\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tif (context.cell) {\n\t\t\tconst idx = context.notebookEditor.getCellIndex(context.cell);\n\t\t\tnewCell = insertCell(languageService, context.notebookEditor, idx, this.kind, this.direction, undefined, true);\n\t\t} else {\n\t\t\tconst focusRange = context.notebookEditor.getFocus();\n\t\t\tconst next = Math.max(focusRange.end - 1, 0);\n\t\t\tnewCell = insertCell(languageService, context.notebookEditor, next, this.kind, this.direction, undefined, true);\n\t\t}\n\n\t\tif (newCell) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, this.focusEditor ? 'editor' : 'container');\n\t\t}\n\t}\n}\n\nregisterAction2(class InsertCodeCellAboveAction extends InsertCellCommand {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_CODE_CELL_ABOVE_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertCodeCellAbove', \"Insert Code Cell Above\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Enter,\n\t\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_CELL_LIST_FOCUSED, InputFocusedContext.toNegated()),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookCellInsert,\n\t\t\t\t\torder: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\tCellKind.Code,\n\t\t\t'above',\n\t\t\ttrue);\n\t}\n});\n\n\n\nregisterAction2(class InsertCodeCellAboveAndFocusContainerAction extends InsertCellCommand {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_CODE_CELL_ABOVE_AND_FOCUS_CONTAINER_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertCodeCellAboveAndFocusContainer', \"Insert Code Cell Above and Focus Container\")\n\t\t\t},\n\t\t\tCellKind.Code,\n\t\t\t'above',\n\t\t\tfalse);\n\t}\n});\n\nregisterAction2(class InsertCodeCellBelowAction extends InsertCellCommand {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_CODE_CELL_BELOW_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertCodeCellBelow', \"Insert Code Cell Below\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\t\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_CELL_LIST_FOCUSED, InputFocusedContext.toNegated()),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookCellInsert,\n\t\t\t\t\torder: 1\n\t\t\t\t}\n\t\t\t},\n\t\t\tCellKind.Code,\n\t\t\t'below',\n\t\t\ttrue);\n\t}\n});\n\nregisterAction2(class InsertCodeCellBelowAndFocusContainerAction extends InsertCellCommand {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_CODE_CELL_BELOW_AND_FOCUS_CONTAINER_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertCodeCellBelowAndFocusContainer', \"Insert Code Cell Below and Focus Container\"),\n\t\t\t},\n\t\t\tCellKind.Code,\n\t\t\t'below',\n\t\t\tfalse);\n\t}\n});\n\n\nregisterAction2(class InsertMarkdownCellAboveAction extends InsertCellCommand {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_MARKDOWN_CELL_ABOVE_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertMarkdownCellAbove', \"Insert Markdown Cell Above\"),\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookCellInsert,\n\t\t\t\t\torder: 2\n\t\t\t\t}\n\t\t\t},\n\t\t\tCellKind.Markup,\n\t\t\t'above',\n\t\t\ttrue);\n\t}\n});\n\nregisterAction2(class InsertMarkdownCellBelowAction extends InsertCellCommand {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_MARKDOWN_CELL_BELOW_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertMarkdownCellBelow', \"Insert Markdown Cell Below\"),\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookCellInsert,\n\t\t\t\t\torder: 3\n\t\t\t\t}\n\t\t\t},\n\t\t\tCellKind.Markup,\n\t\t\t'below',\n\t\t\ttrue);\n\t}\n});\n\n\nregisterAction2(class InsertCodeCellAtTopAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_CODE_CELL_AT_TOP_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertCodeCellAtTop', \"Add Code Cell At Top\"),\n\t\t\t\tf1: false\n\t\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, context?: INotebookActionContext): Promise<void> {\n\t\tcontext = context ?? this.getEditorContextFromArgsOrActive(accessor);\n\t\tif (context) {\n\t\t\tthis.runWithContext(accessor, context);\n\t\t}\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst newCell = insertCell(languageService, context.notebookEditor, 0, CellKind.Code, 'above', undefined, true);\n\n\t\tif (newCell) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, 'editor');\n\t\t}\n\t}\n});\n\nregisterAction2(class InsertMarkdownCellAtTopAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: INSERT_MARKDOWN_CELL_AT_TOP_COMMAND_ID,\n\t\t\t\ttitle: localize('notebookActions.insertMarkdownCellAtTop', \"Add Markdown Cell At Top\"),\n\t\t\t\tf1: false\n\t\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, context?: INotebookActionContext): Promise<void> {\n\t\tcontext = context ?? this.getEditorContextFromArgsOrActive(accessor);\n\t\tif (context) {\n\t\t\tthis.runWithContext(accessor, context);\n\t\t}\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst newCell = insertCell(languageService, context.notebookEditor, 0, CellKind.Markup, 'above', undefined, true);\n\n\t\tif (newCell) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, 'editor');\n\t\t}\n\t}\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellBetween, {\n\tcommand: {\n\t\tid: INSERT_CODE_CELL_BELOW_COMMAND_ID,\n\t\ttitle: '$(add) ' + localize('notebookActions.menu.insertCode', \"Code\"),\n\t\ttooltip: localize('notebookActions.menu.insertCode.tooltip', \"Add Code Cell\")\n\t},\n\torder: 0,\n\tgroup: 'inline',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.experimental.insertToolbarAlignment', 'left')\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellBetween, {\n\tcommand: {\n\t\tid: INSERT_CODE_CELL_BELOW_COMMAND_ID,\n\t\ttitle: localize('notebookActions.menu.insertCode.minimalToolbar', \"Add Code\"),\n\t\ticon: Codicon.add,\n\t\ttooltip: localize('notebookActions.menu.insertCode.tooltip', \"Add Code Cell\")\n\t},\n\torder: 0,\n\tgroup: 'inline',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.equals('config.notebook.experimental.insertToolbarAlignment', 'left')\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookToolbar, {\n\tcommand: {\n\t\tid: INSERT_CODE_CELL_BELOW_COMMAND_ID,\n\t\ticon: Codicon.add,\n\t\ttitle: localize('notebookActions.menu.insertCode.ontoolbar', \"Code\"),\n\t\ttooltip: localize('notebookActions.menu.insertCode.tooltip', \"Add Code Cell\")\n\t},\n\torder: -5,\n\tgroup: 'navigation/add',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.insertToolbarLocation', 'betweenCells'),\n\t\tContextKeyExpr.notEquals('config.notebook.insertToolbarLocation', 'hidden')\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellListTop, {\n\tcommand: {\n\t\tid: INSERT_CODE_CELL_AT_TOP_COMMAND_ID,\n\t\ttitle: '$(add) ' + localize('notebookActions.menu.insertCode', \"Code\"),\n\t\ttooltip: localize('notebookActions.menu.insertCode.tooltip', \"Add Code Cell\")\n\t},\n\torder: 0,\n\tgroup: 'inline',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.experimental.insertToolbarAlignment', 'left')\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellListTop, {\n\tcommand: {\n\t\tid: INSERT_CODE_CELL_AT_TOP_COMMAND_ID,\n\t\ttitle: localize('notebookActions.menu.insertCode.minimaltoolbar', \"Add Code\"),\n\t\ticon: Codicon.add,\n\t\ttooltip: localize('notebookActions.menu.insertCode.tooltip', \"Add Code Cell\")\n\t},\n\torder: 0,\n\tgroup: 'inline',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.equals('config.notebook.experimental.insertToolbarAlignment', 'left')\n\t)\n});\n\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellBetween, {\n\tcommand: {\n\t\tid: INSERT_MARKDOWN_CELL_BELOW_COMMAND_ID,\n\t\ttitle: '$(add) ' + localize('notebookActions.menu.insertMarkdown', \"Markdown\"),\n\t\ttooltip: localize('notebookActions.menu.insertMarkdown.tooltip', \"Add Markdown Cell\")\n\t},\n\torder: 1,\n\tgroup: 'inline',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.experimental.insertToolbarAlignment', 'left')\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookToolbar, {\n\tcommand: {\n\t\tid: INSERT_MARKDOWN_CELL_BELOW_COMMAND_ID,\n\t\ticon: Codicon.add,\n\t\ttitle: localize('notebookActions.menu.insertMarkdown.ontoolbar', \"Markdown\"),\n\t\ttooltip: localize('notebookActions.menu.insertMarkdown.tooltip', \"Add Markdown Cell\")\n\t},\n\torder: -5,\n\tgroup: 'navigation/add',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.insertToolbarLocation', 'betweenCells'),\n\t\tContextKeyExpr.notEquals('config.notebook.insertToolbarLocation', 'hidden'),\n\t\tContextKeyExpr.notEquals(`config.${NotebookSetting.globalToolbarShowLabel}`, false),\n\t\tContextKeyExpr.notEquals(`config.${NotebookSetting.globalToolbarShowLabel}`, 'never')\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellListTop, {\n\tcommand: {\n\t\tid: INSERT_MARKDOWN_CELL_AT_TOP_COMMAND_ID,\n\t\ttitle: '$(add) ' + localize('notebookActions.menu.insertMarkdown', \"Markdown\"),\n\t\ttooltip: localize('notebookActions.menu.insertMarkdown.tooltip', \"Add Markdown Cell\")\n\t},\n\torder: 1,\n\tgroup: 'inline',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.experimental.insertToolbarAlignment', 'left')\n\t)\n});\n"]}
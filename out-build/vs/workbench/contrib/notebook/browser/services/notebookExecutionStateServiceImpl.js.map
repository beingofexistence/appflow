{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/notebook/browser/services/notebookExecutionStateServiceImpl.ts"],"names":[],"mappings":"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","file":"notebookExecutionStateServiceImpl.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from 'vs/base/common/event';\nimport { combinedDisposable, Disposable, IDisposable } from 'vs/base/common/lifecycle';\nimport { ResourceMap } from 'vs/base/common/map';\nimport { isEqual } from 'vs/base/common/resources';\nimport { URI } from 'vs/base/common/uri';\nimport { generateUuid } from 'vs/base/common/uuid';\nimport { AudioCue, IAudioCueService } from 'vs/platform/audioCues/browser/audioCueService';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { NotebookTextModel } from 'vs/workbench/contrib/notebook/common/model/notebookTextModel';\nimport { CellEditType, CellUri, ICellEditOperation, NotebookCellExecutionState, NotebookCellInternalMetadata, NotebookExecutionState, NotebookTextModelWillAddRemoveEvent } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { CellExecutionUpdateType, INotebookExecutionService } from 'vs/workbench/contrib/notebook/common/notebookExecutionService';\nimport { ICellExecuteUpdate, ICellExecutionComplete, ICellExecutionStateChangedEvent, ICellExecutionStateUpdate, IExecutionStateChangedEvent, IFailedCellInfo, INotebookCellExecution, INotebookExecution, INotebookExecutionStateService, INotebookFailStateChangedEvent, NotebookExecutionType } from 'vs/workbench/contrib/notebook/common/notebookExecutionStateService';\nimport { INotebookKernelService } from 'vs/workbench/contrib/notebook/common/notebookKernelService';\nimport { INotebookService } from 'vs/workbench/contrib/notebook/common/notebookService';\n\nexport class NotebookExecutionStateService extends Disposable implements INotebookExecutionStateService {\n\tdeclare _serviceBrand: undefined;\n\n\tprivate readonly _executions = new ResourceMap<Map<number, CellExecution>>();\n\tprivate readonly _notebookExecutions = new ResourceMap<[NotebookExecution, IDisposable]>();\n\tprivate readonly _notebookListeners = new ResourceMap<NotebookExecutionListeners>();\n\tprivate readonly _cellListeners = new ResourceMap<IDisposable>();\n\tprivate readonly _lastFailedCells = new ResourceMap<IFailedCellInfo>();\n\n\tprivate readonly _onDidChangeExecution = this._register(new Emitter<ICellExecutionStateChangedEvent | IExecutionStateChangedEvent>());\n\tonDidChangeExecution = this._onDidChangeExecution.event;\n\n\tprivate readonly _onDidChangeLastRunFailState = this._register(new Emitter<INotebookFailStateChangedEvent>());\n\tonDidChangeLastRunFailState = this._onDidChangeLastRunFailState.event;\n\n\tconstructor(\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@INotebookService private readonly _notebookService: INotebookService,\n\t\t@IAudioCueService private readonly _audioCueService: IAudioCueService\n\t) {\n\t\tsuper();\n\t}\n\n\tgetLastFailedCellForNotebook(notebook: URI): number | undefined {\n\t\tconst failedCell = this._lastFailedCells.get(notebook);\n\t\treturn failedCell?.visible ? failedCell.cellHandle : undefined;\n\t}\n\n\tforceCancelNotebookExecutions(notebookUri: URI): void {\n\t\tconst notebookCellExecutions = this._executions.get(notebookUri);\n\t\tif (notebookCellExecutions) {\n\t\t\tfor (const exe of notebookCellExecutions.values()) {\n\t\t\t\tthis._onCellExecutionDidComplete(notebookUri, exe.cellHandle, exe);\n\t\t\t}\n\t\t}\n\t\tif (this._notebookExecutions.has(notebookUri)) {\n\t\t\tthis._onExecutionDidComplete(notebookUri);\n\t\t}\n\t}\n\n\tgetCellExecution(cellUri: URI): INotebookCellExecution | undefined {\n\t\tconst parsed = CellUri.parse(cellUri);\n\t\tif (!parsed) {\n\t\t\tthrow new Error(`Not a cell URI: ${cellUri}`);\n\t\t}\n\n\t\tconst exeMap = this._executions.get(parsed.notebook);\n\t\tif (exeMap) {\n\t\t\treturn exeMap.get(parsed.handle);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\tgetExecution(notebook: URI): INotebookExecution | undefined {\n\t\treturn this._notebookExecutions.get(notebook)?.[0];\n\t}\n\n\tgetCellExecutionsForNotebook(notebook: URI): INotebookCellExecution[] {\n\t\tconst exeMap = this._executions.get(notebook);\n\t\treturn exeMap ? Array.from(exeMap.values()) : [];\n\t}\n\n\tgetCellExecutionsByHandleForNotebook(notebook: URI): Map<number, INotebookCellExecution> | undefined {\n\t\tconst exeMap = this._executions.get(notebook);\n\t\treturn exeMap ? new Map(exeMap.entries()) : undefined;\n\t}\n\n\tprivate _onCellExecutionDidChange(notebookUri: URI, cellHandle: number, exe: CellExecution): void {\n\t\tthis._onDidChangeExecution.fire(new NotebookCellExecutionEvent(notebookUri, cellHandle, exe));\n\t}\n\n\tprivate _onCellExecutionDidComplete(notebookUri: URI, cellHandle: number, exe: CellExecution, lastRunSuccess?: boolean): void {\n\t\tconst notebookExecutions = this._executions.get(notebookUri);\n\t\tif (!notebookExecutions) {\n\t\t\tthis._logService.debug(`NotebookExecutionStateService#_onCellExecutionDidComplete - unknown notebook ${notebookUri.toString()}`);\n\t\t\treturn;\n\t\t}\n\n\t\texe.dispose();\n\t\tconst cellUri = CellUri.generate(notebookUri, cellHandle);\n\t\tthis._cellListeners.get(cellUri)?.dispose();\n\t\tthis._cellListeners.delete(cellUri);\n\t\tnotebookExecutions.delete(cellHandle);\n\t\tif (notebookExecutions.size === 0) {\n\t\t\tthis._executions.delete(notebookUri);\n\t\t\tthis._notebookListeners.get(notebookUri)?.dispose();\n\t\t\tthis._notebookListeners.delete(notebookUri);\n\t\t}\n\n\t\tif (lastRunSuccess !== undefined) {\n\t\t\tif (lastRunSuccess) {\n\t\t\t\tif (this._executions.size === 0) {\n\t\t\t\t\tthis._audioCueService.playAudioCue(AudioCue.notebookCellCompleted);\n\t\t\t\t}\n\t\t\t\tthis._clearLastFailedCell(notebookUri);\n\t\t\t} else {\n\t\t\t\tthis._audioCueService.playAudioCue(AudioCue.notebookCellFailed);\n\t\t\t\tthis._setLastFailedCell(notebookUri, cellHandle);\n\t\t\t}\n\t\t}\n\n\t\tthis._onDidChangeExecution.fire(new NotebookCellExecutionEvent(notebookUri, cellHandle));\n\t}\n\n\tprivate _onExecutionDidChange(notebookUri: URI, exe: NotebookExecution): void {\n\t\tthis._onDidChangeExecution.fire(new NotebookExecutionEvent(notebookUri, exe));\n\t}\n\n\tprivate _onExecutionDidComplete(notebookUri: URI): void {\n\t\tconst disposables = this._notebookExecutions.get(notebookUri);\n\t\tif (!Array.isArray(disposables)) {\n\t\t\tthis._logService.debug(`NotebookExecutionStateService#_onCellExecutionDidComplete - unknown notebook ${notebookUri.toString()}`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notebookExecutions.delete(notebookUri);\n\t\tthis._onDidChangeExecution.fire(new NotebookExecutionEvent(notebookUri));\n\t\tdisposables.forEach(d => d.dispose());\n\t}\n\n\tcreateCellExecution(notebookUri: URI, cellHandle: number): INotebookCellExecution {\n\t\tconst notebook = this._notebookService.getNotebookTextModel(notebookUri);\n\t\tif (!notebook) {\n\t\t\tthrow new Error(`Notebook not found: ${notebookUri.toString()}`);\n\t\t}\n\n\t\tlet notebookExecutionMap = this._executions.get(notebookUri);\n\t\tif (!notebookExecutionMap) {\n\t\t\tconst listeners = this._instantiationService.createInstance(NotebookExecutionListeners, notebookUri);\n\t\t\tthis._notebookListeners.set(notebookUri, listeners);\n\n\t\t\tnotebookExecutionMap = new Map<number, CellExecution>();\n\t\t\tthis._executions.set(notebookUri, notebookExecutionMap);\n\t\t}\n\n\t\tlet exe = notebookExecutionMap.get(cellHandle);\n\t\tif (!exe) {\n\t\t\texe = this._createNotebookCellExecution(notebook, cellHandle);\n\t\t\tnotebookExecutionMap.set(cellHandle, exe);\n\t\t\texe.initialize();\n\t\t\tthis._onDidChangeExecution.fire(new NotebookCellExecutionEvent(notebookUri, cellHandle, exe));\n\t\t}\n\n\t\treturn exe;\n\t}\n\tcreateExecution(notebookUri: URI): INotebookExecution {\n\t\tconst notebook = this._notebookService.getNotebookTextModel(notebookUri);\n\t\tif (!notebook) {\n\t\t\tthrow new Error(`Notebook not found: ${notebookUri.toString()}`);\n\t\t}\n\n\t\tif (!this._notebookListeners.has(notebookUri)) {\n\t\t\tconst listeners = this._instantiationService.createInstance(NotebookExecutionListeners, notebookUri);\n\t\t\tthis._notebookListeners.set(notebookUri, listeners);\n\t\t}\n\n\t\tlet info = this._notebookExecutions.get(notebookUri);\n\t\tif (!info) {\n\t\t\tinfo = this._createNotebookExecution(notebook);\n\t\t\tthis._notebookExecutions.set(notebookUri, info);\n\t\t\tthis._onDidChangeExecution.fire(new NotebookExecutionEvent(notebookUri, info[0]));\n\t\t}\n\n\t\treturn info[0];\n\t}\n\n\tprivate _createNotebookCellExecution(notebook: NotebookTextModel, cellHandle: number): CellExecution {\n\t\tconst notebookUri = notebook.uri;\n\t\tconst exe: CellExecution = this._instantiationService.createInstance(CellExecution, cellHandle, notebook);\n\t\tconst disposable = combinedDisposable(\n\t\t\texe.onDidUpdate(() => this._onCellExecutionDidChange(notebookUri, cellHandle, exe)),\n\t\t\texe.onDidComplete(lastRunSuccess => this._onCellExecutionDidComplete(notebookUri, cellHandle, exe, lastRunSuccess)));\n\t\tthis._cellListeners.set(CellUri.generate(notebookUri, cellHandle), disposable);\n\n\t\treturn exe;\n\t}\n\n\tprivate _createNotebookExecution(notebook: NotebookTextModel): [NotebookExecution, IDisposable] {\n\t\tconst notebookUri = notebook.uri;\n\t\tconst exe: NotebookExecution = this._instantiationService.createInstance(NotebookExecution, notebook);\n\t\tconst disposable = combinedDisposable(\n\t\t\texe.onDidUpdate(() => this._onExecutionDidChange(notebookUri, exe)),\n\t\t\texe.onDidComplete(() => this._onExecutionDidComplete(notebookUri)));\n\t\treturn [exe, disposable];\n\t}\n\n\tprivate _setLastFailedCell(notebookURI: URI, cellHandle: number): void {\n\t\tconst prevLastFailedCellInfo = this._lastFailedCells.get(notebookURI);\n\t\tconst notebook = this._notebookService.getNotebookTextModel(notebookURI);\n\t\tif (!notebook) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newLastFailedCellInfo: IFailedCellInfo = {\n\t\t\tcellHandle: cellHandle,\n\t\t\tdisposable: prevLastFailedCellInfo ? prevLastFailedCellInfo.disposable : this._getFailedCellListener(notebook),\n\t\t\tvisible: true\n\t\t};\n\n\t\tthis._lastFailedCells.set(notebookURI, newLastFailedCellInfo);\n\n\t\tthis._onDidChangeLastRunFailState.fire({ visible: true, notebook: notebookURI });\n\t}\n\n\tprivate _setLastFailedCellVisibility(notebookURI: URI, visible: boolean): void {\n\t\tconst lastFailedCellInfo = this._lastFailedCells.get(notebookURI);\n\n\t\tif (lastFailedCellInfo) {\n\t\t\tthis._lastFailedCells.set(notebookURI, {\n\t\t\t\tcellHandle: lastFailedCellInfo.cellHandle,\n\t\t\t\tdisposable: lastFailedCellInfo.disposable,\n\t\t\t\tvisible: visible,\n\t\t\t});\n\t\t}\n\n\t\tthis._onDidChangeLastRunFailState.fire({ visible: visible, notebook: notebookURI });\n\t}\n\n\tprivate _clearLastFailedCell(notebookURI: URI): void {\n\t\tconst lastFailedCellInfo = this._lastFailedCells.get(notebookURI);\n\n\t\tif (lastFailedCellInfo) {\n\t\t\tlastFailedCellInfo.disposable?.dispose();\n\t\t\tthis._lastFailedCells.delete(notebookURI);\n\t\t}\n\n\t\tthis._onDidChangeLastRunFailState.fire({ visible: false, notebook: notebookURI });\n\t}\n\n\tprivate _getFailedCellListener(notebook: NotebookTextModel): IDisposable {\n\t\treturn notebook.onWillAddRemoveCells((e: NotebookTextModelWillAddRemoveEvent) => {\n\t\t\tconst lastFailedCell = this._lastFailedCells.get(notebook.uri)?.cellHandle;\n\t\t\tif (lastFailedCell !== undefined) {\n\t\t\t\tconst lastFailedCellPos = notebook.cells.findIndex(c => c.handle === lastFailedCell);\n\t\t\t\te.rawEvent.changes.forEach(([start, deleteCount, addedCells]) => {\n\t\t\t\t\tif (deleteCount) {\n\t\t\t\t\t\tif (lastFailedCellPos >= start && lastFailedCellPos < start + deleteCount) {\n\t\t\t\t\t\t\tthis._setLastFailedCellVisibility(notebook.uri, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (addedCells.some(cell => cell.handle === lastFailedCell)) {\n\t\t\t\t\t\tthis._setLastFailedCellVisibility(notebook.uri, true);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tthis._executions.forEach(executionMap => {\n\t\t\texecutionMap.forEach(execution => execution.dispose());\n\t\t\texecutionMap.clear();\n\t\t});\n\t\tthis._executions.clear();\n\t\tthis._notebookExecutions.forEach(disposables => {\n\t\t\tdisposables.forEach(d => d.dispose());\n\t\t});\n\t\tthis._notebookExecutions.clear();\n\n\t\tthis._cellListeners.forEach(disposable => disposable.dispose());\n\t\tthis._notebookListeners.forEach(disposable => disposable.dispose());\n\t\tthis._lastFailedCells.forEach(elem => elem.disposable.dispose());\n\t}\n}\n\nclass NotebookCellExecutionEvent implements ICellExecutionStateChangedEvent {\n\treadonly type = NotebookExecutionType.cell;\n\tconstructor(\n\t\treadonly notebook: URI,\n\t\treadonly cellHandle: number,\n\t\treadonly changed?: CellExecution\n\t) { }\n\n\taffectsCell(cell: URI): boolean {\n\t\tconst parsedUri = CellUri.parse(cell);\n\t\treturn !!parsedUri && isEqual(this.notebook, parsedUri.notebook) && this.cellHandle === parsedUri.handle;\n\t}\n\n\taffectsNotebook(notebook: URI): boolean {\n\t\treturn isEqual(this.notebook, notebook);\n\t}\n}\n\nclass NotebookExecutionEvent implements IExecutionStateChangedEvent {\n\treadonly type = NotebookExecutionType.notebook;\n\tconstructor(\n\t\treadonly notebook: URI,\n\t\treadonly changed?: NotebookExecution\n\t) { }\n\n\taffectsNotebook(notebook: URI): boolean {\n\t\treturn isEqual(this.notebook, notebook);\n\t}\n}\n\nclass NotebookExecutionListeners extends Disposable {\n\tprivate readonly _notebookModel: NotebookTextModel;\n\n\tconstructor(\n\t\tnotebook: URI,\n\t\t@INotebookService private readonly _notebookService: INotebookService,\n\t\t@INotebookKernelService private readonly _notebookKernelService: INotebookKernelService,\n\t\t@INotebookExecutionService private readonly _notebookExecutionService: INotebookExecutionService,\n\t\t@INotebookExecutionStateService private readonly _notebookExecutionStateService: INotebookExecutionStateService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) {\n\t\tsuper();\n\t\tthis._logService.debug(`NotebookExecution#ctor ${notebook.toString()}`);\n\n\t\tconst notebookModel = this._notebookService.getNotebookTextModel(notebook);\n\t\tif (!notebookModel) {\n\t\t\tthrow new Error('Notebook not found: ' + notebook);\n\t\t}\n\n\t\tthis._notebookModel = notebookModel;\n\t\tthis._register(this._notebookModel.onWillAddRemoveCells(e => this.onWillAddRemoveCells(e)));\n\t\tthis._register(this._notebookModel.onWillDispose(() => this.onWillDisposeDocument()));\n\t}\n\n\tprivate cancelAll(): void {\n\t\tthis._logService.debug(`NotebookExecutionListeners#cancelAll`);\n\t\tconst exes = this._notebookExecutionStateService.getCellExecutionsForNotebook(this._notebookModel.uri);\n\t\tthis._notebookExecutionService.cancelNotebookCellHandles(this._notebookModel, exes.map(exe => exe.cellHandle));\n\t}\n\n\tprivate onWillDisposeDocument(): void {\n\t\tthis._logService.debug(`NotebookExecution#onWillDisposeDocument`);\n\t\tthis.cancelAll();\n\t}\n\n\tprivate onWillAddRemoveCells(e: NotebookTextModelWillAddRemoveEvent): void {\n\t\tconst notebookExes = this._notebookExecutionStateService.getCellExecutionsByHandleForNotebook(this._notebookModel.uri);\n\n\t\tconst executingDeletedHandles = new Set<number>();\n\t\tconst pendingDeletedHandles = new Set<number>();\n\t\tif (notebookExes) {\n\t\t\te.rawEvent.changes.forEach(([start, deleteCount]) => {\n\t\t\t\tif (deleteCount) {\n\t\t\t\t\tconst deletedHandles = this._notebookModel.cells.slice(start, start + deleteCount).map(c => c.handle);\n\t\t\t\t\tdeletedHandles.forEach(h => {\n\t\t\t\t\t\tconst exe = notebookExes.get(h);\n\t\t\t\t\t\tif (exe?.state === NotebookCellExecutionState.Executing) {\n\t\t\t\t\t\t\texecutingDeletedHandles.add(h);\n\t\t\t\t\t\t} else if (exe) {\n\t\t\t\t\t\t\tpendingDeletedHandles.add(h);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (executingDeletedHandles.size || pendingDeletedHandles.size) {\n\t\t\tconst kernel = this._notebookKernelService.getSelectedOrSuggestedKernel(this._notebookModel);\n\t\t\tif (kernel) {\n\t\t\t\tconst implementsInterrupt = kernel.implementsInterrupt;\n\t\t\t\tconst handlesToCancel = implementsInterrupt ? [...executingDeletedHandles] : [...executingDeletedHandles, ...pendingDeletedHandles];\n\t\t\t\tthis._logService.debug(`NotebookExecution#onWillAddRemoveCells, ${JSON.stringify([...handlesToCancel])}`);\n\t\t\t\tif (handlesToCancel.length) {\n\t\t\t\t\tkernel.cancelNotebookCellExecution(this._notebookModel.uri, handlesToCancel);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction updateToEdit(update: ICellExecuteUpdate, cellHandle: number): ICellEditOperation {\n\tif (update.editType === CellExecutionUpdateType.Output) {\n\t\treturn {\n\t\t\teditType: CellEditType.Output,\n\t\t\thandle: update.cellHandle,\n\t\t\tappend: update.append,\n\t\t\toutputs: update.outputs,\n\t\t};\n\t} else if (update.editType === CellExecutionUpdateType.OutputItems) {\n\t\treturn {\n\t\t\teditType: CellEditType.OutputItems,\n\t\t\titems: update.items,\n\t\t\tappend: update.append,\n\t\t\toutputId: update.outputId\n\t\t};\n\t} else if (update.editType === CellExecutionUpdateType.ExecutionState) {\n\t\tconst newInternalMetadata: Partial<NotebookCellInternalMetadata> = {};\n\t\tif (typeof update.executionOrder !== 'undefined') {\n\t\t\tnewInternalMetadata.executionOrder = update.executionOrder;\n\t\t}\n\t\tif (typeof update.runStartTime !== 'undefined') {\n\t\t\tnewInternalMetadata.runStartTime = update.runStartTime;\n\t\t}\n\t\treturn {\n\t\t\teditType: CellEditType.PartialInternalMetadata,\n\t\t\thandle: cellHandle,\n\t\t\tinternalMetadata: newInternalMetadata\n\t\t};\n\t}\n\n\tthrow new Error('Unknown cell update type');\n}\n\nclass CellExecution extends Disposable implements INotebookCellExecution {\n\tprivate readonly _onDidUpdate = this._register(new Emitter<void>());\n\treadonly onDidUpdate = this._onDidUpdate.event;\n\n\tprivate readonly _onDidComplete = this._register(new Emitter<boolean | undefined>());\n\treadonly onDidComplete = this._onDidComplete.event;\n\n\tprivate _state: NotebookCellExecutionState = NotebookCellExecutionState.Unconfirmed;\n\tget state() {\n\t\treturn this._state;\n\t}\n\n\tget notebook(): URI {\n\t\treturn this._notebookModel.uri;\n\t}\n\n\tprivate _didPause = false;\n\tget didPause() {\n\t\treturn this._didPause;\n\t}\n\n\tprivate _isPaused = false;\n\tget isPaused() {\n\t\treturn this._isPaused;\n\t}\n\n\tconstructor(\n\t\treadonly cellHandle: number,\n\t\tprivate readonly _notebookModel: NotebookTextModel,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) {\n\t\tsuper();\n\t\tthis._logService.debug(`CellExecution#ctor ${this.getCellLog()}`);\n\t}\n\n\tinitialize() {\n\t\tconst startExecuteEdit: ICellEditOperation = {\n\t\t\teditType: CellEditType.PartialInternalMetadata,\n\t\t\thandle: this.cellHandle,\n\t\t\tinternalMetadata: {\n\t\t\t\texecutionId: generateUuid(),\n\t\t\t\trunStartTime: null,\n\t\t\t\trunEndTime: null,\n\t\t\t\tlastRunSuccess: null,\n\t\t\t\texecutionOrder: null,\n\t\t\t\trenderDuration: null,\n\t\t\t}\n\t\t};\n\t\tthis._applyExecutionEdits([startExecuteEdit]);\n\t}\n\n\tprivate getCellLog(): string {\n\t\treturn `${this._notebookModel.uri.toString()}, ${this.cellHandle}`;\n\t}\n\n\tprivate logUpdates(updates: ICellExecuteUpdate[]): void {\n\t\tconst updateTypes = updates.map(u => CellExecutionUpdateType[u.editType]).join(', ');\n\t\tthis._logService.debug(`CellExecution#updateExecution ${this.getCellLog()}, [${updateTypes}]`);\n\t}\n\n\tconfirm() {\n\t\tthis._logService.debug(`CellExecution#confirm ${this.getCellLog()}`);\n\t\tthis._state = NotebookCellExecutionState.Pending;\n\t\tthis._onDidUpdate.fire();\n\t}\n\n\tupdate(updates: ICellExecuteUpdate[]): void {\n\t\tthis.logUpdates(updates);\n\t\tif (updates.some(u => u.editType === CellExecutionUpdateType.ExecutionState)) {\n\t\t\tthis._state = NotebookCellExecutionState.Executing;\n\t\t}\n\n\t\tif (!this._didPause && updates.some(u => u.editType === CellExecutionUpdateType.ExecutionState && u.didPause)) {\n\t\t\tthis._didPause = true;\n\t\t}\n\n\t\tconst lastIsPausedUpdate = [...updates].reverse().find(u => u.editType === CellExecutionUpdateType.ExecutionState && typeof u.isPaused === 'boolean');\n\t\tif (lastIsPausedUpdate) {\n\t\t\tthis._isPaused = (lastIsPausedUpdate as ICellExecutionStateUpdate).isPaused!;\n\t\t}\n\n\t\tconst cellModel = this._notebookModel.cells.find(c => c.handle === this.cellHandle);\n\t\tif (!cellModel) {\n\t\t\tthis._logService.debug(`CellExecution#update, updating cell not in notebook: ${this._notebookModel.uri.toString()}, ${this.cellHandle}`);\n\t\t} else {\n\t\t\tconst edits = updates.map(update => updateToEdit(update, this.cellHandle));\n\t\t\tthis._applyExecutionEdits(edits);\n\t\t}\n\n\t\tif (updates.some(u => u.editType === CellExecutionUpdateType.ExecutionState)) {\n\t\t\tthis._onDidUpdate.fire();\n\t\t}\n\t}\n\n\tcomplete(completionData: ICellExecutionComplete): void {\n\t\tconst cellModel = this._notebookModel.cells.find(c => c.handle === this.cellHandle);\n\t\tif (!cellModel) {\n\t\t\tthis._logService.debug(`CellExecution#complete, completing cell not in notebook: ${this._notebookModel.uri.toString()}, ${this.cellHandle}`);\n\t\t} else {\n\t\t\tconst edit: ICellEditOperation = {\n\t\t\t\teditType: CellEditType.PartialInternalMetadata,\n\t\t\t\thandle: this.cellHandle,\n\t\t\t\tinternalMetadata: {\n\t\t\t\t\tlastRunSuccess: completionData.lastRunSuccess,\n\t\t\t\t\trunStartTime: this._didPause ? null : cellModel.internalMetadata.runStartTime,\n\t\t\t\t\trunEndTime: this._didPause ? null : completionData.runEndTime,\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._applyExecutionEdits([edit]);\n\t\t}\n\n\t\tthis._onDidComplete.fire(completionData.lastRunSuccess);\n\t}\n\n\tprivate _applyExecutionEdits(edits: ICellEditOperation[]): void {\n\t\tthis._notebookModel.applyEdits(edits, true, undefined, () => undefined, undefined, false);\n\t}\n}\n\nclass NotebookExecution extends Disposable implements INotebookExecution {\n\tprivate readonly _onDidUpdate = this._register(new Emitter<void>());\n\treadonly onDidUpdate = this._onDidUpdate.event;\n\n\tprivate readonly _onDidComplete = this._register(new Emitter<void>());\n\treadonly onDidComplete = this._onDidComplete.event;\n\n\tprivate _state: NotebookExecutionState = NotebookExecutionState.Unconfirmed;\n\tget state() {\n\t\treturn this._state;\n\t}\n\n\tget notebook(): URI {\n\t\treturn this._notebookModel.uri;\n\t}\n\n\tconstructor(\n\t\tprivate readonly _notebookModel: NotebookTextModel,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) {\n\t\tsuper();\n\t\tthis._logService.debug(`NotebookExecution#ctor`);\n\t}\n\tprivate debug(message: string) {\n\t\tthis._logService.debug(`${message} ${this._notebookModel.uri.toString()}`);\n\t}\n\n\tconfirm() {\n\t\tthis.debug(`Execution#confirm`);\n\t\tthis._state = NotebookExecutionState.Pending;\n\t\tthis._onDidUpdate.fire();\n\t}\n\n\tbegin(): void {\n\t\tthis.debug(`Execution#begin`);\n\t\tthis._state = NotebookExecutionState.Executing;\n\t\tthis._onDidUpdate.fire();\n\t}\n\n\tcomplete(): void {\n\t\tthis.debug(`Execution#begin`);\n\t\tthis._state = NotebookExecutionState.Unconfirmed;\n\t\tthis._onDidComplete.fire();\n\t}\n}\n"]}
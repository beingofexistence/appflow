{"version":3,"sources":["file:///workspace/appflow/src/vs/workbench/contrib/mergeEditor/browser/view/fixedZoneWidget.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAOhG,MAAsB,IAAgB,SAAQ,eAAG;iBACjC,MAAC,GAAS,CAAT,AAAU,CAAC;QAW3B,YACkB,CAAmB,EACpC,gBAAyC,EACzC,eAAuB,EACvB,MAAc,EACd,oBAA8B;YAE9B,KAAK,EAAE,CAAC;YANS,MAAC,GAAD,CAAC,CAAkB;YAXpB,MAAC,GAAiB,mBAAmB,IAAI,CAAY,CAAC,EAAQ,EAAE,CAAC;YAG/D,MAAC,GAAe,IAAA,OAAC,EAAC,uBAAuB,CAAC,CAAC,IAAI,CAAC;YAClD,MAAC,GAA+B;gBAChD,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;gBACnB,UAAU,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;gBACxB,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI;aACvB,CAAC;YAWD,IAAI,CAAC,CAAC,GAAY,gBAAgB,CAAC,OAAO,CAAC;gBAC1C,OAAO,EAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;gBACtC,eAAe,EAAE,eAAe;gBAChC,UAAU,EAAE,MAAM;gBAClB,gBAAgB,EAAE,CAAC,MAAM,EAAE,EAAE;oBAC5B,IAAI,CAAC,CAAC,CAAa,KAAK,CAAC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC;gBACjD,CAAC;gBACD,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE;oBACrB,IAAI,CAAC,CAAC,CAAa,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC;gBAC3C,CAAC;aACD,CAAC,CAAC;YACH,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAU,CAAC;YAE3C,IAAI,CAAC,CAAC,CAAS,aAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAM,iBAAiB,EAAE,GAAG,EAAE;gBACxE,IAAI,CAAC,CAAC,CAAa,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAM,aAAa,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;YAChF,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,CAAC,CAAM,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAa,CAAC;YAEjD,IAAI,CAAC,CAAC,CAAS;gBACd,OAAO,EAAE,GAAG,EAAE;oBACb,IAAI,CAAC,CAAC,CAAM,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAa,CAAC;gBACrD,CAAC;aACD,CAAC,CAAC;QACJ,CAAC;;IA7CF,oBA8CC","file":"fixedZoneWidget.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { h } from 'vs/base/browser/dom';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport { ICodeEditor, IOverlayWidget, IViewZoneChangeAccessor } from 'vs/editor/browser/editorBrowser';\nimport { Event } from 'vs/base/common/event';\n\nexport abstract class FixedZoneWidget extends Disposable {\n\tprivate static counter = 0;\n\tprivate readonly overlayWidgetId = `fixedZoneWidget-${FixedZoneWidget.counter++}`;\n\tprivate readonly viewZoneId: string;\n\n\tprotected readonly widgetDomNode = h('div.fixed-zone-widget').root;\n\tprivate readonly overlayWidget: IOverlayWidget = {\n\t\tgetId: () => this.overlayWidgetId,\n\t\tgetDomNode: () => this.widgetDomNode,\n\t\tgetPosition: () => null\n\t};\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\tviewZoneAccessor: IViewZoneChangeAccessor,\n\t\tafterLineNumber: number,\n\t\theight: number,\n\t\tviewZoneIdsToCleanUp: string[],\n\t) {\n\t\tsuper();\n\n\t\tthis.viewZoneId = viewZoneAccessor.addZone({\n\t\t\tdomNode: document.createElement('div'),\n\t\t\tafterLineNumber: afterLineNumber,\n\t\t\theightInPx: height,\n\t\t\tonComputedHeight: (height) => {\n\t\t\t\tthis.widgetDomNode.style.height = `${height}px`;\n\t\t\t},\n\t\t\tonDomNodeTop: (top) => {\n\t\t\t\tthis.widgetDomNode.style.top = `${top}px`;\n\t\t\t}\n\t\t});\n\t\tviewZoneIdsToCleanUp.push(this.viewZoneId);\n\n\t\tthis._register(Event.runAndSubscribe(this.editor.onDidLayoutChange, () => {\n\t\t\tthis.widgetDomNode.style.left = this.editor.getLayoutInfo().contentLeft + 'px';\n\t\t}));\n\n\t\tthis.editor.addOverlayWidget(this.overlayWidget);\n\n\t\tthis._register({\n\t\t\tdispose: () => {\n\t\t\t\tthis.editor.removeOverlayWidget(this.overlayWidget);\n\t\t\t},\n\t\t});\n\t}\n}\n"]}
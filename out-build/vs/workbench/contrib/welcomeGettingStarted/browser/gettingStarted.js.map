{"version":3,"sources":["vs/workbench/contrib/welcomeGettingStarted/browser/gettingStarted.ts"],"names":[],"mappings":"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","file":"gettingStarted.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedColors';\nimport 'vs/css!./media/gettingStarted';\nimport { localize } from 'vs/nls';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IEditorSerializer, IEditorOpenContext } from 'vs/workbench/common/editor';\nimport { DisposableStore, toDisposable } from 'vs/base/common/lifecycle';\nimport { assertIsDefined } from 'vs/base/common/types';\nimport { $, addDisposableListener, append, clearNode, Dimension, reset } from 'vs/base/browser/dom';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { hiddenEntriesConfigurationKey, IResolvedWalkthrough, IResolvedWalkthroughStep, IWalkthroughsService } from 'vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedService';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { firstSessionDateStorageKey, ITelemetryService, TelemetryLevel } from 'vs/platform/telemetry/common/telemetry';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { gettingStartedCheckedCodicon, gettingStartedUncheckedCodicon } from 'vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedIcons';\nimport { IOpenerService, matchesScheme } from 'vs/platform/opener/common/opener';\nimport { URI } from 'vs/base/common/uri';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { ConfigurationTarget, IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyExpr, ContextKeyExpression, IContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IRecentFolder, IRecentlyOpened, IRecentWorkspace, isRecentFolder, isRecentWorkspace, IWorkspacesService } from 'vs/platform/workspaces/common/workspaces';\nimport { IWorkspaceContextService, UNKNOWN_EMPTY_WINDOW_WORKSPACE } from 'vs/platform/workspace/common/workspace';\nimport { ILabelService, Verbosity } from 'vs/platform/label/common/label';\nimport { IWindowOpenable } from 'vs/platform/window/common/window';\nimport { splitRecentLabel } from 'vs/base/common/labels';\nimport { IHostService } from 'vs/workbench/services/host/browser/host';\nimport { isMacintosh } from 'vs/base/common/platform';\nimport { Delayer, Throttler } from 'vs/base/common/async';\nimport { GettingStartedInput } from 'vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedInput';\nimport { GroupDirection, GroupsOrder, IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { ILink, LinkedText } from 'vs/base/common/linkedText';\nimport { Button } from 'vs/base/browser/ui/button/button';\nimport { Link } from 'vs/platform/opener/browser/link';\nimport { renderFormattedText } from 'vs/base/browser/formattedTextRenderer';\nimport { IWebviewElement, IWebviewService } from 'vs/workbench/contrib/webview/browser/webview';\nimport { ILanguageService } from 'vs/editor/common/languages/language';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { generateUuid } from 'vs/base/common/uuid';\nimport { IFileService } from 'vs/platform/files/common/files';\nimport { parse } from 'vs/base/common/marshalling';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { Schemas } from 'vs/base/common/network';\nimport { IEditorOptions } from 'vs/platform/editor/common/editor';\nimport { coalesce, equals, flatten } from 'vs/base/common/arrays';\nimport { ThemeSettings } from 'vs/workbench/services/themes/common/workbenchThemeService';\nimport { startEntries } from 'vs/workbench/contrib/welcomeGettingStarted/common/gettingStartedContent';\nimport { MarkdownRenderer } from 'vs/editor/contrib/markdownRenderer/browser/markdownRenderer';\nimport { GettingStartedIndexList } from './gettingStartedList';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { getTelemetryLevel } from 'vs/platform/telemetry/common/telemetryUtils';\nimport { WorkbenchStateContext } from 'vs/workbench/common/contextkeys';\nimport { OpenFolderAction, OpenFileFolderAction, OpenFolderViaWorkspaceAction } from 'vs/workbench/browser/actions/workspaceActions';\nimport { OpenRecentAction } from 'vs/workbench/browser/actions/windowActions';\nimport { Toggle } from 'vs/base/browser/ui/toggle/toggle';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { restoreWalkthroughsConfigurationKey, RestoreWalkthroughsConfigurationValue } from 'vs/workbench/contrib/welcomeGettingStarted/browser/startupPage';\nimport { GettingStartedDetailsRenderer } from 'vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedDetailsRenderer';\nimport { IAccessibilityService } from 'vs/platform/accessibility/common/accessibility';\nimport { renderLabelWithIcons } from 'vs/base/browser/ui/iconLabel/iconLabels';\nimport { defaultButtonStyles, defaultToggleStyles } from 'vs/platform/theme/browser/defaultStyles';\nimport { IFeaturedExtensionsService } from 'vs/workbench/contrib/welcomeGettingStarted/browser/featuredExtensionService';\nimport { IFeaturedExtension } from 'vs/base/common/product';\nimport { IExtensionManagementService } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { ExtensionIdentifier } from 'vs/platform/extensions/common/extensions';\nimport { onUnexpectedError } from 'vs/base/common/errors';\n\nconst SLIDE_TRANSITION_TIME_MS = 250;\nconst configurationKey = 'workbench.startupEditor';\n\nexport const allWalkthroughsHiddenContext = new RawContextKey<boolean>('allWalkthroughsHidden', false);\nexport const inWelcomeContext = new RawContextKey<boolean>('inWelcome', false);\n\nexport interface IWelcomePageStartEntry {\n\tid: string;\n\ttitle: string;\n\tdescription: string;\n\tcommand: string;\n\torder: number;\n\ticon: { type: 'icon'; icon: ThemeIcon };\n\twhen: ContextKeyExpression;\n}\n\nconst parsedStartEntries: IWelcomePageStartEntry[] = startEntries.map((e, i) => ({\n\tcommand: e.content.command,\n\tdescription: e.description,\n\ticon: { type: 'icon', icon: e.icon },\n\tid: e.id,\n\torder: i,\n\ttitle: e.title,\n\twhen: ContextKeyExpr.deserialize(e.when) ?? ContextKeyExpr.true()\n}));\n\ntype GettingStartedActionClassification = {\n\tcommand: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'The command being executed on the getting started page.' };\n\twalkthroughId: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'The walkthrough which the command is in' };\n\targument: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'The arguments being passed to the command' };\n\towner: 'lramos15';\n\tcomment: 'Help understand what actions are most commonly taken on the getting started page';\n};\n\ntype GettingStartedActionEvent = {\n\tcommand: string;\n\twalkthroughId: string | undefined;\n\targument: string | undefined;\n};\n\ntype RecentEntry = (IRecentFolder | IRecentWorkspace) & { id: string };\n\nconst REDUCED_MOTION_KEY = 'workbench.welcomePage.preferReducedMotion';\nexport class GettingStartedPage extends EditorPane {\n\n\tpublic static readonly ID = 'gettingStartedPage';\n\n\tprivate editorInput!: GettingStartedInput;\n\tprivate inProgressScroll = Promise.resolve();\n\n\tprivate dispatchListeners: DisposableStore = new DisposableStore();\n\tprivate stepDisposables: DisposableStore = new DisposableStore();\n\tprivate detailsPageDisposables: DisposableStore = new DisposableStore();\n\tprivate mediaDisposables: DisposableStore = new DisposableStore();\n\n\t// Ensure that the these are initialized before use.\n\t// Currently initialized before use in buildCategoriesSlide and scrollToCategory\n\tprivate recentlyOpened!: Promise<IRecentlyOpened>;\n\tprivate gettingStartedCategories!: IResolvedWalkthrough[];\n\tprivate featuredExtensions!: Promise<IFeaturedExtension[]>;\n\n\tprivate currentWalkthrough: IResolvedWalkthrough | undefined;\n\n\tprivate categoriesPageScrollbar: DomScrollableElement | undefined;\n\tprivate detailsPageScrollbar: DomScrollableElement | undefined;\n\n\tprivate detailsScrollbar: DomScrollableElement | undefined;\n\n\tprivate buildSlideThrottle: Throttler = new Throttler();\n\n\tprivate container: HTMLElement;\n\n\tprivate contextService: IContextKeyService;\n\n\tprivate hasScrolledToFirstCategory = false;\n\tprivate recentlyOpenedList?: GettingStartedIndexList<RecentEntry>;\n\tprivate startList?: GettingStartedIndexList<IWelcomePageStartEntry>;\n\tprivate gettingStartedList?: GettingStartedIndexList<IResolvedWalkthrough>;\n\tprivate featuredExtensionsList?: GettingStartedIndexList<IFeaturedExtension>;\n\n\tprivate stepsSlide!: HTMLElement;\n\tprivate categoriesSlide!: HTMLElement;\n\tprivate stepsContent!: HTMLElement;\n\tprivate stepMediaComponent!: HTMLElement;\n\tprivate webview!: IWebviewElement;\n\n\tprivate layoutMarkdown: (() => void) | undefined;\n\n\tprivate detailsRenderer: GettingStartedDetailsRenderer;\n\n\tprivate categoriesSlideDisposables: DisposableStore;\n\n\tconstructor(\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IWalkthroughsService private readonly gettingStartedService: IWalkthroughsService,\n\t\t@IFeaturedExtensionsService private readonly featuredExtensionService: IFeaturedExtensionsService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService private storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorGroupsService private readonly groupsService: IEditorGroupsService,\n\t\t@IContextKeyService contextService: IContextKeyService,\n\t\t@IQuickInputService private quickInputService: IQuickInputService,\n\t\t@IWorkspacesService private readonly workspacesService: IWorkspacesService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IWebviewService private readonly webviewService: IWebviewService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@IExtensionManagementService private readonly extensionManagementService: IExtensionManagementService) {\n\n\t\tsuper(GettingStartedPage.ID, telemetryService, themeService, storageService);\n\n\t\tthis.container = $('.gettingStartedContainer',\n\t\t\t{\n\t\t\t\trole: 'document',\n\t\t\t\ttabindex: 0,\n\t\t\t\t'aria-label': localize('welcomeAriaLabel', \"Overview of how to get up to speed with your editor.\")\n\t\t\t});\n\t\tthis.stepMediaComponent = $('.getting-started-media');\n\t\tthis.stepMediaComponent.id = generateUuid();\n\n\t\tthis.categoriesSlideDisposables = this._register(new DisposableStore());\n\n\t\tthis.detailsRenderer = new GettingStartedDetailsRenderer(this.fileService, this.notificationService, this.extensionService, this.languageService);\n\n\t\tthis.contextService = this._register(contextService.createScoped(this.container));\n\t\tinWelcomeContext.bindTo(this.contextService).set(true);\n\n\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\tthis.featuredExtensions = this.featuredExtensionService.getExtensions();\n\n\t\tthis._register(this.dispatchListeners);\n\t\tthis.buildSlideThrottle = new Throttler();\n\n\t\tconst rerender = () => {\n\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t\tthis.featuredExtensions = this.featuredExtensionService.getExtensions();\n\n\t\t\tthis.buildSlideThrottle.queue(async () => await this.buildCategoriesSlide());\n\t\t};\n\n\t\tthis._register(this.extensionManagementService.onDidInstallExtensions(async (result) => {\n\t\t\tfor (const e of result) {\n\t\t\t\tconst installedFeaturedExtension = (await this.featuredExtensions)?.find(ext => ExtensionIdentifier.equals(ext.id, e.identifier.id));\n\t\t\t\tif (installedFeaturedExtension) {\n\t\t\t\t\tthis.hideExtension(e.identifier.id);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidAddWalkthrough(rerender));\n\t\tthis._register(this.gettingStartedService.onDidRemoveWalkthrough(rerender));\n\n\t\tthis.recentlyOpened = this.workspacesService.getRecentlyOpened();\n\t\tthis._register(workspacesService.onDidChangeRecentlyOpened(() => {\n\t\t\tthis.recentlyOpened = workspacesService.getRecentlyOpened();\n\t\t\trerender();\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidChangeWalkthrough(category => {\n\t\t\tconst ourCategory = this.gettingStartedCategories.find(c => c.id === category.id);\n\t\t\tif (!ourCategory) { return; }\n\n\t\t\tourCategory.title = category.title;\n\t\t\tourCategory.description = category.description;\n\n\t\t\tthis.container.querySelectorAll<HTMLDivElement>(`[x-category-title-for=\"${category.id}\"]`).forEach(step => (step as HTMLDivElement).innerText = ourCategory.title);\n\t\t\tthis.container.querySelectorAll<HTMLDivElement>(`[x-category-description-for=\"${category.id}\"]`).forEach(step => (step as HTMLDivElement).innerText = ourCategory.description);\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidProgressStep(step => {\n\t\t\tconst category = this.gettingStartedCategories.find(category => category.id === step.category);\n\t\t\tif (!category) { throw Error('Could not find category with ID: ' + step.category); }\n\t\t\tconst ourStep = category.steps.find(_step => _step.id === step.id);\n\t\t\tif (!ourStep) {\n\t\t\t\tthrow Error('Could not find step with ID: ' + step.id);\n\t\t\t}\n\n\t\t\tconst stats = this.getWalkthroughCompletionStats(category);\n\t\t\tif (!ourStep.done && stats.stepsComplete === stats.stepsTotal - 1) {\n\t\t\t\tthis.hideCategory(category.id);\n\t\t\t}\n\n\t\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration(REDUCED_MOTION_KEY)) {\n\t\t\t\t\tthis.container.classList.toggle('animatable', this.shouldAnimate());\n\t\t\t\t}\n\t\t\t}));\n\t\t\tourStep.done = step.done;\n\n\t\t\tif (category.id === this.currentWalkthrough?.id) {\n\t\t\t\tconst badgeelements = assertIsDefined(document.querySelectorAll(`[data-done-step-id=\"${step.id}\"]`));\n\t\t\t\tbadgeelements.forEach(badgeelement => {\n\t\t\t\t\tif (step.done) {\n\t\t\t\t\t\tbadgeelement.parentElement?.setAttribute('aria-checked', 'true');\n\t\t\t\t\t\tbadgeelement.classList.remove(...ThemeIcon.asClassNameArray(gettingStartedUncheckedCodicon));\n\t\t\t\t\t\tbadgeelement.classList.add('complete', ...ThemeIcon.asClassNameArray(gettingStartedCheckedCodicon));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbadgeelement.parentElement?.setAttribute('aria-checked', 'false');\n\t\t\t\t\t\tbadgeelement.classList.remove('complete', ...ThemeIcon.asClassNameArray(gettingStartedCheckedCodicon));\n\t\t\t\t\t\tbadgeelement.classList.add(...ThemeIcon.asClassNameArray(gettingStartedUncheckedCodicon));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.updateCategoryProgress();\n\t\t}));\n\t}\n\n\t// remove when 'workbench.welcomePage.preferReducedMotion' deprecated\n\tprivate shouldAnimate() {\n\t\tif (this.configurationService.getValue(REDUCED_MOTION_KEY)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.accessibilityService.isMotionReduced()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate getWalkthroughCompletionStats(walkthrough: IResolvedWalkthrough): { stepsComplete: number; stepsTotal: number } {\n\t\tconst activeSteps = walkthrough.steps.filter(s => this.contextService.contextMatchesRules(s.when));\n\t\treturn {\n\t\t\tstepsComplete: activeSteps.filter(s => s.done).length,\n\t\t\tstepsTotal: activeSteps.length,\n\t\t};\n\t}\n\n\toverride async setInput(newInput: GettingStartedInput, options: IEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken) {\n\t\tthis.container.classList.remove('animatable');\n\t\tthis.editorInput = newInput;\n\t\tawait super.setInput(newInput, options, context, token);\n\t\tawait this.buildCategoriesSlide();\n\t\tif (this.shouldAnimate()) {\n\t\t\tsetTimeout(() => this.container.classList.add('animatable'), 0);\n\t\t}\n\t}\n\n\tasync makeCategoryVisibleWhenAvailable(categoryID: string, stepId?: string) {\n\t\tthis.scrollToCategory(categoryID, stepId);\n\t}\n\n\tprivate registerDispatchListeners() {\n\t\tthis.dispatchListeners.clear();\n\n\t\tthis.container.querySelectorAll('[x-dispatch]').forEach(element => {\n\t\t\tconst [command, argument] = (element.getAttribute('x-dispatch') ?? '').split(':');\n\t\t\tif (command) {\n\t\t\t\tthis.dispatchListeners.add(addDisposableListener(element, 'click', (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.runDispatchCommand(command, argument);\n\t\t\t\t}));\n\t\t\t\tthis.dispatchListeners.add(addDisposableListener(element, 'keyup', (e) => {\n\t\t\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tswitch (keyboardEvent.keyCode) {\n\t\t\t\t\t\tcase KeyCode.Enter:\n\t\t\t\t\t\tcase KeyCode.Space:\n\t\t\t\t\t\t\tthis.runDispatchCommand(command, argument);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async runDispatchCommand(command: string, argument: string) {\n\t\tthis.commandService.executeCommand('workbench.action.keepEditor');\n\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command, argument, walkthroughId: this.currentWalkthrough?.id });\n\t\tswitch (command) {\n\t\t\tcase 'scrollPrev': {\n\t\t\t\tthis.scrollPrev();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'skip': {\n\t\t\t\tthis.runSkip();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'showMoreRecents': {\n\t\t\t\tthis.commandService.executeCommand(OpenRecentAction.ID);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'seeAllWalkthroughs': {\n\t\t\t\tawait this.openWalkthroughSelector();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'openFolder': {\n\t\t\t\tif (this.contextService.contextMatchesRules(ContextKeyExpr.and(WorkbenchStateContext.isEqualTo('workspace')))) {\n\t\t\t\t\tthis.commandService.executeCommand(OpenFolderViaWorkspaceAction.ID);\n\t\t\t\t} else {\n\t\t\t\t\tthis.commandService.executeCommand(isMacintosh ? 'workbench.action.files.openFileFolder' : 'workbench.action.files.openFolder');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'selectCategory': {\n\t\t\t\tthis.scrollToCategory(argument);\n\t\t\t\tthis.gettingStartedService.markWalkthroughOpened(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'selectStartEntry': {\n\t\t\t\tconst selected = startEntries.find(e => e.id === argument);\n\t\t\t\tif (selected) {\n\t\t\t\t\tthis.runStepCommand(selected.content.command);\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('could not find start entry with id: ' + argument);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'hideCategory': {\n\t\t\t\tthis.hideCategory(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// Use selectTask over selectStep to keep telemetry consistant:https://github.com/microsoft/vscode/issues/122256\n\t\t\tcase 'selectTask': {\n\t\t\t\tthis.selectStep(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'toggleStepCompletion': {\n\t\t\t\tthis.toggleStepCompletion(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'allDone': {\n\t\t\t\tthis.markAllStepsComplete();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'nextSection': {\n\t\t\t\tconst next = this.currentWalkthrough?.next;\n\t\t\t\tif (next) {\n\t\t\t\t\tthis.scrollToCategory(next);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('Error scrolling to next section of', this.currentWalkthrough);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'openExtensionPage': {\n\t\t\t\tthis.commandService.executeCommand('extension.open', argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'hideExtension': {\n\t\t\t\tthis.hideExtension(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tconsole.error('Dispatch to', command, argument, 'not defined');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate hideCategory(categoryId: string) {\n\t\tconst selectedCategory = this.gettingStartedCategories.find(category => category.id === categoryId);\n\t\tif (!selectedCategory) { throw Error('Could not find category with ID ' + categoryId); }\n\t\tthis.setHiddenCategories([...this.getHiddenCategories().add(categoryId)]);\n\t\tthis.gettingStartedList?.rerender();\n\t}\n\n\tprivate hideExtension(extensionId: string) {\n\t\tthis.setHiddenCategories([...this.getHiddenCategories().add(extensionId)]);\n\t\tthis.featuredExtensionsList?.rerender();\n\t\tthis.registerDispatchListeners();\n\t}\n\n\tprivate markAllStepsComplete() {\n\t\tif (this.currentWalkthrough) {\n\t\t\tthis.currentWalkthrough?.steps.forEach(step => {\n\t\t\t\tif (!step.done) {\n\t\t\t\t\tthis.gettingStartedService.progressStep(step.id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.hideCategory(this.currentWalkthrough?.id);\n\t\t\tthis.scrollPrev();\n\t\t} else {\n\t\t\tthrow Error('No walkthrough opened');\n\t\t}\n\t}\n\n\tprivate toggleStepCompletion(argument: string) {\n\t\tconst stepToggle = assertIsDefined(this.currentWalkthrough?.steps.find(step => step.id === argument));\n\t\tif (stepToggle.done) {\n\t\t\tthis.gettingStartedService.deprogressStep(argument);\n\t\t} else {\n\t\t\tthis.gettingStartedService.progressStep(argument);\n\t\t}\n\t}\n\n\tprivate async openWalkthroughSelector() {\n\t\tconst selection = await this.quickInputService.pick(this.gettingStartedCategories\n\t\t\t.filter(c => this.contextService.contextMatchesRules(c.when))\n\t\t\t.map(x => ({\n\t\t\t\tid: x.id,\n\t\t\t\tlabel: x.title,\n\t\t\t\tdetail: x.description,\n\t\t\t\tdescription: x.source,\n\t\t\t})), { canPickMany: false, matchOnDescription: true, matchOnDetail: true, title: localize('pickWalkthroughs', \"Open Walkthrough...\") });\n\t\tif (selection) {\n\t\t\tthis.runDispatchCommand('selectCategory', selection.id);\n\t\t}\n\t}\n\n\tprivate getHiddenCategories(): Set<string> {\n\t\treturn new Set(JSON.parse(this.storageService.get(hiddenEntriesConfigurationKey, StorageScope.PROFILE, '[]')));\n\t}\n\n\tprivate setHiddenCategories(hidden: string[]) {\n\t\tthis.storageService.store(\n\t\t\thiddenEntriesConfigurationKey,\n\t\t\tJSON.stringify(hidden),\n\t\t\tStorageScope.PROFILE,\n\t\t\tStorageTarget.USER);\n\t}\n\n\tprivate currentMediaComponent: string | undefined = undefined;\n\tprivate currentMediaType: string | undefined = undefined;\n\tprivate async buildMediaComponent(stepId: string) {\n\t\tif (!this.currentWalkthrough) {\n\t\t\tthrow Error('no walkthrough selected');\n\t\t}\n\t\tconst stepToExpand = assertIsDefined(this.currentWalkthrough.steps.find(step => step.id === stepId));\n\n\t\tif (this.currentMediaComponent === stepId) { return; }\n\t\tthis.currentMediaComponent = stepId;\n\n\t\tthis.stepDisposables.clear();\n\n\t\tthis.stepDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tthis.currentMediaComponent = undefined;\n\t\t\t}\n\t\t});\n\n\t\tif (this.currentMediaType !== stepToExpand.media.type) {\n\n\t\t\tthis.currentMediaType = stepToExpand.media.type;\n\n\t\t\tthis.mediaDisposables.add(toDisposable(() => {\n\t\t\t\tthis.currentMediaType = undefined;\n\t\t\t}));\n\n\t\t\tclearNode(this.stepMediaComponent);\n\n\t\t\tif (stepToExpand.media.type === 'svg') {\n\t\t\t\tthis.webview = this.mediaDisposables.add(this.webviewService.createWebviewElement({ title: undefined, options: { disableServiceWorker: true }, contentOptions: {}, extension: undefined }));\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent);\n\t\t\t} else if (stepToExpand.media.type === 'markdown') {\n\t\t\t\tthis.webview = this.mediaDisposables.add(this.webviewService.createWebviewElement({ options: {}, contentOptions: { localResourceRoots: [stepToExpand.media.root], allowScripts: true }, title: '', extension: undefined }));\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent);\n\t\t\t}\n\t\t}\n\n\t\tif (stepToExpand.media.type === 'image') {\n\n\t\t\tthis.stepsContent.classList.add('image');\n\t\t\tthis.stepsContent.classList.remove('markdown');\n\n\t\t\tconst media = stepToExpand.media;\n\t\t\tconst mediaElement = $<HTMLImageElement>('img');\n\t\t\tclearNode(this.stepMediaComponent);\n\t\t\tthis.stepMediaComponent.appendChild(mediaElement);\n\t\t\tmediaElement.setAttribute('alt', media.altText);\n\t\t\tthis.updateMediaSourceForColorMode(mediaElement, media.path);\n\n\t\t\tthis.stepDisposables.add(addDisposableListener(this.stepMediaComponent, 'click', () => {\n\t\t\t\tconst hrefs = flatten(stepToExpand.description.map(lt => lt.nodes.filter((node): node is ILink => typeof node !== 'string').map(node => node.href)));\n\t\t\t\tif (hrefs.length === 1) {\n\t\t\t\t\tconst href = hrefs[0];\n\t\t\t\t\tif (href.startsWith('http')) {\n\t\t\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'runStepAction', argument: href, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\t\t\tthis.openerService.open(href);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(() => this.updateMediaSourceForColorMode(mediaElement, media.path)));\n\n\t\t}\n\t\telse if (stepToExpand.media.type === 'svg') {\n\t\t\tthis.stepsContent.classList.add('image');\n\t\t\tthis.stepsContent.classList.remove('markdown');\n\n\t\t\tconst media = stepToExpand.media;\n\t\t\tthis.webview.setHtml(await this.detailsRenderer.renderSVG(media.path));\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(toDisposable(() => { isDisposed = true; }));\n\n\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t// Render again since color vars change\n\t\t\t\tconst body = await this.detailsRenderer.renderSVG(media.path);\n\t\t\t\tif (!isDisposed) { // Make sure we weren't disposed of in the meantime\n\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.stepDisposables.add(addDisposableListener(this.stepMediaComponent, 'click', () => {\n\t\t\t\tconst hrefs = flatten(stepToExpand.description.map(lt => lt.nodes.filter((node): node is ILink => typeof node !== 'string').map(node => node.href)));\n\t\t\t\tif (hrefs.length === 1) {\n\t\t\t\t\tconst href = hrefs[0];\n\t\t\t\t\tif (href.startsWith('http')) {\n\t\t\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'runStepAction', argument: href, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\t\t\tthis.openerService.open(href);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.stepDisposables.add(this.webview.onDidClickLink(link => {\n\t\t\t\tif (matchesScheme(link, Schemas.https) || matchesScheme(link, Schemas.http) || (matchesScheme(link, Schemas.command))) {\n\t\t\t\t\tthis.openerService.open(link, { allowCommands: true });\n\t\t\t\t}\n\t\t\t}));\n\n\t\t}\n\t\telse if (stepToExpand.media.type === 'markdown') {\n\n\t\t\tthis.stepsContent.classList.remove('image');\n\t\t\tthis.stepsContent.classList.add('markdown');\n\n\t\t\tconst media = stepToExpand.media;\n\n\t\t\tconst rawHTML = await this.detailsRenderer.renderMarkdown(media.path, media.base);\n\t\t\tthis.webview.setHtml(rawHTML);\n\n\t\t\tconst serializedContextKeyExprs = rawHTML.match(/checked-on=\\\"([^'][^\"]*)\\\"/g)?.map(attr => attr.slice('checked-on=\"'.length, -1)\n\t\t\t\t.replace(/&#39;/g, '\\'')\n\t\t\t\t.replace(/&amp;/g, '&'));\n\n\t\t\tconst postTrueKeysMessage = () => {\n\t\t\t\tconst enabledContextKeys = serializedContextKeyExprs?.filter(expr => this.contextService.contextMatchesRules(ContextKeyExpr.deserialize(expr)));\n\t\t\t\tif (enabledContextKeys) {\n\t\t\t\t\tthis.webview.postMessage({\n\t\t\t\t\t\tenabledContextKeys\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (serializedContextKeyExprs) {\n\t\t\t\tconst contextKeyExprs = coalesce(serializedContextKeyExprs.map(expr => ContextKeyExpr.deserialize(expr)));\n\t\t\t\tconst watchingKeys = new Set(flatten(contextKeyExprs.map(expr => expr.keys())));\n\n\t\t\t\tthis.stepDisposables.add(this.contextService.onDidChangeContext(e => {\n\t\t\t\t\tif (e.affectsSome(watchingKeys)) { postTrueKeysMessage(); }\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(toDisposable(() => { isDisposed = true; }));\n\n\t\t\tthis.stepDisposables.add(this.webview.onDidClickLink(link => {\n\t\t\t\tif (matchesScheme(link, Schemas.https) || matchesScheme(link, Schemas.http) || (matchesScheme(link, Schemas.command))) {\n\t\t\t\t\tthis.openerService.open(link, { allowCommands: true });\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tif (rawHTML.indexOf('<code>') >= 0) {\n\t\t\t\t// Render again when Theme changes since syntax highlighting of code blocks may have changed\n\t\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t\tconst body = await this.detailsRenderer.renderMarkdown(media.path, media.base);\n\t\t\t\t\tif (!isDisposed) { // Make sure we weren't disposed of in the meantime\n\t\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t\t\tpostTrueKeysMessage();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tconst layoutDelayer = new Delayer(50);\n\n\t\t\tthis.layoutMarkdown = () => {\n\t\t\t\tlayoutDelayer.trigger(() => {\n\t\t\t\t\tthis.webview.postMessage({ layoutMeNow: true });\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.stepDisposables.add(layoutDelayer);\n\t\t\tthis.stepDisposables.add({ dispose: () => this.layoutMarkdown = undefined });\n\n\t\t\tpostTrueKeysMessage();\n\n\t\t\tthis.stepDisposables.add(this.webview.onMessage(e => {\n\t\t\t\tconst message: string = e.message as string;\n\t\t\t\tif (message.startsWith('command:')) {\n\t\t\t\t\tthis.openerService.open(message, { allowCommands: true });\n\t\t\t\t} else if (message.startsWith('setTheme:')) {\n\t\t\t\t\tthis.configurationService.updateValue(ThemeSettings.COLOR_THEME, message.slice('setTheme:'.length), ConfigurationTarget.USER);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('Unexpected message', message);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tasync selectStepLoose(id: string) {\n\t\t// Allow passing in id with a category appended or with just the id of the step\n\t\tif (id.startsWith(`${this.editorInput.selectedCategory}#`)) {\n\t\t\tthis.selectStep(id);\n\t\t} else {\n\t\t\tconst toSelect = this.editorInput.selectedCategory + '#' + id;\n\t\t\tthis.selectStep(toSelect);\n\t\t}\n\t}\n\n\tprivate async selectStep(id: string | undefined, delayFocus = true) {\n\t\tif (id) {\n\t\t\tlet stepElement = this.container.querySelector<HTMLDivElement>(`[data-step-id=\"${id}\"]`);\n\t\t\tif (!stepElement) {\n\t\t\t\t// Selected an element that is not in-context, just fallback to whatever.\n\t\t\t\tstepElement = this.container.querySelector<HTMLDivElement>(`[data-step-id]`);\n\t\t\t\tif (!stepElement) {\n\t\t\t\t\t// No steps around... just ignore.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tid = assertIsDefined(stepElement.getAttribute('data-step-id'));\n\t\t\t}\n\t\t\tstepElement.parentElement?.querySelectorAll<HTMLElement>('.expanded').forEach(node => {\n\t\t\t\tif (node.getAttribute('data-step-id') !== id) {\n\t\t\t\t\tnode.classList.remove('expanded');\n\t\t\t\t\tnode.setAttribute('aria-expanded', 'false');\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetTimeout(() => (stepElement as HTMLElement).focus(), delayFocus && this.shouldAnimate() ? SLIDE_TRANSITION_TIME_MS : 0);\n\n\t\t\tthis.editorInput.selectedStep = id;\n\n\t\t\tstepElement.classList.add('expanded');\n\t\t\tstepElement.setAttribute('aria-expanded', 'true');\n\t\t\tthis.buildMediaComponent(id);\n\t\t\tthis.gettingStartedService.progressStep(id);\n\t\t} else {\n\t\t\tthis.editorInput.selectedStep = undefined;\n\t\t}\n\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\t\tthis.detailsScrollbar?.scanDomNode();\n\t}\n\n\tprivate updateMediaSourceForColorMode(element: HTMLImageElement, sources: { hcDark: URI; hcLight: URI; dark: URI; light: URI }) {\n\t\tconst themeType = this.themeService.getColorTheme().type;\n\t\tconst src = sources[themeType].toString(true).replace(/ /g, '%20');\n\t\telement.srcset = src.toLowerCase().endsWith('.svg') ? src : (src + ' 1.5x');\n\t}\n\n\tprotected createEditor(parent: HTMLElement) {\n\t\tif (this.detailsPageScrollbar) { this.detailsPageScrollbar.dispose(); }\n\t\tif (this.categoriesPageScrollbar) { this.categoriesPageScrollbar.dispose(); }\n\n\t\tthis.categoriesSlide = $('.gettingStartedSlideCategories.gettingStartedSlide');\n\n\t\tconst prevButton = $('button.prev-button.button-link', { 'x-dispatch': 'scrollPrev' }, $('span.scroll-button.codicon.codicon-chevron-left'), $('span.moreText', {}, localize('welcome', \"Welcome\")));\n\t\tthis.stepsSlide = $('.gettingStartedSlideDetails.gettingStartedSlide', {}, prevButton);\n\n\t\tthis.stepsContent = $('.gettingStartedDetailsContent', {});\n\n\t\tthis.detailsPageScrollbar = this._register(new DomScrollableElement(this.stepsContent, { className: 'full-height-scrollable' }));\n\t\tthis.categoriesPageScrollbar = this._register(new DomScrollableElement(this.categoriesSlide, { className: 'full-height-scrollable categoriesScrollbar' }));\n\n\t\tthis.stepsSlide.appendChild(this.detailsPageScrollbar.getDomNode());\n\n\t\tconst gettingStartedPage = $('.gettingStarted', {}, this.categoriesPageScrollbar.getDomNode(), this.stepsSlide);\n\t\tthis.container.appendChild(gettingStartedPage);\n\n\t\tthis.categoriesPageScrollbar.scanDomNode();\n\t\tthis.detailsPageScrollbar.scanDomNode();\n\n\t\tparent.appendChild(this.container);\n\t}\n\n\tprivate async buildCategoriesSlide() {\n\n\t\tthis.categoriesSlideDisposables.clear();\n\t\tconst showOnStartupCheckbox = new Toggle({\n\t\t\ticon: Codicon.check,\n\t\t\tactionClassName: 'getting-started-checkbox',\n\t\t\tisChecked: this.configurationService.getValue(configurationKey) === 'welcomePage',\n\t\t\ttitle: localize('checkboxTitle', \"When checked, this page will be shown on startup.\"),\n\t\t\t...defaultToggleStyles\n\t\t});\n\t\tshowOnStartupCheckbox.domNode.id = 'showOnStartup';\n\t\tconst showOnStartupLabel = $('label.caption', { for: 'showOnStartup' }, localize('welcomePage.showOnStartup', \"Show welcome page on startup\"));\n\t\tconst onShowOnStartupChanged = () => {\n\t\t\tif (showOnStartupCheckbox.checked) {\n\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'showOnStartupChecked', argument: undefined, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\tthis.configurationService.updateValue(configurationKey, 'welcomePage');\n\t\t\t} else {\n\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'showOnStartupUnchecked', argument: undefined, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\tthis.configurationService.updateValue(configurationKey, 'none');\n\t\t\t}\n\t\t};\n\t\tthis.categoriesSlideDisposables.add(showOnStartupCheckbox);\n\t\tthis.categoriesSlideDisposables.add(showOnStartupCheckbox.onChange(() => {\n\t\t\tonShowOnStartupChanged();\n\t\t}));\n\t\tthis.categoriesSlideDisposables.add(addDisposableListener(showOnStartupLabel, 'click', () => {\n\t\t\tshowOnStartupCheckbox.checked = !showOnStartupCheckbox.checked;\n\t\t\tonShowOnStartupChanged();\n\t\t}));\n\n\t\tconst header = $('.header', {},\n\t\t\t$('h1.product-name.caption', {}, this.productService.nameLong),\n\t\t\t$('p.subtitle.description', {}, localize({ key: 'gettingStarted.editingEvolved', comment: ['Shown as subtitle on the Welcome page.'] }, \"Editing evolved\"))\n\t\t);\n\n\t\tconst leftColumn = $('.categories-column.categories-column-left', {},);\n\t\tconst rightColumn = $('.categories-column.categories-column-right', {},);\n\n\t\tconst startList = this.buildStartList();\n\t\tconst recentList = this.buildRecentlyOpenedList();\n\t\tconst featuredExtensionList = this.buildFeaturedExtensionsList();\n\t\tconst gettingStartedList = this.buildGettingStartedWalkthroughsList();\n\n\t\tconst footer = $('.footer', {},\n\t\t\t$('p.showOnStartup', {},\n\t\t\t\tshowOnStartupCheckbox.domNode,\n\t\t\t\tshowOnStartupLabel,\n\t\t\t));\n\n\t\tconst layoutLists = () => {\n\t\t\tif (gettingStartedList.itemCount) {\n\t\t\t\tthis.container.classList.remove('noWalkthroughs');\n\t\t\t\treset(rightColumn, featuredExtensionList.getDomElement(), gettingStartedList.getDomElement());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.container.classList.add('noWalkthroughs');\n\t\t\t\treset(rightColumn, featuredExtensionList.getDomElement());\n\t\t\t}\n\t\t\tsetTimeout(() => this.categoriesPageScrollbar?.scanDomNode(), 50);\n\t\t\tlayoutRecentList();\n\t\t};\n\n\t\tconst layoutFeaturedExtension = () => {\n\t\t\tif (featuredExtensionList.itemCount) {\n\t\t\t\tthis.container.classList.remove('noExtensions');\n\t\t\t\treset(rightColumn, featuredExtensionList.getDomElement(), gettingStartedList.getDomElement());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.container.classList.add('noExtensions');\n\t\t\t\treset(rightColumn, gettingStartedList.getDomElement());\n\t\t\t}\n\t\t\tsetTimeout(() => this.categoriesPageScrollbar?.scanDomNode(), 50);\n\t\t\tlayoutRecentList();\n\t\t};\n\n\t\tconst layoutRecentList = () => {\n\t\t\tif (this.container.classList.contains('noWalkthroughs') && this.container.classList.contains('noExtensions')) {\n\t\t\t\trecentList.setLimit(10);\n\t\t\t\treset(leftColumn, startList.getDomElement());\n\t\t\t\treset(rightColumn, recentList.getDomElement());\n\t\t\t} else {\n\t\t\t\trecentList.setLimit(5);\n\t\t\t\treset(leftColumn, startList.getDomElement(), recentList.getDomElement());\n\t\t\t}\n\t\t};\n\n\t\tfeaturedExtensionList.onDidChange(layoutFeaturedExtension);\n\t\tlayoutFeaturedExtension();\n\t\tgettingStartedList.onDidChange(layoutLists);\n\t\tlayoutLists();\n\n\t\treset(this.categoriesSlide, $('.gettingStartedCategoriesContainer', {}, header, leftColumn, rightColumn, footer,));\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\n\t\tthis.updateCategoryProgress();\n\t\tthis.registerDispatchListeners();\n\n\t\tif (this.editorInput.selectedCategory) {\n\t\t\tthis.currentWalkthrough = this.gettingStartedCategories.find(category => category.id === this.editorInput.selectedCategory);\n\n\t\t\tif (!this.currentWalkthrough) {\n\t\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t\t\tthis.currentWalkthrough = this.gettingStartedCategories.find(category => category.id === this.editorInput.selectedCategory);\n\t\t\t\tif (this.currentWalkthrough) {\n\t\t\t\t\tthis.buildCategorySlide(this.editorInput.selectedCategory, this.editorInput.selectedStep);\n\t\t\t\t\tthis.setSlide('details');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst someStepsComplete = this.gettingStartedCategories.some(category => category.steps.find(s => s.done));\n\t\tif (this.editorInput.showTelemetryNotice && this.productService.openToWelcomeMainPage) {\n\t\t\tconst telemetryNotice = $('p.telemetry-notice');\n\t\t\tthis.buildTelemetryFooter(telemetryNotice);\n\t\t\tfooter.appendChild(telemetryNotice);\n\t\t} else if (!this.productService.openToWelcomeMainPage && !someStepsComplete && !this.hasScrolledToFirstCategory) {\n\t\t\tconst firstSessionDateString = this.storageService.get(firstSessionDateStorageKey, StorageScope.APPLICATION) || new Date().toUTCString();\n\t\t\tconst daysSinceFirstSession = ((+new Date()) - (+new Date(firstSessionDateString))) / 1000 / 60 / 60 / 24;\n\t\t\tconst fistContentBehaviour = daysSinceFirstSession < 1 ? 'openToFirstCategory' : 'index';\n\n\t\t\tif (fistContentBehaviour === 'openToFirstCategory') {\n\t\t\t\tconst first = this.gettingStartedCategories.filter(c => !c.when || this.contextService.contextMatchesRules(c.when))[0];\n\t\t\t\tthis.hasScrolledToFirstCategory = true;\n\t\t\t\tif (first) {\n\t\t\t\t\tthis.currentWalkthrough = first;\n\t\t\t\t\tthis.editorInput.selectedCategory = this.currentWalkthrough?.id;\n\t\t\t\t\tthis.buildCategorySlide(this.editorInput.selectedCategory, undefined);\n\t\t\t\t\tthis.setSlide('details');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setSlide('categories');\n\t}\n\n\tprivate buildRecentlyOpenedList(): GettingStartedIndexList<RecentEntry> {\n\t\tconst renderRecent = (recent: RecentEntry) => {\n\t\t\tlet fullPath: string;\n\t\t\tlet windowOpenable: IWindowOpenable;\n\t\t\tif (isRecentFolder(recent)) {\n\t\t\t\twindowOpenable = { folderUri: recent.folderUri };\n\t\t\t\tfullPath = recent.label || this.labelService.getWorkspaceLabel(recent.folderUri, { verbose: Verbosity.LONG });\n\t\t\t} else {\n\t\t\t\tfullPath = recent.label || this.labelService.getWorkspaceLabel(recent.workspace, { verbose: Verbosity.LONG });\n\t\t\t\twindowOpenable = { workspaceUri: recent.workspace.configPath };\n\t\t\t}\n\n\t\t\tconst { name, parentPath } = splitRecentLabel(fullPath);\n\n\t\t\tconst li = $('li');\n\t\t\tconst link = $('button.button-link');\n\n\t\t\tlink.innerText = name;\n\t\t\tlink.title = fullPath;\n\t\t\tlink.setAttribute('aria-label', localize('welcomePage.openFolderWithPath', \"Open folder {0} with path {1}\", name, parentPath));\n\t\t\tlink.addEventListener('click', e => {\n\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'openRecent', argument: undefined, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\tthis.hostService.openWindow([windowOpenable], {\n\t\t\t\t\tforceNewWindow: e.ctrlKey || e.metaKey,\n\t\t\t\t\tremoteAuthority: recent.remoteAuthority || null // local window if remoteAuthority is not set or can not be deducted from the openable\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\tli.appendChild(link);\n\n\t\t\tconst span = $('span');\n\t\t\tspan.classList.add('path');\n\t\t\tspan.classList.add('detail');\n\t\t\tspan.innerText = parentPath;\n\t\t\tspan.title = fullPath;\n\t\t\tli.appendChild(span);\n\n\t\t\treturn li;\n\t\t};\n\n\t\tif (this.recentlyOpenedList) { this.recentlyOpenedList.dispose(); }\n\n\t\tconst recentlyOpenedList = this.recentlyOpenedList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: localize('recent', \"Recent\"),\n\t\t\t\tklass: 'recently-opened',\n\t\t\t\tlimit: 5,\n\t\t\t\tempty: $('.empty-recent', {},\n\t\t\t\t\tlocalize('noRecents', \"You have no recent folders,\"),\n\t\t\t\t\t$('button.button-link', { 'x-dispatch': 'openFolder' }, localize('openFolder', \"open a folder\")),\n\t\t\t\t\tlocalize('toStart', \"to start.\")),\n\n\t\t\t\tmore: $('.more', {},\n\t\t\t\t\t$('button.button-link',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'x-dispatch': 'showMoreRecents',\n\t\t\t\t\t\t\ttitle: localize('show more recents', \"Show All Recent Folders {0}\", this.getKeybindingLabel(OpenRecentAction.ID))\n\t\t\t\t\t\t}, localize('showAll', \"More...\"))),\n\t\t\t\trenderElement: renderRecent,\n\t\t\t\tcontextService: this.contextService\n\t\t\t});\n\n\t\trecentlyOpenedList.onDidChange(() => this.registerDispatchListeners());\n\t\tthis.recentlyOpened.then(({ workspaces }) => {\n\t\t\t// Filter out the current workspace\n\t\t\tconst workspacesWithID = workspaces\n\t\t\t\t.filter(recent => !this.workspaceContextService.isCurrentWorkspace(isRecentWorkspace(recent) ? recent.workspace : recent.folderUri))\n\t\t\t\t.map(recent => ({ ...recent, id: isRecentWorkspace(recent) ? recent.workspace.id : recent.folderUri.toString() }));\n\n\t\t\tconst updateEntries = () => {\n\t\t\t\trecentlyOpenedList.setEntries(workspacesWithID);\n\t\t\t};\n\n\t\t\tupdateEntries();\n\t\t\trecentlyOpenedList.register(this.labelService.onDidChangeFormatters(() => updateEntries()));\n\t\t}).catch(onUnexpectedError);\n\n\t\treturn recentlyOpenedList;\n\t}\n\n\tprivate buildStartList(): GettingStartedIndexList<IWelcomePageStartEntry> {\n\t\tconst renderStartEntry = (entry: IWelcomePageStartEntry): HTMLElement =>\n\t\t\t$('li',\n\t\t\t\t{}, $('button.button-link',\n\t\t\t\t\t{\n\t\t\t\t\t\t'x-dispatch': 'selectStartEntry:' + entry.id,\n\t\t\t\t\t\ttitle: entry.description + ' ' + this.getKeybindingLabel(entry.command),\n\t\t\t\t\t},\n\t\t\t\t\tthis.iconWidgetFor(entry),\n\t\t\t\t\t$('span', {}, entry.title)));\n\n\t\tif (this.startList) { this.startList.dispose(); }\n\n\t\tconst startList = this.startList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: localize('start', \"Start\"),\n\t\t\t\tklass: 'start-container',\n\t\t\t\tlimit: 10,\n\t\t\t\trenderElement: renderStartEntry,\n\t\t\t\trankElement: e => -e.order,\n\t\t\t\tcontextService: this.contextService\n\t\t\t});\n\n\t\tstartList.setEntries(parsedStartEntries);\n\t\tstartList.onDidChange(() => this.registerDispatchListeners());\n\t\treturn startList;\n\t}\n\n\tprivate buildGettingStartedWalkthroughsList(): GettingStartedIndexList<IResolvedWalkthrough> {\n\n\t\tconst renderGetttingStaredWalkthrough = (category: IResolvedWalkthrough): HTMLElement => {\n\n\t\t\tconst renderNewBadge = (category.newItems || category.newEntry) && !category.isFeatured;\n\t\t\tconst newBadge = $('.new-badge', {});\n\t\t\tif (category.newEntry) {\n\t\t\t\treset(newBadge, $('.new-category', {}, localize('new', \"New\")));\n\t\t\t} else if (category.newItems) {\n\t\t\t\treset(newBadge, $('.new-items', {}, localize({ key: 'newItems', comment: ['Shown when a list of items has changed based on an update from a remote source'] }, \"Updated\")));\n\t\t\t}\n\n\t\t\tconst featuredBadge = $('.featured-badge', {});\n\t\t\tconst descriptionContent = $('.description-content', {},);\n\n\t\t\tif (category.isFeatured) {\n\t\t\t\treset(featuredBadge, $('.featured', {}, $('span.featured-icon.codicon.codicon-star-full')));\n\t\t\t\treset(descriptionContent, ...renderLabelWithIcons(category.description));\n\t\t\t}\n\n\t\t\tconst titleContent = $('h3.category-title.max-lines-3', { 'x-category-title-for': category.id });\n\t\t\treset(titleContent, ...renderLabelWithIcons(category.title));\n\n\t\t\treturn $('button.getting-started-category' + (category.isFeatured ? '.featured' : ''),\n\t\t\t\t{\n\t\t\t\t\t'x-dispatch': 'selectCategory:' + category.id,\n\t\t\t\t\t'title': category.description\n\t\t\t\t},\n\t\t\t\tfeaturedBadge,\n\t\t\t\t$('.main-content', {},\n\t\t\t\t\tthis.iconWidgetFor(category),\n\t\t\t\t\ttitleContent,\n\t\t\t\t\trenderNewBadge ? newBadge : $('.no-badge'),\n\t\t\t\t\t$('a.codicon.codicon-close.hide-category-button', {\n\t\t\t\t\t\t'tabindex': 0,\n\t\t\t\t\t\t'x-dispatch': 'hideCategory:' + category.id,\n\t\t\t\t\t\t'title': localize('close', \"Hide\"),\n\t\t\t\t\t\t'role': 'button',\n\t\t\t\t\t\t'aria-label': localize('closeAriaLabel', \"Hide\"),\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t\tdescriptionContent,\n\t\t\t\t$('.category-progress', { 'x-data-category-id': category.id, },\n\t\t\t\t\t$('.progress-bar-outer', { 'role': 'progressbar' },\n\t\t\t\t\t\t$('.progress-bar-inner'))));\n\t\t};\n\n\t\tif (this.gettingStartedList) { this.gettingStartedList.dispose(); }\n\n\t\tconst rankWalkthrough = (e: IResolvedWalkthrough) => {\n\t\t\tlet rank: number | null = e.order;\n\n\t\t\tif (e.isFeatured) { rank += 7; }\n\t\t\tif (e.newEntry) { rank += 3; }\n\t\t\tif (e.newItems) { rank += 2; }\n\t\t\tif (e.recencyBonus) { rank += 4 * e.recencyBonus; }\n\n\t\t\tif (this.getHiddenCategories().has(e.id)) { rank = null; }\n\t\t\treturn rank;\n\t\t};\n\n\t\tconst gettingStartedList = this.gettingStartedList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: localize('walkthroughs', \"Walkthroughs\"),\n\t\t\t\tklass: 'getting-started',\n\t\t\t\tlimit: 5,\n\t\t\t\tfooter: $('span.button-link.see-all-walkthroughs', { 'x-dispatch': 'seeAllWalkthroughs', 'tabindex': 0 }, localize('showAll', \"More...\")),\n\t\t\t\trenderElement: renderGetttingStaredWalkthrough,\n\t\t\t\trankElement: rankWalkthrough,\n\t\t\t\tcontextService: this.contextService,\n\t\t\t});\n\n\t\tgettingStartedList.onDidChange(() => {\n\t\t\tconst hidden = this.getHiddenCategories();\n\t\t\tconst someWalkthroughsHidden = hidden.size || gettingStartedList.itemCount < this.gettingStartedCategories.filter(c => this.contextService.contextMatchesRules(c.when)).length;\n\t\t\tthis.container.classList.toggle('someWalkthroughsHidden', !!someWalkthroughsHidden);\n\t\t\tthis.registerDispatchListeners();\n\t\t\tallWalkthroughsHiddenContext.bindTo(this.contextService).set(gettingStartedList.itemCount === 0);\n\t\t\tthis.updateCategoryProgress();\n\t\t});\n\n\t\tgettingStartedList.setEntries(this.gettingStartedCategories);\n\t\tallWalkthroughsHiddenContext.bindTo(this.contextService).set(gettingStartedList.itemCount === 0);\n\n\t\treturn gettingStartedList;\n\t}\n\n\tprivate buildFeaturedExtensionsList(): GettingStartedIndexList<IFeaturedExtension> {\n\n\t\tconst renderFeaturedExtensions = (entry: IFeaturedExtension): HTMLElement => {\n\n\t\t\tconst descriptionContent = $('.featured-description-content', {},);\n\n\t\t\treset(descriptionContent, ...renderLabelWithIcons(entry.description));\n\n\t\t\tconst titleContent = $('h3.category-title.max-lines-3', { 'x-category-title-for': entry.id });\n\t\t\treset(titleContent, ...renderLabelWithIcons(entry.title));\n\n\t\t\treturn $('button.getting-started-category',\n\t\t\t\t{\n\t\t\t\t\t'x-dispatch': 'openExtensionPage:' + entry.id,\n\t\t\t\t\t'title': entry.description\n\t\t\t\t},\n\t\t\t\t$('.main-content', {},\n\t\t\t\t\t$('img.featured-icon.icon-widget', { src: entry.imagePath }),\n\t\t\t\t\ttitleContent,\n\t\t\t\t\t$('a.codicon.codicon-close.hide-category-button', {\n\t\t\t\t\t\t'tabindex': 0,\n\t\t\t\t\t\t'x-dispatch': 'hideExtension:' + entry.id,\n\t\t\t\t\t\t'title': localize('close', \"Hide\"),\n\t\t\t\t\t\t'role': 'button',\n\t\t\t\t\t\t'aria-label': localize('closeAriaLabel', \"Hide\"),\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t\tdescriptionContent);\n\t\t};\n\n\t\tif (this.featuredExtensionsList) {\n\t\t\tthis.featuredExtensionsList.dispose();\n\t\t}\n\n\t\tconst featuredExtensionsList = this.featuredExtensionsList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: this.featuredExtensionService.title,\n\t\t\t\tklass: 'featured-extensions',\n\t\t\t\tlimit: 5,\n\t\t\t\trenderElement: renderFeaturedExtensions,\n\t\t\t\trankElement: (extension) => { if (this.getHiddenCategories().has(extension.id)) { return null; } return 0; },\n\t\t\t\tcontextService: this.contextService,\n\t\t\t});\n\n\t\tthis.featuredExtensions?.then(extensions => {\n\t\t\tfeaturedExtensionsList.setEntries(extensions);\n\t\t});\n\n\t\tthis.featuredExtensionsList?.onDidChange(() => {\n\t\t\tthis.registerDispatchListeners();\n\t\t});\n\n\t\treturn featuredExtensionsList;\n\t}\n\n\tlayout(size: Dimension) {\n\t\tthis.detailsScrollbar?.scanDomNode();\n\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\n\t\tthis.startList?.layout(size);\n\t\tthis.gettingStartedList?.layout(size);\n\t\tthis.featuredExtensionsList?.layout(size);\n\t\tthis.recentlyOpenedList?.layout(size);\n\n\t\tif (this.editorInput?.selectedStep && this.currentMediaType) {\n\t\t\tthis.mediaDisposables.clear();\n\t\t\tthis.stepDisposables.clear();\n\t\t\tthis.buildMediaComponent(this.editorInput.selectedStep);\n\t\t}\n\n\t\tthis.layoutMarkdown?.();\n\n\t\tthis.container.classList.toggle('height-constrained', size.height <= 600);\n\t\tthis.container.classList.toggle('width-constrained', size.width <= 400);\n\t\tthis.container.classList.toggle('width-semi-constrained', size.width <= 800);\n\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\t\tthis.detailsScrollbar?.scanDomNode();\n\t}\n\n\tprivate updateCategoryProgress() {\n\t\tdocument.querySelectorAll('.category-progress').forEach(element => {\n\t\t\tconst categoryID = element.getAttribute('x-data-category-id');\n\t\t\tconst category = this.gettingStartedCategories.find(category => category.id === categoryID);\n\t\t\tif (!category) { throw Error('Could not find category with ID ' + categoryID); }\n\n\t\t\tconst stats = this.getWalkthroughCompletionStats(category);\n\n\t\t\tconst bar = assertIsDefined(element.querySelector('.progress-bar-inner')) as HTMLDivElement;\n\t\t\tbar.setAttribute('aria-valuemin', '0');\n\t\t\tbar.setAttribute('aria-valuenow', '' + stats.stepsComplete);\n\t\t\tbar.setAttribute('aria-valuemax', '' + stats.stepsTotal);\n\t\t\tconst progress = (stats.stepsComplete / stats.stepsTotal) * 100;\n\t\t\tbar.style.width = `${progress}%`;\n\n\t\t\t(element.parentElement as HTMLElement).classList.toggle('no-progress', stats.stepsComplete === 0);\n\n\t\t\tif (stats.stepsTotal === stats.stepsComplete) {\n\t\t\t\tbar.title = localize('gettingStarted.allStepsComplete', \"All {0} steps complete!\", stats.stepsComplete);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbar.title = localize('gettingStarted.someStepsComplete', \"{0} of {1} steps complete\", stats.stepsComplete, stats.stepsTotal);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async scrollToCategory(categoryID: string, stepId?: string) {\n\n\t\tif (!this.gettingStartedCategories.some(c => c.id === categoryID)) {\n\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t}\n\n\t\tconst ourCategory = this.gettingStartedCategories.find(c => c.id === categoryID);\n\t\tif (!ourCategory) {\n\t\t\tthrow Error('Could not find category with ID: ' + categoryID);\n\t\t}\n\n\t\tthis.inProgressScroll = this.inProgressScroll.then(async () => {\n\t\t\treset(this.stepsContent);\n\t\t\tthis.editorInput.selectedCategory = categoryID;\n\t\t\tthis.editorInput.selectedStep = stepId;\n\t\t\tthis.currentWalkthrough = ourCategory;\n\t\t\tthis.buildCategorySlide(categoryID);\n\t\t\tthis.setSlide('details');\n\t\t});\n\t}\n\n\tprivate iconWidgetFor(category: IResolvedWalkthrough | { icon: { type: 'icon'; icon: ThemeIcon } }) {\n\t\tconst widget = category.icon.type === 'icon' ? $(ThemeIcon.asCSSSelector(category.icon.icon)) : $('img.category-icon', { src: category.icon.path });\n\t\twidget.classList.add('icon-widget');\n\t\treturn widget;\n\t}\n\n\tprivate runStepCommand(href: string) {\n\n\t\tconst isCommand = href.startsWith('command:');\n\t\tconst toSide = href.startsWith('command:toSide:');\n\t\tconst command = href.replace(/command:(toSide:)?/, 'command:');\n\n\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'runStepAction', argument: href, walkthroughId: this.currentWalkthrough?.id });\n\n\t\tconst fullSize = this.groupsService.contentDimension;\n\n\t\tif (toSide && fullSize.width > 700) {\n\t\t\tif (this.groupsService.count === 1) {\n\t\t\t\tconst sideGroup = this.groupsService.addGroup(this.groupsService.groups[0], GroupDirection.RIGHT);\n\t\t\t\tthis.groupsService.activateGroup(sideGroup);\n\n\t\t\t\tconst gettingStartedSize = Math.floor(fullSize.width / 2);\n\n\t\t\t\tconst gettingStartedGroup = this.groupsService.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE).find(group => (group.activeEditor instanceof GettingStartedInput));\n\t\t\t\tthis.groupsService.setSize(assertIsDefined(gettingStartedGroup), { width: gettingStartedSize, height: fullSize.height });\n\t\t\t}\n\n\t\t\tconst nonGettingStartedGroup = this.groupsService.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE).find(group => !(group.activeEditor instanceof GettingStartedInput));\n\t\t\tif (nonGettingStartedGroup) {\n\t\t\t\tthis.groupsService.activateGroup(nonGettingStartedGroup);\n\t\t\t\tnonGettingStartedGroup.focus();\n\t\t\t}\n\t\t}\n\t\tif (isCommand) {\n\t\t\tconst commandURI = URI.parse(command);\n\n\t\t\t// execute as command\n\t\t\tlet args: any = [];\n\t\t\ttry {\n\t\t\t\targs = parse(decodeURIComponent(commandURI.query));\n\t\t\t} catch {\n\t\t\t\t// ignore and retry\n\t\t\t\ttry {\n\t\t\t\t\targs = parse(commandURI.query);\n\t\t\t\t} catch {\n\t\t\t\t\t// ignore error\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!Array.isArray(args)) {\n\t\t\t\targs = [args];\n\t\t\t}\n\n\t\t\t// If a step is requesting the OpenFolder action to be executed in an empty workspace...\n\t\t\tif ((commandURI.path === OpenFileFolderAction.ID.toString() ||\n\t\t\t\tcommandURI.path === OpenFolderAction.ID.toString()) &&\n\t\t\t\tthis.workspaceContextService.getWorkspace().folders.length === 0) {\n\n\t\t\t\tconst selectedStepIndex = this.currentWalkthrough?.steps.findIndex(step => step.id === this.editorInput.selectedStep);\n\n\t\t\t\t// and there are a few more steps after this step which are yet to be completed...\n\t\t\t\tif (selectedStepIndex !== undefined &&\n\t\t\t\t\tselectedStepIndex > -1 &&\n\t\t\t\t\tthis.currentWalkthrough?.steps.slice(selectedStepIndex + 1).some(step => !step.done)) {\n\t\t\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = { folder: UNKNOWN_EMPTY_WINDOW_WORKSPACE.id, category: this.editorInput.selectedCategory, step: this.editorInput.selectedStep };\n\n\t\t\t\t\t// save state to restore after reload\n\t\t\t\t\tthis.storageService.store(\n\t\t\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\t\t\tStorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.commandService.executeCommand(commandURI.path, ...args).then(result => {\n\t\t\t\tconst toOpen: URI = result?.openFolder;\n\t\t\t\tif (toOpen) {\n\t\t\t\t\tif (!URI.isUri(toOpen)) {\n\t\t\t\t\t\tconsole.warn('Warn: Running walkthrough command', href, 'yielded non-URI `openFolder` result', toOpen, '. It will be disregarded.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = { folder: toOpen.toString(), category: this.editorInput.selectedCategory, step: this.editorInput.selectedStep };\n\t\t\t\t\tthis.storageService.store(\n\t\t\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\t\t\tStorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t\t\tthis.hostService.openWindow([{ folderUri: toOpen }]);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.openerService.open(command, { allowCommands: true });\n\t\t}\n\n\t\tif (!isCommand && (href.startsWith('https://') || href.startsWith('http://'))) {\n\t\t\tthis.gettingStartedService.progressByEvent('onLink:' + href);\n\t\t}\n\t}\n\n\tprivate buildStepMarkdownDescription(container: HTMLElement, text: LinkedText[]) {\n\t\twhile (container.firstChild) { container.removeChild(container.firstChild); }\n\n\t\tfor (const linkedText of text) {\n\t\t\tif (linkedText.nodes.length === 1 && typeof linkedText.nodes[0] !== 'string') {\n\t\t\t\tconst node = linkedText.nodes[0];\n\t\t\t\tconst buttonContainer = append(container, $('.button-container'));\n\t\t\t\tconst button = new Button(buttonContainer, { title: node.title, supportIcons: true, ...defaultButtonStyles });\n\n\t\t\t\tconst isCommand = node.href.startsWith('command:');\n\t\t\t\tconst command = node.href.replace(/command:(toSide:)?/, 'command:');\n\n\t\t\t\tbutton.label = node.label;\n\t\t\t\tbutton.onDidClick(e => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.runStepCommand(node.href);\n\t\t\t\t}, null, this.detailsPageDisposables);\n\n\t\t\t\tif (isCommand) {\n\t\t\t\t\tconst keybindingLabel = this.getKeybindingLabel(command);\n\t\t\t\t\tif (keybindingLabel) {\n\t\t\t\t\t\tcontainer.appendChild($('span.shortcut-message', {}, localize('gettingStarted.keyboardTip', 'Tip: Use keyboard shortcut '), $('span.keybinding', {}, keybindingLabel)));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.detailsPageDisposables.add(button);\n\t\t\t} else {\n\t\t\t\tconst p = append(container, $('p'));\n\t\t\t\tfor (const node of linkedText.nodes) {\n\t\t\t\t\tif (typeof node === 'string') {\n\t\t\t\t\t\tconst labelWithIcon = renderLabelWithIcons(node);\n\t\t\t\t\t\tfor (const element of labelWithIcon) {\n\t\t\t\t\t\t\tif (typeof element === 'string') {\n\t\t\t\t\t\t\t\tp.appendChild(renderFormattedText(element, { inline: true, renderCodeSegments: true }));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tp.appendChild(element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst link = this.instantiationService.createInstance(Link, p, node, { opener: (href) => this.runStepCommand(href) });\n\t\t\t\t\t\tthis.detailsPageDisposables.add(link);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn container;\n\t}\n\n\toverride clearInput() {\n\t\tthis.stepDisposables.clear();\n\t\tsuper.clearInput();\n\t}\n\n\tprivate buildCategorySlide(categoryID: string, selectedStep?: string) {\n\t\tif (this.detailsScrollbar) { this.detailsScrollbar.dispose(); }\n\n\t\tthis.extensionService.whenInstalledExtensionsRegistered().then(() => {\n\t\t\t// Remove internal extension id specifier from exposed id's\n\t\t\tthis.extensionService.activateByEvent(`onWalkthrough:${categoryID.replace(/[^#]+#/, '')}`);\n\t\t});\n\n\t\tthis.detailsPageDisposables.clear();\n\t\tthis.mediaDisposables.clear();\n\n\t\tconst category = this.gettingStartedCategories.find(category => category.id === categoryID);\n\t\tif (!category) {\n\t\t\tthrow Error('could not find category with ID ' + categoryID);\n\t\t}\n\n\t\tconst categoryDescriptorComponent =\n\t\t\t$('.getting-started-category',\n\t\t\t\t{},\n\t\t\t\tthis.iconWidgetFor(category),\n\t\t\t\t$('.category-description-container', {},\n\t\t\t\t\t$('h2.category-title.max-lines-3', { 'x-category-title-for': category.id }, ...renderLabelWithIcons(category.title)),\n\t\t\t\t\t$('.category-description.description.max-lines-3', { 'x-category-description-for': category.id }, ...renderLabelWithIcons(category.description))));\n\n\t\tconst stepListContainer = $('.step-list-container');\n\n\t\tthis.detailsPageDisposables.add(addDisposableListener(stepListContainer, 'keydown', (e) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tconst currentStepIndex = () =>\n\t\t\t\tcategory.steps.findIndex(e => e.id === this.editorInput.selectedStep);\n\n\t\t\tif (event.keyCode === KeyCode.UpArrow) {\n\t\t\t\tconst toExpand = category.steps.filter((step, index) => index < currentStepIndex() && this.contextService.contextMatchesRules(step.when));\n\t\t\t\tif (toExpand.length) {\n\t\t\t\t\tthis.selectStep(toExpand[toExpand.length - 1].id, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (event.keyCode === KeyCode.DownArrow) {\n\t\t\t\tconst toExpand = category.steps.find((step, index) => index > currentStepIndex() && this.contextService.contextMatchesRules(step.when));\n\t\t\t\tif (toExpand) {\n\t\t\t\t\tthis.selectStep(toExpand.id, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tlet renderedSteps: IResolvedWalkthroughStep[] | undefined = undefined;\n\n\t\tconst contextKeysToWatch = new Set(category.steps.flatMap(step => step.when.keys()));\n\n\t\tconst buildStepList = () => {\n\n\t\t\tcategory.steps.sort((a, b) => a.order - b.order);\n\t\t\tconst toRender = category.steps\n\t\t\t\t.filter(step => this.contextService.contextMatchesRules(step.when));\n\n\t\t\tif (equals(renderedSteps, toRender, (a, b) => a.id === b.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trenderedSteps = toRender;\n\n\t\t\treset(stepListContainer, ...renderedSteps\n\t\t\t\t.map(step => {\n\t\t\t\t\tconst codicon = $('.codicon' + (step.done ? '.complete' + ThemeIcon.asCSSSelector(gettingStartedCheckedCodicon) : ThemeIcon.asCSSSelector(gettingStartedUncheckedCodicon)),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'data-done-step-id': step.id,\n\t\t\t\t\t\t\t'x-dispatch': 'toggleStepCompletion:' + step.id,\n\t\t\t\t\t\t\t'role': 'checkbox',\n\t\t\t\t\t\t\t'tabindex': '0',\n\t\t\t\t\t\t});\n\n\t\t\t\t\tconst container = $('.step-description-container', { 'x-step-description-for': step.id });\n\t\t\t\t\tthis.buildStepMarkdownDescription(container, step.description);\n\n\t\t\t\t\tconst stepTitle = $('h3.step-title.max-lines-3', { 'x-step-title-for': step.id });\n\t\t\t\t\treset(stepTitle, ...renderLabelWithIcons(step.title));\n\n\t\t\t\t\tconst stepDescription = $('.step-container', {},\n\t\t\t\t\t\tstepTitle,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (step.media.type === 'image') {\n\t\t\t\t\t\tstepDescription.appendChild(\n\t\t\t\t\t\t\t$('.image-description', { 'aria-label': localize('imageShowing', \"Image showing {0}\", step.media.altText) }),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn $('button.getting-started-step',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'x-dispatch': 'selectTask:' + step.id,\n\t\t\t\t\t\t\t'data-step-id': step.id,\n\t\t\t\t\t\t\t'aria-expanded': 'false',\n\t\t\t\t\t\t\t'aria-checked': '' + step.done,\n\t\t\t\t\t\t\t'role': 'button',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcodicon,\n\t\t\t\t\t\tstepDescription);\n\t\t\t\t}));\n\t\t};\n\n\t\tbuildStepList();\n\n\t\tthis.detailsPageDisposables.add(this.contextService.onDidChangeContext(e => {\n\t\t\tif (e.affectsSome(contextKeysToWatch)) {\n\t\t\t\tbuildStepList();\n\t\t\t\tthis.registerDispatchListeners();\n\t\t\t\tthis.selectStep(this.editorInput.selectedStep, false);\n\t\t\t}\n\t\t}));\n\n\t\tconst showNextCategory = this.gettingStartedCategories.find(_category => _category.id === category.next);\n\n\t\tconst stepsContainer = $(\n\t\t\t'.getting-started-detail-container', { 'role': 'list' },\n\t\t\tstepListContainer,\n\t\t\t$('.done-next-container', {},\n\t\t\t\t$('button.button-link.all-done', { 'x-dispatch': 'allDone' }, $('span.codicon.codicon-check-all'), localize('allDone', \"Mark Done\")),\n\t\t\t\t...(showNextCategory\n\t\t\t\t\t? [$('button.button-link.next', { 'x-dispatch': 'nextSection' }, localize('nextOne', \"Next Section\"), $('span.codicon.codicon-arrow-right'))]\n\t\t\t\t\t: []),\n\t\t\t)\n\t\t);\n\t\tthis.detailsScrollbar = this._register(new DomScrollableElement(stepsContainer, { className: 'steps-container' }));\n\t\tconst stepListComponent = this.detailsScrollbar.getDomNode();\n\n\t\tconst categoryFooter = $('.getting-started-footer');\n\t\tif (this.editorInput.showTelemetryNotice && getTelemetryLevel(this.configurationService) !== TelemetryLevel.NONE && this.productService.enableTelemetry) {\n\t\t\tthis.buildTelemetryFooter(categoryFooter);\n\t\t}\n\n\t\treset(this.stepsContent, categoryDescriptorComponent, stepListComponent, this.stepMediaComponent, categoryFooter);\n\n\t\tconst toExpand = category.steps.find(step => this.contextService.contextMatchesRules(step.when) && !step.done) ?? category.steps[0];\n\t\tthis.selectStep(selectedStep ?? toExpand.id, !selectedStep);\n\n\t\tthis.detailsScrollbar.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\n\t\tthis.registerDispatchListeners();\n\t}\n\n\tprivate buildTelemetryFooter(parent: HTMLElement) {\n\t\tconst mdRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n\n\t\tconst privacyStatementCopy = localize('privacy statement', \"privacy statement\");\n\t\tconst privacyStatementButton = `[${privacyStatementCopy}](command:workbench.action.openPrivacyStatementUrl)`;\n\n\t\tconst optOutCopy = localize('optOut', \"opt out\");\n\t\tconst optOutButton = `[${optOutCopy}](command:settings.filterByTelemetry)`;\n\n\t\tconst text = localize({ key: 'footer', comment: ['fist substitution is \"vs code\", second is \"privacy statement\", third is \"opt out\".'] },\n\t\t\t\"{0} collects usage data. Read our {1} and learn how to {2}.\", this.productService.nameShort, privacyStatementButton, optOutButton);\n\n\t\tparent.append(mdRenderer.render({ value: text, isTrusted: true }).element);\n\t\tmdRenderer.dispose();\n\t}\n\n\tprivate getKeybindingLabel(command: string) {\n\t\tcommand = command.replace(/^command:/, '');\n\t\tconst label = this.keybindingService.lookupKeybinding(command)?.getLabel();\n\t\tif (!label) { return ''; }\n\t\telse {\n\t\t\treturn `(${label})`;\n\t\t}\n\t}\n\n\tprivate async scrollPrev() {\n\t\tthis.inProgressScroll = this.inProgressScroll.then(async () => {\n\t\t\tthis.currentWalkthrough = undefined;\n\t\t\tthis.editorInput.selectedCategory = undefined;\n\t\t\tthis.editorInput.selectedStep = undefined;\n\t\t\tthis.editorInput.showTelemetryNotice = false;\n\n\t\t\tthis.selectStep(undefined);\n\t\t\tthis.setSlide('categories');\n\t\t\tthis.container.focus();\n\t\t});\n\t}\n\n\tprivate runSkip() {\n\t\tthis.commandService.executeCommand('workbench.action.closeActiveEditor');\n\t}\n\n\tescape() {\n\t\tif (this.editorInput.selectedCategory) {\n\t\t\tthis.scrollPrev();\n\t\t} else {\n\t\t\tthis.runSkip();\n\t\t}\n\t}\n\n\tprivate setSlide(toEnable: 'details' | 'categories') {\n\t\tconst slideManager = assertIsDefined(this.container.querySelector('.gettingStarted'));\n\t\tif (toEnable === 'categories') {\n\t\t\tslideManager.classList.remove('showDetails');\n\t\t\tslideManager.classList.add('showCategories');\n\t\t\tthis.container.querySelector<HTMLButtonElement>('.prev-button.button-link')!.style.display = 'none';\n\t\t\tthis.container.querySelector('.gettingStartedSlideDetails')!.querySelectorAll('button').forEach(button => button.disabled = true);\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('button').forEach(button => button.disabled = false);\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('input').forEach(button => button.disabled = false);\n\t\t} else {\n\t\t\tslideManager.classList.add('showDetails');\n\t\t\tslideManager.classList.remove('showCategories');\n\t\t\tthis.container.querySelector<HTMLButtonElement>('.prev-button.button-link')!.style.display = 'block';\n\t\t\tthis.container.querySelector('.gettingStartedSlideDetails')!.querySelectorAll('button').forEach(button => button.disabled = false);\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('button').forEach(button => button.disabled = true);\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('input').forEach(button => button.disabled = true);\n\t\t}\n\t}\n\n\toverride focus() {\n\t\tconst active = document.activeElement;\n\n\t\tlet parent = this.container.parentElement;\n\t\twhile (parent && parent !== active) {\n\t\t\tparent = parent.parentElement;\n\t\t}\n\n\t\tif (parent) {\n\t\t\t// Only set focus if there is no other focued element outside this chain.\n\t\t\t// This prevents us from stealing back focus from other focused elements such as quick pick due to delayed load.\n\t\t\tthis.container.focus();\n\t\t}\n\t}\n}\n\nexport class GettingStartedInputSerializer implements IEditorSerializer {\n\tpublic canSerialize(editorInput: GettingStartedInput): boolean {\n\t\treturn true;\n\t}\n\n\tpublic serialize(editorInput: GettingStartedInput): string {\n\t\treturn JSON.stringify({ selectedCategory: editorInput.selectedCategory, selectedStep: editorInput.selectedStep });\n\t}\n\n\tpublic deserialize(instantiationService: IInstantiationService, serializedEditorInput: string): GettingStartedInput {\n\t\ttry {\n\t\t\tconst { selectedCategory, selectedStep } = JSON.parse(serializedEditorInput);\n\t\t\treturn new GettingStartedInput({ selectedCategory, selectedStep });\n\t\t} catch { }\n\t\treturn new GettingStartedInput({});\n\t}\n}\n"]}
{"version":3,"sources":["vs/workbench/contrib/scm/browser/scmSyncViewPane.ts"],"names":[],"mappings":"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","file":"scmSyncViewPane.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as path from 'vs/base/common/path';\nimport { append, $, prepend } from 'vs/base/browser/dom';\nimport { CountBadge } from 'vs/base/browser/ui/countBadge/countBadge';\nimport { IconLabel } from 'vs/base/browser/ui/iconLabel/iconLabel';\nimport { IIdentityProvider, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { IAsyncDataSource, ITreeNode, ITreeRenderer, ITreeSorter } from 'vs/base/browser/ui/tree/tree';\nimport { DisposableStore, IDisposable, combinedDisposable } from 'vs/base/common/lifecycle';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { URI } from 'vs/base/common/uri';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { IConfigurationChangeEvent, IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IOpenEvent, WorkbenchAsyncDataTree } from 'vs/platform/list/browser/listService';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { defaultCountBadgeStyles } from 'vs/platform/theme/browser/defaultStyles';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { IResourceLabel, ResourceLabels } from 'vs/workbench/browser/labels';\nimport { API_OPEN_DIFF_EDITOR_COMMAND_ID } from 'vs/workbench/browser/parts/editor/editorCommands';\nimport { IViewPaneOptions, ViewPane } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IViewDescriptorService } from 'vs/workbench/common/views';\nimport { RepositoryRenderer } from 'vs/workbench/contrib/scm/browser/scmRepositoryRenderer';\nimport { ActionButtonRenderer } from 'vs/workbench/contrib/scm/browser/scmViewPane';\nimport { getActionViewItemProvider, isSCMActionButton, isSCMRepository, isSCMRepositoryArray } from 'vs/workbench/contrib/scm/browser/util';\nimport { ISCMActionButton, ISCMRepository, ISCMViewService, ISCMViewVisibleRepositoryChangeEvent } from 'vs/workbench/contrib/scm/common/scm';\nimport { comparePaths } from 'vs/base/common/comparers';\nimport { ISCMHistoryItem, ISCMHistoryItemChange, ISCMHistoryItemGroup } from 'vs/workbench/contrib/scm/common/history';\nimport { localize } from 'vs/nls';\nimport { Iterable } from 'vs/base/common/iterator';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\n\ntype TreeElement = ISCMRepository[] | ISCMRepository | ISCMActionButton | SCMHistoryItemGroupTreeElement | SCMHistoryItemTreeElement | SCMHistoryItemChangeTreeElement;\n\nfunction isSCMHistoryItemGroupTreeElement(obj: any): obj is SCMHistoryItemGroupTreeElement {\n\treturn (obj as SCMHistoryItemGroupTreeElement).type === 'historyItemGroup';\n}\n\nfunction isSCMHistoryItemTreeElement(obj: any): obj is SCMHistoryItemTreeElement {\n\treturn (obj as SCMHistoryItemTreeElement).type === 'historyItem';\n}\n\nfunction isSCMHistoryItemChangeTreeElement(obj: any): obj is SCMHistoryItemChangeTreeElement {\n\treturn (obj as SCMHistoryItemChangeTreeElement).type === 'historyItemChange';\n}\n\nfunction toDiffEditorArguments(uri: URI, originalUri: URI, modifiedUri: URI): unknown[] {\n\tconst basename = path.basename(uri.fsPath);\n\tconst originalQuery = JSON.parse(originalUri.query) as { path: string; ref: string };\n\tconst modifiedQuery = JSON.parse(modifiedUri.query) as { path: string; ref: string };\n\n\tconst originalShortRef = originalQuery.ref.substring(0, 8).concat(originalQuery.ref.endsWith('^') ? '^' : '');\n\tconst modifiedShortRef = modifiedQuery.ref.substring(0, 8).concat(modifiedQuery.ref.endsWith('^') ? '^' : '');\n\n\treturn [originalUri, modifiedUri, `${basename} (${originalShortRef}) ↔ ${basename} (${modifiedShortRef})`];\n}\n\nfunction getSCMResourceId(element: TreeElement): string {\n\tif (isSCMRepository(element)) {\n\t\tconst provider = element.provider;\n\t\treturn `repo:${provider.id}`;\n\t} else if (isSCMActionButton(element)) {\n\t\tconst provider = element.repository.provider;\n\t\treturn `actionButton:${provider.id}`;\n\t} else if (isSCMHistoryItemGroupTreeElement(element)) {\n\t\tconst provider = element.repository.provider;\n\t\treturn `historyItemGroup:${provider.id}/${element.id}`;\n\t} else if (isSCMHistoryItemTreeElement(element)) {\n\t\tconst historyItemGroup = element.historyItemGroup;\n\t\tconst provider = historyItemGroup.repository.provider;\n\t\treturn `historyItem:${provider.id}/${historyItemGroup.id}/${element.id}`;\n\t} else if (isSCMHistoryItemChangeTreeElement(element)) {\n\t\tconst historyItem = element.historyItem;\n\t\tconst historyItemGroup = historyItem.historyItemGroup;\n\t\tconst provider = historyItemGroup.repository.provider;\n\t\treturn `historyItemChange:${provider.id}/${historyItemGroup.id}/${historyItem.id}/${element.uri.toString()}`;\n\t} else {\n\t\tthrow new Error('Invalid tree element');\n\t}\n}\n\ninterface SCMHistoryItemGroupTreeElement extends ISCMHistoryItemGroup {\n\treadonly description?: string;\n\treadonly ancestor?: string;\n\treadonly count?: number;\n\treadonly repository: ISCMRepository;\n\treadonly type: 'historyItemGroup';\n}\n\ninterface SCMHistoryItemTreeElement extends ISCMHistoryItem {\n\treadonly historyItemGroup: SCMHistoryItemGroupTreeElement;\n\treadonly type: 'historyItem';\n}\n\ninterface SCMHistoryItemChangeTreeElement extends ISCMHistoryItemChange {\n\treadonly historyItem: SCMHistoryItemTreeElement;\n\treadonly type: 'historyItemChange';\n}\n\nclass ListDelegate implements IListVirtualDelegate<any> {\n\n\tgetHeight(element: any): number {\n\t\tif (isSCMActionButton(element)) {\n\t\t\treturn ActionButtonRenderer.DEFAULT_HEIGHT + 10;\n\t\t} else {\n\t\t\treturn 22;\n\t\t}\n\t}\n\n\tgetTemplateId(element: any): string {\n\t\tif (isSCMRepository(element)) {\n\t\t\treturn RepositoryRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMActionButton(element)) {\n\t\t\treturn ActionButtonRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMHistoryItemGroupTreeElement(element)) {\n\t\t\treturn HistoryItemGroupRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMHistoryItemTreeElement(element)) {\n\t\t\treturn HistoryItemRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMHistoryItemChangeTreeElement(element)) {\n\t\t\treturn HistoryItemChangeRenderer.TEMPLATE_ID;\n\t\t} else {\n\t\t\tthrow new Error('Invalid tree element');\n\t\t}\n\t}\n}\n\ninterface HistoryItemGroupTemplate {\n\treadonly label: IconLabel;\n\treadonly count: CountBadge;\n\treadonly disposables: IDisposable;\n}\n\nclass HistoryItemGroupRenderer implements ITreeRenderer<SCMHistoryItemGroupTreeElement, void, HistoryItemGroupTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'history-item-group';\n\tget templateId(): string { return HistoryItemGroupRenderer.TEMPLATE_ID; }\n\n\trenderTemplate(container: HTMLElement) {\n\t\t// hack\n\t\t(container.parentElement!.parentElement!.querySelector('.monaco-tl-twistie')! as HTMLElement).classList.add('force-twistie');\n\n\t\tconst element = append(container, $('.history-item-group'));\n\t\tconst label = new IconLabel(element, { supportIcons: true });\n\t\tconst countContainer = append(element, $('.count'));\n\t\tconst count = new CountBadge(countContainer, {}, defaultCountBadgeStyles);\n\n\t\treturn { label, count, disposables: new DisposableStore() };\n\t}\n\n\trenderElement(node: ITreeNode<SCMHistoryItemGroupTreeElement>, index: number, templateData: HistoryItemGroupTemplate, height: number | undefined): void {\n\t\tconst historyItemGroup = node.element;\n\t\ttemplateData.label.setLabel(historyItemGroup.label, historyItemGroup.description);\n\t\ttemplateData.count.setCount(historyItemGroup.count ?? 0);\n\t}\n\n\tdisposeTemplate(templateData: HistoryItemGroupTemplate): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\ninterface HistoryItemTemplate {\n\treadonly iconContainer: HTMLElement;\n\t// readonly avatarImg: HTMLImageElement;\n\treadonly iconLabel: IconLabel;\n\treadonly timestampContainer: HTMLElement;\n\treadonly timestamp: HTMLSpanElement;\n\treadonly disposables: IDisposable;\n}\n\nclass HistoryItemRenderer implements ITreeRenderer<SCMHistoryItemTreeElement, void, HistoryItemTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'history-item';\n\tget templateId(): string { return HistoryItemRenderer.TEMPLATE_ID; }\n\n\trenderTemplate(container: HTMLElement): HistoryItemTemplate {\n\t\t// hack\n\t\t(container.parentElement!.parentElement!.querySelector('.monaco-tl-twistie')! as HTMLElement).classList.add('force-twistie');\n\n\t\tconst element = append(container, $('.history-item'));\n\t\tconst iconLabel = new IconLabel(element, { supportIcons: true });\n\n\t\tconst iconContainer = prepend(iconLabel.element, $('.icon-container'));\n\t\t// const avatarImg = append(iconContainer, $('img.avatar')) as HTMLImageElement;\n\n\t\tconst timestampContainer = append(iconLabel.element, $('.timestamp-container'));\n\t\tconst timestamp = append(timestampContainer, $('span.timestamp'));\n\n\t\treturn { iconContainer, iconLabel, timestampContainer, timestamp, disposables: new DisposableStore() };\n\t}\n\n\trenderElement(node: ITreeNode<SCMHistoryItemTreeElement, void>, index: number, templateData: HistoryItemTemplate, height: number | undefined): void {\n\t\tconst historyItem = node.element;\n\n\t\ttemplateData.iconContainer.className = 'icon-container';\n\t\tif (historyItem.icon && ThemeIcon.isThemeIcon(historyItem.icon)) {\n\t\t\ttemplateData.iconContainer.classList.add(...ThemeIcon.asClassNameArray(historyItem.icon));\n\t\t}\n\n\t\t// if (commit.authorAvatar) {\n\t\t// \ttemplateData.avatarImg.src = commit.authorAvatar;\n\t\t// \ttemplateData.avatarImg.style.display = 'block';\n\t\t// \ttemplateData.iconContainer.classList.remove(...ThemeIcon.asClassNameArray(Codicon.account));\n\t\t// } else {\n\t\t// \ttemplateData.avatarImg.style.display = 'none';\n\t\t// \ttemplateData.iconContainer.classList.add(...ThemeIcon.asClassNameArray(Codicon.account));\n\t\t// }\n\n\t\ttemplateData.iconLabel.setLabel(historyItem.label, historyItem.description);\n\n\t\t// templateData.timestampContainer.classList.toggle('timestamp-duplicate', commit.hideTimestamp === true);\n\t\t// templateData.timestamp.textContent = fromNow(commit.timestamp);\n\t}\n\n\tdisposeTemplate(templateData: HistoryItemTemplate): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\ninterface HistoryItemChangeTemplate {\n\treadonly element: HTMLElement;\n\treadonly name: HTMLElement;\n\treadonly fileLabel: IResourceLabel;\n\treadonly decorationIcon: HTMLElement;\n\treadonly disposables: IDisposable;\n}\n\nclass HistoryItemChangeRenderer implements ITreeRenderer<SCMHistoryItemChangeTreeElement, void, HistoryItemChangeTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'historyItemChange';\n\tget templateId(): string { return HistoryItemChangeRenderer.TEMPLATE_ID; }\n\n\tconstructor(private labels: ResourceLabels) { }\n\n\trenderTemplate(container: HTMLElement): HistoryItemChangeTemplate {\n\t\tconst element = append(container, $('.change'));\n\t\tconst name = append(element, $('.name'));\n\t\tconst fileLabel = this.labels.create(name, { supportDescriptionHighlights: true, supportHighlights: true });\n\t\tconst decorationIcon = append(element, $('.decoration-icon'));\n\n\t\treturn { element, name, fileLabel, decorationIcon, disposables: new DisposableStore() };\n\t}\n\n\trenderElement(node: ITreeNode<SCMHistoryItemChangeTreeElement, void>, index: number, templateData: HistoryItemChangeTemplate, height: number | undefined): void {\n\t\ttemplateData.fileLabel.setFile(node.element.uri, {\n\t\t\tfileDecorations: { colors: false, badges: true },\n\t\t\thidePath: false,\n\t\t});\n\t}\n\n\tdisposeTemplate(templateData: HistoryItemChangeTemplate): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\nclass SCMSyncViewPaneAccessibilityProvider implements IListAccessibilityProvider<TreeElement> {\n\n\tgetAriaLabel(element: TreeElement): string {\n\t\t// TODO - add aria labels\n\t\treturn '';\n\t}\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('scmSync', 'Source Control Sync');\n\t}\n\n}\n\nclass SCMSyncViewPaneTreeIdentityProvider implements IIdentityProvider<TreeElement> {\n\n\tgetId(element: TreeElement): string {\n\t\treturn getSCMResourceId(element);\n\t}\n\n}\n\nclass SCMSyncViewPaneTreeSorter implements ITreeSorter<TreeElement> {\n\n\tcompare(element: TreeElement, otherElement: TreeElement): number {\n\t\t// Repository\n\t\tif (isSCMRepository(element)) {\n\t\t\tif (!isSCMRepository(otherElement)) {\n\t\t\t\tthrow new Error('Invalid comparison');\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Action button\n\t\tif (isSCMActionButton(element)) {\n\t\t\treturn -1;\n\t\t} else if (isSCMActionButton(otherElement)) {\n\t\t\treturn 1;\n\t\t}\n\n\t\t// History item group\n\t\tif (isSCMHistoryItemGroupTreeElement(element)) {\n\t\t\tif (!isSCMHistoryItemGroupTreeElement(otherElement)) {\n\t\t\t\tthrow new Error('Invalid comparison');\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t// History item\n\t\tif (isSCMHistoryItemTreeElement(element)) {\n\t\t\tif (!isSCMHistoryItemTreeElement(otherElement)) {\n\t\t\t\tthrow new Error('Invalid comparison');\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t// History item change\n\t\tconst elementPath = (element as SCMHistoryItemChangeTreeElement).uri.fsPath;\n\t\tconst otherElementPath = (otherElement as SCMHistoryItemChangeTreeElement).uri.fsPath;\n\n\t\treturn comparePaths(elementPath, otherElementPath);\n\t}\n}\n\nexport class SCMSyncViewPane extends ViewPane {\n\n\tprivate listLabels!: ResourceLabels;\n\tprivate _tree!: WorkbenchAsyncDataTree<TreeElement, TreeElement>;\n\n\tprivate _viewModel!: SCMSyncPaneViewModel;\n\tget viewModel(): SCMSyncPaneViewModel { return this._viewModel; }\n\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@ICommandService private commandService: ICommandService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tconst treeContainer = append(container, $('.scm-view.scm-sync-view.file-icon-themable-tree'));\n\n\t\tthis.listLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n\t\tthis._register(this.listLabels);\n\n\t\tthis._tree = this.instantiationService.createInstance(\n\t\t\tWorkbenchAsyncDataTree,\n\t\t\t'SCM Sync View',\n\t\t\ttreeContainer,\n\t\t\tnew ListDelegate(),\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(RepositoryRenderer, getActionViewItemProvider(this.instantiationService)),\n\t\t\t\tthis.instantiationService.createInstance(ActionButtonRenderer),\n\t\t\t\tthis.instantiationService.createInstance(HistoryItemGroupRenderer),\n\t\t\t\tthis.instantiationService.createInstance(HistoryItemRenderer),\n\t\t\t\tthis.instantiationService.createInstance(HistoryItemChangeRenderer, this.listLabels),\n\t\t\t],\n\t\t\tthis.instantiationService.createInstance(SCMSyncDataSource),\n\t\t\t{\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\taccessibilityProvider: new SCMSyncViewPaneAccessibilityProvider(),\n\t\t\t\tidentityProvider: new SCMSyncViewPaneTreeIdentityProvider(),\n\t\t\t\tsorter: new SCMSyncViewPaneTreeSorter(),\n\t\t\t}) as WorkbenchAsyncDataTree<TreeElement, TreeElement>;\n\n\t\tthis._register(this._tree);\n\t\tthis._register(this._tree.onDidOpen(this.onDidOpen, this));\n\n\t\tthis._viewModel = this.instantiationService.createInstance(SCMSyncPaneViewModel, this._tree);\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis._tree.layout(height, width);\n\t}\n\n\tprivate async onDidOpen(e: IOpenEvent<TreeElement | undefined>): Promise<void> {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t} else if (isSCMHistoryItemChangeTreeElement(e.element)) {\n\t\t\tif (e.element.originalUri && e.element.modifiedUri) {\n\t\t\t\tawait this.commandService.executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, ...toDiffEditorArguments(e.element.uri, e.element.originalUri, e.element.modifiedUri));\n\t\t\t}\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tthis.disposables.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nclass SCMSyncPaneViewModel {\n\n\tprivate repositories = new Map<ISCMRepository, IDisposable>();\n\tprivate historyProviders = new Map<ISCMRepository, IDisposable>();\n\n\tprivate alwaysShowRepositories = false;\n\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(\n\t\tprivate readonly tree: WorkbenchAsyncDataTree<TreeElement, TreeElement>,\n\t\t@ISCMViewService scmViewService: ISCMViewService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\n\t) {\n\t\tconfigurationService.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this.disposables);\n\t\tthis.onDidChangeConfiguration();\n\n\t\tscmViewService.onDidChangeVisibleRepositories(this._onDidChangeVisibleRepositories, this, this.disposables);\n\t\tthis._onDidChangeVisibleRepositories({ added: scmViewService.visibleRepositories, removed: [] });\n\t}\n\n\tprivate onDidChangeConfiguration(e?: IConfigurationChangeEvent): void {\n\t\tif (!e || e.affectsConfiguration('scm.alwaysShowRepositories')) {\n\t\t\tthis.alwaysShowRepositories = this.configurationService.getValue<boolean>('scm.alwaysShowRepositories');\n\t\t\tthis.refresh();\n\t\t}\n\t}\n\n\tprivate _onDidChangeVisibleRepositories({ added, removed }: ISCMViewVisibleRepositoryChangeEvent): void {\n\t\tfor (const repository of added) {\n\t\t\tconst repositoryDisposable = repository.provider.onDidChangeHistoryProvider(() => this._onDidChangeHistoryProvider(repository));\n\t\t\tthis._onDidChangeHistoryProvider(repository);\n\n\t\t\tthis.repositories.set(repository, { dispose() { repositoryDisposable.dispose(); } });\n\t\t}\n\n\t\tfor (const repository of removed) {\n\t\t\tthis.repositories.get(repository)?.dispose();\n\t\t\tthis.repositories.delete(repository);\n\t\t}\n\n\t\tthis.refresh();\n\t}\n\n\tprivate _onDidChangeHistoryProvider(repository: ISCMRepository): void {\n\t\tif (repository.provider.historyProvider) {\n\t\t\tconst historyProviderDisposable = combinedDisposable(\n\t\t\t\trepository.provider.historyProvider.onDidChangeActionButton(() => this.refresh(repository)),\n\t\t\t\trepository.provider.historyProvider.onDidChangeCurrentHistoryItemGroup(() => this.refresh(repository)));\n\n\t\t\tthis.historyProviders.set(repository, historyProviderDisposable);\n\t\t} else {\n\t\t\tthis.historyProviders.get(repository)?.dispose();\n\t\t\tthis.historyProviders.delete(repository);\n\t\t}\n\t}\n\n\tprivate async refresh(repository?: ISCMRepository): Promise<void> {\n\t\tif (this.repositories.size === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (repository) {\n\t\t\t// Particular repository\n\t\t\tawait this.tree.updateChildren(repository);\n\t\t} else if (this.repositories.size === 1 && !this.alwaysShowRepositories) {\n\t\t\t// Single repository and not always show repositories\n\t\t\tawait this.tree.setInput(Iterable.first(this.repositories.keys())!);\n\t\t} else {\n\t\t\t// Expand repository nodes\n\t\t\tconst expanded = Array.from(this.repositories.keys())\n\t\t\t\t.map(repository => `repo:${repository.provider.id}`);\n\n\t\t\t// Multiple repositories or always show repositories\n\t\t\tawait this.tree.setInput([...this.repositories.keys()], { expanded });\n\t\t}\n\t}\n}\n\nclass SCMSyncDataSource implements IAsyncDataSource<TreeElement, TreeElement> {\n\n\thasChildren(element: TreeElement): boolean {\n\t\tif (isSCMRepositoryArray(element)) {\n\t\t\treturn true;\n\t\t} else if (isSCMRepository(element)) {\n\t\t\treturn true;\n\t\t} else if (isSCMActionButton(element)) {\n\t\t\treturn false;\n\t\t} else if (isSCMHistoryItemGroupTreeElement(element)) {\n\t\t\treturn true;\n\t\t} else if (isSCMHistoryItemTreeElement(element)) {\n\t\t\treturn true;\n\t\t} else if (isSCMHistoryItemChangeTreeElement(element)) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthrow new Error('hasChildren not implemented.');\n\t\t}\n\t}\n\n\tasync getChildren(element: TreeElement): Promise<TreeElement[]> {\n\t\tconst children: TreeElement[] = [];\n\n\t\tif (isSCMRepositoryArray(element)) {\n\t\t\tchildren.push(...element);\n\t\t} else if (isSCMRepository(element)) {\n\t\t\tconst scmProvider = element.provider;\n\t\t\tconst historyProvider = scmProvider.historyProvider;\n\t\t\tconst historyItemGroup = historyProvider?.currentHistoryItemGroup;\n\n\t\t\tif (!historyProvider || !historyItemGroup) {\n\t\t\t\treturn children;\n\t\t\t}\n\n\t\t\t// Action Button\n\t\t\tconst actionButton = historyProvider.actionButton;\n\t\t\tif (actionButton) {\n\t\t\t\tchildren.push({\n\t\t\t\t\ttype: 'actionButton',\n\t\t\t\t\trepository: element,\n\t\t\t\t\tbutton: actionButton\n\t\t\t\t} as ISCMActionButton);\n\t\t\t}\n\n\t\t\t// History item group base\n\t\t\tconst historyItemGroupBase = await historyProvider.resolveHistoryItemGroupBase(historyItemGroup.id);\n\t\t\tif (!historyItemGroupBase) {\n\t\t\t\treturn children;\n\t\t\t}\n\n\t\t\t// Common ancestor, ahead, behind\n\t\t\tconst ancestor = await historyProvider.resolveHistoryItemGroupCommonAncestor(historyItemGroup.id, historyItemGroupBase.id);\n\n\t\t\t// Incoming\n\t\t\tif (historyItemGroupBase) {\n\t\t\t\tchildren.push({\n\t\t\t\t\tid: historyItemGroupBase.id,\n\t\t\t\t\tlabel: localize('incoming', \"$(cloud-download) Incoming Changes\"),\n\t\t\t\t\tdescription: historyItemGroupBase.label,\n\t\t\t\t\tancestor: ancestor?.id,\n\t\t\t\t\tcount: ancestor?.behind ?? 0,\n\t\t\t\t\trepository: element,\n\t\t\t\t\ttype: 'historyItemGroup'\n\t\t\t\t} as SCMHistoryItemGroupTreeElement);\n\t\t\t}\n\n\t\t\t// Outgoing\n\t\t\tif (historyItemGroup) {\n\t\t\t\tchildren.push({\n\t\t\t\t\tid: historyItemGroup.id,\n\t\t\t\t\tlabel: localize('outgoing', \"$(cloud-upload) Outgoing Changes\"),\n\t\t\t\t\tdescription: historyItemGroup.label,\n\t\t\t\t\tancestor: ancestor?.id,\n\t\t\t\t\tcount: ancestor?.ahead ?? 0,\n\t\t\t\t\trepository: element,\n\t\t\t\t\ttype: 'historyItemGroup'\n\t\t\t\t} as SCMHistoryItemGroupTreeElement);\n\t\t\t}\n\t\t} else if (isSCMHistoryItemGroupTreeElement(element)) {\n\t\t\tconst scmProvider = element.repository.provider;\n\t\t\tconst historyProvider = scmProvider.historyProvider;\n\n\t\t\tif (!historyProvider) {\n\t\t\t\treturn children;\n\t\t\t}\n\n\t\t\tconst historyItems = await historyProvider.provideHistoryItems(element.id, { limit: { id: element.ancestor } }) ?? [];\n\t\t\tchildren.push(...historyItems.map(historyItem => ({\n\t\t\t\tid: historyItem.id,\n\t\t\t\tlabel: historyItem.label,\n\t\t\t\tdescription: historyItem.description,\n\t\t\t\ticon: historyItem.icon,\n\t\t\t\thistoryItemGroup: element,\n\t\t\t\ttype: 'historyItem'\n\t\t\t} as SCMHistoryItemTreeElement)));\n\t\t} else if (isSCMHistoryItemTreeElement(element)) {\n\t\t\tconst repository = element.historyItemGroup.repository;\n\t\t\tconst historyProvider = repository.provider.historyProvider;\n\n\t\t\tif (!historyProvider) {\n\t\t\t\treturn children;\n\t\t\t}\n\n\t\t\t// History Item Changes\n\t\t\tconst changes = await historyProvider.provideHistoryItemChanges(element.id) ?? [];\n\t\t\tchildren.push(...changes.map(change => ({\n\t\t\t\turi: change.uri,\n\t\t\t\toriginalUri: change.originalUri,\n\t\t\t\tmodifiedUri: change.modifiedUri,\n\t\t\t\trenameUri: change.renameUri,\n\t\t\t\thistoryItem: element,\n\t\t\t\ttype: 'historyItemChange'\n\t\t\t} as SCMHistoryItemChangeTreeElement)));\n\t\t} else {\n\t\t\tthrow new Error('getChildren Method not implemented.');\n\t\t}\n\n\t\treturn children;\n\t}\n}\n"]}
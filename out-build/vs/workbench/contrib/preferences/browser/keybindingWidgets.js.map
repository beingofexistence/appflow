{"version":3,"sources":["vs/workbench/contrib/preferences/browser/keybindingWidgets.ts"],"names":[],"mappings":"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","file":"keybindingWidgets.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/keybindings';\nimport * as nls from 'vs/nls';\nimport { OS } from 'vs/base/common/platform';\nimport { Disposable, toDisposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { KeybindingLabel } from 'vs/base/browser/ui/keybindingLabel/keybindingLabel';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { ResolvedKeybinding } from 'vs/base/common/keybindings';\nimport * as dom from 'vs/base/browser/dom';\nimport * as aria from 'vs/base/browser/ui/aria/aria';\nimport { IKeyboardEvent, StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { FastDomNode, createFastDomNode } from 'vs/base/browser/fastDomNode';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ICodeEditor, IOverlayWidget, IOverlayWidgetPosition } from 'vs/editor/browser/editorBrowser';\nimport { asCssVariable, editorWidgetBackground, editorWidgetForeground, widgetShadow } from 'vs/platform/theme/common/colorRegistry';\nimport { ScrollType } from 'vs/editor/common/editorCommon';\nimport { SearchWidget, SearchOptions } from 'vs/workbench/contrib/preferences/browser/preferencesWidgets';\nimport { Promises, timeout } from 'vs/base/common/async';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { defaultInputBoxStyles, defaultKeybindingLabelStyles } from 'vs/platform/theme/browser/defaultStyles';\n\nexport interface KeybindingsSearchOptions extends SearchOptions {\n\trecordEnter?: boolean;\n\tquoteRecordedKeys?: boolean;\n}\n\nexport class KeybindingsSearchWidget extends SearchWidget {\n\n\tprivate _chords: ResolvedKeybinding[] | null;\n\tprivate _inputValue: string;\n\n\tprivate readonly recordDisposables = this._register(new DisposableStore());\n\n\tprivate _onKeybinding = this._register(new Emitter<ResolvedKeybinding[] | null>());\n\treadonly onKeybinding: Event<ResolvedKeybinding[] | null> = this._onKeybinding.event;\n\n\tprivate _onEnter = this._register(new Emitter<void>());\n\treadonly onEnter: Event<void> = this._onEnter.event;\n\n\tprivate _onEscape = this._register(new Emitter<void>());\n\treadonly onEscape: Event<void> = this._onEscape.event;\n\n\tprivate _onBlur = this._register(new Emitter<void>());\n\treadonly onBlur: Event<void> = this._onBlur.event;\n\n\tconstructor(parent: HTMLElement, options: KeybindingsSearchOptions,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t) {\n\t\tsuper(parent, options, contextViewService, instantiationService, contextKeyService, keybindingService);\n\n\t\tthis._register(toDisposable(() => this.stopRecordingKeys()));\n\n\t\tthis._chords = null;\n\t\tthis._inputValue = '';\n\t}\n\n\toverride clear(): void {\n\t\tthis._chords = null;\n\t\tsuper.clear();\n\t}\n\n\tstartRecordingKeys(): void {\n\t\tthis.recordDisposables.add(dom.addDisposableListener(this.inputBox.inputElement, dom.EventType.KEY_DOWN, (e: KeyboardEvent) => this._onKeyDown(new StandardKeyboardEvent(e))));\n\t\tthis.recordDisposables.add(dom.addDisposableListener(this.inputBox.inputElement, dom.EventType.BLUR, () => this._onBlur.fire()));\n\t\tthis.recordDisposables.add(dom.addDisposableListener(this.inputBox.inputElement, dom.EventType.INPUT, () => {\n\t\t\t// Prevent other characters from showing up\n\t\t\tthis.setInputValue(this._inputValue);\n\t\t}));\n\t}\n\n\tstopRecordingKeys(): void {\n\t\tthis._chords = null;\n\t\tthis.recordDisposables.clear();\n\t}\n\n\tsetInputValue(value: string): void {\n\t\tthis._inputValue = value;\n\t\tthis.inputBox.value = this._inputValue;\n\t}\n\n\tprivate _onKeyDown(keyboardEvent: IKeyboardEvent): void {\n\t\tkeyboardEvent.preventDefault();\n\t\tkeyboardEvent.stopPropagation();\n\t\tconst options = this.options as KeybindingsSearchOptions;\n\t\tif (!options.recordEnter && keyboardEvent.equals(KeyCode.Enter)) {\n\t\t\tthis._onEnter.fire();\n\t\t\treturn;\n\t\t}\n\t\tif (keyboardEvent.equals(KeyCode.Escape)) {\n\t\t\tthis._onEscape.fire();\n\t\t\treturn;\n\t\t}\n\t\tthis.printKeybinding(keyboardEvent);\n\t}\n\n\tprivate printKeybinding(keyboardEvent: IKeyboardEvent): void {\n\t\tconst keybinding = this.keybindingService.resolveKeyboardEvent(keyboardEvent);\n\t\tconst info = `code: ${keyboardEvent.browserEvent.code}, keyCode: ${keyboardEvent.browserEvent.keyCode}, key: ${keyboardEvent.browserEvent.key} => UI: ${keybinding.getAriaLabel()}, user settings: ${keybinding.getUserSettingsLabel()}, dispatch: ${keybinding.getDispatchChords()[0]}`;\n\t\tconst options = this.options as KeybindingsSearchOptions;\n\n\t\tif (!this._chords) {\n\t\t\tthis._chords = [];\n\t\t}\n\n\t\t// TODO: note that we allow a keybinding \"shift shift\", but this widget doesn't allow input \"shift shift\" because the first \"shift\" will be incomplete - this is _not_ a regression\n\t\tconst hasIncompleteChord = this._chords.length > 0 && this._chords[this._chords.length - 1].getDispatchChords()[0] === null;\n\t\tif (hasIncompleteChord) {\n\t\t\tthis._chords[this._chords.length - 1] = keybinding;\n\t\t} else {\n\t\t\tif (this._chords.length === 2) { // TODO: limit chords # to 2 for now\n\t\t\t\tthis._chords = [];\n\t\t\t}\n\t\t\tthis._chords.push(keybinding);\n\t\t}\n\n\t\tconst value = this._chords.map((keybinding) => keybinding.getUserSettingsLabel() || '').join(' ');\n\t\tthis.setInputValue(options.quoteRecordedKeys ? `\"${value}\"` : value);\n\n\t\tthis.inputBox.inputElement.title = info;\n\t\tthis._onKeybinding.fire(this._chords);\n\t}\n}\n\nexport class DefineKeybindingWidget extends Widget {\n\n\tprivate static readonly WIDTH = 400;\n\tprivate static readonly HEIGHT = 110;\n\n\tprivate _domNode: FastDomNode<HTMLElement>;\n\tprivate _keybindingInputWidget: KeybindingsSearchWidget;\n\tprivate _outputNode: HTMLElement;\n\tprivate _showExistingKeybindingsNode: HTMLElement;\n\n\tprivate _chords: ResolvedKeybinding[] | null = null;\n\tprivate _isVisible: boolean = false;\n\n\tprivate _onHide = this._register(new Emitter<void>());\n\n\tprivate _onDidChange = this._register(new Emitter<string>());\n\tonDidChange: Event<string> = this._onDidChange.event;\n\n\tprivate _onShowExistingKeybindings = this._register(new Emitter<string | null>());\n\treadonly onShowExistingKeybidings: Event<string | null> = this._onShowExistingKeybindings.event;\n\n\tconstructor(\n\t\tparent: HTMLElement | null,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tthis._domNode = createFastDomNode(document.createElement('div'));\n\t\tthis._domNode.setDisplay('none');\n\t\tthis._domNode.setClassName('defineKeybindingWidget');\n\t\tthis._domNode.setWidth(DefineKeybindingWidget.WIDTH);\n\t\tthis._domNode.setHeight(DefineKeybindingWidget.HEIGHT);\n\n\t\tconst message = nls.localize('defineKeybinding.initial', \"Press desired key combination and then press ENTER.\");\n\t\tdom.append(this._domNode.domNode, dom.$('.message', undefined, message));\n\n\t\tthis._domNode.domNode.style.backgroundColor = asCssVariable(editorWidgetBackground);\n\t\tthis._domNode.domNode.style.color = asCssVariable(editorWidgetForeground);\n\t\tthis._domNode.domNode.style.boxShadow = `0 2px 8px ${asCssVariable(widgetShadow)}`;\n\n\t\tthis._keybindingInputWidget = this._register(this.instantiationService.createInstance(KeybindingsSearchWidget, this._domNode.domNode, { ariaLabel: message, history: [], inputBoxStyles: defaultInputBoxStyles }));\n\t\tthis._keybindingInputWidget.startRecordingKeys();\n\t\tthis._register(this._keybindingInputWidget.onKeybinding(keybinding => this.onKeybinding(keybinding)));\n\t\tthis._register(this._keybindingInputWidget.onEnter(() => this.hide()));\n\t\tthis._register(this._keybindingInputWidget.onEscape(() => this.clearOrHide()));\n\t\tthis._register(this._keybindingInputWidget.onBlur(() => this.onCancel()));\n\n\t\tthis._outputNode = dom.append(this._domNode.domNode, dom.$('.output'));\n\t\tthis._showExistingKeybindingsNode = dom.append(this._domNode.domNode, dom.$('.existing'));\n\n\t\tif (parent) {\n\t\t\tdom.append(parent, this._domNode.domNode);\n\t\t}\n\t}\n\n\tget domNode(): HTMLElement {\n\t\treturn this._domNode.domNode;\n\t}\n\n\tdefine(): Promise<string | null> {\n\t\tthis._keybindingInputWidget.clear();\n\t\treturn Promises.withAsyncBody<string | null>(async (c) => {\n\t\t\tif (!this._isVisible) {\n\t\t\t\tthis._isVisible = true;\n\t\t\t\tthis._domNode.setDisplay('block');\n\n\t\t\t\tthis._chords = null;\n\t\t\t\tthis._keybindingInputWidget.setInputValue('');\n\t\t\t\tdom.clearNode(this._outputNode);\n\t\t\t\tdom.clearNode(this._showExistingKeybindingsNode);\n\n\t\t\t\t// Input is not getting focus without timeout in safari\n\t\t\t\t// https://github.com/microsoft/vscode/issues/108817\n\t\t\t\tawait timeout(0);\n\n\t\t\t\tthis._keybindingInputWidget.focus();\n\t\t\t}\n\t\t\tconst disposable = this._onHide.event(() => {\n\t\t\t\tc(this.getUserSettingsLabel());\n\t\t\t\tdisposable.dispose();\n\t\t\t});\n\t\t});\n\t}\n\n\tlayout(layout: dom.Dimension): void {\n\t\tconst top = Math.round((layout.height - DefineKeybindingWidget.HEIGHT) / 2);\n\t\tthis._domNode.setTop(top);\n\n\t\tconst left = Math.round((layout.width - DefineKeybindingWidget.WIDTH) / 2);\n\t\tthis._domNode.setLeft(left);\n\t}\n\n\tprintExisting(numberOfExisting: number): void {\n\t\tif (numberOfExisting > 0) {\n\t\t\tconst existingElement = dom.$('span.existingText');\n\t\t\tconst text = numberOfExisting === 1 ? nls.localize('defineKeybinding.oneExists', \"1 existing command has this keybinding\", numberOfExisting) : nls.localize('defineKeybinding.existing', \"{0} existing commands have this keybinding\", numberOfExisting);\n\t\t\tdom.append(existingElement, document.createTextNode(text));\n\t\t\taria.alert(text);\n\t\t\tthis._showExistingKeybindingsNode.appendChild(existingElement);\n\t\t\texistingElement.onmousedown = (e) => { e.preventDefault(); };\n\t\t\texistingElement.onmouseup = (e) => { e.preventDefault(); };\n\t\t\texistingElement.onclick = () => { this._onShowExistingKeybindings.fire(this.getUserSettingsLabel()); };\n\t\t}\n\t}\n\n\tprivate onKeybinding(keybinding: ResolvedKeybinding[] | null): void {\n\t\tthis._chords = keybinding;\n\t\tdom.clearNode(this._outputNode);\n\t\tdom.clearNode(this._showExistingKeybindingsNode);\n\n\t\tconst firstLabel = new KeybindingLabel(this._outputNode, OS, defaultKeybindingLabelStyles);\n\t\tfirstLabel.set(this._chords?.[0] ?? undefined);\n\n\t\tif (this._chords) {\n\t\t\tfor (let i = 1; i < this._chords.length; i++) {\n\t\t\t\tthis._outputNode.appendChild(document.createTextNode(nls.localize('defineKeybinding.chordsTo', \"chord to\")));\n\t\t\t\tconst chordLabel = new KeybindingLabel(this._outputNode, OS, defaultKeybindingLabelStyles);\n\t\t\t\tchordLabel.set(this._chords[i]);\n\t\t\t}\n\t\t}\n\n\t\tconst label = this.getUserSettingsLabel();\n\t\tif (label) {\n\t\t\tthis._onDidChange.fire(label);\n\t\t}\n\t}\n\n\tprivate getUserSettingsLabel(): string | null {\n\t\tlet label: string | null = null;\n\t\tif (this._chords) {\n\t\t\tlabel = this._chords.map(keybinding => keybinding.getUserSettingsLabel()).join(' ');\n\t\t}\n\t\treturn label;\n\t}\n\n\tprivate onCancel(): void {\n\t\tthis._chords = null;\n\t\tthis.hide();\n\t}\n\n\tprivate clearOrHide(): void {\n\t\tif (this._chords === null) {\n\t\t\tthis.hide();\n\t\t} else {\n\t\t\tthis._chords = null;\n\t\t\tthis._keybindingInputWidget.clear();\n\t\t\tdom.clearNode(this._outputNode);\n\t\t\tdom.clearNode(this._showExistingKeybindingsNode);\n\t\t}\n\t}\n\n\tprivate hide(): void {\n\t\tthis._domNode.setDisplay('none');\n\t\tthis._isVisible = false;\n\t\tthis._onHide.fire();\n\t}\n}\n\nexport class DefineKeybindingOverlayWidget extends Disposable implements IOverlayWidget {\n\n\tprivate static readonly ID = 'editor.contrib.defineKeybindingWidget';\n\n\tprivate readonly _widget: DefineKeybindingWidget;\n\n\tconstructor(private _editor: ICodeEditor,\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\n\t\tthis._widget = this._register(instantiationService.createInstance(DefineKeybindingWidget, null));\n\t\tthis._editor.addOverlayWidget(this);\n\t}\n\n\tgetId(): string {\n\t\treturn DefineKeybindingOverlayWidget.ID;\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this._widget.domNode;\n\t}\n\n\tgetPosition(): IOverlayWidgetPosition {\n\t\treturn {\n\t\t\tpreference: null\n\t\t};\n\t}\n\n\toverride dispose(): void {\n\t\tthis._editor.removeOverlayWidget(this);\n\t\tsuper.dispose();\n\t}\n\n\tstart(): Promise<string | null> {\n\t\tif (this._editor.hasModel()) {\n\t\t\tthis._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition(), ScrollType.Smooth);\n\t\t}\n\t\tconst layoutInfo = this._editor.getLayoutInfo();\n\t\tthis._widget.layout(new dom.Dimension(layoutInfo.width, layoutInfo.height));\n\t\treturn this._widget.define();\n\t}\n}\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/platform/configuration/common/configurationModels.ts"],"names":[],"mappings":"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","file":"configurationModels.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from 'vs/base/common/arrays';\nimport { IStringDictionary } from 'vs/base/common/collections';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport * as json from 'vs/base/common/json';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport { getOrSet, ResourceMap } from 'vs/base/common/map';\nimport * as objects from 'vs/base/common/objects';\nimport { IExtUri } from 'vs/base/common/resources';\nimport * as types from 'vs/base/common/types';\nimport { URI, UriComponents } from 'vs/base/common/uri';\nimport { addToValueTree, ConfigurationTarget, getConfigurationValue, IConfigurationChange, IConfigurationChangeEvent, IConfigurationCompareResult, IConfigurationData, IConfigurationModel, IConfigurationOverrides, IConfigurationUpdateOverrides, IConfigurationValue, IOverrides, removeFromValueTree, toValuesTree } from 'vs/platform/configuration/common/configuration';\nimport { ConfigurationScope, Extensions, IConfigurationPropertySchema, IConfigurationRegistry, overrideIdentifiersFromKey, OVERRIDE_PROPERTY_REGEX } from 'vs/platform/configuration/common/configurationRegistry';\nimport { FileOperation, IFileService } from 'vs/platform/files/common/files';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { Workspace } from 'vs/platform/workspace/common/workspace';\n\nfunction freeze<T>(data: T): T {\n\treturn Object.isFrozen(data) ? data : objects.deepFreeze(data);\n}\n\ninterface IInspectValue<V> {\n\tvalue?: V;\n\toverride?: V;\n\tmerged?: V;\n}\n\nexport class ConfigurationModel implements IConfigurationModel {\n\n\tprivate readonly overrideConfigurations = new Map<string, ConfigurationModel>();\n\n\tconstructor(\n\t\tprivate readonly _contents: any = {},\n\t\tprivate readonly _keys: string[] = [],\n\t\tprivate readonly _overrides: IOverrides[] = [],\n\t\treadonly raw?: ReadonlyArray<IStringDictionary<any> | ConfigurationModel>\n\t) {\n\t}\n\n\tprivate _rawConfiguration: ConfigurationModel | undefined;\n\tget rawConfiguration(): ConfigurationModel {\n\t\tif (!this._rawConfiguration) {\n\t\t\tif (this.raw?.length) {\n\t\t\t\tconst rawConfigurationModels = this.raw.map(raw => {\n\t\t\t\t\tif (raw instanceof ConfigurationModel) {\n\t\t\t\t\t\treturn raw;\n\t\t\t\t\t}\n\t\t\t\t\tconst parser = new ConfigurationModelParser('');\n\t\t\t\t\tparser.parseRaw(raw);\n\t\t\t\t\treturn parser.configurationModel;\n\t\t\t\t});\n\t\t\t\tthis._rawConfiguration = rawConfigurationModels.reduce((previous, current) => current === previous ? current : previous.merge(current), rawConfigurationModels[0]);\n\t\t\t} else {\n\t\t\t\t// raw is same as current\n\t\t\t\tthis._rawConfiguration = this;\n\t\t\t}\n\t\t}\n\t\treturn this._rawConfiguration;\n\t}\n\n\tget contents(): any {\n\t\treturn this._contents;\n\t}\n\n\tget overrides(): IOverrides[] {\n\t\treturn this._overrides;\n\t}\n\n\tget keys(): string[] {\n\t\treturn this._keys;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this._keys.length === 0 && Object.keys(this._contents).length === 0 && this._overrides.length === 0;\n\t}\n\n\tgetValue<V>(section: string | undefined): V {\n\t\treturn section ? getConfigurationValue<any>(this.contents, section) : this.contents;\n\t}\n\n\tinspect<V>(section: string | undefined, overrideIdentifier?: string | null): IInspectValue<V> {\n\t\tconst value = this.rawConfiguration.getValue<V>(section);\n\t\tconst override = overrideIdentifier ? this.rawConfiguration.getOverrideValue<V>(section, overrideIdentifier) : undefined;\n\t\tconst merged = overrideIdentifier ? this.rawConfiguration.override(overrideIdentifier).getValue<V>(section) : value;\n\t\treturn { value, override, merged };\n\t}\n\n\tgetOverrideValue<V>(section: string | undefined, overrideIdentifier: string): V | undefined {\n\t\tconst overrideContents = this.getContentsForOverrideIdentifer(overrideIdentifier);\n\t\treturn overrideContents\n\t\t\t? section ? getConfigurationValue<any>(overrideContents, section) : overrideContents\n\t\t\t: undefined;\n\t}\n\n\tgetKeysForOverrideIdentifier(identifier: string): string[] {\n\t\tconst keys: string[] = [];\n\t\tfor (const override of this.overrides) {\n\t\t\tif (override.identifiers.includes(identifier)) {\n\t\t\t\tkeys.push(...override.keys);\n\t\t\t}\n\t\t}\n\t\treturn arrays.distinct(keys);\n\t}\n\n\tgetAllOverrideIdentifiers(): string[] {\n\t\tconst result: string[] = [];\n\t\tfor (const override of this.overrides) {\n\t\t\tresult.push(...override.identifiers);\n\t\t}\n\t\treturn arrays.distinct(result);\n\t}\n\n\toverride(identifier: string): ConfigurationModel {\n\t\tlet overrideConfigurationModel = this.overrideConfigurations.get(identifier);\n\t\tif (!overrideConfigurationModel) {\n\t\t\toverrideConfigurationModel = this.createOverrideConfigurationModel(identifier);\n\t\t\tthis.overrideConfigurations.set(identifier, overrideConfigurationModel);\n\t\t}\n\t\treturn overrideConfigurationModel;\n\t}\n\n\tmerge(...others: ConfigurationModel[]): ConfigurationModel {\n\t\tconst contents = objects.deepClone(this.contents);\n\t\tconst overrides = objects.deepClone(this.overrides);\n\t\tconst keys = [...this.keys];\n\t\tconst raws = this.raw?.length ? [...this.raw] : [this];\n\n\t\tfor (const other of others) {\n\t\t\traws.push(...(other.raw?.length ? other.raw : [other]));\n\t\t\tif (other.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.mergeContents(contents, other.contents);\n\n\t\t\tfor (const otherOverride of other.overrides) {\n\t\t\t\tconst [override] = overrides.filter(o => arrays.equals(o.identifiers, otherOverride.identifiers));\n\t\t\t\tif (override) {\n\t\t\t\t\tthis.mergeContents(override.contents, otherOverride.contents);\n\t\t\t\t\toverride.keys.push(...otherOverride.keys);\n\t\t\t\t\toverride.keys = arrays.distinct(override.keys);\n\t\t\t\t} else {\n\t\t\t\t\toverrides.push(objects.deepClone(otherOverride));\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const key of other.keys) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn new ConfigurationModel(contents, keys, overrides, raws.every(raw => raw instanceof ConfigurationModel) ? undefined : raws);\n\t}\n\n\tprivate createOverrideConfigurationModel(identifier: string): ConfigurationModel {\n\t\tconst overrideContents = this.getContentsForOverrideIdentifer(identifier);\n\n\t\tif (!overrideContents || typeof overrideContents !== 'object' || !Object.keys(overrideContents).length) {\n\t\t\t// If there are no valid overrides, return self\n\t\t\treturn this;\n\t\t}\n\n\t\tconst contents: any = {};\n\t\tfor (const key of arrays.distinct([...Object.keys(this.contents), ...Object.keys(overrideContents)])) {\n\n\t\t\tlet contentsForKey = this.contents[key];\n\t\t\tconst overrideContentsForKey = overrideContents[key];\n\n\t\t\t// If there are override contents for the key, clone and merge otherwise use base contents\n\t\t\tif (overrideContentsForKey) {\n\t\t\t\t// Clone and merge only if base contents and override contents are of type object otherwise just override\n\t\t\t\tif (typeof contentsForKey === 'object' && typeof overrideContentsForKey === 'object') {\n\t\t\t\t\tcontentsForKey = objects.deepClone(contentsForKey);\n\t\t\t\t\tthis.mergeContents(contentsForKey, overrideContentsForKey);\n\t\t\t\t} else {\n\t\t\t\t\tcontentsForKey = overrideContentsForKey;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontents[key] = contentsForKey;\n\t\t}\n\n\t\treturn new ConfigurationModel(contents, this.keys, this.overrides);\n\t}\n\n\tprivate mergeContents(source: any, target: any): void {\n\t\tfor (const key of Object.keys(target)) {\n\t\t\tif (key in source) {\n\t\t\t\tif (types.isObject(source[key]) && types.isObject(target[key])) {\n\t\t\t\t\tthis.mergeContents(source[key], target[key]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsource[key] = objects.deepClone(target[key]);\n\t\t}\n\t}\n\n\tprivate getContentsForOverrideIdentifer(identifier: string): any {\n\t\tlet contentsForIdentifierOnly: IStringDictionary<any> | null = null;\n\t\tlet contents: IStringDictionary<any> | null = null;\n\t\tconst mergeContents = (contentsToMerge: any) => {\n\t\t\tif (contentsToMerge) {\n\t\t\t\tif (contents) {\n\t\t\t\t\tthis.mergeContents(contents, contentsToMerge);\n\t\t\t\t} else {\n\t\t\t\t\tcontents = objects.deepClone(contentsToMerge);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tfor (const override of this.overrides) {\n\t\t\tif (override.identifiers.length === 1 && override.identifiers[0] === identifier) {\n\t\t\t\tcontentsForIdentifierOnly = override.contents;\n\t\t\t} else if (override.identifiers.includes(identifier)) {\n\t\t\t\tmergeContents(override.contents);\n\t\t\t}\n\t\t}\n\t\t// Merge contents of the identifier only at the end to take precedence.\n\t\tmergeContents(contentsForIdentifierOnly);\n\t\treturn contents;\n\t}\n\n\ttoJSON(): IConfigurationModel {\n\t\treturn {\n\t\t\tcontents: this.contents,\n\t\t\toverrides: this.overrides,\n\t\t\tkeys: this.keys\n\t\t};\n\t}\n\n\t// Update methods\n\n\tpublic addValue(key: string, value: any): void {\n\t\tthis.updateValue(key, value, true);\n\t}\n\n\tpublic setValue(key: string, value: any): void {\n\t\tthis.updateValue(key, value, false);\n\t}\n\n\tpublic removeValue(key: string): void {\n\t\tconst index = this.keys.indexOf(key);\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\t\tthis.keys.splice(index, 1);\n\t\tremoveFromValueTree(this.contents, key);\n\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\tthis.overrides.splice(this.overrides.findIndex(o => arrays.equals(o.identifiers, overrideIdentifiersFromKey(key))), 1);\n\t\t}\n\t}\n\n\tprivate updateValue(key: string, value: any, add: boolean): void {\n\t\taddToValueTree(this.contents, key, value, e => console.error(e));\n\t\tadd = add || this.keys.indexOf(key) === -1;\n\t\tif (add) {\n\t\t\tthis.keys.push(key);\n\t\t}\n\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\tthis.overrides.push({\n\t\t\t\tidentifiers: overrideIdentifiersFromKey(key),\n\t\t\t\tkeys: Object.keys(this.contents[key]),\n\t\t\t\tcontents: toValuesTree(this.contents[key], message => console.error(message)),\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport interface ConfigurationParseOptions {\n\tscopes?: ConfigurationScope[];\n\tskipRestricted?: boolean;\n\tinclude?: string[];\n\texclude?: string[];\n}\n\nexport class ConfigurationModelParser {\n\n\tprivate _raw: any = null;\n\tprivate _configurationModel: ConfigurationModel | null = null;\n\tprivate _restrictedConfigurations: string[] = [];\n\tprivate _parseErrors: any[] = [];\n\n\tconstructor(protected readonly _name: string) { }\n\n\tget configurationModel(): ConfigurationModel {\n\t\treturn this._configurationModel || new ConfigurationModel();\n\t}\n\n\tget restrictedConfigurations(): string[] {\n\t\treturn this._restrictedConfigurations;\n\t}\n\n\tget errors(): any[] {\n\t\treturn this._parseErrors;\n\t}\n\n\tpublic parse(content: string | null | undefined, options?: ConfigurationParseOptions): void {\n\t\tif (!types.isUndefinedOrNull(content)) {\n\t\t\tconst raw = this.doParseContent(content);\n\t\t\tthis.parseRaw(raw, options);\n\t\t}\n\t}\n\n\tpublic reparse(options: ConfigurationParseOptions): void {\n\t\tif (this._raw) {\n\t\t\tthis.parseRaw(this._raw, options);\n\t\t}\n\t}\n\n\tpublic parseRaw(raw: any, options?: ConfigurationParseOptions): void {\n\t\tthis._raw = raw;\n\t\tconst { contents, keys, overrides, restricted, hasExcludedProperties } = this.doParseRaw(raw, options);\n\t\tthis._configurationModel = new ConfigurationModel(contents, keys, overrides, hasExcludedProperties ? [raw] : undefined /* raw has not changed */);\n\t\tthis._restrictedConfigurations = restricted || [];\n\t}\n\n\tprivate doParseContent(content: string): any {\n\t\tlet raw: any = {};\n\t\tlet currentProperty: string | null = null;\n\t\tlet currentParent: any = [];\n\t\tconst previousParents: any[] = [];\n\t\tconst parseErrors: json.ParseError[] = [];\n\n\t\tfunction onValue(value: any) {\n\t\t\tif (Array.isArray(currentParent)) {\n\t\t\t\t(<any[]>currentParent).push(value);\n\t\t\t} else if (currentProperty !== null) {\n\t\t\t\tcurrentParent[currentProperty] = value;\n\t\t\t}\n\t\t}\n\n\t\tconst visitor: json.JSONVisitor = {\n\t\t\tonObjectBegin: () => {\n\t\t\t\tconst object = {};\n\t\t\t\tonValue(object);\n\t\t\t\tpreviousParents.push(currentParent);\n\t\t\t\tcurrentParent = object;\n\t\t\t\tcurrentProperty = null;\n\t\t\t},\n\t\t\tonObjectProperty: (name: string) => {\n\t\t\t\tcurrentProperty = name;\n\t\t\t},\n\t\t\tonObjectEnd: () => {\n\t\t\t\tcurrentParent = previousParents.pop();\n\t\t\t},\n\t\t\tonArrayBegin: () => {\n\t\t\t\tconst array: any[] = [];\n\t\t\t\tonValue(array);\n\t\t\t\tpreviousParents.push(currentParent);\n\t\t\t\tcurrentParent = array;\n\t\t\t\tcurrentProperty = null;\n\t\t\t},\n\t\t\tonArrayEnd: () => {\n\t\t\t\tcurrentParent = previousParents.pop();\n\t\t\t},\n\t\t\tonLiteralValue: onValue,\n\t\t\tonError: (error: json.ParseErrorCode, offset: number, length: number) => {\n\t\t\t\tparseErrors.push({ error, offset, length });\n\t\t\t}\n\t\t};\n\t\tif (content) {\n\t\t\ttry {\n\t\t\t\tjson.visit(content, visitor);\n\t\t\t\traw = currentParent[0] || {};\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(`Error while parsing settings file ${this._name}: ${e}`);\n\t\t\t\tthis._parseErrors = [e];\n\t\t\t}\n\t\t}\n\n\t\treturn raw;\n\t}\n\n\tprotected doParseRaw(raw: any, options?: ConfigurationParseOptions): IConfigurationModel & { restricted?: string[]; hasExcludedProperties?: boolean } {\n\t\tconst configurationProperties = Registry.as<IConfigurationRegistry>(Extensions.Configuration).getConfigurationProperties();\n\t\tconst filtered = this.filter(raw, configurationProperties, true, options);\n\t\traw = filtered.raw;\n\t\tconst contents = toValuesTree(raw, message => console.error(`Conflict in settings file ${this._name}: ${message}`));\n\t\tconst keys = Object.keys(raw);\n\t\tconst overrides = this.toOverrides(raw, message => console.error(`Conflict in settings file ${this._name}: ${message}`));\n\t\treturn { contents, keys, overrides, restricted: filtered.restricted, hasExcludedProperties: filtered.hasExcludedProperties };\n\t}\n\n\tprivate filter(properties: any, configurationProperties: { [qualifiedKey: string]: IConfigurationPropertySchema | undefined }, filterOverriddenProperties: boolean, options?: ConfigurationParseOptions): { raw: {}; restricted: string[]; hasExcludedProperties: boolean } {\n\t\tlet hasExcludedProperties = false;\n\t\tif (!options?.scopes && !options?.skipRestricted && !options?.exclude?.length) {\n\t\t\treturn { raw: properties, restricted: [], hasExcludedProperties };\n\t\t}\n\t\tconst raw: any = {};\n\t\tconst restricted: string[] = [];\n\t\tfor (const key in properties) {\n\t\t\tif (OVERRIDE_PROPERTY_REGEX.test(key) && filterOverriddenProperties) {\n\t\t\t\tconst result = this.filter(properties[key], configurationProperties, false, options);\n\t\t\t\traw[key] = result.raw;\n\t\t\t\thasExcludedProperties = hasExcludedProperties || result.hasExcludedProperties;\n\t\t\t\trestricted.push(...result.restricted);\n\t\t\t} else {\n\t\t\t\tconst propertySchema = configurationProperties[key];\n\t\t\t\tconst scope = propertySchema ? typeof propertySchema.scope !== 'undefined' ? propertySchema.scope : ConfigurationScope.WINDOW : undefined;\n\t\t\t\tif (propertySchema?.restricted) {\n\t\t\t\t\trestricted.push(key);\n\t\t\t\t}\n\t\t\t\tif (!options.exclude?.includes(key) /* Check exclude */\n\t\t\t\t\t&& (options.include?.includes(key) /* Check include */\n\t\t\t\t\t\t|| ((scope === undefined || options.scopes === undefined || options.scopes.includes(scope)) /* Check scopes */\n\t\t\t\t\t\t\t&& !(options.skipRestricted && propertySchema?.restricted)))) /* Check restricted */ {\n\t\t\t\t\traw[key] = properties[key];\n\t\t\t\t} else {\n\t\t\t\t\thasExcludedProperties = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { raw, restricted, hasExcludedProperties };\n\t}\n\n\tprivate toOverrides(raw: any, conflictReporter: (message: string) => void): IOverrides[] {\n\t\tconst overrides: IOverrides[] = [];\n\t\tfor (const key of Object.keys(raw)) {\n\t\t\tif (OVERRIDE_PROPERTY_REGEX.test(key)) {\n\t\t\t\tconst overrideRaw: any = {};\n\t\t\t\tfor (const keyInOverrideRaw in raw[key]) {\n\t\t\t\t\toverrideRaw[keyInOverrideRaw] = raw[key][keyInOverrideRaw];\n\t\t\t\t}\n\t\t\t\toverrides.push({\n\t\t\t\t\tidentifiers: overrideIdentifiersFromKey(key),\n\t\t\t\t\tkeys: Object.keys(overrideRaw),\n\t\t\t\t\tcontents: toValuesTree(overrideRaw, conflictReporter)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn overrides;\n\t}\n\n}\n\nexport class UserSettings extends Disposable {\n\n\tprivate readonly parser: ConfigurationModelParser;\n\tprotected readonly _onDidChange: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tconstructor(\n\t\tprivate readonly userSettingsResource: URI,\n\t\tprotected parseOptions: ConfigurationParseOptions,\n\t\textUri: IExtUri,\n\t\tprivate readonly fileService: IFileService\n\t) {\n\t\tsuper();\n\t\tthis.parser = new ConfigurationModelParser(this.userSettingsResource.toString());\n\t\tthis._register(this.fileService.watch(extUri.dirname(this.userSettingsResource)));\n\t\t// Also listen to the resource incase the resource is a symlink - https://github.com/microsoft/vscode/issues/118134\n\t\tthis._register(this.fileService.watch(this.userSettingsResource));\n\t\tthis._register(Event.any(\n\t\t\tEvent.filter(this.fileService.onDidFilesChange, e => e.contains(this.userSettingsResource)),\n\t\t\tEvent.filter(this.fileService.onDidRunOperation, e => (e.isOperation(FileOperation.CREATE) || e.isOperation(FileOperation.COPY) || e.isOperation(FileOperation.DELETE) || e.isOperation(FileOperation.WRITE)) && extUri.isEqual(e.resource, userSettingsResource))\n\t\t)(() => this._onDidChange.fire()));\n\t}\n\n\tasync loadConfiguration(): Promise<ConfigurationModel> {\n\t\ttry {\n\t\t\tconst content = await this.fileService.readFile(this.userSettingsResource);\n\t\t\tthis.parser.parse(content.value.toString() || '{}', this.parseOptions);\n\t\t\treturn this.parser.configurationModel;\n\t\t} catch (e) {\n\t\t\treturn new ConfigurationModel();\n\t\t}\n\t}\n\n\treparse(parseOptions?: ConfigurationParseOptions): ConfigurationModel {\n\t\tif (parseOptions) {\n\t\t\tthis.parseOptions = parseOptions;\n\t\t}\n\t\tthis.parser.reparse(this.parseOptions);\n\t\treturn this.parser.configurationModel;\n\t}\n\n\tgetRestrictedSettings(): string[] {\n\t\treturn this.parser.restrictedConfigurations;\n\t}\n}\n\nclass ConfigurationInspectValue<V> implements IConfigurationValue<V> {\n\n\tconstructor(\n\t\tprivate readonly key: string,\n\t\tprivate readonly overrides: IConfigurationOverrides,\n\t\tprivate readonly _value: V | undefined,\n\t\treadonly overrideIdentifiers: string[] | undefined,\n\t\tprivate readonly defaultConfiguration: ConfigurationModel,\n\t\tprivate readonly policyConfiguration: ConfigurationModel | undefined,\n\t\tprivate readonly applicationConfiguration: ConfigurationModel | undefined,\n\t\tprivate readonly userConfiguration: ConfigurationModel,\n\t\tprivate readonly localUserConfiguration: ConfigurationModel,\n\t\tprivate readonly remoteUserConfiguration: ConfigurationModel,\n\t\tprivate readonly workspaceConfiguration: ConfigurationModel | undefined,\n\t\tprivate readonly folderConfigurationModel: ConfigurationModel | undefined,\n\t\tprivate readonly memoryConfigurationModel: ConfigurationModel\n\t) {\n\t}\n\n\tget value(): V | undefined {\n\t\treturn freeze(this._value);\n\t}\n\n\tprivate inspect<V>(model: ConfigurationModel, section: string | undefined, overrideIdentifier?: string | null): IInspectValue<V> {\n\t\tconst inspectValue = model.inspect<V>(section, overrideIdentifier);\n\t\treturn {\n\t\t\tget value() { return freeze(inspectValue.value); },\n\t\t\tget override() { return freeze(inspectValue.override); },\n\t\t\tget merged() { return freeze(inspectValue.merged); }\n\t\t};\n\t}\n\n\tprivate _defaultInspectValue: IInspectValue<V> | undefined;\n\tprivate get defaultInspectValue(): IInspectValue<V> {\n\t\tif (!this._defaultInspectValue) {\n\t\t\tthis._defaultInspectValue = this.inspect<V>(this.defaultConfiguration, this.key, this.overrides.overrideIdentifier);\n\t\t}\n\t\treturn this._defaultInspectValue;\n\t}\n\n\tget defaultValue(): V | undefined {\n\t\treturn this.defaultInspectValue.merged;\n\t}\n\n\tget default(): { value?: V; override?: V } | undefined {\n\t\treturn this.defaultInspectValue.value !== undefined || this.defaultInspectValue.override !== undefined ? { value: this.defaultInspectValue.value, override: this.defaultInspectValue.override } : undefined;\n\t}\n\n\tprivate _policyInspectValue: IInspectValue<V> | undefined | null;\n\tprivate get policyInspectValue(): IInspectValue<V> | null {\n\t\tif (this._policyInspectValue === undefined) {\n\t\t\tthis._policyInspectValue = this.policyConfiguration ? this.inspect<V>(this.policyConfiguration, this.key) : null;\n\t\t}\n\t\treturn this._policyInspectValue;\n\t}\n\n\tget policyValue(): V | undefined {\n\t\treturn this.policyInspectValue?.merged;\n\t}\n\n\tget policy(): { value?: V; override?: V } | undefined {\n\t\treturn this.policyInspectValue?.value !== undefined ? { value: this.policyInspectValue.value } : undefined;\n\t}\n\n\tprivate _applicationInspectValue: IInspectValue<V> | undefined | null;\n\tprivate get applicationInspectValue(): IInspectValue<V> | null {\n\t\tif (this._applicationInspectValue === undefined) {\n\t\t\tthis._applicationInspectValue = this.applicationConfiguration ? this.inspect<V>(this.applicationConfiguration, this.key) : null;\n\t\t}\n\t\treturn this._applicationInspectValue;\n\t}\n\n\tget applicationValue(): V | undefined {\n\t\treturn this.applicationInspectValue?.merged;\n\t}\n\n\tget application(): { value?: V; override?: V } | undefined {\n\t\treturn this.applicationInspectValue?.value !== undefined || this.applicationInspectValue?.override !== undefined ? { value: this.applicationInspectValue.value, override: this.applicationInspectValue.override } : undefined;\n\t}\n\n\tprivate _userInspectValue: IInspectValue<V> | undefined;\n\tprivate get userInspectValue(): IInspectValue<V> {\n\t\tif (!this._userInspectValue) {\n\t\t\tthis._userInspectValue = this.inspect<V>(this.userConfiguration, this.key, this.overrides.overrideIdentifier);\n\t\t}\n\t\treturn this._userInspectValue;\n\t}\n\n\tget userValue(): V | undefined {\n\t\treturn this.userInspectValue.merged;\n\t}\n\n\tget user(): { value?: V; override?: V } | undefined {\n\t\treturn this.userInspectValue.value !== undefined || this.userInspectValue.override !== undefined ? { value: this.userInspectValue.value, override: this.userInspectValue.override } : undefined;\n\t}\n\n\tprivate _userLocalInspectValue: IInspectValue<V> | undefined;\n\tprivate get userLocalInspectValue(): IInspectValue<V> {\n\t\tif (!this._userLocalInspectValue) {\n\t\t\tthis._userLocalInspectValue = this.inspect<V>(this.localUserConfiguration, this.key, this.overrides.overrideIdentifier);\n\t\t}\n\t\treturn this._userLocalInspectValue;\n\t}\n\n\tget userLocalValue(): V | undefined {\n\t\treturn this.userLocalInspectValue.merged;\n\t}\n\n\tget userLocal(): { value?: V; override?: V } | undefined {\n\t\treturn this.userLocalInspectValue.value !== undefined || this.userLocalInspectValue.override !== undefined ? { value: this.userLocalInspectValue.value, override: this.userLocalInspectValue.override } : undefined;\n\t}\n\n\tprivate _userRemoteInspectValue: IInspectValue<V> | undefined;\n\tprivate get userRemoteInspectValue(): IInspectValue<V> {\n\t\tif (!this._userRemoteInspectValue) {\n\t\t\tthis._userRemoteInspectValue = this.inspect<V>(this.remoteUserConfiguration, this.key, this.overrides.overrideIdentifier);\n\t\t}\n\t\treturn this._userRemoteInspectValue;\n\t}\n\n\tget userRemoteValue(): V | undefined {\n\t\treturn this.userRemoteInspectValue.merged;\n\t}\n\n\tget userRemote(): { value?: V; override?: V } | undefined {\n\t\treturn this.userRemoteInspectValue.value !== undefined || this.userRemoteInspectValue.override !== undefined ? { value: this.userRemoteInspectValue.value, override: this.userRemoteInspectValue.override } : undefined;\n\t}\n\n\tprivate _workspaceInspectValue: IInspectValue<V> | undefined | null;\n\tprivate get workspaceInspectValue(): IInspectValue<V> | null {\n\t\tif (this._workspaceInspectValue === undefined) {\n\t\t\tthis._workspaceInspectValue = this.workspaceConfiguration ? this.inspect<V>(this.workspaceConfiguration, this.key, this.overrides.overrideIdentifier) : null;\n\t\t}\n\t\treturn this._workspaceInspectValue;\n\t}\n\n\tget workspaceValue(): V | undefined {\n\t\treturn this.workspaceInspectValue?.merged;\n\t}\n\n\tget workspace(): { value?: V; override?: V } | undefined {\n\t\treturn this.workspaceInspectValue?.value !== undefined || this.workspaceInspectValue?.override !== undefined ? { value: this.workspaceInspectValue.value, override: this.workspaceInspectValue.override } : undefined;\n\t}\n\n\tprivate _workspaceFolderInspectValue: IInspectValue<V> | undefined | null;\n\tprivate get workspaceFolderInspectValue(): IInspectValue<V> | null {\n\t\tif (this._workspaceFolderInspectValue === undefined) {\n\t\t\tthis._workspaceFolderInspectValue = this.folderConfigurationModel ? this.inspect<V>(this.folderConfigurationModel, this.key, this.overrides.overrideIdentifier) : null;\n\t\t}\n\t\treturn this._workspaceFolderInspectValue;\n\t}\n\n\tget workspaceFolderValue(): V | undefined {\n\t\treturn this.workspaceFolderInspectValue?.merged;\n\t}\n\n\tget workspaceFolder(): { value?: V; override?: V } | undefined {\n\t\treturn this.workspaceFolderInspectValue?.value !== undefined || this.workspaceFolderInspectValue?.override !== undefined ? { value: this.workspaceFolderInspectValue.value, override: this.workspaceFolderInspectValue.override } : undefined;\n\t}\n\n\tprivate _memoryInspectValue: IInspectValue<V> | undefined;\n\tprivate get memoryInspectValue(): IInspectValue<V> {\n\t\tif (this._memoryInspectValue === undefined) {\n\t\t\tthis._memoryInspectValue = this.inspect<V>(this.memoryConfigurationModel, this.key, this.overrides.overrideIdentifier);\n\t\t}\n\t\treturn this._memoryInspectValue;\n\t}\n\n\tget memoryValue(): V | undefined {\n\t\treturn this.memoryInspectValue.merged;\n\t}\n\n\tget memory(): { value?: V; override?: V } | undefined {\n\t\treturn this.memoryInspectValue.value !== undefined || this.memoryInspectValue.override !== undefined ? { value: this.memoryInspectValue.value, override: this.memoryInspectValue.override } : undefined;\n\t}\n\n}\n\nexport class Configuration {\n\n\tprivate _workspaceConsolidatedConfiguration: ConfigurationModel | null = null;\n\tprivate _foldersConsolidatedConfigurations = new ResourceMap<ConfigurationModel>();\n\n\tconstructor(\n\t\tprivate _defaultConfiguration: ConfigurationModel,\n\t\tprivate _policyConfiguration: ConfigurationModel,\n\t\tprivate _applicationConfiguration: ConfigurationModel,\n\t\tprivate _localUserConfiguration: ConfigurationModel,\n\t\tprivate _remoteUserConfiguration: ConfigurationModel = new ConfigurationModel(),\n\t\tprivate _workspaceConfiguration: ConfigurationModel = new ConfigurationModel(),\n\t\tprivate _folderConfigurations: ResourceMap<ConfigurationModel> = new ResourceMap<ConfigurationModel>(),\n\t\tprivate _memoryConfiguration: ConfigurationModel = new ConfigurationModel(),\n\t\tprivate _memoryConfigurationByResource: ResourceMap<ConfigurationModel> = new ResourceMap<ConfigurationModel>()\n\t) {\n\t}\n\n\tgetValue(section: string | undefined, overrides: IConfigurationOverrides, workspace: Workspace | undefined): any {\n\t\tconst consolidateConfigurationModel = this.getConsolidatedConfigurationModel(section, overrides, workspace);\n\t\treturn consolidateConfigurationModel.getValue(section);\n\t}\n\n\tupdateValue(key: string, value: any, overrides: IConfigurationUpdateOverrides = {}): void {\n\t\tlet memoryConfiguration: ConfigurationModel | undefined;\n\t\tif (overrides.resource) {\n\t\t\tmemoryConfiguration = this._memoryConfigurationByResource.get(overrides.resource);\n\t\t\tif (!memoryConfiguration) {\n\t\t\t\tmemoryConfiguration = new ConfigurationModel();\n\t\t\t\tthis._memoryConfigurationByResource.set(overrides.resource, memoryConfiguration);\n\t\t\t}\n\t\t} else {\n\t\t\tmemoryConfiguration = this._memoryConfiguration;\n\t\t}\n\n\t\tif (value === undefined) {\n\t\t\tmemoryConfiguration.removeValue(key);\n\t\t} else {\n\t\t\tmemoryConfiguration.setValue(key, value);\n\t\t}\n\n\t\tif (!overrides.resource) {\n\t\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\t}\n\t}\n\n\tinspect<C>(key: string, overrides: IConfigurationOverrides, workspace: Workspace | undefined): IConfigurationValue<C> {\n\t\tconst consolidateConfigurationModel = this.getConsolidatedConfigurationModel(key, overrides, workspace);\n\t\tconst folderConfigurationModel = this.getFolderConfigurationModelForResource(overrides.resource, workspace);\n\t\tconst memoryConfigurationModel = overrides.resource ? this._memoryConfigurationByResource.get(overrides.resource) || this._memoryConfiguration : this._memoryConfiguration;\n\t\tconst overrideIdentifiers = new Set<string>();\n\t\tfor (const override of consolidateConfigurationModel.overrides) {\n\t\t\tfor (const overrideIdentifier of override.identifiers) {\n\t\t\t\tif (consolidateConfigurationModel.getOverrideValue(key, overrideIdentifier) !== undefined) {\n\t\t\t\t\toverrideIdentifiers.add(overrideIdentifier);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new ConfigurationInspectValue<C>(\n\t\t\tkey,\n\t\t\toverrides,\n\t\t\tconsolidateConfigurationModel.getValue<C>(key),\n\t\t\toverrideIdentifiers.size ? [...overrideIdentifiers] : undefined,\n\t\t\tthis._defaultConfiguration,\n\t\t\tthis._policyConfiguration.isEmpty() ? undefined : this._policyConfiguration,\n\t\t\tthis.applicationConfiguration.isEmpty() ? undefined : this.applicationConfiguration,\n\t\t\tthis.userConfiguration,\n\t\t\tthis.localUserConfiguration,\n\t\t\tthis.remoteUserConfiguration,\n\t\t\tworkspace ? this._workspaceConfiguration : undefined,\n\t\t\tfolderConfigurationModel ? folderConfigurationModel : undefined,\n\t\t\tmemoryConfigurationModel\n\t\t);\n\n\t}\n\n\tkeys(workspace: Workspace | undefined): {\n\t\tdefault: string[];\n\t\tuser: string[];\n\t\tworkspace: string[];\n\t\tworkspaceFolder: string[];\n\t} {\n\t\tconst folderConfigurationModel = this.getFolderConfigurationModelForResource(undefined, workspace);\n\t\treturn {\n\t\t\tdefault: this._defaultConfiguration.keys.slice(0),\n\t\t\tuser: this.userConfiguration.keys.slice(0),\n\t\t\tworkspace: this._workspaceConfiguration.keys.slice(0),\n\t\t\tworkspaceFolder: folderConfigurationModel ? folderConfigurationModel.keys.slice(0) : []\n\t\t};\n\t}\n\n\tupdateDefaultConfiguration(defaultConfiguration: ConfigurationModel): void {\n\t\tthis._defaultConfiguration = defaultConfiguration;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdatePolicyConfiguration(policyConfiguration: ConfigurationModel): void {\n\t\tthis._policyConfiguration = policyConfiguration;\n\t}\n\n\tupdateApplicationConfiguration(applicationConfiguration: ConfigurationModel): void {\n\t\tthis._applicationConfiguration = applicationConfiguration;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateLocalUserConfiguration(localUserConfiguration: ConfigurationModel): void {\n\t\tthis._localUserConfiguration = localUserConfiguration;\n\t\tthis._userConfiguration = null;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateRemoteUserConfiguration(remoteUserConfiguration: ConfigurationModel): void {\n\t\tthis._remoteUserConfiguration = remoteUserConfiguration;\n\t\tthis._userConfiguration = null;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateWorkspaceConfiguration(workspaceConfiguration: ConfigurationModel): void {\n\t\tthis._workspaceConfiguration = workspaceConfiguration;\n\t\tthis._workspaceConsolidatedConfiguration = null;\n\t\tthis._foldersConsolidatedConfigurations.clear();\n\t}\n\n\tupdateFolderConfiguration(resource: URI, configuration: ConfigurationModel): void {\n\t\tthis._folderConfigurations.set(resource, configuration);\n\t\tthis._foldersConsolidatedConfigurations.delete(resource);\n\t}\n\n\tdeleteFolderConfiguration(resource: URI): void {\n\t\tthis.folderConfigurations.delete(resource);\n\t\tthis._foldersConsolidatedConfigurations.delete(resource);\n\t}\n\n\tcompareAndUpdateDefaultConfiguration(defaults: ConfigurationModel, keys?: string[]): IConfigurationChange {\n\t\tconst overrides: [string, string[]][] = [];\n\t\tif (!keys) {\n\t\t\tconst { added, updated, removed } = compare(this._defaultConfiguration, defaults);\n\t\t\tkeys = [...added, ...updated, ...removed];\n\t\t}\n\t\tfor (const key of keys) {\n\t\t\tfor (const overrideIdentifier of overrideIdentifiersFromKey(key)) {\n\t\t\t\tconst fromKeys = this._defaultConfiguration.getKeysForOverrideIdentifier(overrideIdentifier);\n\t\t\t\tconst toKeys = defaults.getKeysForOverrideIdentifier(overrideIdentifier);\n\t\t\t\tconst keys = [\n\t\t\t\t\t...toKeys.filter(key => fromKeys.indexOf(key) === -1),\n\t\t\t\t\t...fromKeys.filter(key => toKeys.indexOf(key) === -1),\n\t\t\t\t\t...fromKeys.filter(key => !objects.equals(this._defaultConfiguration.override(overrideIdentifier).getValue(key), defaults.override(overrideIdentifier).getValue(key)))\n\t\t\t\t];\n\t\t\t\toverrides.push([overrideIdentifier, keys]);\n\t\t\t}\n\t\t}\n\t\tthis.updateDefaultConfiguration(defaults);\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdatePolicyConfiguration(policyConfiguration: ConfigurationModel): IConfigurationChange {\n\t\tconst { added, updated, removed } = compare(this._policyConfiguration, policyConfiguration);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updatePolicyConfiguration(policyConfiguration);\n\t\t}\n\t\treturn { keys, overrides: [] };\n\t}\n\n\tcompareAndUpdateApplicationConfiguration(application: ConfigurationModel): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(this.applicationConfiguration, application);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateApplicationConfiguration(application);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateLocalUserConfiguration(user: ConfigurationModel): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(this.localUserConfiguration, user);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateLocalUserConfiguration(user);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateRemoteUserConfiguration(user: ConfigurationModel): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(this.remoteUserConfiguration, user);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateRemoteUserConfiguration(user);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateWorkspaceConfiguration(workspaceConfiguration: ConfigurationModel): IConfigurationChange {\n\t\tconst { added, updated, removed, overrides } = compare(this.workspaceConfiguration, workspaceConfiguration);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length) {\n\t\t\tthis.updateWorkspaceConfiguration(workspaceConfiguration);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndUpdateFolderConfiguration(resource: URI, folderConfiguration: ConfigurationModel): IConfigurationChange {\n\t\tconst currentFolderConfiguration = this.folderConfigurations.get(resource);\n\t\tconst { added, updated, removed, overrides } = compare(currentFolderConfiguration, folderConfiguration);\n\t\tconst keys = [...added, ...updated, ...removed];\n\t\tif (keys.length || !currentFolderConfiguration) {\n\t\t\tthis.updateFolderConfiguration(resource, folderConfiguration);\n\t\t}\n\t\treturn { keys, overrides };\n\t}\n\n\tcompareAndDeleteFolderConfiguration(folder: URI): IConfigurationChange {\n\t\tconst folderConfig = this.folderConfigurations.get(folder);\n\t\tif (!folderConfig) {\n\t\t\tthrow new Error('Unknown folder');\n\t\t}\n\t\tthis.deleteFolderConfiguration(folder);\n\t\tconst { added, updated, removed, overrides } = compare(folderConfig, undefined);\n\t\treturn { keys: [...added, ...updated, ...removed], overrides };\n\t}\n\n\tget defaults(): ConfigurationModel {\n\t\treturn this._defaultConfiguration;\n\t}\n\n\tget applicationConfiguration(): ConfigurationModel {\n\t\treturn this._applicationConfiguration;\n\t}\n\n\tprivate _userConfiguration: ConfigurationModel | null = null;\n\tget userConfiguration(): ConfigurationModel {\n\t\tif (!this._userConfiguration) {\n\t\t\tthis._userConfiguration = this._remoteUserConfiguration.isEmpty() ? this._localUserConfiguration : this._localUserConfiguration.merge(this._remoteUserConfiguration);\n\t\t}\n\t\treturn this._userConfiguration;\n\t}\n\n\tget localUserConfiguration(): ConfigurationModel {\n\t\treturn this._localUserConfiguration;\n\t}\n\n\tget remoteUserConfiguration(): ConfigurationModel {\n\t\treturn this._remoteUserConfiguration;\n\t}\n\n\tget workspaceConfiguration(): ConfigurationModel {\n\t\treturn this._workspaceConfiguration;\n\t}\n\n\tprotected get folderConfigurations(): ResourceMap<ConfigurationModel> {\n\t\treturn this._folderConfigurations;\n\t}\n\n\tprivate getConsolidatedConfigurationModel(section: string | undefined, overrides: IConfigurationOverrides, workspace: Workspace | undefined): ConfigurationModel {\n\t\tlet configurationModel = this.getConsolidatedConfigurationModelForResource(overrides, workspace);\n\t\tif (overrides.overrideIdentifier) {\n\t\t\tconfigurationModel = configurationModel.override(overrides.overrideIdentifier);\n\t\t}\n\t\tif (!this._policyConfiguration.isEmpty() && this._policyConfiguration.getValue(section) !== undefined) {\n\t\t\tconfigurationModel = configurationModel.merge(this._policyConfiguration);\n\t\t}\n\t\treturn configurationModel;\n\t}\n\n\tprivate getConsolidatedConfigurationModelForResource({ resource }: IConfigurationOverrides, workspace: Workspace | undefined): ConfigurationModel {\n\t\tlet consolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\n\n\t\tif (workspace && resource) {\n\t\t\tconst root = workspace.getFolder(resource);\n\t\t\tif (root) {\n\t\t\t\tconsolidateConfiguration = this.getFolderConsolidatedConfiguration(root.uri) || consolidateConfiguration;\n\t\t\t}\n\t\t\tconst memoryConfigurationForResource = this._memoryConfigurationByResource.get(resource);\n\t\t\tif (memoryConfigurationForResource) {\n\t\t\t\tconsolidateConfiguration = consolidateConfiguration.merge(memoryConfigurationForResource);\n\t\t\t}\n\t\t}\n\n\t\treturn consolidateConfiguration;\n\t}\n\n\tprivate getWorkspaceConsolidatedConfiguration(): ConfigurationModel {\n\t\tif (!this._workspaceConsolidatedConfiguration) {\n\t\t\tthis._workspaceConsolidatedConfiguration = this._defaultConfiguration.merge(this.applicationConfiguration, this.userConfiguration, this._workspaceConfiguration, this._memoryConfiguration);\n\t\t}\n\t\treturn this._workspaceConsolidatedConfiguration;\n\t}\n\n\tprivate getFolderConsolidatedConfiguration(folder: URI): ConfigurationModel {\n\t\tlet folderConsolidatedConfiguration = this._foldersConsolidatedConfigurations.get(folder);\n\t\tif (!folderConsolidatedConfiguration) {\n\t\t\tconst workspaceConsolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\n\t\t\tconst folderConfiguration = this._folderConfigurations.get(folder);\n\t\t\tif (folderConfiguration) {\n\t\t\t\tfolderConsolidatedConfiguration = workspaceConsolidateConfiguration.merge(folderConfiguration);\n\t\t\t\tthis._foldersConsolidatedConfigurations.set(folder, folderConsolidatedConfiguration);\n\t\t\t} else {\n\t\t\t\tfolderConsolidatedConfiguration = workspaceConsolidateConfiguration;\n\t\t\t}\n\t\t}\n\t\treturn folderConsolidatedConfiguration;\n\t}\n\n\tprivate getFolderConfigurationModelForResource(resource: URI | null | undefined, workspace: Workspace | undefined): ConfigurationModel | undefined {\n\t\tif (workspace && resource) {\n\t\t\tconst root = workspace.getFolder(resource);\n\t\t\tif (root) {\n\t\t\t\treturn this._folderConfigurations.get(root.uri);\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\ttoData(): IConfigurationData {\n\t\treturn {\n\t\t\tdefaults: {\n\t\t\t\tcontents: this._defaultConfiguration.contents,\n\t\t\t\toverrides: this._defaultConfiguration.overrides,\n\t\t\t\tkeys: this._defaultConfiguration.keys\n\t\t\t},\n\t\t\tpolicy: {\n\t\t\t\tcontents: this._policyConfiguration.contents,\n\t\t\t\toverrides: this._policyConfiguration.overrides,\n\t\t\t\tkeys: this._policyConfiguration.keys\n\t\t\t},\n\t\t\tapplication: {\n\t\t\t\tcontents: this.applicationConfiguration.contents,\n\t\t\t\toverrides: this.applicationConfiguration.overrides,\n\t\t\t\tkeys: this.applicationConfiguration.keys\n\t\t\t},\n\t\t\tuser: {\n\t\t\t\tcontents: this.userConfiguration.contents,\n\t\t\t\toverrides: this.userConfiguration.overrides,\n\t\t\t\tkeys: this.userConfiguration.keys\n\t\t\t},\n\t\t\tworkspace: {\n\t\t\t\tcontents: this._workspaceConfiguration.contents,\n\t\t\t\toverrides: this._workspaceConfiguration.overrides,\n\t\t\t\tkeys: this._workspaceConfiguration.keys\n\t\t\t},\n\t\t\tfolders: [...this._folderConfigurations.keys()].reduce<[UriComponents, IConfigurationModel][]>((result, folder) => {\n\t\t\t\tconst { contents, overrides, keys } = this._folderConfigurations.get(folder)!;\n\t\t\t\tresult.push([folder, { contents, overrides, keys }]);\n\t\t\t\treturn result;\n\t\t\t}, [])\n\t\t};\n\t}\n\n\tallKeys(): string[] {\n\t\tconst keys: Set<string> = new Set<string>();\n\t\tthis._defaultConfiguration.keys.forEach(key => keys.add(key));\n\t\tthis.userConfiguration.keys.forEach(key => keys.add(key));\n\t\tthis._workspaceConfiguration.keys.forEach(key => keys.add(key));\n\t\tthis._folderConfigurations.forEach(folderConfiguration => folderConfiguration.keys.forEach(key => keys.add(key)));\n\t\treturn [...keys.values()];\n\t}\n\n\tprotected allOverrideIdentifiers(): string[] {\n\t\tconst keys: Set<string> = new Set<string>();\n\t\tthis._defaultConfiguration.getAllOverrideIdentifiers().forEach(key => keys.add(key));\n\t\tthis.userConfiguration.getAllOverrideIdentifiers().forEach(key => keys.add(key));\n\t\tthis._workspaceConfiguration.getAllOverrideIdentifiers().forEach(key => keys.add(key));\n\t\tthis._folderConfigurations.forEach(folderConfiguration => folderConfiguration.getAllOverrideIdentifiers().forEach(key => keys.add(key)));\n\t\treturn [...keys.values()];\n\t}\n\n\tprotected getAllKeysForOverrideIdentifier(overrideIdentifier: string): string[] {\n\t\tconst keys: Set<string> = new Set<string>();\n\t\tthis._defaultConfiguration.getKeysForOverrideIdentifier(overrideIdentifier).forEach(key => keys.add(key));\n\t\tthis.userConfiguration.getKeysForOverrideIdentifier(overrideIdentifier).forEach(key => keys.add(key));\n\t\tthis._workspaceConfiguration.getKeysForOverrideIdentifier(overrideIdentifier).forEach(key => keys.add(key));\n\t\tthis._folderConfigurations.forEach(folderConfiguration => folderConfiguration.getKeysForOverrideIdentifier(overrideIdentifier).forEach(key => keys.add(key)));\n\t\treturn [...keys.values()];\n\t}\n\n\tstatic parse(data: IConfigurationData): Configuration {\n\t\tconst defaultConfiguration = this.parseConfigurationModel(data.defaults);\n\t\tconst policyConfiguration = this.parseConfigurationModel(data.policy);\n\t\tconst applicationConfiguration = this.parseConfigurationModel(data.application);\n\t\tconst userConfiguration = this.parseConfigurationModel(data.user);\n\t\tconst workspaceConfiguration = this.parseConfigurationModel(data.workspace);\n\t\tconst folders: ResourceMap<ConfigurationModel> = data.folders.reduce((result, value) => {\n\t\t\tresult.set(URI.revive(value[0]), this.parseConfigurationModel(value[1]));\n\t\t\treturn result;\n\t\t}, new ResourceMap<ConfigurationModel>());\n\t\treturn new Configuration(defaultConfiguration, policyConfiguration, applicationConfiguration, userConfiguration, new ConfigurationModel(), workspaceConfiguration, folders, new ConfigurationModel(), new ResourceMap<ConfigurationModel>());\n\t}\n\n\tprivate static parseConfigurationModel(model: IConfigurationModel): ConfigurationModel {\n\t\treturn new ConfigurationModel(model.contents, model.keys, model.overrides);\n\t}\n\n}\n\nexport function mergeChanges(...changes: IConfigurationChange[]): IConfigurationChange {\n\tif (changes.length === 0) {\n\t\treturn { keys: [], overrides: [] };\n\t}\n\tif (changes.length === 1) {\n\t\treturn changes[0];\n\t}\n\tconst keysSet = new Set<string>();\n\tconst overridesMap = new Map<string, Set<string>>();\n\tfor (const change of changes) {\n\t\tchange.keys.forEach(key => keysSet.add(key));\n\t\tchange.overrides.forEach(([identifier, keys]) => {\n\t\t\tconst result = getOrSet(overridesMap, identifier, new Set<string>());\n\t\t\tkeys.forEach(key => result.add(key));\n\t\t});\n\t}\n\tconst overrides: [string, string[]][] = [];\n\toverridesMap.forEach((keys, identifier) => overrides.push([identifier, [...keys.values()]]));\n\treturn { keys: [...keysSet.values()], overrides };\n}\n\nexport class ConfigurationChangeEvent implements IConfigurationChangeEvent {\n\n\tprivate readonly _marker = '\\n';\n\tprivate readonly _markerCode1 = this._marker.charCodeAt(0);\n\tprivate readonly _markerCode2 = '.'.charCodeAt(0);\n\tprivate readonly _affectsConfigStr: string;\n\n\treadonly affectedKeys = new Set<string>();\n\tsource!: ConfigurationTarget;\n\tsourceConfig: any;\n\n\tconstructor(readonly change: IConfigurationChange, private readonly previous: { workspace?: Workspace; data: IConfigurationData } | undefined, private readonly currentConfiguraiton: Configuration, private readonly currentWorkspace?: Workspace) {\n\t\tfor (const key of change.keys) {\n\t\t\tthis.affectedKeys.add(key);\n\t\t}\n\t\tfor (const [, keys] of change.overrides) {\n\t\t\tfor (const key of keys) {\n\t\t\t\tthis.affectedKeys.add(key);\n\t\t\t}\n\t\t}\n\n\t\t// Example: '\\nfoo.bar\\nabc.def\\n'\n\t\tthis._affectsConfigStr = this._marker;\n\t\tfor (const key of this.affectedKeys) {\n\t\t\tthis._affectsConfigStr += key + this._marker;\n\t\t}\n\t}\n\n\tprivate _previousConfiguration: Configuration | undefined = undefined;\n\tget previousConfiguration(): Configuration | undefined {\n\t\tif (!this._previousConfiguration && this.previous) {\n\t\t\tthis._previousConfiguration = Configuration.parse(this.previous.data);\n\t\t}\n\t\treturn this._previousConfiguration;\n\t}\n\n\taffectsConfiguration(section: string, overrides?: IConfigurationOverrides): boolean {\n\t\t// we have one large string with all keys that have changed. we pad (marker) the section\n\t\t// and check that either find it padded or before a segment character\n\t\tconst needle = this._marker + section;\n\t\tconst idx = this._affectsConfigStr.indexOf(needle);\n\t\tif (idx < 0) {\n\t\t\t// NOT: (marker + section)\n\t\t\treturn false;\n\t\t}\n\t\tconst pos = idx + needle.length;\n\t\tif (pos >= this._affectsConfigStr.length) {\n\t\t\treturn false;\n\t\t}\n\t\tconst code = this._affectsConfigStr.charCodeAt(pos);\n\t\tif (code !== this._markerCode1 && code !== this._markerCode2) {\n\t\t\t// NOT: section + (marker | segment)\n\t\t\treturn false;\n\t\t}\n\t\tif (overrides) {\n\t\t\tconst value1 = this.previousConfiguration ? this.previousConfiguration.getValue(section, overrides, this.previous?.workspace) : undefined;\n\t\t\tconst value2 = this.currentConfiguraiton.getValue(section, overrides, this.currentWorkspace);\n\t\t\treturn !objects.equals(value1, value2);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nfunction compare(from: ConfigurationModel | undefined, to: ConfigurationModel | undefined): IConfigurationCompareResult {\n\tconst { added, removed, updated } = compareConfigurationContents(to?.rawConfiguration, from?.rawConfiguration);\n\tconst overrides: [string, string[]][] = [];\n\n\tconst fromOverrideIdentifiers = from?.getAllOverrideIdentifiers() || [];\n\tconst toOverrideIdentifiers = to?.getAllOverrideIdentifiers() || [];\n\n\tif (to) {\n\t\tconst addedOverrideIdentifiers = toOverrideIdentifiers.filter(key => !fromOverrideIdentifiers.includes(key));\n\t\tfor (const identifier of addedOverrideIdentifiers) {\n\t\t\toverrides.push([identifier, to.getKeysForOverrideIdentifier(identifier)]);\n\t\t}\n\t}\n\n\tif (from) {\n\t\tconst removedOverrideIdentifiers = fromOverrideIdentifiers.filter(key => !toOverrideIdentifiers.includes(key));\n\t\tfor (const identifier of removedOverrideIdentifiers) {\n\t\t\toverrides.push([identifier, from.getKeysForOverrideIdentifier(identifier)]);\n\t\t}\n\t}\n\n\tif (to && from) {\n\t\tfor (const identifier of fromOverrideIdentifiers) {\n\t\t\tif (toOverrideIdentifiers.includes(identifier)) {\n\t\t\t\tconst result = compareConfigurationContents({ contents: from.getOverrideValue(undefined, identifier) || {}, keys: from.getKeysForOverrideIdentifier(identifier) }, { contents: to.getOverrideValue(undefined, identifier) || {}, keys: to.getKeysForOverrideIdentifier(identifier) });\n\t\t\t\toverrides.push([identifier, [...result.added, ...result.removed, ...result.updated]]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { added, removed, updated, overrides };\n}\n\nfunction compareConfigurationContents(to: { keys: string[]; contents: any } | undefined, from: { keys: string[]; contents: any } | undefined) {\n\tconst added = to\n\t\t? from ? to.keys.filter(key => from.keys.indexOf(key) === -1) : [...to.keys]\n\t\t: [];\n\tconst removed = from\n\t\t? to ? from.keys.filter(key => to.keys.indexOf(key) === -1) : [...from.keys]\n\t\t: [];\n\tconst updated: string[] = [];\n\n\tif (to && from) {\n\t\tfor (const key of from.keys) {\n\t\t\tif (to.keys.indexOf(key) !== -1) {\n\t\t\t\tconst value1 = getConfigurationValue(from.contents, key);\n\t\t\t\tconst value2 = getConfigurationValue(to.contents, key);\n\t\t\t\tif (!objects.equals(value1, value2)) {\n\t\t\t\t\tupdated.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn { added, removed, updated };\n}\n"]}
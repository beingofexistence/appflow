{"version":3,"sources":["vs/platform/terminal/common/terminalProfiles.ts"],"names":[],"mappings":"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","file":"terminalProfiles.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from 'vs/base/common/codicons';\nimport { URI, UriComponents } from 'vs/base/common/uri';\nimport { localize } from 'vs/nls';\nimport { IExtensionTerminalProfile, ITerminalProfile, TerminalIcon } from 'vs/platform/terminal/common/terminal';\nimport { ThemeIcon } from 'vs/base/common/themables';\n\nexport function createProfileSchemaEnums(detectedProfiles: ITerminalProfile[], extensionProfiles?: readonly IExtensionTerminalProfile[]): {\n\tvalues: (string | null)[] | undefined;\n\tmarkdownDescriptions: string[] | undefined;\n} {\n\tconst result: { name: string | null; description: string }[] = [{\n\t\tname: null,\n\t\tdescription: localize('terminalAutomaticProfile', 'Automatically detect the default')\n\t}];\n\tresult.push(...detectedProfiles.map(e => {\n\t\treturn {\n\t\t\tname: e.profileName,\n\t\t\tdescription: createProfileDescription(e)\n\t\t};\n\t}));\n\tif (extensionProfiles) {\n\t\tresult.push(...extensionProfiles.map(extensionProfile => {\n\t\t\treturn {\n\t\t\t\tname: extensionProfile.title,\n\t\t\t\tdescription: createExtensionProfileDescription(extensionProfile)\n\t\t\t};\n\t\t}));\n\t}\n\treturn {\n\t\tvalues: result.map(e => e.name),\n\t\tmarkdownDescriptions: result.map(e => e.description)\n\t};\n}\n\nfunction createProfileDescription(profile: ITerminalProfile): string {\n\tlet description = `$(${ThemeIcon.isThemeIcon(profile.icon) ? profile.icon.id : profile.icon ? profile.icon : Codicon.terminal.id}) ${profile.profileName}\\n- path: ${profile.path}`;\n\tif (profile.args) {\n\t\tif (typeof profile.args === 'string') {\n\t\t\tdescription += `\\n- args: \"${profile.args}\"`;\n\t\t} else {\n\t\t\tdescription += `\\n- args: [${profile.args.length === 0 ? '' : `'${profile.args.join(`','`)}'`}]`;\n\t\t}\n\t}\n\tif (profile.overrideName !== undefined) {\n\t\tdescription += `\\n- overrideName: ${profile.overrideName}`;\n\t}\n\tif (profile.color) {\n\t\tdescription += `\\n- color: ${profile.color}`;\n\t}\n\tif (profile.env) {\n\t\tdescription += `\\n- env: ${JSON.stringify(profile.env)}`;\n\t}\n\treturn description;\n}\n\nfunction createExtensionProfileDescription(profile: IExtensionTerminalProfile): string {\n\tconst description = `$(${ThemeIcon.isThemeIcon(profile.icon) ? profile.icon.id : profile.icon ? profile.icon : Codicon.terminal.id}) ${profile.title}\\n- extensionIdentifier: ${profile.extensionIdentifier}`;\n\treturn description;\n}\n\n\nexport function terminalProfileArgsMatch(args1: string | string[] | undefined, args2: string | string[] | undefined): boolean {\n\tif (!args1 && !args2) {\n\t\treturn true;\n\t} else if (typeof args1 === 'string' && typeof args2 === 'string') {\n\t\treturn args1 === args2;\n\t} else if (Array.isArray(args1) && Array.isArray(args2)) {\n\t\tif (args1.length !== args2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < args1.length; i++) {\n\t\t\tif (args1[i] !== args2[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function terminalIconsEqual(a?: TerminalIcon, b?: TerminalIcon): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t} else if (!a || !b) {\n\t\treturn false;\n\t}\n\n\tif (ThemeIcon.isThemeIcon(a) && ThemeIcon.isThemeIcon(b)) {\n\t\treturn a.id === b.id && a.color === b.color;\n\t}\n\tif (typeof a === 'object' && 'light' in a && 'dark' in a\n\t\t&& typeof b === 'object' && 'light' in b && 'dark' in b) {\n\t\tconst castedA = (a as { light: unknown; dark: unknown });\n\t\tconst castedB = (b as { light: unknown; dark: unknown });\n\t\tif ((URI.isUri(castedA.light) || isUriComponents(castedA.light)) && (URI.isUri(castedA.dark) || isUriComponents(castedA.dark))\n\t\t\t&& (URI.isUri(castedB.light) || isUriComponents(castedB.light)) && (URI.isUri(castedB.dark) || isUriComponents(castedB.dark))) {\n\t\t\treturn castedA.light.path === castedB.light.path && castedA.dark.path === castedB.dark.path;\n\t\t}\n\t}\n\tif ((URI.isUri(a) && URI.isUri(b)) || (isUriComponents(a) || isUriComponents(b))) {\n\t\tconst castedA = (a as { scheme: unknown; path: unknown });\n\t\tconst castedB = (b as { scheme: unknown; path: unknown });\n\t\treturn castedA.path === castedB.path && castedA.scheme === castedB.scheme;\n\t}\n\n\treturn false;\n}\n\n\nexport function isUriComponents(thing: unknown): thing is UriComponents {\n\tif (!thing) {\n\t\treturn false;\n\t}\n\treturn typeof (<any>thing).path === 'string' &&\n\t\ttypeof (<any>thing).scheme === 'string';\n}\n"]}
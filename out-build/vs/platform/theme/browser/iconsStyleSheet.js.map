{"version":3,"sources":["file:///workspace/appflow/src/vs/platform/theme/browser/iconsStyleSheet.ts"],"names":[],"mappings":"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","file":"iconsStyleSheet.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { asCSSPropertyValue, asCSSUrl } from 'vs/base/browser/dom';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { DisposableStore, IDisposable } from 'vs/base/common/lifecycle';\nimport { ThemeIcon } from 'vs/base/common/themables';\nimport { getIconRegistry, IconContribution, IconFontDefinition } from 'vs/platform/theme/common/iconRegistry';\nimport { IProductIconTheme, IThemeService } from 'vs/platform/theme/common/themeService';\n\nexport interface IIconsStyleSheet extends IDisposable {\n\tgetCSS(): string;\n\treadonly onDidChange: Event<void>;\n}\n\nexport function getIconsStyleSheet(themeService: IThemeService | undefined): IIconsStyleSheet {\n\tconst disposable = new DisposableStore();\n\n\tconst onDidChangeEmmiter = disposable.add(new Emitter<void>());\n\tconst iconRegistry = getIconRegistry();\n\tdisposable.add(iconRegistry.onDidChange(() => onDidChangeEmmiter.fire()));\n\tif (themeService) {\n\t\tdisposable.add(themeService.onDidProductIconThemeChange(() => onDidChangeEmmiter.fire()));\n\t}\n\n\treturn {\n\t\tdispose: () => disposable.dispose(),\n\t\tonDidChange: onDidChangeEmmiter.event,\n\t\tgetCSS() {\n\t\t\tconst productIconTheme = themeService ? themeService.getProductIconTheme() : new UnthemedProductIconTheme();\n\t\t\tconst usedFontIds: { [id: string]: IconFontDefinition } = {};\n\t\t\tconst formatIconRule = (contribution: IconContribution): string | undefined => {\n\t\t\t\tconst definition = productIconTheme.getIcon(contribution);\n\t\t\t\tif (!definition) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tconst fontContribution = definition.font;\n\t\t\t\tif (fontContribution) {\n\t\t\t\t\tusedFontIds[fontContribution.id] = fontContribution.definition;\n\t\t\t\t\treturn `.codicon-${contribution.id}:before { content: '${definition.fontCharacter}'; font-family: ${asCSSPropertyValue(fontContribution.id)}; }`;\n\t\t\t\t}\n\t\t\t\t// default font (codicon)\n\t\t\t\treturn `.codicon-${contribution.id}:before { content: '${definition.fontCharacter}'; }`;\n\t\t\t};\n\n\t\t\tconst rules = [];\n\t\t\tfor (const contribution of iconRegistry.getIcons()) {\n\t\t\t\tconst rule = formatIconRule(contribution);\n\t\t\t\tif (rule) {\n\t\t\t\t\trules.push(rule);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const id in usedFontIds) {\n\t\t\t\tconst definition = usedFontIds[id];\n\t\t\t\tconst fontWeight = definition.weight ? `font-weight: ${definition.weight};` : '';\n\t\t\t\tconst fontStyle = definition.style ? `font-style: ${definition.style};` : '';\n\t\t\t\tconst src = definition.src.map(l => `${asCSSUrl(l.location)} format('${l.format}')`).join(', ');\n\t\t\t\trules.push(`@font-face { src: ${src}; font-family: ${asCSSPropertyValue(id)};${fontWeight}${fontStyle} font-display: block; }`);\n\t\t\t}\n\t\t\treturn rules.join('\\n');\n\t\t}\n\t};\n}\n\nexport class UnthemedProductIconTheme implements IProductIconTheme {\n\tgetIcon(contribution: IconContribution) {\n\t\tconst iconRegistry = getIconRegistry();\n\t\tlet definition = contribution.defaults;\n\t\twhile (ThemeIcon.isThemeIcon(definition)) {\n\t\t\tconst c = iconRegistry.getIcon(definition.id);\n\t\t\tif (!c) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tdefinition = c.defaults;\n\t\t}\n\t\treturn definition;\n\t}\n}\n"]}
{"version":3,"sources":["vs/platform/theme/common/iconRegistry.ts"],"names":[],"mappings":"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","file":"iconRegistry.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport { Codicon, getCodiconFontCharacters } from 'vs/base/common/codicons';\nimport { ThemeIcon, IconIdentifier } from 'vs/base/common/themables';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { IJSONSchema, IJSONSchemaMap } from 'vs/base/common/jsonSchema';\nimport { isString } from 'vs/base/common/types';\nimport { URI } from 'vs/base/common/uri';\nimport { localize } from 'vs/nls';\nimport { Extensions as JSONExtensions, IJSONContributionRegistry } from 'vs/platform/jsonschemas/common/jsonContributionRegistry';\nimport * as platform from 'vs/platform/registry/common/platform';\n\n//  ------ API types\n\n\n// icon registry\nexport const Extensions = {\n\tIconContribution: 'base.contributions.icons'\n};\n\nexport type IconDefaults = ThemeIcon | IconDefinition;\n\nexport interface IconDefinition {\n\tfont?: IconFontContribution; // undefined for the default font (codicon)\n\tfontCharacter: string;\n}\n\n\nexport interface IconContribution {\n\treadonly id: string;\n\tdescription: string | undefined;\n\tdeprecationMessage?: string;\n\treadonly defaults: IconDefaults;\n}\n\nexport namespace IconContribution {\n\texport function getDefinition(contribution: IconContribution, registry: IIconRegistry): IconDefinition | undefined {\n\t\tlet definition = contribution.defaults;\n\t\twhile (ThemeIcon.isThemeIcon(definition)) {\n\t\t\tconst c = iconRegistry.getIcon(definition.id);\n\t\t\tif (!c) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tdefinition = c.defaults;\n\t\t}\n\t\treturn definition;\n\t}\n}\n\nexport interface IconFontContribution {\n\treadonly id: string;\n\treadonly definition: IconFontDefinition;\n}\n\nexport interface IconFontDefinition {\n\treadonly weight?: string;\n\treadonly style?: string;\n\treadonly src: IconFontSource[];\n}\n\nexport namespace IconFontDefinition {\n\texport function toJSONObject(iconFont: IconFontDefinition): any {\n\t\treturn {\n\t\t\tweight: iconFont.weight,\n\t\t\tstyle: iconFont.style,\n\t\t\tsrc: iconFont.src.map(s => ({ format: s.format, location: s.location.toString() }))\n\t\t};\n\t}\n\texport function fromJSONObject(json: any): IconFontDefinition | undefined {\n\t\tconst stringOrUndef = (s: any) => isString(s) ? s : undefined;\n\t\tif (json && Array.isArray(json.src) && json.src.every((s: any) => isString(s.format) && isString(s.location))) {\n\t\t\treturn {\n\t\t\t\tweight: stringOrUndef(json.weight),\n\t\t\t\tstyle: stringOrUndef(json.style),\n\t\t\t\tsrc: json.src.map((s: any) => ({ format: s.format, location: URI.parse(s.location) }))\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\n\nexport interface IconFontSource {\n\treadonly location: URI;\n\treadonly format: string;\n}\n\nexport interface IIconRegistry {\n\n\treadonly onDidChange: Event<void>;\n\n\t/**\n\t * Register a icon to the registry.\n\t * @param id The icon id\n\t * @param defaults The default values\n\t * @param description The description\n\t */\n\tregisterIcon(id: IconIdentifier, defaults: IconDefaults, description?: string): ThemeIcon;\n\n\t/**\n\t * Deregister a icon from the registry.\n\t */\n\tderegisterIcon(id: IconIdentifier): void;\n\n\t/**\n\t * Get all icon contributions\n\t */\n\tgetIcons(): IconContribution[];\n\n\t/**\n\t * Get the icon for the given id\n\t */\n\tgetIcon(id: IconIdentifier): IconContribution | undefined;\n\n\t/**\n\t * JSON schema for an object to assign icon values to one of the icon contributions.\n\t */\n\tgetIconSchema(): IJSONSchema;\n\n\t/**\n\t * JSON schema to for a reference to a icon contribution.\n\t */\n\tgetIconReferenceSchema(): IJSONSchema;\n\n\t/**\n\t * Register a icon font to the registry.\n\t * @param id The icon font id\n\t * @param definition The icon font definition\n\t */\n\tregisterIconFont(id: string, definition: IconFontDefinition): IconFontDefinition;\n\n\t/**\n\t * Deregister an icon font to the registry.\n\t */\n\tderegisterIconFont(id: string): void;\n\n\t/**\n\t * Get the icon font for the given id\n\t */\n\tgetIconFont(id: string): IconFontDefinition | undefined;\n}\n\nclass IconRegistry implements IIconRegistry {\n\n\tprivate readonly _onDidChange = new Emitter<void>();\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tprivate iconsById: { [key: string]: IconContribution };\n\tprivate iconSchema: IJSONSchema & { properties: IJSONSchemaMap } = {\n\t\tdefinitions: {\n\t\t\ticons: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tfontId: { type: 'string', description: localize('iconDefinition.fontId', 'The id of the font to use. If not set, the font that is defined first is used.') },\n\t\t\t\t\tfontCharacter: { type: 'string', description: localize('iconDefinition.fontCharacter', 'The font character associated with the icon definition.') }\n\t\t\t\t},\n\t\t\t\tadditionalProperties: false,\n\t\t\t\tdefaultSnippets: [{ body: { fontCharacter: '\\\\\\\\e030' } }]\n\t\t\t}\n\t\t},\n\t\ttype: 'object',\n\t\tproperties: {}\n\t};\n\tprivate iconReferenceSchema: IJSONSchema & { enum: string[]; enumDescriptions: string[] } = { type: 'string', pattern: `^${ThemeIcon.iconNameExpression}$`, enum: [], enumDescriptions: [] };\n\n\tprivate iconFontsById: { [key: string]: IconFontDefinition };\n\n\tconstructor() {\n\t\tthis.iconsById = {};\n\t\tthis.iconFontsById = {};\n\t}\n\n\tpublic registerIcon(id: string, defaults: IconDefaults, description?: string, deprecationMessage?: string): ThemeIcon {\n\t\tconst existing = this.iconsById[id];\n\t\tif (existing) {\n\t\t\tif (description && !existing.description) {\n\t\t\t\texisting.description = description;\n\t\t\t\tthis.iconSchema.properties[id].markdownDescription = `${description} $(${id})`;\n\t\t\t\tconst enumIndex = this.iconReferenceSchema.enum.indexOf(id);\n\t\t\t\tif (enumIndex !== -1) {\n\t\t\t\t\tthis.iconReferenceSchema.enumDescriptions[enumIndex] = description;\n\t\t\t\t}\n\t\t\t\tthis._onDidChange.fire();\n\t\t\t}\n\t\t\treturn existing;\n\t\t}\n\t\tconst iconContribution: IconContribution = { id, description, defaults, deprecationMessage };\n\t\tthis.iconsById[id] = iconContribution;\n\t\tconst propertySchema: IJSONSchema = { $ref: '#/definitions/icons' };\n\t\tif (deprecationMessage) {\n\t\t\tpropertySchema.deprecationMessage = deprecationMessage;\n\t\t}\n\t\tif (description) {\n\t\t\tpropertySchema.markdownDescription = `${description}: $(${id})`;\n\t\t}\n\t\tthis.iconSchema.properties[id] = propertySchema;\n\t\tthis.iconReferenceSchema.enum.push(id);\n\t\tthis.iconReferenceSchema.enumDescriptions.push(description || '');\n\n\t\tthis._onDidChange.fire();\n\t\treturn { id };\n\t}\n\n\n\tpublic deregisterIcon(id: string): void {\n\t\tdelete this.iconsById[id];\n\t\tdelete this.iconSchema.properties[id];\n\t\tconst index = this.iconReferenceSchema.enum.indexOf(id);\n\t\tif (index !== -1) {\n\t\t\tthis.iconReferenceSchema.enum.splice(index, 1);\n\t\t\tthis.iconReferenceSchema.enumDescriptions.splice(index, 1);\n\t\t}\n\t\tthis._onDidChange.fire();\n\t}\n\n\tpublic getIcons(): IconContribution[] {\n\t\treturn Object.keys(this.iconsById).map(id => this.iconsById[id]);\n\t}\n\n\tpublic getIcon(id: string): IconContribution | undefined {\n\t\treturn this.iconsById[id];\n\t}\n\n\tpublic getIconSchema(): IJSONSchema {\n\t\treturn this.iconSchema;\n\t}\n\n\tpublic getIconReferenceSchema(): IJSONSchema {\n\t\treturn this.iconReferenceSchema;\n\t}\n\n\tpublic registerIconFont(id: string, definition: IconFontDefinition): IconFontDefinition {\n\t\tconst existing = this.iconFontsById[id];\n\t\tif (existing) {\n\t\t\treturn existing;\n\t\t}\n\t\tthis.iconFontsById[id] = definition;\n\t\tthis._onDidChange.fire();\n\t\treturn definition;\n\t}\n\n\tpublic deregisterIconFont(id: string): void {\n\t\tdelete this.iconFontsById[id];\n\t}\n\n\tpublic getIconFont(id: string): IconFontDefinition | undefined {\n\t\treturn this.iconFontsById[id];\n\t}\n\n\tpublic toString() {\n\t\tconst sorter = (i1: IconContribution, i2: IconContribution) => {\n\t\t\treturn i1.id.localeCompare(i2.id);\n\t\t};\n\t\tconst classNames = (i: IconContribution) => {\n\t\t\twhile (ThemeIcon.isThemeIcon(i.defaults)) {\n\t\t\t\ti = this.iconsById[i.defaults.id];\n\t\t\t}\n\t\t\treturn `codicon codicon-${i ? i.id : ''}`;\n\t\t};\n\n\t\tconst reference = [];\n\n\t\treference.push(`| preview     | identifier                        | default codicon ID                | description`);\n\t\treference.push(`| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |`);\n\t\tconst contributions = Object.keys(this.iconsById).map(key => this.iconsById[key]);\n\n\t\tfor (const i of contributions.filter(i => !!i.description).sort(sorter)) {\n\t\t\treference.push(`|<i class=\"${classNames(i)}\"></i>|${i.id}|${ThemeIcon.isThemeIcon(i.defaults) ? i.defaults.id : i.id}|${i.description || ''}|`);\n\t\t}\n\n\t\treference.push(`| preview     | identifier                        `);\n\t\treference.push(`| ----------- | --------------------------------- |`);\n\n\t\tfor (const i of contributions.filter(i => !ThemeIcon.isThemeIcon(i.defaults)).sort(sorter)) {\n\t\t\treference.push(`|<i class=\"${classNames(i)}\"></i>|${i.id}|`);\n\n\t\t}\n\n\t\treturn reference.join('\\n');\n\t}\n\n}\n\nconst iconRegistry = new IconRegistry();\nplatform.Registry.add(Extensions.IconContribution, iconRegistry);\n\nexport function registerIcon(id: string, defaults: IconDefaults, description: string, deprecationMessage?: string): ThemeIcon {\n\treturn iconRegistry.registerIcon(id, defaults, description, deprecationMessage);\n}\n\nexport function getIconRegistry(): IIconRegistry {\n\treturn iconRegistry;\n}\n\nfunction initialize() {\n\tconst codiconFontCharacters = getCodiconFontCharacters();\n\tfor (const icon in codiconFontCharacters) {\n\t\tconst fontCharacter = '\\\\' + codiconFontCharacters[icon].toString(16);\n\t\ticonRegistry.registerIcon(icon, { fontCharacter });\n\t}\n}\ninitialize();\n\nexport const iconsSchemaId = 'vscode://schemas/icons';\n\nconst schemaRegistry = platform.Registry.as<IJSONContributionRegistry>(JSONExtensions.JSONContribution);\nschemaRegistry.registerSchema(iconsSchemaId, iconRegistry.getIconSchema());\n\nconst delayer = new RunOnceScheduler(() => schemaRegistry.notifySchemaChanged(iconsSchemaId), 200);\niconRegistry.onDidChange(() => {\n\tif (!delayer.isScheduled()) {\n\t\tdelayer.schedule();\n\t}\n});\n\n\n//setTimeout(_ => console.log(iconRegistry.toString()), 5000);\n\n\n// common icons\n\nexport const widgetClose = registerIcon('widget-close', Codicon.close, localize('widgetClose', 'Icon for the close action in widgets.'));\n\nexport const gotoPreviousLocation = registerIcon('goto-previous-location', Codicon.arrowUp, localize('previousChangeIcon', 'Icon for goto previous editor location.'));\nexport const gotoNextLocation = registerIcon('goto-next-location', Codicon.arrowDown, localize('nextChangeIcon', 'Icon for goto next editor location.'));\n\nexport const syncing = ThemeIcon.modify(Codicon.sync, 'spin');\nexport const spinningLoading = ThemeIcon.modify(Codicon.loading, 'spin');\n"]}
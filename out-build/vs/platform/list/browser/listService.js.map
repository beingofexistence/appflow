{"version":3,"sources":["vs/platform/list/browser/listService.ts"],"names":[],"mappings":"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","file":"listService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createStyleSheet } from 'vs/base/browser/dom';\nimport { IContextViewProvider } from 'vs/base/browser/ui/contextview/contextview';\nimport { IListMouseEvent, IListRenderer, IListTouchEvent, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { IPagedListOptions, IPagedRenderer, PagedList } from 'vs/base/browser/ui/list/listPaging';\nimport { DefaultStyleController, IKeyboardNavigationEventFilter, IListAccessibilityProvider, IListOptions, IListOptionsUpdate, IListStyles, IMultipleSelectionController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from 'vs/base/browser/ui/list/listWidget';\nimport { ITableColumn, ITableRenderer, ITableVirtualDelegate } from 'vs/base/browser/ui/table/table';\nimport { ITableOptions, ITableOptionsUpdate, ITableStyles, Table } from 'vs/base/browser/ui/table/tableWidget';\nimport { TreeFindMode, IAbstractTreeOptions, IAbstractTreeOptionsUpdate, RenderIndentGuides, TreeFindMatchType } from 'vs/base/browser/ui/tree/abstractTree';\nimport { AsyncDataTree, CompressibleAsyncDataTree, IAsyncDataTreeOptions, IAsyncDataTreeOptionsUpdate, ICompressibleAsyncDataTreeOptions, ICompressibleAsyncDataTreeOptionsUpdate, ITreeCompressionDelegate } from 'vs/base/browser/ui/tree/asyncDataTree';\nimport { DataTree, IDataTreeOptions } from 'vs/base/browser/ui/tree/dataTree';\nimport { CompressibleObjectTree, ICompressibleObjectTreeOptions, ICompressibleObjectTreeOptionsUpdate, ICompressibleTreeRenderer, IObjectTreeOptions, ObjectTree } from 'vs/base/browser/ui/tree/objectTree';\nimport { IAsyncDataSource, IDataSource, ITreeEvent, ITreeRenderer } from 'vs/base/browser/ui/tree/tree';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, IDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { localize } from 'vs/nls';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { Extensions as ConfigurationExtensions, IConfigurationRegistry } from 'vs/platform/configuration/common/configurationRegistry';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, IScopedContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { InputFocusedContextKey } from 'vs/platform/contextkey/common/contextkeys';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { IEditorOptions } from 'vs/platform/editor/common/editor';\nimport { createDecorator, IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { ResultKind } from 'vs/platform/keybinding/common/keybindingResolver';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IStyleOverride, defaultFindWidgetStyles, defaultListStyles, getListStyles } from 'vs/platform/theme/browser/defaultStyles';\n\nexport type ListWidget = List<any> | PagedList<any> | ObjectTree<any, any> | DataTree<any, any, any> | AsyncDataTree<any, any, any> | Table<any>;\nexport type WorkbenchListWidget = WorkbenchList<any> | WorkbenchPagedList<any> | WorkbenchObjectTree<any, any> | WorkbenchCompressibleObjectTree<any, any> | WorkbenchDataTree<any, any, any> | WorkbenchAsyncDataTree<any, any, any> | WorkbenchCompressibleAsyncDataTree<any, any, any> | WorkbenchTable<any>;\n\nexport const IListService = createDecorator<IListService>('listService');\n\nexport interface IListService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Returns the currently focused list widget if any.\n\t */\n\treadonly lastFocusedList: WorkbenchListWidget | undefined;\n}\n\ninterface IRegisteredList {\n\twidget: WorkbenchListWidget;\n\textraContextKeys?: (IContextKey<boolean>)[];\n}\n\nexport class ListService implements IListService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly disposables = new DisposableStore();\n\tprivate lists: IRegisteredList[] = [];\n\tprivate _lastFocusedWidget: WorkbenchListWidget | undefined = undefined;\n\tprivate _hasCreatedStyleController: boolean = false;\n\n\tget lastFocusedList(): WorkbenchListWidget | undefined {\n\t\treturn this._lastFocusedWidget;\n\t}\n\n\tconstructor() { }\n\n\tprivate setLastFocusedList(widget: WorkbenchListWidget | undefined): void {\n\t\tif (widget === this._lastFocusedWidget) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._lastFocusedWidget?.getHTMLElement().classList.remove('last-focused');\n\t\tthis._lastFocusedWidget = widget;\n\t\tthis._lastFocusedWidget?.getHTMLElement().classList.add('last-focused');\n\t}\n\n\tregister(widget: WorkbenchListWidget, extraContextKeys?: (IContextKey<boolean>)[]): IDisposable {\n\t\tif (!this._hasCreatedStyleController) {\n\t\t\tthis._hasCreatedStyleController = true;\n\t\t\t// create a shared default tree style sheet for performance reasons\n\t\t\tconst styleController = new DefaultStyleController(createStyleSheet(), '');\n\t\t\tstyleController.style(defaultListStyles);\n\t\t}\n\n\t\tif (this.lists.some(l => l.widget === widget)) {\n\t\t\tthrow new Error('Cannot register the same widget multiple times');\n\t\t}\n\n\t\t// Keep in our lists list\n\t\tconst registeredList: IRegisteredList = { widget, extraContextKeys };\n\t\tthis.lists.push(registeredList);\n\n\t\t// Check for currently being focused\n\t\tif (widget.getHTMLElement() === document.activeElement) {\n\t\t\tthis.setLastFocusedList(widget);\n\t\t}\n\n\t\treturn combinedDisposable(\n\t\t\twidget.onDidFocus(() => this.setLastFocusedList(widget)),\n\t\t\ttoDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)),\n\t\t\twidget.onDidDispose(() => {\n\t\t\t\tthis.lists = this.lists.filter(l => l !== registeredList);\n\t\t\t\tif (this._lastFocusedWidget === widget) {\n\t\t\t\t\tthis.setLastFocusedList(undefined);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables.dispose();\n\t}\n}\n\nexport const RawWorkbenchListScrollAtBoundaryContextKey = new RawContextKey<'none' | 'top' | 'bottom' | 'both'>('listScrollAtBoundary', 'none');\nexport const WorkbenchListScrollAtTopContextKey = ContextKeyExpr.or(\n\tRawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('top'),\n\tRawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const WorkbenchListScrollAtBottomContextKey = ContextKeyExpr.or(\n\tRawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('bottom'),\n\tRawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\n\nexport const RawWorkbenchListFocusContextKey = new RawContextKey<boolean>('listFocus', true);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey<boolean>('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey<boolean>('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey<boolean>('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey<boolean>('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey<boolean>('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey<boolean>('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey<boolean>('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey<boolean>('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey<boolean>('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey<boolean>('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey<boolean>('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\n\nfunction createScopedContextKeyService(contextKeyService: IContextKeyService, widget: ListWidget): IScopedContextKeyService {\n\tconst result = contextKeyService.createScoped(widget.getHTMLElement());\n\tRawWorkbenchListFocusContextKey.bindTo(result);\n\treturn result;\n}\n\n// Note: We must declare IScrollObservarable as the arithmetic of concrete classes,\n// instead of object type like { onDidScroll: Event<any>; ... }. The latter will not mark\n// those properties as referenced during tree-shaking, causing them to be shaked away.\ntype IScrollObservarable = Exclude<WorkbenchListWidget, WorkbenchPagedList<any>> | List<any>;\n\nfunction createScrollObserver(contextKeyService: IContextKeyService, widget: IScrollObservarable): IDisposable {\n\tconst listScrollAt = RawWorkbenchListScrollAtBoundaryContextKey.bindTo(contextKeyService);\n\tconst update = () => {\n\t\tconst atTop = widget.scrollTop === 0;\n\n\t\t// We need a threshold `1` since scrollHeight is rounded.\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#determine_if_an_element_has_been_totally_scrolled\n\t\tconst atBottom = widget.scrollHeight - widget.renderHeight - widget.scrollTop < 1;\n\t\tif (atTop && atBottom) {\n\t\t\tlistScrollAt.set('both');\n\t\t} else if (atTop) {\n\t\t\tlistScrollAt.set('top');\n\t\t} else if (atBottom) {\n\t\t\tlistScrollAt.set('bottom');\n\t\t} else {\n\t\t\tlistScrollAt.set('none');\n\t\t}\n\t};\n\tupdate();\n\treturn widget.onDidScroll(update);\n}\n\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\n\nfunction useAltAsMultipleSelectionModifier(configurationService: IConfigurationService): boolean {\n\treturn configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\n\nclass MultipleSelectionController<T> extends Disposable implements IMultipleSelectionController<T> {\n\tprivate useAltAsMultipleSelectionModifier: boolean;\n\n\tconstructor(private configurationService: IConfigurationService) {\n\t\tsuper();\n\n\t\tthis.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n\t\t\t\tthis.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n\t\t\t}\n\t\t}));\n\t}\n\n\tisSelectionSingleChangeEvent(event: IListMouseEvent<T> | IListTouchEvent<T>): boolean {\n\t\tif (this.useAltAsMultipleSelectionModifier) {\n\t\t\treturn event.browserEvent.altKey;\n\t\t}\n\n\t\treturn isSelectionSingleChangeEvent(event);\n\t}\n\n\tisSelectionRangeChangeEvent(event: IListMouseEvent<T> | IListTouchEvent<T>): boolean {\n\t\treturn isSelectionRangeChangeEvent(event);\n\t}\n}\n\nfunction toWorkbenchListOptions<T>(\n\taccessor: ServicesAccessor,\n\toptions: IListOptions<T>,\n): [IListOptions<T>, IDisposable] {\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst keybindingService = accessor.get(IKeybindingService);\n\n\tconst disposables = new DisposableStore();\n\tconst result: IListOptions<T> = {\n\t\t...options,\n\t\tkeyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } },\n\t\tsmoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)),\n\t\tmouseWheelScrollSensitivity: configurationService.getValue<number>(mouseWheelScrollSensitivityKey),\n\t\tfastScrollSensitivity: configurationService.getValue<number>(fastScrollSensitivityKey),\n\t\tmultipleSelectionController: options.multipleSelectionController ?? disposables.add(new MultipleSelectionController(configurationService)),\n\t\tkeyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService),\n\t\tscrollByPage: Boolean(configurationService.getValue(scrollByPageKey))\n\t};\n\n\treturn [result, disposables];\n}\n\nexport interface IWorkbenchListOptionsUpdate extends IListOptionsUpdate {\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n}\n\nexport interface IWorkbenchListOptions<T> extends IWorkbenchListOptionsUpdate, IResourceNavigatorOptions, IListOptions<T> {\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchList<T> extends List<T> {\n\n\treadonly contextKeyService: IScopedContextKeyService;\n\tprivate listSupportsMultiSelect: IContextKey<boolean>;\n\tprivate listHasSelectionOrFocus: IContextKey<boolean>;\n\tprivate listDoubleSelection: IContextKey<boolean>;\n\tprivate listMultiSelection: IContextKey<boolean>;\n\tprivate horizontalScrolling: boolean | undefined;\n\tprivate _useAltAsMultipleSelectionModifier: boolean;\n\tprivate navigator: ListResourceNavigator<T>;\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.navigator.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<T>,\n\t\trenderers: IListRenderer<T, any>[],\n\t\toptions: IWorkbenchListOptions<T>,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tconst horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\tconst [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n\n\t\tsuper(user, container, delegate, renderers,\n\t\t\t{\n\t\t\t\tkeyboardSupport: false,\n\t\t\t\t...workbenchListOptions,\n\t\t\t\thorizontalScrolling,\n\t\t\t}\n\t\t);\n\n\t\tthis.disposables.add(workbenchListOptionsDisposable);\n\n\t\tthis.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n\n\t\tthis.disposables.add(createScrollObserver(this.contextKeyService, this));\n\n\t\tthis.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n\t\tthis.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n\n\t\tconst listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n\t\tlistSelectionNavigation.set(Boolean(options.selectionNavigation));\n\n\t\tthis.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n\t\tthis.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n\t\tthis.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n\t\tthis.horizontalScrolling = options.horizontalScrolling;\n\n\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\n\t\tthis.disposables.add(this.contextKeyService);\n\t\tthis.disposables.add((listService as ListService).register(this));\n\n\t\tthis.updateStyles(options.overrideStyles);\n\n\t\tthis.disposables.add(this.onDidChangeSelection(() => {\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst focus = this.getFocus();\n\n\t\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\t\tthis.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n\t\t\t\tthis.listMultiSelection.set(selection.length > 1);\n\t\t\t\tthis.listDoubleSelection.set(selection.length === 2);\n\t\t\t});\n\t\t}));\n\t\tthis.disposables.add(this.onDidChangeFocus(() => {\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst focus = this.getFocus();\n\n\t\t\tthis.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n\t\t}));\n\t\tthis.disposables.add(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n\t\t\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\t\t\t}\n\n\t\t\tlet options: IListOptionsUpdate = {};\n\n\t\t\tif (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n\t\t\t\tconst horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\t\t\toptions = { ...options, horizontalScrolling };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(scrollByPageKey)) {\n\t\t\t\tconst scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n\t\t\t\toptions = { ...options, scrollByPage };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(listSmoothScrolling)) {\n\t\t\t\tconst smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n\t\t\t\toptions = { ...options, smoothScrolling };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n\t\t\t\tconst mouseWheelScrollSensitivity = configurationService.getValue<number>(mouseWheelScrollSensitivityKey);\n\t\t\t\toptions = { ...options, mouseWheelScrollSensitivity };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(fastScrollSensitivityKey)) {\n\t\t\t\tconst fastScrollSensitivity = configurationService.getValue<number>(fastScrollSensitivityKey);\n\t\t\t\toptions = { ...options, fastScrollSensitivity };\n\t\t\t}\n\t\t\tif (Object.keys(options).length > 0) {\n\t\t\t\tthis.updateOptions(options);\n\t\t\t}\n\t\t}));\n\n\t\tthis.navigator = new ListResourceNavigator(this, { configurationService, ...options });\n\t\tthis.disposables.add(this.navigator);\n\t}\n\n\toverride updateOptions(options: IWorkbenchListOptionsUpdate): void {\n\t\tsuper.updateOptions(options);\n\n\t\tif (options.overrideStyles !== undefined) {\n\t\t\tthis.updateStyles(options.overrideStyles);\n\t\t}\n\n\t\tif (options.multipleSelectionSupport !== undefined) {\n\t\t\tthis.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n\t\t}\n\t}\n\n\tprivate updateStyles(styles: IStyleOverride<IListStyles> | undefined): void {\n\t\tthis.style(styles ? getListStyles(styles) : defaultListStyles);\n\t}\n\n\tget useAltAsMultipleSelectionModifier(): boolean {\n\t\treturn this._useAltAsMultipleSelectionModifier;\n\t}\n}\n\nexport interface IWorkbenchPagedListOptions<T> extends IWorkbenchListOptionsUpdate, IResourceNavigatorOptions, IPagedListOptions<T> {\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchPagedList<T> extends PagedList<T> {\n\n\treadonly contextKeyService: IScopedContextKeyService;\n\tprivate readonly disposables: DisposableStore;\n\tprivate listSupportsMultiSelect: IContextKey<boolean>;\n\tprivate _useAltAsMultipleSelectionModifier: boolean;\n\tprivate horizontalScrolling: boolean | undefined;\n\tprivate navigator: ListResourceNavigator<T>;\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.navigator.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<number>,\n\t\trenderers: IPagedRenderer<T, any>[],\n\t\toptions: IWorkbenchPagedListOptions<T>,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tconst horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\tconst [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n\t\tsuper(user, container, delegate, renderers,\n\t\t\t{\n\t\t\t\tkeyboardSupport: false,\n\t\t\t\t...workbenchListOptions,\n\t\t\t\thorizontalScrolling,\n\t\t\t}\n\t\t);\n\n\t\tthis.disposables = new DisposableStore();\n\t\tthis.disposables.add(workbenchListOptionsDisposable);\n\n\t\tthis.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n\n\t\tthis.disposables.add(createScrollObserver(this.contextKeyService, this.widget));\n\n\t\tthis.horizontalScrolling = options.horizontalScrolling;\n\n\t\tthis.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n\t\tthis.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n\n\t\tconst listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n\t\tlistSelectionNavigation.set(Boolean(options.selectionNavigation));\n\n\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\n\t\tthis.disposables.add(this.contextKeyService);\n\t\tthis.disposables.add((listService as ListService).register(this));\n\n\t\tthis.updateStyles(options.overrideStyles);\n\n\t\tthis.disposables.add(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n\t\t\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\t\t\t}\n\n\t\t\tlet options: IListOptionsUpdate = {};\n\n\t\t\tif (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n\t\t\t\tconst horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\t\t\toptions = { ...options, horizontalScrolling };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(scrollByPageKey)) {\n\t\t\t\tconst scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n\t\t\t\toptions = { ...options, scrollByPage };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(listSmoothScrolling)) {\n\t\t\t\tconst smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n\t\t\t\toptions = { ...options, smoothScrolling };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n\t\t\t\tconst mouseWheelScrollSensitivity = configurationService.getValue<number>(mouseWheelScrollSensitivityKey);\n\t\t\t\toptions = { ...options, mouseWheelScrollSensitivity };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(fastScrollSensitivityKey)) {\n\t\t\t\tconst fastScrollSensitivity = configurationService.getValue<number>(fastScrollSensitivityKey);\n\t\t\t\toptions = { ...options, fastScrollSensitivity };\n\t\t\t}\n\t\t\tif (Object.keys(options).length > 0) {\n\t\t\t\tthis.updateOptions(options);\n\t\t\t}\n\t\t}));\n\n\t\tthis.navigator = new ListResourceNavigator(this, { configurationService, ...options });\n\t\tthis.disposables.add(this.navigator);\n\t}\n\n\toverride updateOptions(options: IWorkbenchListOptionsUpdate): void {\n\t\tsuper.updateOptions(options);\n\n\t\tif (options.overrideStyles !== undefined) {\n\t\t\tthis.updateStyles(options.overrideStyles);\n\t\t}\n\n\t\tif (options.multipleSelectionSupport !== undefined) {\n\t\t\tthis.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n\t\t}\n\t}\n\n\tprivate updateStyles(styles: IStyleOverride<IListStyles> | undefined): void {\n\t\tthis.style(styles ? getListStyles(styles) : defaultListStyles);\n\t}\n\n\tget useAltAsMultipleSelectionModifier(): boolean {\n\t\treturn this._useAltAsMultipleSelectionModifier;\n\t}\n\n\toverride dispose(): void {\n\t\tthis.disposables.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nexport interface IWorkbenchTableOptionsUpdate extends ITableOptionsUpdate {\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n}\n\nexport interface IWorkbenchTableOptions<T> extends IWorkbenchTableOptionsUpdate, IResourceNavigatorOptions, ITableOptions<T> {\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchTable<TRow> extends Table<TRow> {\n\n\treadonly contextKeyService: IScopedContextKeyService;\n\tprivate listSupportsMultiSelect: IContextKey<boolean>;\n\tprivate listHasSelectionOrFocus: IContextKey<boolean>;\n\tprivate listDoubleSelection: IContextKey<boolean>;\n\tprivate listMultiSelection: IContextKey<boolean>;\n\tprivate horizontalScrolling: boolean | undefined;\n\tprivate _useAltAsMultipleSelectionModifier: boolean;\n\tprivate navigator: TableResourceNavigator<TRow>;\n\tget onDidOpen(): Event<IOpenEvent<TRow | undefined>> { return this.navigator.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: ITableVirtualDelegate<TRow>,\n\t\tcolumns: ITableColumn<TRow, any>[],\n\t\trenderers: ITableRenderer<TRow, any>[],\n\t\toptions: IWorkbenchTableOptions<TRow>,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tconst horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\tconst [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n\n\t\tsuper(user, container, delegate, columns, renderers,\n\t\t\t{\n\t\t\t\tkeyboardSupport: false,\n\t\t\t\t...workbenchListOptions,\n\t\t\t\thorizontalScrolling,\n\t\t\t}\n\t\t);\n\n\t\tthis.disposables.add(workbenchListOptionsDisposable);\n\n\t\tthis.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n\n\t\tthis.disposables.add(createScrollObserver(this.contextKeyService, this));\n\n\t\tthis.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n\t\tthis.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n\n\t\tconst listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n\t\tlistSelectionNavigation.set(Boolean(options.selectionNavigation));\n\n\t\tthis.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n\t\tthis.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n\t\tthis.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n\t\tthis.horizontalScrolling = options.horizontalScrolling;\n\n\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\n\t\tthis.disposables.add(this.contextKeyService);\n\t\tthis.disposables.add((listService as ListService).register(this));\n\n\t\tthis.updateStyles(options.overrideStyles);\n\n\t\tthis.disposables.add(this.onDidChangeSelection(() => {\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst focus = this.getFocus();\n\n\t\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\t\tthis.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n\t\t\t\tthis.listMultiSelection.set(selection.length > 1);\n\t\t\t\tthis.listDoubleSelection.set(selection.length === 2);\n\t\t\t});\n\t\t}));\n\t\tthis.disposables.add(this.onDidChangeFocus(() => {\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst focus = this.getFocus();\n\n\t\t\tthis.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n\t\t}));\n\t\tthis.disposables.add(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n\t\t\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\t\t\t}\n\n\t\t\tlet options: IListOptionsUpdate = {};\n\n\t\t\tif (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n\t\t\t\tconst horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\t\t\toptions = { ...options, horizontalScrolling };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(scrollByPageKey)) {\n\t\t\t\tconst scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n\t\t\t\toptions = { ...options, scrollByPage };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(listSmoothScrolling)) {\n\t\t\t\tconst smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n\t\t\t\toptions = { ...options, smoothScrolling };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n\t\t\t\tconst mouseWheelScrollSensitivity = configurationService.getValue<number>(mouseWheelScrollSensitivityKey);\n\t\t\t\toptions = { ...options, mouseWheelScrollSensitivity };\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(fastScrollSensitivityKey)) {\n\t\t\t\tconst fastScrollSensitivity = configurationService.getValue<number>(fastScrollSensitivityKey);\n\t\t\t\toptions = { ...options, fastScrollSensitivity };\n\t\t\t}\n\t\t\tif (Object.keys(options).length > 0) {\n\t\t\t\tthis.updateOptions(options);\n\t\t\t}\n\t\t}));\n\n\t\tthis.navigator = new TableResourceNavigator(this, { configurationService, ...options });\n\t\tthis.disposables.add(this.navigator);\n\t}\n\n\toverride updateOptions(options: IWorkbenchTableOptionsUpdate): void {\n\t\tsuper.updateOptions(options);\n\n\t\tif (options.overrideStyles !== undefined) {\n\t\t\tthis.updateStyles(options.overrideStyles);\n\t\t}\n\n\t\tif (options.multipleSelectionSupport !== undefined) {\n\t\t\tthis.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n\t\t}\n\t}\n\n\tprivate updateStyles(styles: IStyleOverride<ITableStyles> | undefined): void {\n\t\tthis.style(styles ? getListStyles(styles) : defaultListStyles);\n\t}\n\n\tget useAltAsMultipleSelectionModifier(): boolean {\n\t\treturn this._useAltAsMultipleSelectionModifier;\n\t}\n\n\toverride dispose(): void {\n\t\tthis.disposables.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nexport interface IOpenResourceOptions {\n\teditorOptions: IEditorOptions;\n\tsideBySide: boolean;\n\telement: any;\n\tpayload: any;\n}\n\nexport interface IOpenEvent<T> {\n\teditorOptions: IEditorOptions;\n\tsideBySide: boolean;\n\telement: T;\n\tbrowserEvent?: UIEvent;\n}\n\nexport interface IResourceNavigatorOptions {\n\treadonly configurationService?: IConfigurationService;\n\treadonly openOnSingleClick?: boolean;\n}\n\nexport interface SelectionKeyboardEvent extends KeyboardEvent {\n\tpreserveFocus?: boolean;\n\tpinned?: boolean;\n\t__forceEvent?: boolean;\n}\n\nexport function getSelectionKeyboardEvent(typeArg = 'keydown', preserveFocus?: boolean, pinned?: boolean): SelectionKeyboardEvent {\n\tconst e = new KeyboardEvent(typeArg);\n\t(<SelectionKeyboardEvent>e).preserveFocus = preserveFocus;\n\t(<SelectionKeyboardEvent>e).pinned = pinned;\n\t(<SelectionKeyboardEvent>e).__forceEvent = true;\n\n\treturn e;\n}\n\nabstract class ResourceNavigator<T> extends Disposable {\n\n\tprivate openOnSingleClick: boolean;\n\n\tprivate readonly _onDidOpen = this._register(new Emitter<IOpenEvent<T | undefined>>());\n\treadonly onDidOpen: Event<IOpenEvent<T | undefined>> = this._onDidOpen.event;\n\n\tconstructor(\n\t\tprotected readonly widget: ListWidget,\n\t\toptions?: IResourceNavigatorOptions\n\t) {\n\t\tsuper();\n\n\t\tthis._register(Event.filter(this.widget.onDidChangeSelection, e => e.browserEvent instanceof KeyboardEvent)(e => this.onSelectionFromKeyboard(e)));\n\t\tthis._register(this.widget.onPointer((e: { browserEvent: MouseEvent; element: T | undefined }) => this.onPointer(e.element, e.browserEvent)));\n\t\tthis._register(this.widget.onMouseDblClick((e: { browserEvent: MouseEvent; element: T | undefined }) => this.onMouseDblClick(e.element, e.browserEvent)));\n\n\t\tif (typeof options?.openOnSingleClick !== 'boolean' && options?.configurationService) {\n\t\t\tthis.openOnSingleClick = options?.configurationService!.getValue(openModeSettingKey) !== 'doubleClick';\n\t\t\tthis._register(options?.configurationService.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration(openModeSettingKey)) {\n\t\t\t\t\tthis.openOnSingleClick = options?.configurationService!.getValue(openModeSettingKey) !== 'doubleClick';\n\t\t\t\t}\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.openOnSingleClick = options?.openOnSingleClick ?? true;\n\t\t}\n\t}\n\n\tprivate onSelectionFromKeyboard(event: ITreeEvent<any>): void {\n\t\tif (event.elements.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectionKeyboardEvent = event.browserEvent as SelectionKeyboardEvent;\n\t\tconst preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus! : true;\n\t\tconst pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned! : !preserveFocus;\n\t\tconst sideBySide = false;\n\n\t\tthis._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n\t}\n\n\tprivate onPointer(element: T | undefined, browserEvent: MouseEvent): void {\n\t\tif (!this.openOnSingleClick) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isDoubleClick = browserEvent.detail === 2;\n\n\t\tif (isDoubleClick) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isMiddleClick = browserEvent.button === 1;\n\t\tconst preserveFocus = true;\n\t\tconst pinned = isMiddleClick;\n\t\tconst sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n\n\t\tthis._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n\t}\n\n\tprivate onMouseDblClick(element: T | undefined, browserEvent?: MouseEvent): void {\n\t\tif (!browserEvent) {\n\t\t\treturn;\n\t\t}\n\n\t\t// copied from AbstractTree\n\t\tconst target = browserEvent.target as HTMLElement;\n\t\tconst onTwistie = target.classList.contains('monaco-tl-twistie')\n\t\t\t|| (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n\n\t\tif (onTwistie) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst preserveFocus = false;\n\t\tconst pinned = true;\n\t\tconst sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n\n\t\tthis._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n\t}\n\n\tprivate _open(element: T | undefined, preserveFocus: boolean, pinned: boolean, sideBySide: boolean, browserEvent?: UIEvent): void {\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onDidOpen.fire({\n\t\t\teditorOptions: {\n\t\t\t\tpreserveFocus,\n\t\t\t\tpinned,\n\t\t\t\trevealIfVisible: true\n\t\t\t},\n\t\t\tsideBySide,\n\t\t\telement,\n\t\t\tbrowserEvent\n\t\t});\n\t}\n\n\tabstract getSelectedElement(): T | undefined;\n}\n\nclass ListResourceNavigator<T> extends ResourceNavigator<T> {\n\n\tprotected override readonly widget: List<T> | PagedList<T>;\n\n\tconstructor(\n\t\twidget: List<T> | PagedList<T>,\n\t\toptions: IResourceNavigatorOptions\n\t) {\n\t\tsuper(widget, options);\n\t\tthis.widget = widget;\n\t}\n\n\tgetSelectedElement(): T | undefined {\n\t\treturn this.widget.getSelectedElements()[0];\n\t}\n}\n\nclass TableResourceNavigator<TRow> extends ResourceNavigator<TRow> {\n\n\tprotected declare readonly widget: Table<TRow>;\n\n\tconstructor(\n\t\twidget: Table<TRow>,\n\t\toptions: IResourceNavigatorOptions\n\t) {\n\t\tsuper(widget, options);\n\t}\n\n\tgetSelectedElement(): TRow | undefined {\n\t\treturn this.widget.getSelectedElements()[0];\n\t}\n}\n\nclass TreeResourceNavigator<T, TFilterData> extends ResourceNavigator<T> {\n\n\tprotected declare readonly widget: ObjectTree<T, TFilterData> | CompressibleObjectTree<T, TFilterData> | DataTree<any, T, TFilterData> | AsyncDataTree<any, T, TFilterData> | CompressibleAsyncDataTree<any, T, TFilterData>;\n\n\tconstructor(\n\t\twidget: ObjectTree<T, TFilterData> | CompressibleObjectTree<T, TFilterData> | DataTree<any, T, TFilterData> | AsyncDataTree<any, T, TFilterData> | CompressibleAsyncDataTree<any, T, TFilterData>,\n\t\toptions: IResourceNavigatorOptions\n\t) {\n\t\tsuper(widget, options);\n\t}\n\n\tgetSelectedElement(): T | undefined {\n\t\treturn this.widget.getSelection()[0] ?? undefined;\n\t}\n}\n\nfunction createKeyboardNavigationEventFilter(keybindingService: IKeybindingService): IKeyboardNavigationEventFilter {\n\tlet inMultiChord = false;\n\n\treturn event => {\n\t\tif (event.toKeyCodeChord().isModifierKey()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (inMultiChord) {\n\t\t\tinMultiChord = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tconst result = keybindingService.softDispatch(event, event.target);\n\n\t\tif (result.kind === ResultKind.MoreChordsNeeded) {\n\t\t\tinMultiChord = true;\n\t\t\treturn false;\n\t\t}\n\n\t\tinMultiChord = false;\n\t\treturn result.kind === ResultKind.NoMatchingKb;\n\t};\n}\n\nexport interface IWorkbenchObjectTreeOptions<T, TFilterData> extends IObjectTreeOptions<T, TFilterData>, IResourceNavigatorOptions {\n\treadonly accessibilityProvider: IListAccessibilityProvider<T>;\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchObjectTree<T extends NonNullable<any>, TFilterData = void> extends ObjectTree<T, TFilterData> {\n\n\tprivate internals: WorkbenchTreeInternals<any, T, TFilterData>;\n\tget contextKeyService(): IContextKeyService { return this.internals.contextKeyService; }\n\tget useAltAsMultipleSelectionModifier(): boolean { return this.internals.useAltAsMultipleSelectionModifier; }\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.internals.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<T>,\n\t\trenderers: ITreeRenderer<T, TFilterData, any>[],\n\t\toptions: IWorkbenchObjectTreeOptions<T, TFilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\t\tconst { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options as any);\n\t\tsuper(user, container, delegate, renderers, treeOptions);\n\t\tthis.disposables.add(disposable);\n\t\tthis.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n\t\tthis.disposables.add(this.internals);\n\t}\n\n\toverride updateOptions(options: IAbstractTreeOptionsUpdate): void {\n\t\tsuper.updateOptions(options);\n\t\tthis.internals.updateOptions(options);\n\t}\n}\n\nexport interface IWorkbenchCompressibleObjectTreeOptionsUpdate extends ICompressibleObjectTreeOptionsUpdate {\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n}\n\nexport interface IWorkbenchCompressibleObjectTreeOptions<T, TFilterData> extends IWorkbenchCompressibleObjectTreeOptionsUpdate, ICompressibleObjectTreeOptions<T, TFilterData>, IResourceNavigatorOptions {\n\treadonly accessibilityProvider: IListAccessibilityProvider<T>;\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchCompressibleObjectTree<T extends NonNullable<any>, TFilterData = void> extends CompressibleObjectTree<T, TFilterData> {\n\n\tprivate internals: WorkbenchTreeInternals<any, T, TFilterData>;\n\tget contextKeyService(): IContextKeyService { return this.internals.contextKeyService; }\n\tget useAltAsMultipleSelectionModifier(): boolean { return this.internals.useAltAsMultipleSelectionModifier; }\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.internals.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<T>,\n\t\trenderers: ICompressibleTreeRenderer<T, TFilterData, any>[],\n\t\toptions: IWorkbenchCompressibleObjectTreeOptions<T, TFilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\t\tconst { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options as any);\n\t\tsuper(user, container, delegate, renderers, treeOptions);\n\t\tthis.disposables.add(disposable);\n\t\tthis.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n\t\tthis.disposables.add(this.internals);\n\t}\n\n\toverride updateOptions(options: IWorkbenchCompressibleObjectTreeOptionsUpdate = {}): void {\n\t\tsuper.updateOptions(options);\n\n\t\tif (options.overrideStyles) {\n\t\t\tthis.internals.updateStyleOverrides(options.overrideStyles);\n\t\t}\n\n\t\tthis.internals.updateOptions(options);\n\t}\n}\n\nexport interface IWorkbenchDataTreeOptionsUpdate extends IAbstractTreeOptionsUpdate {\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n}\n\nexport interface IWorkbenchDataTreeOptions<T, TFilterData> extends IWorkbenchDataTreeOptionsUpdate, IDataTreeOptions<T, TFilterData>, IResourceNavigatorOptions {\n\treadonly accessibilityProvider: IListAccessibilityProvider<T>;\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchDataTree<TInput, T, TFilterData = void> extends DataTree<TInput, T, TFilterData> {\n\n\tprivate internals: WorkbenchTreeInternals<TInput, T, TFilterData>;\n\tget contextKeyService(): IContextKeyService { return this.internals.contextKeyService; }\n\tget useAltAsMultipleSelectionModifier(): boolean { return this.internals.useAltAsMultipleSelectionModifier; }\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.internals.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<T>,\n\t\trenderers: ITreeRenderer<T, TFilterData, any>[],\n\t\tdataSource: IDataSource<TInput, T>,\n\t\toptions: IWorkbenchDataTreeOptions<T, TFilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\t\tconst { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options as any);\n\t\tsuper(user, container, delegate, renderers, dataSource, treeOptions);\n\t\tthis.disposables.add(disposable);\n\t\tthis.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n\t\tthis.disposables.add(this.internals);\n\t}\n\n\toverride updateOptions(options: IWorkbenchDataTreeOptionsUpdate = {}): void {\n\t\tsuper.updateOptions(options);\n\n\t\tif (options.overrideStyles !== undefined) {\n\t\t\tthis.internals.updateStyleOverrides(options.overrideStyles);\n\t\t}\n\n\t\tthis.internals.updateOptions(options);\n\t}\n}\n\nexport interface IWorkbenchAsyncDataTreeOptionsUpdate extends IAsyncDataTreeOptionsUpdate {\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n}\n\nexport interface IWorkbenchAsyncDataTreeOptions<T, TFilterData> extends IWorkbenchAsyncDataTreeOptionsUpdate, IAsyncDataTreeOptions<T, TFilterData>, IResourceNavigatorOptions {\n\treadonly accessibilityProvider: IListAccessibilityProvider<T>;\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchAsyncDataTree<TInput, T, TFilterData = void> extends AsyncDataTree<TInput, T, TFilterData> {\n\n\tprivate internals: WorkbenchTreeInternals<TInput, T, TFilterData>;\n\tget contextKeyService(): IContextKeyService { return this.internals.contextKeyService; }\n\tget useAltAsMultipleSelectionModifier(): boolean { return this.internals.useAltAsMultipleSelectionModifier; }\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.internals.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tdelegate: IListVirtualDelegate<T>,\n\t\trenderers: ITreeRenderer<T, TFilterData, any>[],\n\t\tdataSource: IAsyncDataSource<TInput, T>,\n\t\toptions: IWorkbenchAsyncDataTreeOptions<T, TFilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\t\tconst { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options as any);\n\t\tsuper(user, container, delegate, renderers, dataSource, treeOptions);\n\t\tthis.disposables.add(disposable);\n\t\tthis.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n\t\tthis.disposables.add(this.internals);\n\t}\n\n\toverride updateOptions(options: IWorkbenchAsyncDataTreeOptionsUpdate = {}): void {\n\t\tsuper.updateOptions(options);\n\n\t\tif (options.overrideStyles) {\n\t\t\tthis.internals.updateStyleOverrides(options.overrideStyles);\n\t\t}\n\n\t\tthis.internals.updateOptions(options);\n\t}\n}\n\nexport interface IWorkbenchCompressibleAsyncDataTreeOptions<T, TFilterData> extends ICompressibleAsyncDataTreeOptions<T, TFilterData>, IResourceNavigatorOptions {\n\treadonly accessibilityProvider: IListAccessibilityProvider<T>;\n\treadonly overrideStyles?: IStyleOverride<IListStyles>;\n\treadonly selectionNavigation?: boolean;\n}\n\nexport class WorkbenchCompressibleAsyncDataTree<TInput, T, TFilterData = void> extends CompressibleAsyncDataTree<TInput, T, TFilterData> {\n\n\tprivate internals: WorkbenchTreeInternals<TInput, T, TFilterData>;\n\tget contextKeyService(): IContextKeyService { return this.internals.contextKeyService; }\n\tget useAltAsMultipleSelectionModifier(): boolean { return this.internals.useAltAsMultipleSelectionModifier; }\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.internals.onDidOpen; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tvirtualDelegate: IListVirtualDelegate<T>,\n\t\tcompressionDelegate: ITreeCompressionDelegate<T>,\n\t\trenderers: ICompressibleTreeRenderer<T, TFilterData, any>[],\n\t\tdataSource: IAsyncDataSource<TInput, T>,\n\t\toptions: IWorkbenchCompressibleAsyncDataTreeOptions<T, TFilterData>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\t\tconst { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options as any);\n\t\tsuper(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n\t\tthis.disposables.add(disposable);\n\t\tthis.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n\t\tthis.disposables.add(this.internals);\n\t}\n\n\toverride updateOptions(options: ICompressibleAsyncDataTreeOptionsUpdate): void {\n\t\tsuper.updateOptions(options);\n\t\tthis.internals.updateOptions(options);\n\t}\n}\n\nfunction getDefaultTreeFindMode(configurationService: IConfigurationService) {\n\tconst value = configurationService.getValue<'highlight' | 'filter'>(defaultFindModeSettingKey);\n\n\tif (value === 'highlight') {\n\t\treturn TreeFindMode.Highlight;\n\t} else if (value === 'filter') {\n\t\treturn TreeFindMode.Filter;\n\t}\n\n\tconst deprecatedValue = configurationService.getValue<'simple' | 'highlight' | 'filter'>(keyboardNavigationSettingKey);\n\n\tif (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n\t\treturn TreeFindMode.Highlight;\n\t} else if (deprecatedValue === 'filter') {\n\t\treturn TreeFindMode.Filter;\n\t}\n\n\treturn undefined;\n}\n\nfunction getDefaultTreeFindMatchType(configurationService: IConfigurationService) {\n\tconst value = configurationService.getValue<'fuzzy' | 'contiguous'>(defaultFindMatchTypeSettingKey);\n\n\tif (value === 'fuzzy') {\n\t\treturn TreeFindMatchType.Fuzzy;\n\t} else if (value === 'contiguous') {\n\t\treturn TreeFindMatchType.Contiguous;\n\t}\n\treturn undefined;\n}\n\nfunction workbenchTreeDataPreamble<T, TFilterData, TOptions extends IAbstractTreeOptions<T, TFilterData> | IAsyncDataTreeOptions<T, TFilterData>>(\n\taccessor: ServicesAccessor,\n\toptions: TOptions,\n): { options: TOptions; getTypeNavigationMode: () => TypeNavigationMode | undefined; disposable: IDisposable } {\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst contextViewService = accessor.get(IContextViewService);\n\tconst contextKeyService = accessor.get(IContextKeyService);\n\tconst instantiationService = accessor.get(IInstantiationService);\n\n\tconst getTypeNavigationMode = () => {\n\t\t// give priority to the context key value to specify a value\n\t\tconst modeString = contextKeyService.getContextKeyValue<'automatic' | 'trigger'>(WorkbenchListTypeNavigationModeKey);\n\n\t\tif (modeString === 'automatic') {\n\t\t\treturn TypeNavigationMode.Automatic;\n\t\t} else if (modeString === 'trigger') {\n\t\t\treturn TypeNavigationMode.Trigger;\n\t\t}\n\n\t\t// also check the deprecated context key to set the mode to 'trigger'\n\t\tconst modeBoolean = contextKeyService.getContextKeyValue<boolean>(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n\n\t\tif (modeBoolean === false) {\n\t\t\treturn TypeNavigationMode.Trigger;\n\t\t}\n\n\t\t// finally, check the setting\n\t\tconst configString = configurationService.getValue<'automatic' | 'trigger'>(typeNavigationModeSettingKey);\n\n\t\tif (configString === 'automatic') {\n\t\t\treturn TypeNavigationMode.Automatic;\n\t\t} else if (configString === 'trigger') {\n\t\t\treturn TypeNavigationMode.Trigger;\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n\tconst horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n\tconst [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n\tconst paddingBottom = options.paddingBottom;\n\tconst renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue<RenderIndentGuides>(treeRenderIndentGuidesKey);\n\n\treturn {\n\t\tgetTypeNavigationMode,\n\t\tdisposable,\n\t\toptions: {\n\t\t\t// ...options, // TODO@Joao why is this not splatted here?\n\t\t\tkeyboardSupport: false,\n\t\t\t...workbenchListOptions,\n\t\t\tindent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined,\n\t\t\trenderIndentGuides,\n\t\t\tsmoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)),\n\t\t\tdefaultFindMode: getDefaultTreeFindMode(configurationService),\n\t\t\tdefaultFindMatchType: getDefaultTreeFindMatchType(configurationService),\n\t\t\thorizontalScrolling,\n\t\t\tscrollByPage: Boolean(configurationService.getValue(scrollByPageKey)),\n\t\t\tpaddingBottom: paddingBottom,\n\t\t\thideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements,\n\t\t\texpandOnlyOnTwistieClick: options.expandOnlyOnTwistieClick ?? (configurationService.getValue<'singleClick' | 'doubleClick'>(treeExpandMode) === 'doubleClick'),\n\t\t\tcontextViewProvider: contextViewService as IContextViewProvider,\n\t\t\tfindWidgetStyles: defaultFindWidgetStyles,\n\t\t} as TOptions\n\t};\n}\n\ninterface IWorkbenchTreeInternalsOptionsUpdate {\n\treadonly multipleSelectionSupport?: boolean;\n}\n\nclass WorkbenchTreeInternals<TInput, T, TFilterData> {\n\n\treadonly contextKeyService: IScopedContextKeyService;\n\tprivate listSupportsMultiSelect: IContextKey<boolean>;\n\tprivate listSupportFindWidget: IContextKey<boolean>;\n\tprivate hasSelectionOrFocus: IContextKey<boolean>;\n\tprivate hasDoubleSelection: IContextKey<boolean>;\n\tprivate hasMultiSelection: IContextKey<boolean>;\n\tprivate treeElementCanCollapse: IContextKey<boolean>;\n\tprivate treeElementHasParent: IContextKey<boolean>;\n\tprivate treeElementCanExpand: IContextKey<boolean>;\n\tprivate treeElementHasChild: IContextKey<boolean>;\n\tprivate treeFindOpen: IContextKey<boolean>;\n\tprivate _useAltAsMultipleSelectionModifier: boolean;\n\tprivate disposables: IDisposable[] = [];\n\n\tprivate navigator: TreeResourceNavigator<T, TFilterData>;\n\n\tget onDidOpen(): Event<IOpenEvent<T | undefined>> { return this.navigator.onDidOpen; }\n\n\tconstructor(\n\t\tprivate tree: WorkbenchObjectTree<T, TFilterData> | WorkbenchCompressibleObjectTree<T, TFilterData> | WorkbenchDataTree<TInput, T, TFilterData> | WorkbenchAsyncDataTree<TInput, T, TFilterData> | WorkbenchCompressibleAsyncDataTree<TInput, T, TFilterData>,\n\t\toptions: IWorkbenchObjectTreeOptions<T, TFilterData> | IWorkbenchCompressibleObjectTreeOptions<T, TFilterData> | IWorkbenchDataTreeOptions<T, TFilterData> | IWorkbenchAsyncDataTreeOptions<T, TFilterData> | IWorkbenchCompressibleAsyncDataTreeOptions<T, TFilterData>,\n\t\tgetTypeNavigationMode: () => TypeNavigationMode | undefined,\n\t\toverrideStyles: IStyleOverride<IListStyles> | undefined,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IListService listService: IListService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\t\tthis.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n\n\t\tthis.disposables.push(createScrollObserver(this.contextKeyService, tree));\n\n\t\tthis.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n\t\tthis.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n\n\t\tconst listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n\t\tlistSelectionNavigation.set(Boolean(options.selectionNavigation));\n\n\t\tthis.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n\t\tthis.listSupportFindWidget.set(options.findWidgetEnabled ?? true);\n\n\t\tthis.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n\t\tthis.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n\t\tthis.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n\n\t\tthis.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n\t\tthis.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n\t\tthis.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n\t\tthis.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n\n\t\tthis.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n\n\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\n\t\tthis.updateStyleOverrides(overrideStyles);\n\n\t\tconst updateCollapseContextKeys = () => {\n\t\t\tconst focus = tree.getFocus()[0];\n\n\t\t\tif (!focus) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst node = tree.getNode(focus);\n\t\t\tthis.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n\t\t\tthis.treeElementHasParent.set(!!tree.getParentElement(focus));\n\t\t\tthis.treeElementCanExpand.set(node.collapsible && node.collapsed);\n\t\t\tthis.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n\t\t};\n\n\t\tconst interestingContextKeys = new Set();\n\t\tinterestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n\t\tinterestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n\n\t\tthis.disposables.push(\n\t\t\tthis.contextKeyService,\n\t\t\t(listService as ListService).register(tree),\n\t\t\ttree.onDidChangeSelection(() => {\n\t\t\t\tconst selection = tree.getSelection();\n\t\t\t\tconst focus = tree.getFocus();\n\n\t\t\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\t\t\tthis.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n\t\t\t\t\tthis.hasMultiSelection.set(selection.length > 1);\n\t\t\t\t\tthis.hasDoubleSelection.set(selection.length === 2);\n\t\t\t\t});\n\t\t\t}),\n\t\t\ttree.onDidChangeFocus(() => {\n\t\t\t\tconst selection = tree.getSelection();\n\t\t\t\tconst focus = tree.getFocus();\n\n\t\t\t\tthis.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n\t\t\t\tupdateCollapseContextKeys();\n\t\t\t}),\n\t\t\ttree.onDidChangeCollapseState(updateCollapseContextKeys),\n\t\t\ttree.onDidChangeModel(updateCollapseContextKeys),\n\t\t\ttree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)),\n\t\t\tconfigurationService.onDidChangeConfiguration(e => {\n\t\t\t\tlet newOptions: IAbstractTreeOptionsUpdate = {};\n\t\t\t\tif (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n\t\t\t\t\tthis._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(treeIndentKey)) {\n\t\t\t\t\tconst indent = configurationService.getValue<number>(treeIndentKey);\n\t\t\t\t\tnewOptions = { ...newOptions, indent };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n\t\t\t\t\tconst renderIndentGuides = configurationService.getValue<RenderIndentGuides>(treeRenderIndentGuidesKey);\n\t\t\t\t\tnewOptions = { ...newOptions, renderIndentGuides };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(listSmoothScrolling)) {\n\t\t\t\t\tconst smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n\t\t\t\t\tnewOptions = { ...newOptions, smoothScrolling };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n\t\t\t\t\tconst defaultFindMode = getDefaultTreeFindMode(configurationService);\n\t\t\t\t\tnewOptions = { ...newOptions, defaultFindMode };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n\t\t\t\t\tconst typeNavigationMode = getTypeNavigationMode();\n\t\t\t\t\tnewOptions = { ...newOptions, typeNavigationMode };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n\t\t\t\t\tconst defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n\t\t\t\t\tnewOptions = { ...newOptions, defaultFindMatchType };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n\t\t\t\t\tconst horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n\t\t\t\t\tnewOptions = { ...newOptions, horizontalScrolling };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(scrollByPageKey)) {\n\t\t\t\t\tconst scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n\t\t\t\t\tnewOptions = { ...newOptions, scrollByPage };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n\t\t\t\t\tnewOptions = { ...newOptions, expandOnlyOnTwistieClick: configurationService.getValue<'singleClick' | 'doubleClick'>(treeExpandMode) === 'doubleClick' };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n\t\t\t\t\tconst mouseWheelScrollSensitivity = configurationService.getValue<number>(mouseWheelScrollSensitivityKey);\n\t\t\t\t\tnewOptions = { ...newOptions, mouseWheelScrollSensitivity };\n\t\t\t\t}\n\t\t\t\tif (e.affectsConfiguration(fastScrollSensitivityKey)) {\n\t\t\t\t\tconst fastScrollSensitivity = configurationService.getValue<number>(fastScrollSensitivityKey);\n\t\t\t\t\tnewOptions = { ...newOptions, fastScrollSensitivity };\n\t\t\t\t}\n\t\t\t\tif (Object.keys(newOptions).length > 0) {\n\t\t\t\t\ttree.updateOptions(newOptions);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tthis.contextKeyService.onDidChangeContext(e => {\n\t\t\t\tif (e.affectsSome(interestingContextKeys)) {\n\t\t\t\t\ttree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tthis.navigator = new TreeResourceNavigator(tree, { configurationService, ...options });\n\t\tthis.disposables.push(this.navigator);\n\t}\n\n\tget useAltAsMultipleSelectionModifier(): boolean {\n\t\treturn this._useAltAsMultipleSelectionModifier;\n\t}\n\n\tupdateOptions(options: IWorkbenchTreeInternalsOptionsUpdate): void {\n\t\tif (options.multipleSelectionSupport !== undefined) {\n\t\t\tthis.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n\t\t}\n\t}\n\n\tupdateStyleOverrides(overrideStyles?: IStyleOverride<IListStyles>): void {\n\t\tthis.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables = dispose(this.disposables);\n\t}\n}\n\nconst configurationRegistry = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration);\n\nconfigurationRegistry.registerConfiguration({\n\tid: 'workbench',\n\torder: 7,\n\ttitle: localize('workbenchConfigurationTitle', \"Workbench\"),\n\ttype: 'object',\n\tproperties: {\n\t\t[multiSelectModifierSettingKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['ctrlCmd', 'alt'],\n\t\t\tmarkdownEnumDescriptions: [\n\t\t\t\tlocalize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n\t\t\t\tlocalize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n\t\t\t],\n\t\t\tdefault: 'ctrlCmd',\n\t\t\tdescription: localize({\n\t\t\t\tkey: 'multiSelectModifier',\n\t\t\t\tcomment: [\n\t\t\t\t\t'- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n\t\t\t\t\t'- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n\t\t\t\t]\n\t\t\t}, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n\t\t},\n\t\t[openModeSettingKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['singleClick', 'doubleClick'],\n\t\t\tdefault: 'singleClick',\n\t\t\tdescription: localize({\n\t\t\t\tkey: 'openModeModifier',\n\t\t\t\tcomment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n\t\t\t}, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n\t\t},\n\t\t[horizontalScrollingKey]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tdescription: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n\t\t},\n\t\t[scrollByPageKey]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tdescription: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n\t\t},\n\t\t[treeIndentKey]: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 8,\n\t\t\tminimum: 4,\n\t\t\tmaximum: 40,\n\t\t\tdescription: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n\t\t},\n\t\t[treeRenderIndentGuidesKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['none', 'onHover', 'always'],\n\t\t\tdefault: 'onHover',\n\t\t\tdescription: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n\t\t},\n\t\t[listSmoothScrolling]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tdescription: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n\t\t},\n\t\t[mouseWheelScrollSensitivityKey]: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 1,\n\t\t\tmarkdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n\t\t},\n\t\t[fastScrollSensitivityKey]: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 5,\n\t\t\tmarkdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n\t\t},\n\t\t[defaultFindModeSettingKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['highlight', 'filter'],\n\t\t\tenumDescriptions: [\n\t\t\t\tlocalize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n\t\t\t\tlocalize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n\t\t\t],\n\t\t\tdefault: 'highlight',\n\t\t\tdescription: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n\t\t},\n\t\t[keyboardNavigationSettingKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['simple', 'highlight', 'filter'],\n\t\t\tenumDescriptions: [\n\t\t\t\tlocalize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n\t\t\t\tlocalize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n\t\t\t\tlocalize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n\t\t\t],\n\t\t\tdefault: 'highlight',\n\t\t\tdescription: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n\t\t\tdeprecated: true,\n\t\t\tdeprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n\t\t},\n\t\t[defaultFindMatchTypeSettingKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['fuzzy', 'contiguous'],\n\t\t\tenumDescriptions: [\n\t\t\t\tlocalize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n\t\t\t\tlocalize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n\t\t\t],\n\t\t\tdefault: 'fuzzy',\n\t\t\tdescription: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n\t\t},\n\t\t[treeExpandMode]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['singleClick', 'doubleClick'],\n\t\t\tdefault: 'singleClick',\n\t\t\tdescription: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n\t\t},\n\t\t[typeNavigationModeSettingKey]: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['automatic', 'trigger'],\n\t\t\tdefault: 'automatic',\n\t\t\tmarkdownDescription: localize('typeNavigationMode2', \"Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.\"),\n\t\t}\n\t}\n});\n"]}
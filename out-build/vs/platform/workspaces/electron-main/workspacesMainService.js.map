{"version":3,"sources":["file:///workspace/appflow/src/vs/platform/workspaces/electron-main/workspacesMainService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IAYzF,IAAM,IAAI,GAAV,MAAM,IAAI;QAIhB,YACmC,CAAsD,EACnE,CAAyC,EAC/B,CAAmD,EAC9D,CAAwC;YAHT,MAAC,GAAD,CAAC,CAAoC;YAClD,MAAC,GAAD,CAAC,CAAuB;YACd,MAAC,GAAD,CAAC,CAAiC;YAC7C,MAAC,GAAD,CAAC,CAAsB;YA2B7D,YAAY;YAEZ,4BAA4B;YAEnB,8BAAyB,GAAG,IAAI,CAAC,CAAC,CAA4B,yBAAyB,CAAC;QA7BjG,CAAC;QAED,8BAA8B;QAE9B,KAAK,CAAC,cAAc,CAAC,QAAgB,EAAE,IAAS;YAC/C,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAkB,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC/D,IAAI,MAAM,EAAE;gBACX,OAAO,IAAI,CAAC,CAAC,CAA+B,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAkB,UAAU,EAAE,EAAE,IAAI,CAAC,CAAC;aAC/G;YAED,OAAO,SAAS,CAAC;QAClB,CAAC;QAED,uBAAuB,CAAC,QAAgB,EAAE,OAAwC,EAAE,eAAwB;YAC3G,OAAO,IAAI,CAAC,CAAC,CAA+B,uBAAuB,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;QAC/F,CAAC;QAED,uBAAuB,CAAC,QAAgB,EAAE,SAA+B;YACxE,OAAO,IAAI,CAAC,CAAC,CAA+B,uBAAuB,CAAC,SAAS,CAAC,CAAC;QAChF,CAAC;QAED,sBAAsB,CAAC,QAAgB,EAAE,aAAkB;YAC1D,OAAO,IAAI,CAAC,CAAC,CAA+B,sBAAsB,CAAC,aAAa,CAAC,CAAC;QACnF,CAAC;QAQD,iBAAiB,CAAC,QAAgB;YACjC,OAAO,IAAI,CAAC,CAAC,CAA4B,iBAAiB,EAAE,CAAC;QAC9D,CAAC;QAED,iBAAiB,CAAC,QAAgB,EAAE,OAAkB;YACrD,OAAO,IAAI,CAAC,CAAC,CAA4B,iBAAiB,CAAC,OAAO,CAAC,CAAC;QACrE,CAAC;QAED,oBAAoB,CAAC,QAAgB,EAAE,KAAY;YAClD,OAAO,IAAI,CAAC,CAAC,CAA4B,oBAAoB,CAAC,KAAK,CAAC,CAAC;QACtE,CAAC;QAED,mBAAmB,CAAC,QAAgB;YACnC,OAAO,IAAI,CAAC,CAAC,CAA4B,mBAAmB,EAAE,CAAC;QAChE,CAAC;QAED,YAAY;QAGZ,0BAA0B;QAE1B,KAAK,CAAC,kBAAkB;YACvB,OAAO,IAAI,CAAC,CAAC,CAAiB,kBAAkB,EAAE,CAAC;QACpD,CAAC;KAGD,CAAA;IAnEY,oBAAI;mBAAJ,IAAI;QAKd,WAAA,sCAAI,CAAA;QACJ,WAAA,cAAI,CAAA;QACJ,WAAA,mCAAI,CAAA;QACJ,WAAA,aAAI,CAAA;OARM,IAAI,CAmEhB","file":"workspacesMainService.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AddFirstParameterToFunctions } from 'vs/base/common/types';\nimport { URI } from 'vs/base/common/uri';\nimport { IBackupMainService } from 'vs/platform/backup/electron-main/backup';\nimport { IWindowsMainService } from 'vs/platform/windows/electron-main/windows';\nimport { IEnterWorkspaceResult, IRecent, IRecentlyOpened, IWorkspaceFolderCreationData, IWorkspacesService } from 'vs/platform/workspaces/common/workspaces';\nimport { IWorkspaceIdentifier } from 'vs/platform/workspace/common/workspace';\nimport { IWorkspacesHistoryMainService } from 'vs/platform/workspaces/electron-main/workspacesHistoryMainService';\nimport { IWorkspacesManagementMainService } from 'vs/platform/workspaces/electron-main/workspacesManagementMainService';\nimport { IWorkspaceBackupInfo, IFolderBackupInfo } from 'vs/platform/backup/common/backup';\n\nexport class WorkspacesMainService implements AddFirstParameterToFunctions<IWorkspacesService, Promise<unknown> /* only methods, not events */, number /* window ID */> {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IWorkspacesManagementMainService private readonly workspacesManagementMainService: IWorkspacesManagementMainService,\n\t\t@IWindowsMainService private readonly windowsMainService: IWindowsMainService,\n\t\t@IWorkspacesHistoryMainService private readonly workspacesHistoryMainService: IWorkspacesHistoryMainService,\n\t\t@IBackupMainService private readonly backupMainService: IBackupMainService\n\t) {\n\t}\n\n\t//#region Workspace Management\n\n\tasync enterWorkspace(windowId: number, path: URI): Promise<IEnterWorkspaceResult | undefined> {\n\t\tconst window = this.windowsMainService.getWindowById(windowId);\n\t\tif (window) {\n\t\t\treturn this.workspacesManagementMainService.enterWorkspace(window, this.windowsMainService.getWindows(), path);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tcreateUntitledWorkspace(windowId: number, folders?: IWorkspaceFolderCreationData[], remoteAuthority?: string): Promise<IWorkspaceIdentifier> {\n\t\treturn this.workspacesManagementMainService.createUntitledWorkspace(folders, remoteAuthority);\n\t}\n\n\tdeleteUntitledWorkspace(windowId: number, workspace: IWorkspaceIdentifier): Promise<void> {\n\t\treturn this.workspacesManagementMainService.deleteUntitledWorkspace(workspace);\n\t}\n\n\tgetWorkspaceIdentifier(windowId: number, workspacePath: URI): Promise<IWorkspaceIdentifier> {\n\t\treturn this.workspacesManagementMainService.getWorkspaceIdentifier(workspacePath);\n\t}\n\n\t//#endregion\n\n\t//#region Workspaces History\n\n\treadonly onDidChangeRecentlyOpened = this.workspacesHistoryMainService.onDidChangeRecentlyOpened;\n\n\tgetRecentlyOpened(windowId: number): Promise<IRecentlyOpened> {\n\t\treturn this.workspacesHistoryMainService.getRecentlyOpened();\n\t}\n\n\taddRecentlyOpened(windowId: number, recents: IRecent[]): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.addRecentlyOpened(recents);\n\t}\n\n\tremoveRecentlyOpened(windowId: number, paths: URI[]): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.removeRecentlyOpened(paths);\n\t}\n\n\tclearRecentlyOpened(windowId: number): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.clearRecentlyOpened();\n\t}\n\n\t//#endregion\n\n\n\t//#region Dirty Workspaces\n\n\tasync getDirtyWorkspaces(): Promise<Array<IWorkspaceBackupInfo | IFolderBackupInfo>> {\n\t\treturn this.backupMainService.getDirtyWorkspaces();\n\t}\n\n\t//#endregion\n}\n"]}
{"version":3,"sources":["file:///workspace/appflow/src/vs/platform/telemetry/browser/1dsAppender.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAKhG,MAAa,IAAyB,SAAQ,kBAAG;QAChD,YACC,mBAA4B,EAC5B,WAAmB,EACnB,WAA0C,EAC1C,mBAAsD;YAEtD,KAAK,CAAC,mBAAmB,EAAE,WAAW,EAAE,WAAW,EAAE,mBAAmB,CAAC,CAAC;YAE1E,4FAA4F;YAC5F,yCAAyC;YACzC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAkB,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBAC5D,IAAI,CAAC,CAAC,GAAc,SAAS,CAAC;YAC/B,CAAC,CAAC,CAAC;QACJ,CAAC;KACD;IAfD,oBAeC","file":"1dsAppender.js","sourceRoot":"file:///workspace/appflow/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AbstractOneDataSystemAppender, IAppInsightsCore } from 'vs/platform/telemetry/common/1dsAppender';\n\n\nexport class OneDataSystemWebAppender extends AbstractOneDataSystemAppender {\n\tconstructor(\n\t\tisInternalTelemetry: boolean,\n\t\teventPrefix: string,\n\t\tdefaultData: { [key: string]: any } | null,\n\t\tiKeyOrClientFactory: string | (() => IAppInsightsCore), // allow factory function for testing\n\t) {\n\t\tsuper(isInternalTelemetry, eventPrefix, defaultData, iKeyOrClientFactory);\n\n\t\t// If we cannot fetch the endpoint it means it is down and we should not send any telemetry.\n\t\t// This is most likely due to ad blockers\n\t\tfetch(this.endPointHealthUrl, { method: 'GET' }).catch(err => {\n\t\t\tthis._aiCoreOrKey = undefined;\n\t\t});\n\t}\n}\n"]}